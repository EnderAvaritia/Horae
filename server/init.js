// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var d,f,c,q=function(){return"undefined"!==typeof x&&"function"!==typeof x?x:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),n=function(){},k=function(Z){for(var wa in Z)return 0;return 1},h={}.toString,l=function(Z){return"[object Function]"==h.call(Z)},m=function(Z){return"[object String]"==h.call(Z)},w=function(Z){return"[object Array]"==h.call(Z)},r=function(Z,wa){if(Z)for(var Ia=0;Ia<Z.length;)wa(Z[Ia++])},e=function(Z,wa){for(var Ia in wa)Z[Ia]=wa[Ia];
return Z},g=function(Z,wa){return e(Error(Z),{src:"dojoLoader",info:wa})},p=1,v=function(){return"_"+p++},u=function(Z,wa,Ia){return I(Z,wa,Ia,0,u)},x=q,z=x.document,t=z&&z.createElement("DiV"),y=u.has=function(Z){return l(B[Z])?B[Z]=B[Z](x,z,t):B[Z]},B=y.cache=b.hasCache;l(a)&&(a=a(q));y.add=function(Z,wa,Ia,Ja){(void 0===B[Z]||Ja)&&(B[Z]=wa);return Ia&&y(Z)};y.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);y("host-webworker")&&(e(b.hasCache,{"host-browser":0,
dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(Z,wa){try{importScripts(Z),wa()}catch(Ia){console.info("failed to load resource ("+Z+")"),console.error(Ia)}}});for(var A in a.has)y.add(A,a.has[A],0,1);var D=0,E=[],J=0,F=n,G=n;u.isXdUrl=n;u.initSyncLoader=function(Z,wa,Ia){J||(J=Z,F=wa,G=Ia);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:E,modules:Qa,execQ:X,
getModule:oa,injectModule:wb,setArrived:da,signal:R,finishExec:cb,execModule:nb,dojoRequirePlugin:J,getLegacyMode:function(){return D},guardCheckComplete:sb}};if(y("dom")||y("host-webworker")){var M=location.protocol,L=location.host;u.isXdUrl=function(Z){return/^\./.test(Z)?!1:/^\/\//.test(Z)?!0:(Z=Z.match(/^([^\/:]+:)\/+([^\/]+)/))&&(Z[1]!=M||L&&Z[2]!=L)};y.add("dojo-force-activex-xhr",y("host-browser")&&!z.addEventListener&&"file:"==window.location.protocol);if(y("dojo-force-activex-xhr")){var T=
["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(c=0;3>c;)try{var N=T[c++];new ActiveXObject(N);break}catch(Z){}var K=function(){return new ActiveXObject(N)}}else K=function(){return new XMLHttpRequest};u.getXhr=K;y.add("dojo-gettext-api",1);u.getText=function(Z,wa,Ia){var Ja=K();Ja.open("GET",Fb(Z),!1);Ja.send(null);if(200==Ja.status||!location.host&&!Ja.status)Ia&&Ia(Ja.responseText,wa);else throw g("xhrFailed",Ja.status);return Ja.responseText}}u.eval=function(Z,wa){};var O={},R=
u.signal=function(Z,wa){Z=O[Z];r(Z&&Z.slice(0),function(Ia){Ia.apply(null,w(wa)?wa:[wa])})},V=u.on=function(Z,wa){var Ia=O[Z]||(O[Z]=[]);Ia.push(wa);return{remove:function(){for(var Ja=0;Ja<Ia.length;Ja++)if(Ia[Ja]===wa){Ia.splice(Ja,1);break}}}},ma=[],ca={},ua=[],Aa={},Ma=u.map={},Ga=[],Qa={},qa="",ha={},aa={},ja={},sa=0;if(!y("foreign-loader"))var H=function(Z,wa){wa=!1!==wa;var Ia,Ja;for(Ia in aa){var Va=aa[Ia];if(Ja=Ia.match(/^url:(.+)/))ha["url:"+ba(Ja[1],Z)]=Va;else if("*now"==Ia)var $a=Va;
else"*noref"!=Ia&&(Ja=Oa(Ia,Z,!0),ha[Ja.mid]=ha["url:"+Ja.url]=Va)}$a&&$a(S(Z));wa&&(aa={})};var Q=function(Z){return Z.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(wa){return"\\"+wa})},fa=function(Z,wa){wa.splice(0,wa.length);for(var Ia in Z)wa.push([Ia,Z[Ia],new RegExp("^"+Q(Ia)+"(/|$)"),Ia.length]);wa.sort(function(Ja,Va){return Va[3]-Ja[3]});return wa},ka=function(Z,wa){r(Z,function(Ia){wa.push([m(Ia[0])?new RegExp("^"+Q(Ia[0])+"$"):Ia[0],Ia[1]])})},za=function(Z){var wa=Z.name;wa||(wa=Z,Z=
{name:wa});Z=e({main:"main"},Z);Z.location=Z.location?Z.location:wa;Z.packageMap&&(Ma[wa]=Z.packageMap);Z.main.indexOf("./")||(Z.main=Z.main.substring(2));Aa[wa]=Z},W=[],ea=function(Z,wa,Ia){for(var Ja in Z){"waitSeconds"==Ja&&(u.waitms=1E3*(Z[Ja]||0));"cacheBust"==Ja&&(qa=Z[Ja]?m(Z[Ja])?Z[Ja]:(new Date).getTime()+"":"");if("baseUrl"==Ja||"combo"==Ja)u[Ja]=Z[Ja];if("async"==Ja){var Va=Z[Ja];u.legacyMode=D=m(Va)&&/sync|legacyAsync/.test(Va)?Va:Va?!1:"sync";u.async=!D}Z[Ja]!==B&&(u.rawConfig[Ja]=Z[Ja],
"has"!=Ja&&y.add("config-"+Ja,Z[Ja],0,wa))}u.baseUrl||(u.baseUrl="./");/\/$/.test(u.baseUrl)||(u.baseUrl+="/");for(Ja in Z.has)y.add(Ja,Z.has[Ja],0,wa);r(Z.packages,za);for(var $a in Z.packagePaths)r(Z.packagePaths[$a],function(gb){var ub=$a+"/"+gb;m(gb)&&(gb={name:gb});gb.location=ub;za(gb)});fa(e(Ma,Z.map),Ga);r(Ga,function(gb){gb[1]=fa(gb[1],[]);"*"==gb[0]&&(Ga.star=gb)});fa(e(ca,Z.paths),ua);ka(Z.aliases,ma);if(!y("foreign-loader")){if(wa)W.push({config:Z.config});else for(Ja in Z.config)wa=oa(Ja,
Ia),wa.config=e(wa.config||{},Z.config[Ja]);Z.cache&&(H(),aa=Z.cache,H(0,!!Z.cache["*noref"]))}R("config",[Z,u.rawConfig])};u.rawConfig={};ea(b,1);ea(a,1);ea(ja,1);if(!y("foreign-loader"))var ia=function(Z){sb(function(){r(Z.deps,wb)})},I=function(Z,wa,Ia,Ja,Va){var $a;if(m(Z)){if(($a=oa(Z,Ja,!0))&&$a.executed)return $a.result;throw g("undefinedModule",Z);}w(Z)||(ea(Z,0,Ja),Z=wa,wa=Ia);if(w(Z))if(Z.length){Ia="require*"+v();for(var gb,ub=[],Lb=0;Lb<Z.length;)gb=Z[Lb++],ub.push(oa(gb,Ja));$a=e(Da("",
Ia,0,""),{injected:2,deps:ub,def:wa||n,require:Ja?Ja.require:u,gc:1});Qa[$a.mid]=$a;ia($a);var Rb=lb&&"sync"!=D;sb(function(){nb($a,Rb)});$a.executed||X.push($a);tb()}else wa&&wa();return Va},S=function(Z){if(!Z)return u;var wa=Z.require;wa||(wa=function(Ia,Ja,Va){return I(Ia,Ja,Va,Z,wa)},Z.require=e(wa,u),wa.module=Z,wa.toUrl=function(Ia){return ba(Ia,Z)},wa.toAbsMid=function(Ia){return U(Ia,Z)},wa.syncLoadNls=function(Ia){Ia=Oa(Ia,Z);var Ja=Qa[Ia.mid];if(!Ja||!Ja.executed)if(zb=ha[Ia.mid]||ha["url:"+
Ia.url])Eb(zb),Ja=Qa[Ia.mid];return Ja&&Ja.executed&&Ja.result});return wa},X=[],na=[],va={},Ea=function(Z){Z.injected=1;va[Z.mid]=1;Z.url&&(va[Z.url]=Z.pack||1);mb()},da=function(Z){Z.injected=2;delete va[Z.mid];Z.url&&delete va[Z.url];k(va)&&(Ha(),"xd"==D&&(D="sync"))},pa=u.idle=function(){return!na.length&&k(va)&&!X.length&&!lb};var ra=function(Z,wa){if(wa)for(var Ia=0;Ia<wa.length;Ia++)if(wa[Ia][2].test(Z))return wa[Ia];return 0},Ca=function(Z){var wa=[];for(Z=Z.replace(/\\/g,"/").split("/");Z.length;){var Ia=
Z.shift();if(".."==Ia&&wa.length&&".."!=Ja){wa.pop();var Ja=wa[wa.length-1]}else"."!=Ia&&wa.push(Ja=Ia)}return wa.join("/")},Da=function(Z,wa,Ia,Ja){var Va=u.isXdUrl(Ja);return{pid:Z,mid:wa,pack:Ia,url:Ja,executed:0,def:0,isXd:Va,isAmd:!!(Va||Aa[Z]&&Aa[Z].isAmd)}},Na=function(Z,wa,Ia,Ja,Va,$a,gb,ub,Lb,Rb){var Ib,Vb,Cb;var Sb=/^\./.test(Z);if(/(^\/)|(:)|(\.js$)/.test(Z)||Sb&&!wa)return Da(0,Z,0,Z);Z=Ca(Sb?wa.mid+"/../"+Z:Z);if(/^\./.test(Z))throw g("irrationalPath",Z);Rb||Sb||!$a.star||(Cb=ra(Z,$a.star[1]));
!Cb&&wa&&(Cb=(Cb=ra(wa.mid,$a))&&ra(Z,Cb[1]));Cb&&(Z=Cb[1]+Z.substring(Cb[3]));wa=(d=Z.match(/^([^\/]+)(\/(.+))?$/))?d[1]:"";(Ib=Ia[wa])?Z=wa+"/"+(Vb=d[3]||Ib.main):wa="";var Tb=0;r(ub,function(Mb){var Wb=Z.match(Mb[0]);Wb&&0<Wb.length&&(Tb=l(Mb[1])?Z.replace(Mb[0],Mb[1]):Mb[1])});if(Tb)return Na(Tb,0,Ia,Ja,Va,$a,gb,ub,Lb);if(Ia=Ja[Z])return Lb?Da(Ia.pid,Ia.mid,Ia.pack,Ia.url):Ja[Z];Ja=(Cb=ra(Z,gb))?Cb[1]+Z.substring(Cb[3]):wa?("/"===Ib.location.slice(-1)?Ib.location.slice(0,-1):Ib.location)+"/"+
Vb:Z;/(^\/)|(:)/.test(Ja)||(Ja=Va+Ja);return Da(wa,Z,Ib,Ca(Ja+".js"))},Oa=function(Z,wa,Ia){return Na(Z,wa,Aa,Qa,u.baseUrl,Ga,ua,ma,void 0,Ia)};if(!y("foreign-loader"))var Pa=function(Z,wa,Ia){return Z.normalize?Z.normalize(wa,function(Ja){return U(Ja,Ia)}):U(wa,Ia)},Ra=0,oa=function(Z,wa,Ia){var Ja;if(Ja=Z.match(/^(.+?)!(.*)$/)){var Va=oa(Ja[1],wa,Ia);"sync"!=D||Va.executed||(wb(Va),2!==Va.injected||Va.executed||sb(function(){nb(Va)}),Va.executed?db(Va):X.unshift(Va));5!==Va.executed||Va.load||db(Va);
Va.load?(Ja=Pa(Va,Ja[2],wa),Z=Va.mid+"!"+(Va.dynamic?++Ra+"!":"")+Ja):(Ja=Ja[2],Z=Va.mid+"!"+ ++Ra+"!waitingForPlugin");Z={plugin:Va,mid:Z,req:S(wa),prid:Ja}}else Z=Oa(Z,wa);return Qa[Z.mid]||!Ia&&(Qa[Z.mid]=Z)};var U=u.toAbsMid=function(Z,wa){return Oa(Z,wa).mid},ba=u.toUrl=function(Z,wa){wa=Oa(Z+"/x",wa);var Ia=wa.url;return Fb(0===wa.pid?Z:Ia.substring(0,Ia.length-5))};if(!y("foreign-loader"))var ya={injected:2,executed:5,def:3,result:3},xa=function(Z){return Qa[Z]=e({mid:Z},ya)},Ka=xa("require"),
Sa=xa("exports"),Ta=xa("module"),Xa={},Ua=0,db=function(Z){var wa=Z.result;Z.dynamic=wa.dynamic;Z.normalize=wa.normalize;Z.load=wa.load;return Z},Ya=function(Z){var wa={};r(Z.loadQ,function(Va){var $a=Pa(Z,Va.prid,Va.req.module),gb=Z.dynamic?Va.mid.replace(/waitingForPlugin$/,$a):Z.mid+"!"+$a;$a=e(e({},Va),{mid:gb,prid:$a,injected:0});Qa[gb]&&Qa[gb].injected||Nb(Qa[gb]=$a);wa[Va.mid]=Qa[gb];da(Va);delete Qa[Va.mid]});Z.loadQ=0;var Ia=function(Va){for(var $a=Va.deps||[],gb=0;gb<$a.length;gb++)(Va=
wa[$a[gb].mid])&&($a[gb]=Va)},Ja;for(Ja in Qa)Ia(Qa[Ja]);r(X,Ia)},cb=function(Z){u.trace("loader-finish-exec",[Z.mid]);Z.executed=5;Z.defOrder=Ua++;r(Z.provides,function(wa){wa()});Z.loadQ&&(db(Z),Ya(Z));for(c=0;c<X.length;)X[c]===Z?X.splice(c,1):c++;/^require\*/.test(Z.mid)&&delete Qa[Z.mid]},ib=[],nb=function(Z,wa){if(4===Z.executed)return u.trace("loader-circular-dependency",[ib.concat(Z.mid).join("-\x3e")]),!Z.def||wa?Xa:Z.cjs&&Z.cjs.exports;if(!Z.executed){if(!Z.def)return Xa;var Ia=Z.mid,Ja=
Z.deps||[],Va,$a=[],gb=0;for(Z.executed=4;Va=Ja[gb++];){Va=Va===Ka?S(Z):Va===Sa?Z.cjs.exports:Va===Ta?Z.cjs:nb(Va,wa);if(Va===Xa)return Z.executed=0,u.trace("loader-exec-module",["abort",Ia]),Xa;$a.push(Va)}u.trace("loader-run-factory",[Z.mid]);wa=Z.def;E.unshift(Z);$a=l(wa)?wa.apply(null,$a):wa;Z.result=void 0===$a&&Z.cjs?Z.cjs.exports:$a;E.shift(Z);cb(Z)}return Z.result},lb=0,sb=function(Z){try{lb++,Z()}catch(wa){throw wa;}finally{lb--}pa()&&R("idle",[])},tb=function(){lb||sb(function(){F();for(var Z,
wa,Ia=0;Ia<X.length;)Z=Ua,wa=X[Ia],nb(wa),Z!=Ua?(F(),Ia=0):Ia++})};var Fb="function"==typeof a.fixupUrl?a.fixupUrl:function(Z){Z+="";return Z+(qa?(/\?/.test(Z)?"\x26":"?")+qa:"")};void 0===y("dojo-loader-eval-hint-url")&&y.add("dojo-loader-eval-hint-url",1);var Nb=function(Z){var wa=Z.plugin;5!==wa.executed||wa.load||db(wa);var Ia=function(Ja){Z.result=Ja;da(Z);cb(Z);tb()};wa.load?wa.load(Z.prid,Z.req,Ia):wa.loadQ?wa.loadQ.push(Z):(wa.loadQ=[Z],X.unshift(wa),wb(wa))},zb=0,Eb=function(Z,wa){y("config-stripStrict")&&
(Z=Z.replace(/(["'])use strict\1/g,""));Z===zb?zb.call(null):u.eval(Z,y("dojo-loader-eval-hint-url")?wa.url:wa.mid)},wb=function(Z){var wa=Z.mid,Ia=Z.url;if(!(Z.executed||Z.injected||va[wa]||Z.url&&(Z.pack&&va[Z.url]===Z.pack||1==va[Z.url])))if(Ea(Z),Z.plugin)Nb(Z);else{var Ja=function(){Ob(Z);if(2!==Z.injected){if(y("dojo-enforceDefine")){R("error",g("noDefine",Z));return}da(Z);e(Z,ya);u.trace("loader-define-nonmodule",[Z.url])}D?!E.length&&tb():tb()};if(zb=ha[wa]||ha["url:"+Z.url])u.trace("loader-inject",
["cache",Z.mid,Ia]),Eb(zb,Z),Ja();else{if(D)if(Z.isXd)"sync"==D&&(D="xd");else if(!Z.isAmd||"sync"==D){u.trace("loader-inject",["xhr",Z.mid,Ia,"sync"!=D]);u.getText(Ia,"sync"!=D,function(Va){if("sync"==D){E.unshift(Z);Eb(Va,Z);E.shift();Ob(Z);Z.cjs||(da(Z),cb(Z));if(Z.finish){Va=wa+"*finish";var $a=Z.finish;delete Z.finish;bb(Va,["dojo",("dojo/require!"+$a.join(",")).replace(/\./g,"/")],function(gb){r($a,function(ub){gb.require(ub)})});X.unshift(oa(Va))}Ja()}else(Va=G(Z,Va))?(Eb(Va,Z),Ja()):u.injectUrl(Fb(Ia),
Ja,Z)});return}u.trace("loader-inject",["script",Z.mid,Ia]);u.injectUrl(Fb(Ia),Ja,Z)}}},Pb=function(Z,wa,Ia){u.trace("loader-define-module",[Z.mid,wa]);var Ja=Z.mid;if(2===Z.injected)return R("error",g("multipleDefine",Z)),Z;e(Z,{deps:wa,def:Ia,cjs:{id:Z.mid,uri:Z.url,exports:Z.result={},setExports:function($a){Z.cjs.exports=$a},config:function(){return Z.config}}});for(var Va=0;wa[Va];Va++)wa[Va]=oa(wa[Va],Z);D&&!va[Ja]&&(ia(Z),X.push(Z),tb());da(Z);l(Ia)||wa.length||(Z.result=Ia,cb(Z));return Z},
Ob=function(Z,wa){for(var Ia=[],Ja,Va;na.length;)Va=na.shift(),wa&&(Va[0]=wa.shift()),Ja=Va[0]&&oa(Va[0])||Z,Ia.push([Ja,Va[1],Va[2]]);H(Z);r(Ia,function($a){ia(Pb.apply(null,$a))})},Ha=n,mb=n;y("dom");if(y("dom")){var Gb=function(Z,wa,Ia,Ja){Z.addEventListener(wa,Ja,!1);return function(){Z.removeEventListener(wa,Ja,!1)}},vb=Gb(window,"load","onload",function(){u.pageLoaded=1;try{"complete"!=z.readyState&&(z.readyState="complete")}catch(Z){}vb()});var Db=z.getElementsByTagName("script");for(c=0;!sa;)/^dojo/.test((f=
Db[c++])&&f.type)||(sa=f);u.injectUrl=function(Z,wa,Ia){Ia=Ia.node=z.createElement("script");var Ja=Gb(Ia,"load","onreadystatechange",function($a){$a=$a||window.event;var gb=$a.target||$a.srcElement;if("load"===$a.type||/complete|loaded/.test(gb.readyState))Ja(),Va(),wa&&wa()}),Va=Gb(Ia,"error","onerror",function($a){Ja();Va();R("error",g("scriptError: "+Z,[Z,$a]))});Ia.type="text/javascript";Ia.charset="utf-8";Ia.src=Z;sa.parentNode.insertBefore(Ia,sa);return Ia}}u.log=n;u.trace=n;if(y("foreign-loader"))bb=
n;else{var bb=function(Z,wa,Ia){var Ja=arguments.length,Va=["require","exports","module"],$a=[0,Z,wa];1==Ja?$a=[0,l(Z)?Va:[],Z]:2==Ja&&m(Z)?$a=[Z,l(wa)?Va:[],wa]:3==Ja&&($a=[Z,wa,Ia]);u.trace("loader-define",$a.slice(0,2));(Ja=$a[0]&&oa($a[0]))&&!va[Ja.mid]?ia(Pb(Ja,$a[1],$a[2])):na.push($a)};bb.amd={vendor:"dojotoolkit.org"}}e(e(u,b.loaderPatch),a.loaderPatch);V("error",function(Z){try{if(console.error(Z),Z instanceof Error){for(var wa in Z)console.log(wa+":",Z[wa]);console.log(".")}}catch(Ia){}});
e(u,{uid:v,cache:ha,packs:Aa});if(!x.define&&(x.define=bb,x.require=u,!y("foreign-loader"))){r(W,function(Z){ea(Z)});var ab=ja.deps||a.deps||b.deps,Ba=ja.callback||a.callback||b.callback;u.boot=ab||Ba?[ab||[],Ba]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,deps:["esri/kernel"],hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/Map":function(){define("./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,b,d,f,c,q,n,k,h,l,m,w,r,
e,g,p,v,u){f=class extends u.TablesMixin(v.LayersMixin(q.EventedMixin(f))){constructor(x){super(x);this.allLayers=new c({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:z=>"layers"in z?z.layers:null});this.allTables=g.createFlattenedTablesCollection(this);this.basemap=null;this.editableLayers=new c({getCollections:()=>[this.allLayers],itemFilterFunction:r.isEditableLayer});this.ground=new d;this._basemapCache=e.createCache()}destroy(){e.destroyCache(this._basemapCache);
this._basemapCache=null;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();this.basemap=n.destroyMaybe(this.basemap);n.destroyMaybe(this.ground);this._set("ground",null)}castBasemap(x){return e.ensureType(x,this._basemapCache)}castGround(x){x=p.ensureType(x);return null==x?this._get("ground"):x}findLayerById(x){return this.allLayers.find(z=>z.id===x)}findTableById(x){return this.allTables.find(z=>z.id===x)}};a.__decorate([k.property({readOnly:!0,dependsOn:[]})],f.prototype,
"allLayers",void 0);a.__decorate([k.property({readOnly:!0})],f.prototype,"allTables",void 0);a.__decorate([k.property({type:b,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],f.prototype,"basemap",void 0);a.__decorate([h.cast("basemap")],f.prototype,"castBasemap",null);a.__decorate([k.property({readOnly:!0})],f.prototype,"editableLayers",void 0);a.__decorate([k.property({type:d,nonNullable:!0})],f.prototype,"ground",void 0);a.__decorate([h.cast("ground")],f.prototype,"castGround",null);
a.__decorate([k.property()],f.prototype,"undoRedo",void 0);return f=a.__decorate([w.subclass("esri.Map")],f)})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){"function"===typeof SuppressedError?SuppressedError:function(b,d,f){f=Error(f);return f.name="SuppressedError",f.error=b,f.suppressed=d,f};a.__awaiter=function(b,d,f,c){function q(n){return n instanceof f?n:new f(function(k){k(n)})}return new (f||=Promise)(function(n,k){function h(w){try{m(c.next(w))}catch(r){k(r)}}function l(w){try{m(c["throw"](w))}catch(r){k(r)}}
function m(w){w.done?n(w.value):q(w.value).then(h,l)}m((c=c.apply(b,d||[])).next())})};a.__decorate=function(b,d,f,c){var q=arguments.length,n=3>q?d:null===c?c=Object.getOwnPropertyDescriptor(d,f):c,k;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(b,d,f,c);else for(var h=b.length-1;0<=h;h--)if(k=b[h])n=(3>q?k(n):3<q?k(d,f,n):k(d,f))||n;return 3<q&&n&&Object.defineProperty(d,f,n),n};a.__param=function(b,d){return function(f,c){d(f,c,b)}}})},"esri/Basemap":function(){define("require ./chunks/tslib.es6 ./request ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./support/BasemapStyle ./webdoc/support/writeUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B){var A;let D=0;q=A=class extends q.JSONSupportMixin(k){constructor(F){super(F);this.thumbnailUrl=this.style=this.spatialReference=this.portalItem=this.id=null;this.title="Basemap";this.id=Date.now().toString(16)+"-basemap-"+D++;this.baseLayers=new f;this.referenceLayers=new f;const G=M=>{M.parent&&M.parent!==this&&"remove"in M.parent&&M.parent.remove(M);M.parent=this;"elevation"===M.type&&l.getLogger(this).error(`Layer '${M.title}, id:${M.id}' of type '${M.type}' is not supported as a basemap layer and will therefore be ignored.`)};
this.addHandles([this.baseLayers.on("after-add",M=>G(M.item)),this.referenceLayers.on("after-add",M=>G(M.item)),this.baseLayers.on("after-remove",M=>{M.item.parent=null}),this.referenceLayers.on("after-remove",M=>{M.item.parent=null})])}initialize(){this.when().catch(F=>{l.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,F)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var F=this.baseLayers.toArray();for(const G of F)G.destroy();
F=this.referenceLayers.toArray();for(const G of F)G.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem=m.destroyMaybe(this.portalItem)}normalizeCtorArgs(F){F&&"resourceInfo"in F&&(this._set("resourceInfo",F.resourceInfo),F={...F},delete F.resourceInfo);return F}set baseLayers(F){this._set("baseLayers",c.referenceSetter(F,this._get("baseLayers")))}_writeBaseLayers(F,G,M){const L=[];F&&(M={...M,layerContainerType:"basemap"},this.baseLayers.forEach(T=>{T=B.getLayerJSON(T,
M.webmap?M.webmap.getLayerJSONFromResourceInfo(T):null,M);null!=T&&L.push(T)}),this.referenceLayers.forEach(T=>{const N=B.getLayerJSON(T,M.webmap?M.webmap.getLayerJSONFromResourceInfo(T):null,M);null!=N&&("scene"!==T.type&&(N.isReference=!0),L.push(N))}));G.baseMapLayers=L}set referenceLayers(F){this._set("referenceLayers",c.referenceSetter(F,this._get("referenceLayers")))}writeTitle(F,G){G.title=F||"Basemap"}load(F){this.addResolvingPromise(this._loadFromSource(F));return Promise.resolve(this)}loadAll(){return h.loadAll(this,
F=>{F(this.baseLayers,this.referenceLayers)})}clone(){const F={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(G=>n.isClonable(G)?G.clone():G),referenceLayers:this.referenceLayers.map(G=>n.isClonable(G)?G.clone():G)};this.loaded&&(F.loadStatus="loaded");return(new A({resourceInfo:this.resourceInfo})).set(F)}read(F,G){this.resourceInfo||this._set("resourceInfo",{data:F,context:G});super.read(F,G)}write(F,G){F=F||{};G?.origin||(G={origin:"web-map",...G});super.write(F,
G);!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(F.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(M=>{M=n.clone(M);M.url&&r.isProtocolRelative(M.url)&&(M.url=`https:${M.url}`);M.templateUrl&&r.isProtocolRelative(M.templateUrl)&&(M.templateUrl=`https:${M.templateUrl}`);return M}));return F}async _loadFromSource(F){const {resourceInfo:G,portalItem:M,style:L}=this;w.throwIfAborted(F);const T=[];G?(T.push(this._loadLayersFromJSON(G.data,G.context?G.context.url:null,F)),G.data.id&&!G.data.title&&
T.push(t.getBasemapTitle(G.data.id).then(N=>{N&&this.read({title:N},G.context)}))):M?T.push(this._loadFromItem(M,F)):L&&T.push(this._loadFromStylesService(L,F));await Promise.all(T)}async _loadLayersFromJSON(F,G,M){const L=this.resourceInfo?.context,T=this.portalItem?.portal||L?.portal||null,N=J[L?.origin||""]??"web-map",{populateOperationalLayers:K}=await new Promise((R,V)=>a(["./layers/support/layersCreator"],R,V)),O=[];w.throwIfAborted(M);if(F.baseMapLayers&&Array.isArray(F.baseMapLayers)){G={context:{...L,
origin:N,url:G,portal:T,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const R=V=>"web-scene"===N&&"ArcGISSceneServiceLayer"===V.layerType||V.isReference;M=K(this.baseLayers,F.baseMapLayers.filter(V=>!R(V)),G);O.push(M);F=K(this.referenceLayers,F.baseMapLayers.filter(R),G);O.push(F)}await Promise.allSettled(O)}async _loadFromItem(F,G){const M=await (await F.load(G)).fetchData("json",G),L=r.urlToObject(F.itemUrl??"");this._set("resourceInfo",{data:M.baseMap??{},context:{origin:E[F.type||
""]??"web-map",portal:F.portal||x.getDefault(),url:L}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:M.spatialReference},this.resourceInfo.context);this.read({title:F.title,thumbnailUrl:F.thumbnailUrl},{origin:"portal-item",portal:F.portal||x.getDefault(),url:L});return this._loadLayersFromJSON(this.resourceInfo.data,L,G)}async _loadFromStylesService(F,G){var M=`${F.serviceUrl}/${F.id}`;F=(await d(M,{query:{language:F.getLanguageParamValue(),places:F.places,
worldview:F.worldview},signal:G?.signal})).data;M=r.urlToObject(M);this._set("resourceInfo",{data:F.baseMap??{},context:{origin:"web-map",url:M}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:F.spatialReference},this.resourceInfo.context);return this._loadLayersFromJSON(this.resourceInfo.data,M,G)}static fromId(F){return(F=t.esriBasemapDefinitions[F])?F.itemId?new A({portalItem:{id:F.itemId,portal:{url:"https://www.arcgis.com"}}}):A.fromJSON(F,{origin:F.is3d?
"web-scene":"web-map"}):null}};b.__decorate([e.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(F,G,M,L){this._writeBaseLayers(F,G,L)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:f}},writer(F,G,M,L){this._writeBaseLayers(F,G,L)}}}}}})],q.prototype,"baseLayers",null);b.__decorate([e.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],q.prototype,"id",void 0);b.__decorate([e.property({type:z})],q.prototype,"portalItem",void 0);b.__decorate([e.property()],
q.prototype,"referenceLayers",null);b.__decorate([e.property({readOnly:!0})],q.prototype,"resourceInfo",void 0);b.__decorate([e.property({type:u})],q.prototype,"spatialReference",void 0);b.__decorate([e.property({type:y})],q.prototype,"style",void 0);b.__decorate([e.property()],q.prototype,"thumbnailUrl",void 0);b.__decorate([e.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],q.prototype,"title",void 0);b.__decorate([v.writer("title")],q.prototype,"writeTitle",null);q=
A=b.__decorate([p.subclass("esri.Basemap")],q);const E={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},J={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};return q})},"esri/request":function(){define("require ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),function(a,b,d,f,c,q,n,k,h,l,m){async function w(O,R){O instanceof URL&&(O=
O.toString());R?.query instanceof URLSearchParams&&(R.query=k.queryToObject(R.query.toString().replaceAll("+"," ")));var V=k.isDataProtocol(O);const ma=k.isBlobProtocol(O);ma||V||(O=k.normalize(O));const ca={url:O,requestOptions:{...R}};let ua=k.getInterceptor(O);if(ua){O=await t(ua,ca);if(null!=O)return{data:O,getAllHeaders:N,getHeader:N,httpStatus:200,requestOptions:ca.requestOptions,url:ca.url};ua.after||ua.error||(ua=null)}O=ca.url;R=ca.requestOptions;if("image"===R.responseType&&(c("host-webworker")||
c("host-node")))throw g("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),ca);if("head"===R.method){if(R.body)throw g("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),ca);if(V||ma)throw g("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),ca);}await p();if(J)return J.execute(O,R);const Aa=new AbortController;n.onAbort(R,()=>Aa.abort());V=await A({controller:Aa,
credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:ua,params:ca,redoRequest:!1,useIdentity:F.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});ua?.after?.(V);return V}function r(O){(O=k.getOrigin(O))&&!w._corsServers.includes(O)&&w._corsServers.push(O)}function e(O){O=k.getOrigin(O);return!O||O.endsWith(".arcgis.com")||w._corsServers.includes(O)||k.isTrustedServer(O)}function g(O,R,V,ma){let ca="Error";const ua={url:V.url,requestOptions:V.requestOptions,getAllHeaders:N,
getHeader:N,ssl:!1};if(R instanceof f)return R.details?(R.details=q.clone(R.details),R.details.url=V.url,R.details.requestOptions=V.requestOptions):R.details=ua,R;if(R){V=ma&&(()=>Array.from(ma.headers));const Aa=ma&&(Ga=>ma.headers.get(Ga)),Ma=R.message;Ma&&(ca=Ma);V&&Aa&&(ua.getAllHeaders=V,ua.getHeader=Aa);ua.httpStatus=(null!=R.httpCode?R.httpCode:R.code)||ma?.status||0;ua.subCode=R.subcode;ua.messageCode=R.messageCode;ua.messages="string"===typeof R.details?[R.details]:R.details;ua.raw=K in R?
R[K]:R}return n.isAbortError(R)?n.createAbortError():new f(O,ca,ua)}async function p(){c("host-webworker")&&!J&&(J=await new Promise((O,R)=>a(["./core/workers/request"],O,R)))}async function v(){d.id||await new Promise((O,R)=>a(["./identity/IdentityManager"],V=>O(Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"}))),R))}async function u(O){const R=O.params.url,V=O.params.requestOptions,ma=O.controller.signal,ca=V.body;let ua=null,Aa=null;G&&"HTMLFormElement"in
globalThis&&(ca instanceof FormData?ua=ca:ca instanceof HTMLFormElement&&(ua=new FormData(ca)));"string"===typeof ca&&(Aa=ca);O.fetchOptions={cache:V.cacheBust?"no-cache":"default",credentials:"same-origin",headers:V.headers||{},method:"head"===V.method?"HEAD":"GET",mode:"cors",priority:F.priority,redirect:"follow",signal:ma};if(ua||Aa)O.fetchOptions.body=ua||Aa;"anonymous"===V.authMode&&(O.useIdentity=!1);O.hasToken=!!(/token=/i.test(R)||V.query?.token||ua?.get("token"));!O.hasToken&&b.apiKey&&l.supportsApiKey(R)&&
(V.query||(V.query={}),V.query.token=b.apiKey,O.hasToken=!0);if(O.useIdentity&&!O.hasToken&&!O.credentialToken&&!x(R)&&!n.isAborted(ma)){let Ma;"immediate"===V.authMode?(await v(),Ma=await d.id.getCredential(R,{signal:ma}),O.credential=Ma):"no-prompt"===V.authMode?(await v(),Ma=await d.id.getCredential(R,{prompt:!1,signal:ma}).catch(()=>{}),O.credential=Ma):d.id&&(Ma=d.id.findCredential(R));Ma&&(O.credentialToken=Ma.token,O.useSSL=!!Ma.ssl)}}function x(O){return T.some(R=>R.test(O))}async function z(O){let R=
O.params.url;const V=O.params.requestOptions,ma=O.fetchOptions??{},ca=k.isBlobProtocol(R)||k.isDataProtocol(R),ua=V.responseType||"json";var Aa=ca?0:null!=V.timeout?V.timeout:F.timeout,Ma=!1;if(!ca){O.useSSL&&(R=k.toHTTPS(R));var Ga={...V.query};O.credentialToken&&(Ga.token=O.credentialToken);Ma=k.objectToQuery(Ga);c("esri-url-encodes-apostrophe")&&(Ma=Ma.replaceAll("'","%27"));const ha=R.length+1+Ma.length;let aa;Ma="delete"===V.method||"post"===V.method||"put"===V.method||!!V.body||ha>F.maxUrlLength;
const ja=V.useProxy||!!k.getProxyRule(R);if(ja){const sa=k.getProxyUrl(R);aa=sa.path;!Ma&&aa.length+1+ha>F.maxUrlLength&&(Ma=!0);sa.query&&(Ga={...sa.query,...Ga})}if("HEAD"===ma.method&&(Ma||ja)){if(Ma){if(ha>F.maxUrlLength)throw g("request:invalid-parameters",Error("URL exceeds maximum length"),O.params);throw g("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),O.params);}if(ja)throw g("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),
O.params);}Ma?(ma.method="delete"===V.method?"DELETE":"put"===V.method?"PUT":"POST",V.body?R=k.addQueryParameters(R,Ga):(ma.body=k.objectToQuery(Ga),ma.headers||(ma.headers={}),ma.headers["Content-Type"]="application/x-www-form-urlencoded")):R=k.addQueryParameters(R,Ga);ja&&(O.useProxy=!0,R=`${aa}?${R}`);Ga.token&&G&&ma.body instanceof FormData&&!h.isSecureProxyService(R)&&ma.body.set("token",Ga.token);V.hasOwnProperty("withCredentials")?O.withCredentials=V.withCredentials:k.hasSameOrigin(R,k.getAppUrl())||
(k.isTrustedServer(R)?O.withCredentials=!0:d.id&&d.id.findServerInfo(R)?.webTierAuth&&(O.withCredentials=!0));O.withCredentials&&(ma.credentials="include",m.isNoCorsRequestRequired(R)&&await m.sendNoCorsRequest(Ma?k.addQueryParameters(R,Ga):R))}Ga=0;let Qa=!1;0<Aa&&(Ga=setTimeout(()=>{Qa=!0;O.controller.abort()},Aa));Aa=void 0;let qa;try{if("native-request-init"===V.responseType)qa=ma,qa.url=R;else if("image"!==V.responseType||"default"!==ma.cache||"GET"!==ma.method||Ma||y(V.headers)||!ca&&!O.useProxy&&
F.proxyUrl&&!e(R))if(w._beforeFetch&&await w._beforeFetch(R,ma),Aa=await fetch(R,ma),w._afterFetch&&await w._afterFetch(Aa),O.useProxy||r(R),"native"===V.responseType)qa=Aa;else{if("HEAD"!==ma.method)if(Aa.ok){switch(ua){case "array-buffer":qa=await Aa.arrayBuffer();break;case "blob":case "image":qa=await Aa.blob();break;default:qa=await Aa.text()}Ga&&(clearTimeout(Ga),Ga=0);if("json"===ua||"xml"===ua||"document"===ua)if(qa)switch(ua){case "json":qa=JSON.parse(qa);break;case "xml":qa=B(qa,"application/xml");
break;case "document":qa=B(qa,"text/html")}else qa=null;if(qa){if("array-buffer"===ua||"blob"===ua){const ha=Aa.headers.get("Content-Type");if(ha&&/application\/json|text\/plain/i.test(ha)&&750>=qa["blob"===ua?"size":"byteLength"])try{const aa=await (new Response(qa)).json();aa.error&&(qa=aa)}catch{}}"image"===ua&&qa instanceof Blob&&(qa=await E(URL.createObjectURL(qa),O,!0))}}else{qa=await Aa.text();try{qa=JSON.parse(qa)}catch{}}}else qa=await E(R,O)}catch(ha){if("AbortError"===ha.name){if(Qa)throw m.createTimeoutError();
throw n.createAbortError("Request canceled");}if(!Aa&&ha instanceof TypeError&&F.proxyUrl&&!V.body&&"delete"!==V.method&&"head"!==V.method&&"post"!==V.method&&"put"!==V.method&&!O.useProxy&&!e(R))O.redoRequest=!0,k.addProxyRule({proxyUrl:F.proxyUrl,urlPrefix:k.getOrigin(R)??""});else throw ha;}finally{Ga&&clearTimeout(Ga)}return[Aa,qa]}async function t(O,R){if(null!=O.responseData)return O.responseData;O.headers&&(R.requestOptions.headers={...R.requestOptions.headers,...O.headers});O.query&&(R.requestOptions.query=
{...R.requestOptions.query,...O.query});if(O.before){let V,ma;try{ma=await O.before(R)}catch(ca){V=g("request:interceptor",ca,R)}if(ma instanceof Error||ma instanceof f)V=g("request:interceptor",ma,R);if(V)throw O.error&&O.error(V),V;return ma}}function y(O){if(O)for(const R of Object.getOwnPropertyNames(O))if(O[R])return!0;return!1}function B(O,R){let V;try{V=(new DOMParser).parseFromString(O,R)}catch{}if(!V||V.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return V}
async function A(O){await u(O);let R;try{do[R,V]=await z(O);while(!await D(O,R,V))}catch(ua){var V=g("request:server",ua,O.params,R);V.details.ssl=O.useSSL;O.interceptor?.error&&O.interceptor.error(V);throw V;}var ma=O.params.url;V&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(ma)&&(O.hasToken||O.credentialToken||!V.user?.username||k.isTrustedServer(ma)||(ma=k.getOrigin(ma,!0))&&F.trustedServers.push(ma),Array.isArray(V.authorizedCrossOriginNoCorsDomains)&&m.registerNoCorsDomains(V.authorizedCrossOriginNoCorsDomains));
var ca=O.credential;ca&&d.id&&(ma=d.id.findServerInfo(ca.server)?.owningSystemUrl)&&(ma=ma.replace(/\/?$/,"/sharing"),(ca=d.id.findCredential(ma,ca.userId))&&-1===d.id._getIdenticalSvcIdx(ma,ca)&&ca.resources.unshift(ma));return{data:V,getAllHeaders:R?()=>Array.from(R.headers):N,getHeader:R?ua=>R.headers.get(ua):N,httpStatus:R?.status??200,requestOptions:O.params.requestOptions,ssl:O.useSSL,url:O.params.url}}async function D(O,R,V){if(O.redoRequest)return O.redoRequest=!1;var ma=O.params.requestOptions;
if(!R||"native"===ma.responseType||"native-request-init"===ma.responseType)return!0;let ca;V&&(V.error?ca=V.error:"error"===V.status&&Array.isArray(V.messages)&&(ca={...V},ca[K]=V,ca.details=V.messages));if(!ca&&!R.ok)throw ca=Error(`Unable to load ${R.url} status: ${R.status}`),ca[K]=V,ca;let ua;R=null;let Aa;ca&&(ua=Number(ca.code),R=ca.hasOwnProperty("subcode")?Number(ca.subcode):null,Aa=ca.messageCode,Aa=Aa?.toUpperCase());ma=ma.authMode;if(403===ua&&(4===R||ca.message?.toLowerCase().includes("ssl")&&
!ca.message.toLowerCase().includes("permission"))){if(!O.useSSL)return O.useSSL=!0,!1}else if(!(O.hasToken||!O.useIdentity||"no-prompt"===ma&&498!==ua||void 0===ua||!M.has(ua)||x(O.params.url)||403===ua&&(Aa&&L.has(Aa)||!(null==R||2===R&&O.credentialToken)))){await v();try{const Ma=await d.id.getCredential(O.params.url,{error:g("request:server",ca,O.params),prompt:"no-prompt"!==ma,signal:O.controller.signal,token:O.credentialToken});O.credential=Ma;O.credentialToken=Ma.token;O.useSSL=O.useSSL||Ma.ssl;
return!1}catch(Ma){if("no-prompt"===ma)return O.credential=void 0,O.credentialToken=void 0,!1;ca=Ma}}if(ca)throw ca;return!0}function E(O,R,V=!1){const ma=R.controller.signal,ca=new Image;ca.crossOrigin=R.withCredentials?"use-credentials":"anonymous";ca.alt="";ca.fetchPriority=F.priority;ca.src=O;return m.loadImageAsync(ca,O,V,ma)}let J;const F=b.request,G="FormData"in globalThis,M=new Set([499,498,403,401]),L=new Set(["COM_0056","COM_0057","SB_0008"]),T=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,
/\/rest\/info/i],N=()=>null,K=Symbol();w._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];w._beforeFetch=void 0;w._afterFetch=void 0;return w})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,d){b={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",
geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(d.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/has":function(){define(function(){function a(d){return"function"===typeof b[d]?b[d]=b[d](globalThis):b[d]}
let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{};a.add=(d,f,c,q)=>{if(q||void 0===b[d])b[d]=f;return c&&a(d)};a.cache=b;a.add("big-integer-warning-enabled",!0);a.add("esri-deprecation-warnings",!0);a.add("esri-tests-disable-screenshots",!1);a.add("esri-tests-use-full-window",!1);a.add("esri-tests-post-to-influx",!0);(()=>{a.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);
var d="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",d);a.add("dom",d);if(a("host-browser")){var f=navigator;d=f.userAgent;var c=f.appVersion;f=parseFloat(c);a.add("edge",parseFloat(d.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(d.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(d.split("Chrome/")[1])||void 0);a.add("safari",!c.includes("Safari")||
a("chrome")||a("edge")?void 0:parseFloat(c.split("Version/")[1]));a.add("mac",c.includes("Macintosh"));if(/(iPhone|iPod|iPad)/.test(d)){c=RegExp.$1.replace(/P/,"p");var q=/OS ([\d_]+)/.test(d)?RegExp.$1:"1";q=parseFloat(q.replace(/_/,".").replaceAll("_",""));a.add(c,q);a.add("ios",q)}a("webkit")||(d.includes("Gecko")&&!a("edge")&&a.add("mozilla",f),a("mozilla")&&a.add("ff",parseFloat(d.split("Firefox/")[1]||d.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var d=navigator.userAgent;
const f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(d);d=/iPhone/i.test(d);f&&a.add("esri-mobile",f);d&&a.add("esri-iPhone",d);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-performance-mode-frames-between-render",20);a.add("esri-force-performance-mode",!1);a.add("esri-shared-array-buffer",()=>{const f=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!f});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,
97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("workers-pool-size",8);a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-fast-triangulation-enabled",!0);a.add("featurelayer-animation-enabled",
!0);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-query-max-depth",4);a.add("featurelayer-query-pausing-enabled",!1);a.add("hittest-2d-mobile-tolerance",3);a.add("hittest-2d-desktop-tolerance",1);a.add("hittest-2d-small-symbol-tolerance",3);a.add("hittest-2d-small-symbol-tolerance-threshold",3);a.add("featurelayer-advanced-symbols",
!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",20);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",
()=>{if("decode"in new Image){const f=new Image;f.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';f.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const f=window.document.createElement("a");f.href="?'";return f.href.includes("?%27")}))})();return a})},"esri/core/object":function(){define(["exports","./lang"],function(a,
b){function d(c,q,n){for(const k of c){if(null==n)return;if(!(k in n))if(q)n[k]={};else return;n=n[k]}return n}function f(c,q,n){return q?Object.keys(q).reduce((k,h)=>{let l=k[h],m=q[h];if(l===m)return k;if(void 0===l)return k[h]=b.clone(m),k;if(Array.isArray(m)||Array.isArray(k))l=l?Array.isArray(l)?k[h]=l.concat():k[h]=[l]:k[h]=[],m&&(Array.isArray(m)||(m=[m]),n?m.forEach(w=>{l.includes(w)||l.push(w)}):k[h]=m.concat());else if(m&&"object"===typeof m)k[h]=f(l,m,n);else if(!k.hasOwnProperty(h)||q.hasOwnProperty(h))k[h]=
m;return k},c||{}):c}a.deepMerge=function(c,q,n=!1){return f(c,q,n)};a.getDeepValue=function(c,q){if(null!=q)return q[c]||d(c.split("."),!1,q)};a.setDeepValue=function(c,q,n){const k=c.split(".");c=k.pop();(n=d(k,!0,n))&&c&&(n[c]=q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./typedArrayUtil"],function(a,b,d){function f(r,e){let g;if(e)for(g in r)r.hasOwnProperty(g)&&(void 0===r[g]?delete r[g]:r[g]instanceof Object&&
f(r[g],!0));else for(g in r)r.hasOwnProperty(g)&&void 0===r[g]&&delete r[g];return r}function c(r){if(!r||"object"!==typeof r||"function"===typeof r)return r;var e=m(r);if(null!=e)return e;if(n(r))return r.clone();if(k(r))return r.map(c);if(h(r))return r.clone();e={};for(const g of Object.getOwnPropertyNames(r))e[g]=c(r[g]);return e}function q(r){if(!r||"object"!==typeof r||"function"===typeof r||"HTMLElement"in globalThis&&r instanceof HTMLElement)return r;var e=m(r);if(null!=e)return e;if(k(r)){let g=
!0;r=r.map(p=>{const v=q(p);null!=p&&null==v&&(g=!1);return v});return g?r:null}if(n(r))return r.clone();if(r instanceof File||r instanceof Blob)return r;if(!h(r)){e=new (Object.getPrototypeOf(r).constructor);for(const g of Object.getOwnPropertyNames(r)){const p=r[g],v=q(p);if(null!=p&&null==v)return null;e[g]=v}return e}return null}function n(r){return"function"===typeof r.clone}function k(r){return"function"===typeof r.map&&"function"===typeof r.forEach}function h(r){return"function"===typeof r.notifyChange&&
"function"===typeof r.watch}function l(r){if("[object Object]"!==Object.prototype.toString.call(r))return!1;r=Object.getPrototypeOf(r);return null===r||r===Object.prototype}function m(r){if(d.isInt8Array(r)||d.isUint8Array(r)||d.isUint8ClampedArray(r)||d.isInt16Array(r)||d.isUint16Array(r)||d.isInt32Array(r)||d.isUint32Array(r)||d.isFloat32Array(r)||d.isFloat64Array(r))return r.slice();if(r instanceof Date)return new Date(r.getTime());if(r instanceof ArrayBuffer)return r.slice(0,r.byteLength);if(r instanceof
Map){var e=new Map;for(const [g,p]of r)e.set(g,c(p));return e}if(r instanceof Set){e=new Set;for(const g of r)e.add(c(g));return e}return null}function w(r,e){if(null===r||null===e)return!1;const g=Object.keys(r);if(null===e||Object.keys(e).length!==g.length)return!1;for(const p of g)if(r[p]!==e[p]||!Object.prototype.hasOwnProperty.call(e,p))return!1;return!0}a.clone=c;a.equals=function(r,e){return r===e||"number"===typeof r&&isNaN(r)&&"number"===typeof e&&isNaN(e)||"function"===typeof r?.getTime&&
"function"===typeof e?.getTime&&r.getTime()===e.getTime()||!1};a.equalsShallow=function(r,e){if(r===e)return!0;if(null===r||void 0===r||"string"===typeof r)return r===e;if("number"===typeof r)return r===e||"number"===typeof e&&isNaN(r)&&isNaN(e);if(r instanceof Date)return e instanceof Date&&r.getTime()===e.getTime();if(Array.isArray(r))return Array.isArray(e)&&b.equals(r,e);if(r instanceof Set){var g;if(g=e instanceof Set)a:if(r.size!==e.size)g=!1;else{for(const p of r)if(!e.has(p)){g=!1;break a}g=
!0}return g}if(r instanceof Map){if(g=e instanceof Map)a:if(r.size!==e.size)g=!1;else{for(const [p,v]of r)if(r=e.get(p),r!==v||void 0===r&&!e.has(p)){g=!1;break a}g=!0}return g}return l(r)?l(e)&&w(r,e):!1};a.fixJson=f;a.isAccessorLike=h;a.isClonable=n;a.isPlainObject=l;a.tryClone=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","./RandomLCG"],function(a,b){function d(r){return r}function f(r,e=d){if(r&&0!==r.length){var g=r[0],p=
e(g);for(let v=1;v<r.length;++v){const u=r[v],x=Number(e(u));x>p&&(p=x,g=u)}return g}}function c(r,e,g,p){p=p||l;var v=Math.max(0,p.last-10);for(let u=v;u<g;++u)if(r[u]===e)return p.last=u;g=Math.min(v,g);for(v=0;v<g;++v)if(r[v]===e)return p.last=v;return-1}function q(r){return r?(w.seed=r,()=>w.getFloat()):Math.random}const n=1/1.5,k=!!Array.prototype.fill;class h{constructor(){this.last=0}}const l=new h,m=new Set,w=new b;a.PositionHint=h;a.addMany=function(r,e){if(!e)return r;for(const g of e)r.push(g);
return r};a.binaryFindClosest=function(r,e,g){if(r&&0!==r.length){var p=r.length-1,v=r[0];if(e<=g(v))return v;v=r[p];if(e>=g(v))return v;var u=0;v=0;for(var x=p;u<x;){v=u+Math.floor((x-u)/2);const t=r[v],y=g(t);if(y===e)return t;if(e<y){if(0<v){x=r[v-1];var z=g(x);if(e>z)return e-z>=y-e?t:x}x=v}else{if(v<p&&(u=r[v+1],z=g(u),e<z))return e-y>=z-e?u:t;u=v+1}}return r[v]}};a.binaryIndexOf=function(r,e,g){const p=r.length;let v=0;for(var u=p-1;v<u;){const x=v+Math.floor((u-v)/2);e>r[x]?v=x+1:u=x}u=r[v];
return g?e>=r[p-1]?-1:u===e?v:v-1:u===e?v:-1};a.constant=function(r,e){if(k)return Array(r).fill(e);const g=Array(r);for(let p=0;p<r;p++)g[p]=e;return g};a.difference=function(r,e,g){let p,v;g?(p=e.filter(u=>!r.some(x=>g(x,u))),v=r.filter(u=>!e.some(x=>g(x,u)))):(p=e.filter(u=>!r.includes(u)),v=r.filter(u=>!e.includes(u)));return{added:p,removed:v}};a.emptyArray=[];a.equals=function(r,e,g){if(null==r&&null==e)return!0;if(null==r||null==e||r.length!==e.length)return!1;if(g)for(let p=0;p<r.length;p++){if(!g(r[p],
e[p]))return!1}else for(g=0;g<r.length;g++)if(r[g]!==e[g])return!1;return!0};a.filterInPlace=function(r,e){let g=0;for(let p=0;p<r.length;++p){const v=r[p];e(v,p)&&(r[g]=v,g++)}r.length=g};a.findLast=function(r,e){for(let g=r.length-1;0<=g;g--){const p=r[g];if(e(p))return p}};a.first=function(r){if(r)return 0<r.length?r[0]:void 0};a.groupToMap=function(r,e){const g=new Map,p=r.length;for(let v=0;v<p;v++){const u=r[v],x=e(u,v,r),z=g.get(x);z?z.push(u):g.set(x,[u])}return g};a.indexOf=c;a.intersect=
function(r,e,g){return r&&e?g?r.filter(p=>-1<e.findIndex(v=>g(p,v))):r.filter(p=>e.includes(p)):[]};a.isArrayLike=function(r){return r&&"number"===typeof r.length};a.isSome=function(r,e){return null!=r};a.last=function(r){if(r){var e=r.length;return 0<e?r[e-1]:void 0}};a.max=f;a.min=function(r,e=d){return f(r,g=>-e(g))};a.pickRandom=function(r,e,g){const p=r.length;if(e>=p)return r.slice(0);g=q(g);const v=new Set,u=[];for(;u.length<e;){const x=Math.floor(g()*p);v.has(x)||(v.add(x),u.push(r[x]))}return u};
a.range=function(r,e){void 0===e&&(e=r,r=0);const g=Array(e-r);for(let p=r;p<e;p++)g[p-r]=p;return g};a.reallocGrowthFactor=1.5;a.reallocShrinkFactor=n;a.reallocShrinkThreshold=.5;a.remove=function(r,e){const g=r.indexOf(e);return-1!==g?(r.splice(g,1),e):null};a.removeUnordered=function(r,e,g,p){const v=null==g?r.length:g;p=c(r,e,v,p);if(-1!==p)return r[p]=r[v-1],null==g&&r.pop(),e};a.removeUnorderedMany=function(r,e,g=r.length,p=e.length,v,u){if(0===p||0===g)return g;m.clear();for(let x=0;x<p;++x)m.add(e[x]);
v=v||l;e=Math.max(0,v.last-10);for(p=e;p<g;++p)if(m.has(r[p])&&(u?.push(r[p]),m.delete(r[p]),r[p]=r[g-1],--g,--p,0===m.size||0===g))return m.clear(),g;for(p=0;p<e;++p)if(m.has(r[p])&&(u?.push(r[p]),m.delete(r[p]),r[p]=r[g-1],--g,--p,0===m.size||0===g))return m.clear(),g;m.clear();return g};a.shuffle=function(r,e){e=q(e);for(let g=r.length-1;0<g;g--){const p=Math.floor(e()*(g+1)),v=r[g];r[g]=r[p];r[p]=v}return r};a.splitIntoChunks=function(r,e){const g=r.length;if(0===g)return[];const p=[];for(let v=
0;v<g;v+=e)p.push(r.slice(v,v+e));return p};a.unique=function(r,e){return e?r.filter((g,p,v)=>v.findIndex(e.bind(null,g))===p):Array.from(new Set(r))};a.update=function(r,e){let g=r.length!==e.length;g&&(r.length=e.length);for(let p=0;p<e.length;++p)r[p]!==e[p]&&(r[p]=e[p],g=!0);return g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(function(){class a{constructor(b=1){this._seed=b}set seed(b){this._seed=null==b?Math.random()*a._m:b}getInt(){return this._seed=
(a._a*this._seed+a._c)%a._m}getFloat(){return this.getInt()/(a._m-1)}getIntRange(b,d){return Math.round(this.getFloatRange(b,d))}getFloatRange(b,d){d-=b;const f=this.getInt()/a._m;return b+f*d}}a._m=2147483647;a._a=48271;a._c=0;return a})},"esri/core/typedArrayUtil":function(){define(["exports","./byteSizeEstimations","./has"],function(a,b,d){function f(e){return"Int8Array"===e?.constructor?.name}function c(e){return"Uint8Array"===e?.constructor?.name}function q(e){return"Uint8ClampedArray"===e?.constructor?.name}
function n(e){return"Int16Array"===e?.constructor?.name}function k(e){return"Uint16Array"===e?.constructor?.name}function h(e){return"Int32Array"===e?.constructor?.name}function l(e){return"Uint32Array"===e?.constructor?.name}function m(e){return"Float32Array"===e?.constructor?.name}function w(e){return"Float64Array"===e?.constructor?.name}function r(e){return!("buffer"in e)}a.estimateSize=function(...e){return e.reduce((g,p)=>g+(p?r(p)?b.estimateFixedArraySize(p,b.estimateNumberByteSize()):p.byteLength+
145:0),0)};a.isArray=r;a.isArrayBuffer=function(e){return e instanceof ArrayBuffer};a.isFloat=function(e){return w(e)||m(e)};a.isFloat32Array=m;a.isFloat64Array=w;a.isInt16Array=n;a.isInt32Array=h;a.isInt8Array=f;a.isSigned=function(e){return w(e)||m(e)||h(e)||n(e)||f(e)};a.isUint16Array=k;a.isUint32Array=l;a.isUint8Array=c;a.isUint8ClampedArray=q;a.maximumValue=function(e){return w(e)?1.79769E308:m(e)?3.402823E38:l(e)?4294967295:k(e)?65535:c(e)||q(e)?255:h(e)?2147483647:n(e)?32767:f(e)?127:256};
a.nativeArrayMaxSize=1024;a.typedArrayStaticSize=145;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(a){function b(c){return 32+c.length}function d(c){if(!c)return 0;if(Array.isArray(c)){var q=c.length;if(0===q||"number"===typeof c[0])c=32+8*q;else{var n=16;for(let k=0;k<q;k++)n+=f(c[k]);c=n}return c}n=32;for(q in c)c.hasOwnProperty(q)&&(n+=f(c[q]));return n}function f(c){switch(typeof c){case "object":return d(c);
case "string":return b(c);case "number":return 16;case "boolean":return 4;default:return 8}}a.estimateAttributesObjectSize=function(c){if(!c)return 0;let q=32;for(const n in c)if(c.hasOwnProperty(n)){const k=c[n];switch(typeof k){case "string":q+=b(k);break;case "number":q+=16;break;case "boolean":q+=4}}return q};a.estimateFixedArraySize=function(c,q){return 16+c.length*q};a.estimateNestedObjectSize=d;a.estimateNumberByteSize=function(){return 16};a.estimateStringByteSize=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/kernel":function(){define(["exports","./core/has","./core/urlUtils","./support/revision"],function(a,b,d,f){let c;(c=Symbol).dispose??(c.dispose=Symbol("Symbol.dispose"));let q;(q=Symbol).asyncDispose??(q.asyncDispose=Symbol("Symbol.asyncDispose"));a.id=void 0;if(!b("host-webworker")){console.debug(`Using ArcGIS Maps SDK for JavaScript ${"4.29"} [Date: ${f.buildDate}, Revision: ${f.commitHash.slice(0,8)}]`);let n;"function"===typeof globalThis.require&&
(n=globalThis.require);const k=h=>{const l=h.startsWith("@arcgis/core/")?h.replace("@arcgis/core/","esri/").replace(/.js$/,""):h;return new Promise(m=>n([l],m))};Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{import:h=>n?Array.isArray(h)?Promise.all(h.map(k)):k(h):Promise.reject("global AMD `require` function not found")}})}a.buildDate=f.buildDate;a.revision=f.commitHash;a.addTokenParameter=function(n){const k=a.id?.findCredential(n);return k?.token?d.addQueryParameter(n,
"token",k.token):n};a.fullVersion="4.29";a.setId=function(n){a.id=n};a.version="4.29";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../config ./arrayUtils ./Error ./JSONSupport ./Logger ../portal/support/urlUtils ../support/base64Utils".split(" "),function(a,b,d,f,c,q,n,k){function h(I){if(!I)return null;const S={path:null,query:null},X=new ja(I),na=I.indexOf("?");null===X.query?S.path=I:(S.path=I.substring(0,na),S.query=l(X.query));
X.fragment&&(S.hash=X.fragment,null===X.query&&(S.path=S.path.substring(0,S.path.length-(X.fragment.length+1))));return S}function l(I){var S=I.split("\x26");I={};for(const na of S){if(!na)continue;var X=na.indexOf("\x3d");0>X?(S=decodeURIComponent(na),X=""):(S=decodeURIComponent(na.slice(0,X)),X=decodeURIComponent(na.slice(X+1)));let va=I[S];"string"===typeof va&&(va=I[S]=[va]);Array.isArray(va)?va.push(X):I[S]=X}return I}function m(I,S){return I?S&&"function"===typeof S?Object.keys(I).map(X=>encodeURIComponent(X)+
"\x3d"+encodeURIComponent(S(X,I[X]))).join("\x26"):Object.keys(I).map(X=>{const na=I[X];if(null==na)return"";const va=encodeURIComponent(X)+"\x3d";return(X=S?.[X])?va+encodeURIComponent(X(na)):Array.isArray(na)?na.map(Ea=>c.isSerializable(Ea)?va+encodeURIComponent(JSON.stringify(Ea)):va+encodeURIComponent(Ea)).join("\x26"):c.isSerializable(na)?va+encodeURIComponent(JSON.stringify(na)):va+encodeURIComponent(na)}).filter(X=>X).join("\x26"):""}function w(I){const S=I.indexOf("?");-1!==S?(za.path=I.slice(0,
S),za.query=I.slice(S+1)):(za.path=I,za.query=null);return za}function r(I){I=w(I).path;I=R(I);I=O(I,!0);return I=I.toLowerCase()}function e(I){const S=ca.proxyRules;I=r(I);for(let X=0;X<S.length;X++)if(0===I.indexOf(S[X].urlPrefix))return S[X]}function g(I){I=u(I);const S=I.indexOf("/sharing");return 0<S?I.substring(0,S):I.replace(/\/+$/,"")}function p(I,S,X=!1){if(!I||!S)return!1;I=ma(I);S=ma(S);return!X&&I.scheme!==S.scheme||null==I.host||null==S.host?!1:I.host.toLowerCase()===S.host.toLowerCase()&&
I.port===S.port}function v(I,S=ka,X){if(F(I))return X&&X.preserveProtocolRelative?I:"http"===Q.scheme&&Q.authority===z(I).slice(2)?`http:${I}`:`https:${I}`;if(!G(I)){X=x;if("/"===I[0]){var na=S.indexOf("//");na=S.indexOf("/",na+2);S=-1===na?S:S.slice(0,na)}return X(S,I)}return I}function u(I){I=I.trim();I=v(I);if(/^https?:\/\//i.test(I)){const S=w(I);I=S.path.replaceAll(/\/{2,}/g,"/");I=I.replace("/","//");S.query&&(I+=`?${S.query}`)}I=I.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return I=
V(I)}function x(...I){var S=I.filter(d.isSome);if(S?.length){I=[];if(t(S[0])){var X=S[0],na=X.indexOf("//");-1!==na&&(I.push(X.slice(0,na+1)),T(S[0])&&(I[0]+="/"),S[0]=X.slice(na+2))}else"/"===S[0][0]&&I.push("");S=S.reduce((va,Ea)=>Ea?va.concat(Ea.split("/")):va,[]);for(X=0;X<S.length;X++)na=S[X],".."===na&&0<I.length&&".."!==I[I.length-1]?I.pop():(!na&&X===S.length-1||na&&("."!==na||0===I.length))&&I.push(na);return I.join("/")}}function z(I,S=!1){if(null==I||y(I)||B(I))return null;var X=I.indexOf("://");
if(-1===X&&F(I))X=2;else if(-1!==X)X+=3;else return null;X=I.indexOf("/",X);-1!==X&&(I=I.slice(0,X));S&&(I=O(I,!0));return I}function t(I){return F(I)||G(I)}function y(I){return null!=I&&"blob:"===I.slice(0,5)}function B(I){return null!=I&&"data:"===I.slice(0,5)}function A(I){return(I=D(I))&&I.isBase64?k.base64ToArrayBuffer(I.data):null}function D(I){I=I.match(W);if(!I)return null;const [,S,X,na]=I;return{mediaType:S,isBase64:!!X,data:na}}function E(I){const S=A(I);if(!S)return null;I=D(I);return new Blob([S],
{type:I.mediaType})}function J(I,S){if(!I)return!1;const X=document.createElement("a");if(!("download"in X))return!1;I=URL.createObjectURL(I);X.download=S;X.href=I;X.style.display="none";document.body.appendChild(X);X.click();document.body.removeChild(X);URL.revokeObjectURL(I);return!0}function F(I){return null!=I&&"/"===I[0]&&"/"===I[1]}function G(I){return null!=I&&ua.test(I)}function M(I){return null!=I&&Ma.test(I)||"https"===Q.scheme&&F(I)}function L(I){return null!=I&&Aa.test(I)||"http"===Q.scheme&&
F(I)}function T(I){return null!=I&&Ga.test(I)}function N(I){return F(I)?`https:${I}`:I.replace(Aa,"https:")}function K(){return"https"===Q.scheme}function O(I,S=!1){if(F(I))return I.slice(2);I=I.replace(ua,"");S&&1<I.length&&"/"===I[0]&&"/"===I[1]&&(I=I.slice(2));return I}function R(I){return I.endsWith("/")?I:`${I}/`}function V(I){const S=ca.httpsDomains;if(!L(I))return I;const X=I.indexOf("/",7);let na;na=-1===X?I:I.slice(0,X);na=na.toLowerCase().slice(7);if(Qa.test(na))if(na.endsWith(":80"))na=
na.slice(0,-3),I=I.replace(":80","");else return I;if("http"===Q.scheme&&na===Q.authority&&!qa.test(I))return I;if(K()&&na===Q.authority||S&&S.some(va=>na===va||na.endsWith(`.${va}`))||K()&&!e(I))I=N(I);return I}function ma(I){if("string"===typeof I)return new ja(v(I));I.scheme||(I.scheme=Q.scheme);return I}const ca=b.request,ua=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Aa=/^\s*http:/i,Ma=/^\s*https:/i,Ga=/^\s*file:/i,Qa=/:\d+$/,qa=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ha=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),
aa=RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class ja{constructor(I=""){this.uri=I;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;I=this.uri.match(ha);this.scheme=I[2]||(I[1]?"":null);this.authority=I[4]||(I[3]?"":null);this.path=I[5];this.query=I[7]||(I[6]?"":null);this.fragment=I[9]||(I[8]?"":null);null!=this.authority&&(I=this.authority.match(aa),this.user=I[3]||null,this.password=I[4]||null,this.host=
I[6]||I[7],this.port=I[9]||null)}toString(){return this.uri}}const sa={},H=new ja(b.applicationUrl);let Q=H;const fa=function(){var I=Q.path;I=I.substring(0,I.lastIndexOf(I.split("/")[I.split("/").length-1]));return`${`${Q.scheme}://${Q.host}${null!=Q.port?`:${Q.port}`:""}`}${I}`}();let ka=fa;const za={path:"",query:""},W=/^data:(.*?)(;base64)?,(.*)$/,ea=/([^.]*)\.([^\/]*)$/,ia=/(^data:image\/svg|\.svg$)/i;a.Url=ja;a.addProxy=function(I){var S=e(I),X=void 0;if(S){var na=w(S.proxyUrl);X=na.path;na=
na.query?l(na.query):null}X&&(S=h(I),I=X+"?"+S.path,(X=m({...na,...S.query}))&&(I=`${I}?${X}`));return I};a.addProxyRule=function(I){I={proxyUrl:I.proxyUrl,urlPrefix:r(I.urlPrefix)};const S=ca.proxyRules,X=I.urlPrefix;let na=S.length;for(let va=0;va<S.length;va++){const Ea=S[va].urlPrefix;if(0===X.indexOf(Ea)){if(X.length===Ea.length)return-1;na=va;break}0===Ea.indexOf(X)&&(na=va+1)}S.splice(na,0,I);return na};a.addQueryParameter=function(I,S,X){I=h(I);const na=I.query||{};na[S]=String(X);return`${I.path}?${m(na)}`};
a.addQueryParameters=function(I,S){if(!S)return I;I=h(I);const X=I.query||{};for(const [na,va]of Object.entries(S))null!=va&&(X[na]=va);return(S=m(X))?`${I.path}?${S}`:I.path};a.base64UrlEncode=function(I){return k.arrayBufferToBase64(I).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")};a.blobUrlToBlob=async function(I){return(await fetch(I)).blob()};a.changeDomain=function(I,S,X){if(!(S&&X&&I&&t(I)))return I;const na=I.indexOf("//");var va=I.indexOf("/",na+2);const Ea=I.indexOf(":",na+2);
va=Math.min(0>va?I.length:va,0>Ea?I.length:Ea);if(I.slice(na+2,va).toLowerCase()!==S.toLowerCase())return I;S=I.slice(0,na+2);I=I.slice(va);return`${S}${X}${I}`};a.dataComponents=D;a.dataToArrayBuffer=A;a.dataToBlob=E;a.downloadBlobAsFile=function(I,S){J(I,S)};a.downloadDataAsFile=function(I,S){(I=E(I))&&J(I,S)};a.ensureTrailingSlash=R;a.getAppBaseUrl=()=>ka;a.getAppUrl=()=>Q;a.getFilename=function(I,S){if(!I)return"";I=h(I).path.replace(/\/+$/,"");I=I.substring(I.lastIndexOf("/")+1);if(!S?.length)return I;
S=new RegExp(`.(${S.join("|")})$`,"ig");return I.replace(S,"")};a.getInterceptor=function(I){const S=na=>null==na||na instanceof RegExp&&na.test(I)||"string"===typeof na&&I.startsWith(na),X=ca.interceptors;if(X)for(const na of X)if(Array.isArray(na.urls)){if(na.urls.some(S))return na}else if(S(na.urls))return na;return null};a.getOrigin=z;a.getPathExtension=function(I){return null==I?null:(I=I.match(ea))?I[2]:null};a.getProxyRule=e;a.getProxyUrl=function(I=!1){let S,X=ca.proxyUrl;if("string"===typeof I){if(S=
M(I),I=e(I))X=I.proxyUrl}else S=!!I;if(!X)throw q.getLogger("esri.core.urlUtils").warn("esri/config: esriConfig.request.proxyUrl is not set."),new f("urlUtils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");S&&K()&&(X=N(X));return h(X)};a.hasProtocol=G;a.hasSameCanonicalArcGISOnlinePortal=function(I,S){if(!I||!S)return!1;I=g(I);S=g(S);I=n.parseKnownArcGISOnlineDomain(I);S=n.parseKnownArcGISOnlineDomain(S);return null!=I&&null!=S?I.portalHostname===S.portalHostname:!1};a.hasSameCanonicalPortal=
function(I,S){if(!I||!S)return!1;I=g(I);S=g(S);const X=n.parseKnownArcGISOnlineDomain(I),na=n.parseKnownArcGISOnlineDomain(S);return null!=X&&null!=na?X.portalHostname===na.portalHostname:null!=X||null!=na?!1:p(I,S,!0)};a.hasSameOrigin=p;a.hasSamePortal=function(I,S){I=g(I);S=g(S);return O(I)===O(S)};a.isAbsolute=t;a.isAppHTTPS=K;a.isBlobProtocol=y;a.isDataProtocol=B;a.isHTTPSProtocol=M;a.isProtocolRelative=F;a.isSVG=function(I){return ia.test(I)};a.isTrustedServer=function(I){if("string"===typeof I)if(t(I))I=
ma(I);else return!0;if(p(I,Q))return!0;const S=ca.trustedServers||[];for(let na=0;na<S.length;na++){var X=S[na];sa[X]||(G(X)||F(X)?sa[X]=[new ja(v(X))]:sa[X]=[new ja(`http://${X}`),new ja(`https://${X}`)]);X=sa[X];for(let va=0;va<X.length;va++)if(p(I,X[va]))return!0}return!1};a.join=x;a.makeAbsolute=v;a.makeData=function(I){return I.isBase64?`data:${I.mediaType};base64,${I.data}`:`data:${I.mediaType},${I.data}`};a.makeRelative=function(I,S=ka,X){if(null==I||!t(I))return I;var na=u(I),va=na.toLowerCase();
S=u(S).toLowerCase().replace(/\/+$/,"");if((X=X?u(X).toLowerCase().replace(/\/+$/,""):null)&&0!==S.indexOf(X))return I;const Ea=(ra,Ca,Da)=>{Da=ra.indexOf(Ca,Da);return-1===Da?ra.length:Da};let da=Ea(va,"/",va.indexOf("//")+2),pa=-1;for(;va.slice(0,da+1)===S.slice(0,da)+"/";){pa=da+1;if(da===va.length)break;da=Ea(va,"/",da+1)}if(-1===pa||X&&pa<X.length)return I;I=na.slice(pa);na=S.slice(pa-1).replaceAll(/[^/]+/g,"").length;if(0<na)for(va=0;va<na;va++)I=`../${I}`;else I=`./${I}`;return I};a.normalize=
u;a.objectToQuery=m;a.parseData=async function(I){return"string"===typeof I?D(I)??{data:I}:new Promise((S,X)=>{const na=new FileReader;na.readAsDataURL(I);na.onload=()=>S(D(na.result));na.onerror=va=>X(va)})};a.queryToObject=l;a.removeFile=function(I){let S=0;if(t(I)){var X=I.indexOf("//");-1!==X&&(S=X+2)}X=I.lastIndexOf("/");return X<S?I:I.slice(0,X+1)};a.removeQueryParameter=function(I,S){const {path:X,query:na}=h(I);if(!na)return I;delete na[S];return(I=m(na))?`${X}?${I}`:X};a.removeQueryParameters=
function(I,S){I=h(I);const X=Object.keys(I.query||{});0<X.length&&S&&S.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${X.join(", ")}.`);return I.path};a.removeTrailingSlash=function(I){return I.replace(/\/+$/,"")};a.splitPathExtension=function(I){if(null==I)return null;const S=I.match(ea);return S?{path:S[1],extension:S[2]}:{path:I,extension:null}};a.test={setAppUrl:I=>Q=I,setAppBaseUrl:I=>ka=I,restoreUrls:()=>{Q=H;ka=fa}};a.toHTTP=
function(I){return F(I)?`http:${I}`:I.replace(Ma,"http:")};a.toHTTPS=N;a.trustedServersUrlCache=sa;a.urlToObject=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["./lang","./Logger","./Message"],function(a,b,d){class f extends d{constructor(c,q,n){super(c,q,n)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(c,q)=>{if(q&&"object"===typeof q&&"function"===typeof q.toJSON)return q;
try{return a.clone(q)}catch(n){return"[object]"}}))}}catch(c){throw b.getLogger("esri.core.Error").error(c),c;}return{name:this.name,message:this.message,details:this.details}}static fromJSON(c){return new f(c.name,c.message,c.details)}}f.prototype.type="error";return f})},"esri/core/Logger":function(){define(["../config","./has","./string"],function(a,b,d){const f={info:0,warn:1,error:2,none:3};class c{constructor(q){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages=
{error:new Map,warn:new Map,info:new Map};null!=q.level&&(this.level=q.level);null!=q.writer&&(this.writer=q.writer);this._module=q.module;c._loggers.set(this.module,this);q=this.module.lastIndexOf(".");-1!==q&&(this._parent=c.getLogger(this.module.slice(0,q)))}get module(){return this._module}get parent(){return this._parent}error(...q){this._log("error","always",...q)}warn(...q){this._log("warn","always",...q)}info(...q){this._log("info","always",...q)}errorOnce(...q){this._log("error","once",...q)}warnOnce(...q){this._log("warn",
"once",...q)}infoOnce(...q){this._log("info","once",...q)}errorOncePerTick(...q){this._log("error","oncePerTick",...q)}warnOncePerTick(...q){this._log("warn","oncePerTick",...q)}infoOncePerTick(...q){this._log("info","oncePerTick",...q)}get test(){const q=this;return{loggedMessages:q._loggedMessages,clearLoggedWarnings(){return q._loggedMessages.warn.clear()}}}static get test(){return{resetLoggers(q=new Map){const n=c._loggers;c._loggers=q;return n},set throttlingDisabled(q){c._throttlingDisabled=
q}}}static getLogger(q){q="string"!==typeof q?q.declaredClass:q;return c._loggers.get(q)||new c({module:q})}_log(q,n,...k){if(this._matchLevel(q)){if("always"!==n&&!c._throttlingDisabled){const h=this._argsToKey(k),l=this._loggedMessages[q].get(h);if("once"===n&&null!=l||"oncePerTick"===n&&l&&l>=c._tickCounter)return;this._loggedMessages[q].set(h,c._tickCounter);c._scheduleTickCounterIncrement()}for(const h of a.log.interceptors)if(h(q,this.module,...k))return;this._inheritedWriter()(q,this.module,
...k)}}_parentWithMember(q,n){let k=this;for(;null!=k;){const h=k[q];if(null!=h)return h;k=k.parent}return n}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(q,n,...k){console[q](`[${n}]`,...k)}_matchLevel(q){return f[this._parentWithMember("level",a.log.level||"warn")]<=f[q]}_argsToKey(...q){return d.numericHash(JSON.stringify(q,(n,k)=>"object"!==typeof k||Array.isArray(k)?k:"[Object]"))}static _scheduleTickCounterIncrement(){c._tickCounterScheduled||
(c._tickCounterScheduled=!0,Promise.resolve().then(()=>{c._tickCounter++;c._tickCounterScheduled=!1}))}}c._loggers=new Map;c._tickCounter=0;c._tickCounterScheduled=!1;c._throttlingDisabled=!1;return c})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function d(c){return null==c?"":c}const f=/\{([^\}]+)\}/g;a.escapeRegExpString=function(c,q){return c.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,n=>q&&q.includes(n)?n:`\\${n}`)};a.numericHash=function(c){let q=0;for(let n=
0;n<c.length;n++)q=(q<<5)-q+c.charCodeAt(n),q|=0;return q};a.replace=function(c,q){return q?c.replaceAll(f,"object"===typeof q?(n,k)=>d(b.getDeepValue(k,q)):(n,k)=>d(q(k))):c};a.stripHTML=function(c){return(new DOMParser).parseFromString(c||"","text/html").body.innerText||""};a.templateHasKey=function(c,q){return(new RegExp(`{${q}}`,"ig")).test(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Message":function(){define(["./object"],function(a){function b(f,c){return f.replaceAll(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,
(q,n)=>{if(""===n)return"$";q=a.getDeepValue(n,c);return(null==q?"":q).toString()})}class d{constructor(f,c,q){this.name=f;this.details=q;this.message=(c&&b(c,q))??""}toString(){return"["+this.name+"]: "+this.message}}return d})},"esri/core/JSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h){const l=m=>{m=class extends m{constructor(...w){super(...w);w=n.getProperties(this);const r=w.store,e=new f.DefaultsStore;w.store=e;c.setupConstructedDefaults(w,r,e)}read(w,r){q.read(this,w,r)}write(w,r){return k.write(this,w??{},r)}toJSON(w){return this.write({},w)}static fromJSON(w,r){if(w){if(w.declaredClass)throw Error("JSON object is already hydrated");var e=new this;e.read(w,r);w=e}else w=null;return w}};m=b.__decorate([h.subclass("esri.core.JSONSupport")],m);m.prototype.toJSON.isDefaultToJSON=
!0;return m};a.JSONSupport=class extends l(d){};a.JSONSupport=b.__decorate([h.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=l;a.isSerializable=function(m){return m&&"object"===typeof m&&"toJSON"in m&&"function"===typeof m.toJSON};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Accessor":function(){define("./deprecate ./Handles ./Logger ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/interfaces ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e){function g(t){if(null==t)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case "object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case "boolean":return{type:Boolean,value:t};case "string":return{type:String,value:t};case "number":return{type:Number,value:t};case "function":return{type:t,value:null}}}const p=Symbol("Accessor-Handles"),v=Symbol("Accessor-Initialized");class u{static createSubclass(t=
{}){if(Array.isArray(t))throw Error("Multi-inheritance unsupported since 4.16");const {properties:y,declaredClass:B,constructor:A}=t;delete t.declaredClass;delete t.properties;delete t.constructor;const D=this;class E extends D{constructor(...J){super(...J);this.inherited=null;A&&A.apply(this,J)}}k.getPropertiesMetadata(E.prototype);for(const J in t){const F=t[J];E.prototype[J]="function"===typeof F?function(...G){const M=this.inherited;this.inherited=function(...T){if(D.prototype[J])return D.prototype[J].apply(this,
T)};let L=void 0;try{L=F.apply(this,G)}catch(T){throw this.inherited=M,T;}this.inherited=M;return L}:t[J]}for(const J in y)t=g(y[J]),r.property(t)(E.prototype,J);return e.subclass(B)(E)}constructor(...t){this[x]=null;this[z]=!1;if(this.constructor===u)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const y=new h(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:y});0<t.length&&this.normalizeCtorArgs&&(y.ctorArgs=this.normalizeCtorArgs.apply(this,
t));m.getAccessorInterceptor()?.onInstanceConstruct(this)}postscript(t){const y=this.__accessor__;t=y.ctorArgs||t;y.initialize();t&&(this.set(t),y.ctorArgs=null);y.constructed();this.initialize();this[v]=!0}initialize(){}[c.beforeDestroySymbol](){this[p]=f.destroyMaybe(this[p])}destroy(){this.destroyed||(w.removeTarget(this),this.__accessor__.destroy(),m.getAccessorInterceptor()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||
!1}get initialized(){return this[v]}get destroyed(){return this.__accessor__?.lifecycle===n.Lifecycle.DESTROYED||!1}commitProperty(t){q.get(this,t)}get(t){a.deprecatedFunction(d.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"});return q.get(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,
t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,y){l.set(this,t,y);return this}watch(t,y,B){return w.watch(this,t,y,B)}addHandles(t,y){if(this.destroyed){t=Array.isArray(t)?t:[t];for(var B of t)B.remove()}else B=this[p],null==B&&(B=this[p]=new b),B.add(t,y)}removeHandles(t){const y=this[p];null!=y&&y.remove(t)}removeAllHandles(){const t=this[p];null!=t&&t.removeAll()}hasHandles(t){const y=this[p];return null!=y?y.has(t):!1}_override(t,y){void 0===y?this.__accessor__.clearOverride(t):
this.__accessor__.override(t,y)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,y){null==y?this.__accessor__.clearOverride(t):this.__accessor__.override(t,y)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,y){this.__accessor__.internalSet(t,y);return this}}var x=p;var z=v;return u})},"esri/core/deprecate":function(){define(["exports","./has"],function(a,
b){function d(q,n,k=!1){const h=`\ud83d\uded1 DEPRECATED - ${n}`;k?(k=c.get(q),k||(k=new Set,c.set(q,k)),k.has(n)||(k.add(n),q.warn(h))):q.warn(h)}function f(q,n,k={}){if(b("esri-deprecation-warnings")){const {replacement:h,version:l,see:m,warnOnce:w}=k;h&&(n+=`\n\t\ud83d\udee0\ufe0f Replacement: ${h}`);l&&(n+=`\n\t\u2699\ufe0f Version: ${l}`);m&&(n+=`\n\t\ud83d\udd17 See ${m} for more details.`);d(q,n,w)}}const c=new WeakMap;a.deprecated=f;a.deprecatedFunction=function(q,n,k={}){if(b("esri-deprecation-warnings")){const {moduleName:h}=
k;f(q,`Function: ${(h?h+"::":"")+n+"()"}`,k)}};a.deprecatedModule=function(q,n,k={}){b("esri-deprecation-warnings")&&f(q,`Module: ${n}`,k)};a.deprecatedProperty=function(q,n,k={}){if(b("esri-deprecation-warnings")){const {moduleName:h}=k;f(q,`Property: ${(h?h+"::":"")+n}`,k)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Handles":function(){define(["./iteratorUtils"],function(a){class b{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let d=0;
this._groups.forEach(f=>{d+=f.length});return d}add(d,f){if(a.isIterable(d)){f=this._getOrCreateGroup(f);for(const c of d)this._isHandle(c)&&f.push(c)}else this._isHandle(d)&&this._getOrCreateGroup(f).push(d);return this}forEach(d,f){if("function"===typeof d)this._groups.forEach(c=>c.forEach(d));else{const c=this._getGroup(d);c&&f&&c.forEach(f)}}has(d){return this._groups.has(this._ensureGroupKey(d))}remove(d){if("string"!==typeof d&&a.isIterable(d)){for(const f of d)this.remove(f);return this}if(!this.has(d))return this;
this._removeAllFromGroup(this._getGroup(d));this._groups.delete(this._ensureGroupKey(d));return this}removeAll(){this._groups.forEach(d=>this._removeAllFromGroup(d));this._groups.clear();return this}_isHandle(d){return d&&(!!d.remove||d instanceof b)}_getOrCreateGroup(d){if(this.has(d))return this._getGroup(d);const f=[];this._groups.set(this._ensureGroupKey(d),f);return f}_getGroup(d){return this._groups.get(this._ensureGroupKey(d))}_ensureGroupKey(d){return d||"_default_"}_removeAllFromGroup(d){for(const f of d)f instanceof
b?f.removeAll():f.remove()}}return b})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const d=[];return function*(){yield*d;for(const f of b)d.push(f),yield f}};a.find=function(b,d){for(const f of b)if(null!=f&&d(f))return f};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(a){a.abortMaybe=function(b){b?.abort();
return null};a.assertIsSome=function(b,d){if(null==b)throw Error(d??"value is None");};a.destroyMaybe=function(b){b?.destroy();return null};a.disposeMaybe=function(b){b?.dispose();return null};a.equalsMaybe=function(b,d,f){return null!=b&&null!=d?null!=f?f(b,d):b.equals(d):b===d};a.mappedFind=function(b,d){let f=void 0;b.some((c,q)=>{f=d(c,q);return null!=f});return f??void 0};a.maybeProperty=function(b,d){return b?.[d]};a.releaseMaybe=function(b){b?.release();return null};a.removeMaybe=function(b){b?.remove();
return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(a){const b=Symbol("Accessor-beforeDestroy");a.beforeDestroySymbol=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function d(q,n){q="?"===q[q.length-1]?q.slice(0,-1):q;if(null!=n.getItemAt||Array.isArray(n)){var k=parseInt(q,10);if(!isNaN(k))return Array.isArray(n)?
n[k]:n.at(k)}k=b.getProperties(n);return b.isPropertyDeclared(k,q)?k.get(q):n[q]}function f(q,n,k){if(null==q)return q;if((q=d(n[k],q))||!(k<n.length-1))return k===n.length-1?q:f(q,n,k+1)}function c(q,n,k=0){return"string"!==typeof n||n.includes(".")?f(q,b.pathToArray(n),k):d(n,q)}a.exists=function(q,n){return void 0!==c(n,q)};a.get=function(q,n){return c(q,n)};a.valueOf=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports",
"../handleUtils","../lang"],function(a,b,d){function f(h){return h.__accessor__??null}function c(h,l,m){return l?Object.keys(l).reduce((w,r)=>{let e=null;var g="merge";m&&(e=m.path?`${m.path}.${r}`:r,g=m.policy(e));if("replace"===g||"replace-arrays"===g&&Array.isArray(w[r]))return w[r]=l[r],w;if(void 0===w[r])return w[r]=d.clone(l[r]),w;let p=w[r];g=l[r];if(p===g)return w;if(Array.isArray(g)||Array.isArray(w))p=p?Array.isArray(p)?w[r]=p.concat():w[r]=[p]:w[r]=[],g&&(Array.isArray(g)||(g=[g]),g.forEach(v=>
{p.includes(v)||p.push(v)}));else if(g&&"object"===typeof g)if(m){const v=m.path;m.path=e;w[r]=c(p,g,m);m.path=v}else w[r]=c(p,g,null);else if(!w.hasOwnProperty(r)||l.hasOwnProperty(r))w[r]=g;return w},h||{}):h}function q(h){return Array.isArray(h)?h:h.split(".")}function n(h){return h.includes(",")?h.split(",").map(l=>l.trim()):[h.trim()]}function k(h){if(Array.isArray(h)){const l=[];for(const m of h)l.push(...n(m));return l}return n(h)}a.getDependsInfo=function(h,l){const m=f(h);return m?m.getDependsInfo(h,
l,""):""};a.getProperties=f;a.isPropertyDeclared=function(h,l){return null!=h?.metadata?.[l]};a.merge=function(h,l,m){return m?c(h,l,{policy:m,path:""}):c(h,l,null)};a.parse=function(h,l,m,w){l=k(l);return 1!==l.length?(l=l.map(r=>w(h,r,m)),b.handlesGroup(l)):w(h,l[0],m)};a.parseConditionalPath=function(h){if(!h.includes("?"))return null;h=q(h);const l=Array(h.length);for(let m=0;m<h.length;m++){const w=h[m];l[m]="?"===w[w.length-1];l[m]&&(h[m]=w.slice(0,-1))}return{fullPath:h.join("."),conditional:l}};
a.pathToArray=q;a.pathToStringOrArray=function(h){return!h||"string"===typeof h&&!h.includes(".")?h:q(h)};a.splitPath=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports"],function(a){function b(c){return c?{remove(){c&&(c(),c=void 0)}}:f}function d(c){c.forEach(q=>q?.remove())}const f={remove:()=>{}};a.abortHandle=function(c){return b(()=>c?.abort())};a.asyncHandle=function(c,q){let n=!1,k=null;c.then(h=>{n?h.remove():k=h});return b(()=>
{n=!0;null!=k?k.remove():null!=q&&(q.abort(),q=null)})};a.destroyHandle=function(c){return b(null!=c?()=>c.destroy():void 0)};a.disposable=function(c){return{[Symbol.dispose](){c.remove()}}};a.handlesGroup=function(c){return b(()=>d(c))};a.makeHandle=b;a.refHandle=function(c){return b(()=>c()?.remove())};a.removeHandles=d;a.timeoutHandle=function(c,q){const n=setTimeout(c,q);return b(()=>clearTimeout(n))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],
function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";b[b.DESTROYED=3]="DESTROYED";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],function(a,b,d){function f(n){let k=n.constructor.__accessorMetadata__;const h=Object.prototype.hasOwnProperty.call(n.constructor,"__accessorMetadata__");
if(!k)k={},Object.defineProperty(n.constructor,"__accessorMetadata__",{value:k,enumerable:!1,configurable:!0,writable:!0});else if(!h){k=Object.create(k);for(const l in k)k[l]=b.clone(k[l]);Object.defineProperty(n.constructor,"__accessorMetadata__",{value:k,enumerable:!1,configurable:!0,writable:!0})}return n.constructor.__accessorMetadata__}function c(n){return q.test(n)?"replace":"merge"}const q=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=f;a.getPropertyMetadata=
function(n,k){n=f(n);let h=n[k];h||=n[k]={};return h};a.mergeProperty=function(n,k){return d.merge(n,k,c)};a.setPropertyMetadata=function(n,k,h){f(n)[k]=h};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./tracking/Flags".split(" "),function(a,b,d,f,c,q,n,k,h,l){class m{constructor(e){this.host=e;this.propertiesByName=new Map;
this.ctorArgs=null;this.lifecycle=c.Lifecycle.INITIALIZING;this.store=new k.Store;this._origin=n.OriginId.USER;e=this.host.constructor.__accessorMetadata__;for(const g in e){const p=new q.Property(g,e[g]);this.propertiesByName.set(g,p)}this.metadata=e}initialize(){this.lifecycle=c.Lifecycle.CONSTRUCTING}constructed(){this.lifecycle=c.Lifecycle.CONSTRUCTED}destroy(){this.lifecycle=c.Lifecycle.DESTROYED;this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==c.Lifecycle.INITIALIZING}get(e){const g=
this.propertiesByName.get(e);if(g.metadata.get)return g.getComputed(this);h.trackAccess(g);const p=this.store;return p.has(e)?p.get(e):g.metadata.value}originOf(e){const g=this.store.originOf(e);return void 0===g&&(e=this.propertiesByName.get(e),void 0!==e&&e.flags&l.Flags.HasDefaultValue)?"defaults":n.idToName(g)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const g=this.propertiesByName.get(e);if(void 0!==g)return this.store.has(e)?
this.store.get(e):g.metadata.value}internalSet(e,g){e=this.propertiesByName.get(e);void 0!==e&&this._internalSet(e,g)}getDependsInfo(e,g,p){const v=this.propertiesByName.get(g);if(void 0===v)return"";const u=new Set,x=h.runTracked({onObservableAccessed:t=>u.add(t),onTrackingEnd:()=>{}},()=>v.metadata.get?.call(e)),z=e.declaredClass.split(".").pop();g=`${p}${z}.${g}: ${x}\n`;if(0===u.size)return g;p+="  ";for(const t of u)t instanceof q.Property&&(g+=`${p}${t.propertyName}: undefined\n`);return g}setAtOrigin(e,
g,p){e=this.propertiesByName.get(e);if(void 0!==e)return this._setAtOrigin(e,g,p)}isOverridden(e){e=this.propertiesByName.get(e);return void 0!==e&&!!(e.flags&l.Flags.Overridden)}clearOverride(e){(e=this.propertiesByName.get(e))&&e.flags&l.Flags.Overridden&&(e.flags&=~l.Flags.Overridden,e.notifyChange())}override(e,g){e=this.propertiesByName.get(e);if(!(void 0===e||null==g&&e.flags&l.Flags.NonNullable)){var p=e.metadata.cast;if(p){g=this._cast(p,g);const {valid:v,value:u}=g;r.release(g);if(!v)return;
g=u}e.flags|=l.Flags.Overridden;this._internalSet(e,g)}}set(e,g){e=this.propertiesByName.get(e);if(!(void 0===e||null==g&&e.flags&l.Flags.NonNullable)){var p=e.metadata.cast;if(p){g=this._cast(p,g);const {valid:v,value:u}=g;r.release(g);if(!v)return;g=u}(p=e.metadata.set)?p.call(this.host,g):this._internalSet(e,g)}}setDefaultOrigin(e){this._origin=n.nameToId(e)}getDefaultOrigin(){return n.idToName(this._origin)}notifyChange(e){e=this.propertiesByName.get(e);void 0!==e&&e.notifyChange()}invalidate(e){e=
this.propertiesByName.get(e);void 0!==e&&e.invalidate()}commit(e){e=this.propertiesByName.get(e);void 0!==e&&e.commit()}_internalSet(e,g){this._setAtOrigin(e,g,this.lifecycle!==c.Lifecycle.INITIALIZING?this._origin:n.OriginId.DEFAULTS)}_setAtOrigin(e,g,p){const v=this.store,u=e.propertyName;v.has(u,p)&&b.equals(g,v.get(u))&&~e.flags&l.Flags.Overridden&&p===v.originOf(u)||(e.invalidate(),v.set(u,g,p),e.commit(),h.initializeDependencyTracking(this.host,e))}_cast(e,g){const p=r.acquire();p.valid=!0;
p.value=g;e&&(p.value=e.call(this.host,g,p));return p}}class w{constructor(){this.value=null;this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const r=new f(w);return m})},"esri/core/ObjectPool":function(){define(function(){class a{constructor(b,d,f,c=1,q=0){this._ctor=b;this._acquireFunction=d;this._releaseFunction=f;this.allocationSize=c;this._pool=Array(q);this._initialSize=q;if(this._ctor)for(b=0;b<q;b++)this._pool[b]=new this._ctor;this.allocationSize=Math.max(c,1)}destroy(){this.prune(0)}acquire(...b){if(a.test.disabled)var d=
new this._ctor;else{if(0===this._pool.length){d=this.allocationSize;for(let f=0;f<d;f++)this._pool[f]=new this._ctor}d=this._pool.pop()}this._acquireFunction?this._acquireFunction(d,...b):d?.acquire&&"function"===typeof d.acquire&&d.acquire(...b);return d}release(b){b&&!a.test.disabled&&(this._releaseFunction?this._releaseFunction(b):b?.release&&"function"===typeof b.release&&b.release(),this._pool.push(b))}prune(b=this._initialSize){if(!(b>=this._pool.length)){for(let d=b;d<this._pool.length;++d)this._dispose(this._pool[d]);
this._pool.length=b}}_dispose(b){b.dispose&&"function"===typeof b.dispose&&b.dispose()}}a.test={disabled:!1};return a})},"esri/core/accessorSupport/Property":function(){define(["exports","./ObservableBase","./PropertyOrigin","./tracking","./tracking/Flags"],function(a,b,d,f,c){class q extends b.ObservableBase{constructor(n,k){super();this.propertyName=n;this.metadata=k;this._handles=this._accessed=null;this.flags=0;this.flags=c.Flags.Dirty|(k.nonNullable?c.Flags.NonNullable:0)|(k.hasOwnProperty("value")?
c.Flags.HasDefaultValue:0)|(void 0===k.get?c.Flags.DepTrackingInitialized:0)|(void 0===k.dependsOn?c.Flags.AutoTracked:0)}destroy(){if(this.flags&c.Flags.Dirty)this.onCommitted();super.destroy();this._accessed=null;this._clearObservationHandles()}getComputed(n){f.trackAccess(this);var k=n.store;const h=this.propertyName;var l=this.flags;const m=k.get(h);if(l&c.Flags.Computing||~l&c.Flags.Dirty&&k.has(h))return m;this.flags|=c.Flags.Computing;n=n.host;l&c.Flags.AutoTracked?l=f.runTracked(this,this.metadata.get,
n):(f.trackExplicitDependencies(n,this),l=this.metadata.get.call(n));k.set(h,l,d.OriginId.COMPUTED);k=k.get(h);k===m?this.flags&=~c.Flags.Dirty:f.runUntracked(this.commit,this);this.flags&=~c.Flags.Computing;return k}onObservableAccessed(n){if(n!==this){var k=this._accessed;if(null==k)this._accessed=k=[];else if(k.includes(n))return;k.push(n)}}onTrackingEnd(){this._clearObservationHandles();this.flags|=c.Flags.DepTrackingInitialized;const n=this._accessed;if(null!=n&&0!==n.length){var k=this._handles;
null==k&&(this._handles=k=[]);for(let h=0;h<n.length;++h)k.push(n[h].observe(this));n.length=0}}notifyChange(){this.onInvalidated();this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~c.Flags.Dirty;this.onCommitted()}_clearObservationHandles(){const n=this._handles;if(null!==n){for(let k=0;k<n.length;++k)n[k].remove();n.length=0}}onInvalidated(){~this.flags&c.Flags.Overridden&&(this.flags|=c.Flags.Dirty);const n=this._observers;if(n&&0<n.length)for(const k of n)k.onInvalidated()}onCommitted(){var n=
this._observers;if(n&&0<n.length){n=n.slice();for(const k of n)k.onCommitted()}}}a.Property=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../handleUtils","./tracking/ObservationHandle"],function(a,b,d){class f{constructor(){this._observers=null;this.destroyed=!1}observe(q){if(this.destroyed||q.destroyed)return c;null==this._observers&&(this._observers=[]);const n=this._observers;let k=!1,h=!1;const l=n.length;
for(let m=0;m<l;++m){const w=n[m];if(w.destroyed)h=!0;else if(w===q){k=!0;break}}k||(n.push(q),h&&this._removeDestroyedObservers());return new d.ObservationHandle(n,q)}_removeDestroyedObservers(){const q=this._observers;if(q&&0!==q.length){var n=q.length,k=0;for(let h=0;h<n;++h){for(;h+k<n;)if(q[h+k].destroyed)++k;else break;if(0<k)if(h+k<n)q[h]=q[h+k];else break}q.length=n-k}}destroy(){if(!this.destroyed){this.destroyed=!0;var q=this._observers;if(null!=q){for(const n of q)n.onCommitted();this._observers=
null}}}}const c=b.makeHandle();a.ObservableBase=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(a,b){class d{constructor(f,c){this._observers=f;this._observer=c}remove(){b.remove(this._observers,this._observer)}}a.ObservationHandle=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports"],
function(a){function b(c){switch(c){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "link-chart":return a.OriginId.LINK_CHART;case "user":return a.OriginId.USER;default:return null}}function d(c){switch(c){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";
case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.LINK_CHART:return"link-chart";case a.OriginId.USER:return"user"}}a.OriginId=void 0;(function(c){c[c.DEFAULTS=0]="DEFAULTS";c[c.COMPUTED=1]="COMPUTED";c[c.SERVICE=2]="SERVICE";c[c.PORTAL_ITEM=3]="PORTAL_ITEM";c[c.WEB_SCENE=4]="WEB_SCENE";c[c.WEB_MAP=5]="WEB_MAP";c[c.LINK_CHART=6]="LINK_CHART";c[c.USER=7]="USER"})(a.OriginId||(a.OriginId={}));const f=a.OriginId.USER+1;a.idToName=d;a.idToReadableName=
function(c){return d(c)};a.idToWritableName=function(c){return d(c)};a.nameToId=b;a.originIdNum=f;a.readableNameToId=function(c){return b(c)};a.writableNameToId=function(c){return b(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags"],function(a,b,d,f,c){function q(x){g.onObservableAccessed(x)}function n(x,z,t){if(p)return k(x,z,t);g=x;e.push(x);x=z.call(t);h();return x}
function k(x,z,t){const y=p;p=!0;g=x;e.push(x);x=null;try{x=z.call(t)}catch(B){v&&d.getLogger("esri.core.accessorSupport.tracking").error(B)}h();p=y;return x}function h(){var x=e.length;if(1<x){const z=e.pop();g=e[x-2];z.onTrackingEnd()}else 1===x?(x=e.pop(),g=r,x.onTrackingEnd()):g=r}function l(x,z){if(!(z.flags&c.Flags.DepTrackingInitialized)){var t=v;v=!1;z.flags&c.Flags.AutoTracked?k(z,z.metadata.get,x):m(x,z);v=t}}function m(x,z){z.flags&c.Flags.ExplicitlyTracking||(z.flags|=c.Flags.ExplicitlyTracking,
k(z,()=>{var t=z.metadata.dependsOn||u;for(const y of t)if("string"!==typeof y||y.includes(".")){t=f.pathToArray(y);for(let B=0,A=x;B<t.length&&null!=A&&"object"===typeof A;++B)A=w(A,t[B],B!==t.length-1)}else w(x,y,!1)}),z.flags&=~c.Flags.ExplicitlyTracking)}function w(x,z,t){z="?"===z[z.length-1]?z.slice(0,-1):z;if(null!=x.getItemAt||Array.isArray(x)){var y=parseInt(z,10);if(!isNaN(y))return Array.isArray(x)?x[y]:x.at(y)}if(y=f.getProperties(x))if(y=y.propertiesByName.get(z))q(y),l(x,y);return t?
x[z]:void 0}const r={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},e=[];let g=r,p=!1,v=!1;const u=[];a.initializeDependencyTracking=l;a.runTracked=n;a.runTrackedNoThrow=k;a.runUntracked=function(x,z){return n(r,x,z)};a.trackAccess=q;a.trackExplicitDependencies=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overridden=2]="Overridden";
b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,d){class f{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(c){const q=
new f;this._values.forEach((n,k)=>{c&&c.has(k)||q.set(k,b.clone(n))});return q}get(c){return this._values.get(c)}originOf(){return d.OriginId.USER}keys(){return[...this._values.keys()]}set(c,q){this._values.set(c,q)}delete(c){this._values.delete(c)}has(c){return this._values.has(c)}forEach(c){this._values.forEach(c)}}a.Store=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,
b,d,f,c){function q(n,k,h){if(n&&k)if("object"===typeof k)for(var l of Object.getOwnPropertyNames(k))q(n,l,k[l]);else if(k.includes("."))k=k.split("."),l=k.splice(-1,1)[0],q(c.get(n,k),l,h);else{l=n.__accessor__;if(null!=l&&d("esri-unknown-property-errors")&&null==l.metadata[k])throw new b("set:unknown-property","setting unknown property '"+k+"' on instance of "+l.host.declaredClass);n[k]=h}}a.set=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/testSupport":function(){define(["exports"],
function(a){let b;a.InterceptorCollectAction=void 0;(function(d){d[d.Ignore=0]="Ignore";d[d.Destroy=1]="Destroy";d[d.ThrowError=2]="ThrowError"})(a.InterceptorCollectAction||(a.InterceptorCollectAction={}));a.getAccessorInterceptor=function(){return b};a.setAccessorInterceptor=function(d){b=d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../handleUtils ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./interfaces ./trackingUtils ./utils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){function r(J){A.delete(J);A.add(J);D||=q.schedule(g)}function e(J){if(!J.removed){var F=J.oldValue,G=J.getValue();J.equals(F,G)||(J.oldValue=G,J.notify(G,F))}}function g(){let J=10;for(;D&&J--;){D=null;const F=p(),G=B.acquire();for(const M of F){const L=M.uid;e(M);L===M.uid&&M.removed&&G.push(M)}for(const M of A)M.removed&&(G.push(M),A.delete(M));for(const M of G)y.pool.release(M);B.release(G);B.release(F);E.forEach(M=>M())}}function p(){const J=B.acquire();J.length=
A.size;let F=0;for(const G of A)J[F]=G,++F;A.clear();return J}function v(J,F,G){let M=w.parse(J,F,G,(L,T,N)=>{let K,O,R=m.reactionDeferred(()=>h.valueOf(L,T),(V,ma)=>{L.__accessor__?.lifecycle===l.Lifecycle.DESTROYED||K&&K.uid!==O?M.remove():(K||(K=y.acquireUntracked(V,N,ma,L,T),O=K.uid),r(K))});return d.makeHandle(()=>{R.remove();K&&(K.uid!==O||K.removed||(K.removed=!0,r(K)),K=null);M=R=null})});return M}function u(J,F,G){const M=w.parse(J,F,G,(L,T,N)=>{let K=!1;return m.reaction(()=>h.valueOf(L,
T),(O,R)=>{L.__accessor__.lifecycle===l.Lifecycle.DESTROYED?M.remove():K||(K=!0,f.equals(R,O)||N.call(L,O,R,T,L),K=!1)})});return M}function x(J,F,G){let M,L,T=m.reactionDeferred(J,(N,K)=>{M&&M.uid!==L?T.remove():(M||(M=y.acquireTracked(N,F,K,G),L=M.uid),r(M))});return d.makeHandle(()=>{T.remove();M&&(M.uid!==L||M.removed||(M.removed=!0,r(M)),M=null);T=null})}function z(J,F,G){let M=!1;return m.reaction(J,(L,T)=>{M||(M=!0,G(T,L)||F(L,T),M=!1)})}var t;(function(J){J[J.Untracked=0]="Untracked";J[J.Tracked=
1]="Tracked"})(t||={});class y{constructor(){this.uid=k.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}static acquireUntracked(J,F,G,M,L){return this.pool.acquire(t.Untracked,J,F,G,M,L,f.equals)}static acquireTracked(J,F,G,M){return this.pool.acquire(t.Tracked,J,F,G,null,null,M)}notify(J,F){this.type===t.Untracked?this.callback.call(this.target,J,F,this.path,this.target):this.callback.call(null,J,F,void 0,void 0)}acquire(J,
F,G,M,L,T,N){this.uid=k.generateUID();this.removed=!1;this.type=J;this.oldValue=F;this.callback=G;this.getValue=M;this.target=L;this.path=T;this.equals=N}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=k.generateUID();this.removed=!0}}y.pool=new c.ReentrantObjectPool(y);const B=new b,A=new Set;let D;const E=new Set;a.afterDispatch=function(J){E.add(J);return d.makeHandle(()=>E.delete(J))};a.dispatch=g;a.isValueInUse=function(J){return n.someSet(A,F=>F.oldValue===
J)};a.removeTarget=function(J){for(const F of A.values())F.target===J&&(F.removed=!0)};a.watch=function(J,F,G,M=!1){return J.__accessor__&&J.__accessor__.lifecycle!==l.Lifecycle.DESTROYED?M?u(J,F,G):v(J,F,G):d.makeHandle()};a.watchTracked=function(J,F,G=!1,M=f.equalsShallow){return G?z(J,F,M):x(J,F,M)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(c){c.length=0}class d{constructor(c=50,q=50){this._pool=
new a(Array,void 0,b,q,c)}acquire(){return this._pool.acquire()}release(c){this._pool.release(c)}prune(){this._pool.prune(0)}static acquire(){return f.acquire()}static release(c){return f.release(c)}static prune(){f.prune()}}const f=new d(100);return d})},"esri/core/ReentrantObjectPool":function(){define(["exports","./ObjectPool"],function(a,b){class d extends b{constructor(){super(...arguments);this._set=new Set}destroy(){super.destroy();this._set=null}acquire(...f){f=super.acquire(...f);this._set.delete(f);
return f}release(f){f&&!this._set.has(f)&&(super.release(f),this._set.add(f))}_dispose(f){this._set.delete(f);super._dispose(f)}}a.ReentrantObjectPool=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/scheduling":function(){define("exports ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,d,f,c,q){function n(F){F=new g(F);z.push(F);B.willDispatch||(B.willDispatch=!0,b.nextTick(m));return F}function k(F){F=new e(F);t.push(F);null==
A&&(p=performance.now(),A=requestAnimationFrame(h));return new y(F)}function h(){const F=performance.now();A=null;A=0<t.length?requestAnimationFrame(h):null;B.executeFrameTasks(F)}function l(){t.forAll(F=>{F.removed&&D.push(F)});t.removeUnorderedMany(D.data,D.length);D.clear()}function m(){for(;z.length;){const F=z.shift();F.isActive&&F.callback()}B.willDispatch=!1}function w(F=1,G){const M=c.createResolver(),L=()=>{c.isAborted(G)?M.reject(c.createAbortError()):0===F?M():(--F,b.nextTick(()=>L()))};
L();return M.promise}function r(F){return w(1,F)}class e{constructor(F){this.phases=F;this.paused=!1;this.ticks=-1;this.removed=!1}}class g{constructor(F){this.callback=F;this.isActive=!0}remove(){this.isActive=!1}}let p=0,v=0;const u={time:q.Milliseconds(0),deltaTime:q.Milliseconds(0),elapsedFrameTime:q.Milliseconds(0),frameDuration:q.Milliseconds(0)},x="prepare preRender render postRender update finish".split(" "),z=[],t=new f;class y{constructor(F){this._task=F}remove(){this._task.removed=!0}pause(){this._task.paused=
!0}resume(){this._task.paused=!1}}const B={frameTasks:t,willDispatch:!1,clearFrameTasks:function(F=!1){t.forAll(G=>{G.removed=!0});F&&l()},dispatch:m,executeFrameTasks:function(F){const G=q.Milliseconds(F-p);p=F;var M=0<v?v:1E3/60;const L=Math.max(0,G-M);u.time=F;u.frameDuration=q.Milliseconds(M-L);for(let T=0;T<x.length;T++){M=performance.now();const N=x[T];t.forAll(K=>{K.paused||K.removed||(0===T&&K.ticks++,K.phases[N]&&(u.elapsedFrameTime=q.Milliseconds(performance.now()-F),u.deltaTime=0===K.ticks?
q.Milliseconds(0):G,K.phases[N]?.call(K,u)))});E[T].record(performance.now()-M)}l();J.record(performance.now()-F)},reschedule:function(){null!=A&&(cancelAnimationFrame(A),A=requestAnimationFrame(h))}};let A=null;const D=new f,E=x.map(F=>new d(F)),J=new d("total");a.FrameTaskHandle=y;a.addFrameTask=k;a.debug=B;a.performanceInfo=E;a.performanceTotal=J;a.schedule=n;a.setFrameDuration=function(F){v=Math.max(0,F)};a.waitAnimationFrame=async function(){await r();await new Promise(F=>requestAnimationFrame(F))};
a.waitRender=function(){const F=c.createResolver(),G=k({postRender:()=>{G.remove();n(F)}});return F.promise};a.waitTick=r;a.waitTicks=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(d){b.push(d);1===b.length&&queueMicrotask(()=>{const f=b.slice();b.length=0;for(const c of f)c()})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(function(){class a{constructor(b,
d=30){this.name=b;this._counter=0;this._samples=Array(d)}record(b){null!=b&&(this._samples[++this._counter%this._samples.length]=b)}get median(){return this._samples.slice().sort((b,d)=>b-d)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((b,d)=>b+d,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}return a})},"esri/core/PooledArray":function(){define(["./arrayUtils","./HeapSort"],function(a,b){function d(c){c.data.length>1.5*
c.length&&(c.data.length=Math.floor(1.1*c.length))}class f{constructor(c){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new a.PositionHint;c&&(c.initialSize&&(this.data=Array(c.initialSize)),c.allocator&&(this._allocator=c.allocator),void 0!==c.deallocator&&(this._deallocator=c.deallocator),c.shrink&&(this._shrink=()=>d(this)))}toArray(){return this.data.slice(0,this.length)}filter(c){const q=[];for(let n=0;n<this._length;n++){const k=
this.data[n];c(k)&&q.push(k)}return q}at(c){c=Math.trunc(c)||0;0>c&&(c+=this._length);if(!(0>c||c>=this._length))return this.data[c]}includes(c,q){c=this.data.indexOf(c,q);return-1!==c&&c<this.length}get length(){return this._length}set length(c){if(c>this._length)if(this._allocator)for(;this._length<c;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=c;else{if(this._deallocator)for(let q=c;q<this._length;++q)this.data[q]=this._deallocator(this.data[q]);this._length=
c;this._shrink()}}clear(){this.length=0}prune(){this.clear();this.data=[]}push(c){this.data[this._length++]=c}pushArray(c,q=c.length){for(let n=0;n<q;n++)this.data[this._length++]=c[n]}fill(c,q){for(let n=0;n<q;n++)this.data[this._length++]=c}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const c=this.data[this._length];++this._length;return c}unshift(c){this.data.unshift(c);this._length++;d(this)}pop(){if(0!==this.length){var c=this.data[this.length-1];
--this.length;this._shrink();return c}}remove(c){const q=a.indexOf(this.data,c,this.length,this._hint);if(-1!==q)return this.data.splice(q,1),--this.length,c}removeUnordered(c){return this.removeUnorderedIndex(a.indexOf(this.data,c,this.length,this._hint))}removeUnorderedIndex(c){if(!(c>=this.length||0>c))return this.swapElements(c,this.length-1),this.pop()}removeUnorderedMany(c,q=c.length,n){this.length=a.removeUnorderedMany(this.data,c,this.length,q,this._hint,n);this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==
this.length)return this.data[this.length-1]}swapElements(c,q){if(!(c>=this.length||q>=this.length||c===q)){var n=this.data[c];this.data[c]=this.data[q];this.data[q]=n}}sort(c){b.sort(this.data,0,this.length,c)}iterableSort(c){return b.iterableSort(this.data,0,this.length,c)}some(c,q){for(let n=0;n<this.length;++n)if(c.call(q,this.data[n],n,this.data))return!0;return!1}find(c,q){for(let n=0;n<this.length;++n){const k=this.data[n];if(c.call(q,k,n))return k}}filterInPlace(c,q){let n=0;for(let k=0;k<
this._length;++k){const h=this.data[k];c.call(q,h,k,this.data)&&(this.data[k]=this.data[n],this.data[n]=h,n++)}if(this._deallocator)for(c=n;c<this._length;c++)this.data[c]=this._deallocator(this.data[c]);this._length=n;this._shrink();return this}forAll(c,q){const {data:n,length:k}=this;for(let h=0;h<k;++h)c.call(q,n[h],h,n)}forEach(c,q){this.data.slice(0,this.length).forEach(c,q)}map(c,q){const n=Array(this.length);for(let k=0;k<this.length;++k)n[k]=c.call(q,this.data[k],k,this.data);return n}reduce(c,
q){for(let n=0;n<this.length;++n)q=c(q,this.data[n],n,this.data);return q}has(c){const q=this.length,n=this.data;for(let k=0;k<q;++k)if(n[k]===c)return!0;return!1}*[Symbol.iterator](){for(let c=0;c<this.length;c++)yield this.data[c]}}return f})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const d=(c,q,n,k)=>{let h=q;const l=n>>>1,m=c[h-1];for(;q<=l;){q=h<<1;q<n&&0>k(c[q-1],c[q])&&++q;const w=c[q-1];if(0>=k(w,m))break;c[h-1]=w;h=q}c[h-1]=m},f=(c,q)=>c<q?-1:c>q?1:0;b.sort=function(c,
q,n,k){void 0===q&&(q=0);void 0===n&&(n=c.length);void 0===k&&(k=f);for(var h=n>>>1;h>q;h--)d(c,h,n,k);h=q+1;for(--n;n>q;n--){const l=c[q];c[q]=c[n];c[n]=l;d(c,h,n,k)}};b.iterableSort=function*(c,q,n,k){void 0===q&&(q=0);void 0===n&&(n=c.length);void 0===k&&(k=f);for(var h=n>>>1;h>q;h--)d(c,h,n,k),yield;h=q+1;for(--n;n>q;n--){const l=c[q];c[q]=c[n];c[n]=l;d(c,h,n,k);yield}}})(a||={});return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),
function(a,b,d,f,c,q){function n(u="Aborted"){return new d("AbortError",u)}function k(u,x="Aborted"){if(l(u))throw n(x);}function h(u){return u instanceof AbortSignal?u:u?.signal}function l(u){u=h(u);return null!=u&&u.aborted}function m(u,x){u=h(u);if(null!=u)if(u.aborted)x();else return f.once(u,"abort",()=>x())}function w(u){return"AbortError"===u?.name}async function r(u){if(u){if("function"!==typeof u.forEach){const x=Object.keys(u),z=x.map(B=>u[B]),t=await r(z),y={};x.map((B,A)=>y[B]=t[A]);return y}return Promise.allSettled(u).then(x=>
Array.from(u,(z,t)=>{t=x[t];return"fulfilled"===t.status?{promise:z,value:t.value}:{promise:z,error:t.reason}}))}}function e(u,x,z){const t=new AbortController;m(z,()=>t.abort());return new Promise((y,B)=>{let A=setTimeout(()=>{A=0;y(x)},u);m(t,()=>{A&&(clearTimeout(A),B(n()))})})}function g(u){return u&&"function"===typeof u.then}function p(u){return g(u)?u:Promise.resolve(u)}function v(){let u,x;const z=new Promise((y,B)=>{u=y;x=B}),t=y=>{u(y)};t.resolve=y=>u(y);t.reject=y=>x(y);t.timeout=(y,B)=>
b.clock.setTimeout(()=>t.reject(B),y);t.promise=z;return t}a.after=e;a.allSettledErrors=async function(u){return(await Promise.allSettled(u)).filter(x=>"rejected"===x.status).map(x=>x.reason)};a.allSettledValues=async function(u){return(await Promise.allSettled(u)).filter(x=>"fulfilled"===x.status).map(x=>x.value)};a.always=function(u,x){return u.then(x,x)};a.createAbortError=n;a.createResolver=v;a.debounce=function(u,x=-1){let z,t,y,B,A=null;const D=(...E)=>{if(z){t=E;B&&B.reject(n());B=v();E=B.promise;
if(A){var J=A;A=null;J.abort()}return E}y=B||v();B=null;if(0<x){const G=new AbortController,M=z=p(u(...E,G.signal));e(x).then(()=>{z===M&&(B?G.abort():A=G)})}else z=1,z=p(u(...E));E=()=>{const G=t;t=y=z=A=null;null!=G&&D(...G)};J=z;const F=y;J.then(E,E);J.then(F.resolve,F.reject);return F.promise};return D};a.eachAlways=r;a.eachAlwaysValues=async function(u){return(await r(u)).filter(x=>!!x.value).map(x=>x.value)};a.filter=async function(u,x){const z=u.slice(),t=await Promise.all(u.map((y,B)=>x(y,
B)));return z.filter((y,B)=>t[B])};a.ignoreAbortErrors=async function(u){try{return await u}catch(x){if(!w(x))throw x;}};a.isAbortError=w;a.isAborted=l;a.isPromiseLike=g;a.logOnError=async function(u,x=c.getLogger("esri")){try{return await u}catch(z){w(z)||x.error(z)}};a.onAbort=m;a.onAbortOrThrow=function(u,x){u=h(u);if(null!=u)return k(u),f.once(u,"abort",()=>x(n()))};a.settleWithPromise=function(u,x){x.then(u.resolve,u.reject)};a.signalFromSignalOrOptions=h;a.throwIfAbortError=function(u){if(w(u))throw u;
};a.throwIfAborted=k;a.throwIfNotAbortError=function(u){if(!w(u))throw u;};a.timeout=function(u,x,z,t){const y=z&&"abort"in z?z:null;null!=t||y||(t=z);let B=setTimeout(()=>{B=0;y?.abort()},x);const A=()=>t||new d("promiseUtils:timeout","The wrapped promise did not resolve within "+x+" ms");return u.then(D=>{if(0===B)throw A();clearTimeout(B);return D},D=>{clearTimeout(B);throw 0===B?A():D;})};a.waitTick=async function(u){await Promise.resolve();k(u)};a.when=p;a.whenOrAbort=function(u,x){return null==
h(x)?u:new Promise((z,t)=>{let y=m(x,()=>t(n()));const B=()=>{y=q.removeMaybe(y)};u.then(B,B);u.then(z,t)})};a.whenOrTimeout=function(u,x,z){return Promise.race([u,e(x).then(()=>{throw new d("timeout",`Did not resolve within ${x} milliseconds (${z??"timeout"})`);})])};a.wrapAbortWithTimeout=function(u,x){const z=new AbortController,t=setTimeout(()=>z.abort(),x);m(u,()=>{z.abort();clearTimeout(t)});return{...u,signal:z.signal}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports",
"./handleUtils"],function(a,b){function d(c){return{setTimeout:(q,n)=>{const k=c.setTimeout(q,n);return b.makeHandle(()=>c.clearTimeout(k))}}}const f=d(globalThis);a.clock=f;a.wrap=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports","./handleUtils"],function(a,b){function d(n){return null!=n&&"object"===typeof n&&"on"in n&&"function"===typeof n.on||f(n)}function f(n){return null!=n&&"object"===typeof n&&"addEventListener"in n&&"function"===
typeof n.addEventListener}function c(n,k,h){if(!d(n))throw new TypeError("target is not a Evented or EventTarget object");return f(n)?q(n,k,h):n.on(k,h)}function q(n,k,h,l){if(Array.isArray(k)){const m=k.slice();for(const w of m)n.addEventListener(w,h,l);return b.makeHandle(()=>{for(const w of m)n.removeEventListener(w,h,l)})}n.addEventListener(k,h,l);return b.makeHandle(()=>n.removeEventListener(k,h,l))}a.addEventListener=q;a.isEventedOrEventTarget=d;a.on=c;a.once=function(n,k,h){if(!d(n))throw new TypeError("target is not a Evented or EventTarget object");
if("once"in n)return n.once(k,h);const l=c(n,k,m=>{l.remove();h.call(n,m)});return l};a.pausable=function(n,k,h){let l=!1;const m=c(n,k,w=>{l||h.call(n,w)});return{resume(){l=!1},pause(){l=!0},remove(){m.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.now=function(){return performance.now()};
a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports"],function(a){function b(q,n){if(!n)return q;for(const k of n)q.add(k);return q}function d(q,n){const k=new Set;b(k,q);b(k,n);return k}function f(q,n){const k=new Set;for(const h of n)q.has(h)&&k.add(h);return k}function c(q,n){q=new Set(q);for(const k of n)q.delete(k);return q}a.addMany=b;a.difference=c;a.equals=function(q,n){if(null==
q&&null==n)return!0;if(null==q||null==n||q.size!==n.size)return!1;for(const k of q)if(!n.has(k))return!1;return!0};a.intersection=f;a.isSubsetOf=function(q,n){if(!q||!n)return!1;if(q===n)return!0;for(const k of q)if(!n.has(k))return!1;return!0};a.last=function(q){let n;for(n of q);return n};a.someSet=function(q,n){for(const k of q.entries())if(n(k[0]))return!0;return!1};a.symmetricDifference=function(q,n){return c(d(q,n),f(q,n))};a.union=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.generateUID=function(){return++b};a.nullUid=0;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,d,f){let c=!1;const q=[];a.autorun=function(n){function k(){if(h&&!l)if(c)q.includes(k)||q.unshift(k);else for(h.clear(),l=c=!0,d.runTracked(h,n),c=l=!1;q.length;)q.pop()()}let h=
new f.SimpleTrackingTarget(k),l=!1;l=!0;d.runTracked(h,n);l=!1;return b.makeHandle(function(){h&&(h.destroy(),h=null)})};a.reaction=function(n,k){function h(){if(l&&!w)if(c)q.includes(h)||q.unshift(h);else{var r=m;l.clear();w=c=!0;m=d.runTracked(l,n);c=w=!1;for(k(m,r);q.length;)q.pop()()}}let l=new f.SimpleTrackingTarget(h),m=null,w=!1;w=!0;m=d.runTracked(l,n);w=!1;return b.makeHandle(function(){l&&(l.destroy(),m=l=null)})};a.reactionDeferred=function(n,k){function h(){if(!l)return null;l.clear();
return m=d.runTracked(l,n)}let l=new f.SimpleTrackingTarget(function(){k(m,h)}),m=null;h();return b.makeHandle(function(){l&&(l.destroy(),l=null);m=null})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){function b(){}class d{constructor(q){this._accessed=[];this._handles=[];this._observerObject=new f(q);c.register(this,new WeakRef(this._observerObject),this)}destroy(){c.unregister(this._observerObject);
this._accessed.length=0;this._observerObject?.destroy();this.clear()}onObservableAccessed(q){const n=this._accessed;n.includes(q)||n.push(q)}onTrackingEnd(){const q=this._handles,n=this._accessed,k=this._observerObject;for(let h=0;h<n.length;++h)q.push(n[h].observe(k));n.length=0}clear(){const q=this._handles;for(let n=0;n<q.length;++n)q[n].remove();q.length=0}}class f{constructor(q){this._notify=q;this._invalidCount=0;this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(!this.destroyed){var q=
this._invalidCount;1===q?(this._invalidCount=0,this._notify()):this._invalidCount=0<q?q-1:0}}destroy(){this.destroyed=!0;this._notify=b}}const c=new FinalizationRegistry(q=>{q.deref()?.destroy()});a.SimpleTrackingTarget=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,d,f,c,q){function n(h){let l=0;var m=h;if(d.isLongFormType(h))return d.ensureLongFormType(h);
for(;Array.isArray(m)&&1===m.length&&"string"!==typeof m[0]&&"number"!==typeof m[0];)m=m[0],l++;return d.isOneOf(m)?0===l?d.ensureOneOf(m):d.ensureNArrayTyped(d.ensureOneOf(m),l):1===l?d.ensureArray(m):1<l?d.ensureNArray(m,l):h.from?h.from:d.ensureType(h)}function k(h,l){return m=>{m=+h(m);null!=l.step&&(m=Math.round(m/l.step)*l.step);null!=l.min&&(m=Math.max(l.min,m));null!=l.max&&(m=Math.min(l.max,m));return m}}a.ensureRange=k;a.property=function(h={}){return(l,m)=>{if(l===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${l.name}.${m}. Accessor does not support static properties.`);
var w=Object.getOwnPropertyDescriptor(l,m);const r=c.getPropertyMetadata(l,m);w&&(w.get||w.set?(r.get=w.get||r.get,r.set=w.set||r.set):"value"in w&&("value"in h&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${m}" on "${l.constructor.name}" already defined in the metadata`,h),r.value=h.value=w.value));null!=h.readOnly&&(r.readOnly=h.readOnly);if(l=h.aliasOf){const e="string"===typeof l?l:l.source;l="string"===typeof l?null:!0===l.overridable;
let g;r.dependsOn=[e];r.get=function(){let p=f.get(this,e);if("function"===typeof p){g||=e.split(".").slice(0,-1).join(".");const v=f.get(this,g);v&&(p=p.bind(v))}return p};r.readOnly||(r.set=l?function(p){this._override(m,p)}:function(p){q.set(this,e,p)})}l=h.type;w=h.types;r.cast||(l?r.cast=n(l):w&&(Array.isArray(w)?r.cast=d.ensureArrayTyped(d.ensureOneOfType(w[0])):r.cast=d.ensureOneOfType(w)));c.mergeProperty(r,h);h.range&&(r.cast=k(r.cast,h.range))}};a.propertyJSONMeta=function(h,l,m){h=c.getPropertyMetadata(h,
m);h.json||(h.json={});h=h.json;void 0!==l&&(h.origins||(h.origins={}),h.origins[l]||(h.origins[l]={}),h=h.origins[l]);return h};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,d,f){function c(L){return null==L?L:new Date(L)}function q(L){return null==L?L:!!L}function n(L){return null==L?L:L.toString()}function k(L){if(null==L)return L;L=parseFloat(L);return isNaN(L)?
0:L}function h(L){return null==L?L:Math.round(parseFloat(L))}function l(L){return L?.constructor&&void 0!==L.constructor.__accessorMetadata__}function m(L,T){return null!=T&&L&&!(T instanceof L)}function w(L){return L?.Type?"function"===typeof L.Type?L.Type:L.Type.base:null}function r(L,T){var N;(N=!T?.constructor)||(N=T.constructor,N=!(N&&"isCollection"in N));if(N)return e(L,T)?T:new L(T);N=w(L.prototype.itemType);const K=w(T.constructor.prototype.itemType);if(!N)return T;if(!K)return new L(T);if(N===
K)return T;if(N.prototype.isPrototypeOf(K.prototype))return new L(T);e(L,T);return T}function e(L,T){return l(T)?(F().error("Accessor#set","Assigning an instance of '"+(T.declaredClass||"unknown")+"' which is not a subclass of '"+p(L)+"'"),!0):!1}function g(L,T){return null==T?T:L&&"isCollection"in L?r(L,T):m(L,T)?e(L,T)?T:new L(T):T}function p(L){return L?.prototype?.declaredClass||"unknown"}function v(L){switch(L){case Number:return k;case M:return h;case Boolean:return q;case String:return n;case Date:return c;
default:return f.getOrCreateMapValue(G,L,()=>g.bind(null,L))}}function u(L,T){const N=v(L);return 1===arguments.length?N:N(T)}function x(L,T,N){return 1===arguments.length?x.bind(null,L):T?Array.isArray(T)?T.map(K=>L(K,N)):[L(T,N)]:T}function z(L,T,N){return 0!==T&&Array.isArray(N)?N.map(K=>z(L,T-1,K)):L(N)}function t(L,T,N){if(2===arguments.length)return R=>t(L,T,R);if(!N)return N;N=z(L,T,N);let K=T;for(var O=N;0<K&&Array.isArray(O);)K--,O=O[0];if(void 0!==O)for(O=0;O<K;O++)N=[N];return N}function y(L,
T){if(2===arguments.length)return y(L).call(null,T);const N=new Set,K=L.filter(ma=>"function"!==typeof ma),O=L.filter(ma=>"function"===typeof ma);for(const ma of L)"string"!==typeof ma&&"number"!==typeof ma||N.add(ma);let R=null,V=null;return(ma,ca)=>{if(null==ma)return ma;const ua=typeof ma,Aa="string"===ua||"number"===ua;if(Aa&&(N.has(ma)||O.some(Ma=>"string"===ua&&Ma===String||"number"===ua&&Ma===Number))||"object"===ua&&O.some(Ma=>!m(ma,Ma)))return ma;Aa&&K.length?(R||=K.map(Ma=>"string"===typeof Ma?
`'${Ma}'`:`${Ma}`).join(", "),F().error("Accessor#set",`'${ma}' is not a valid value for this property, only the following values are valid: ${R}`)):"object"===typeof ma&&O.length?(V||=O.map(Ma=>p(Ma)).join(", "),F().error("Accessor#set",`'${ma}' is not a valid value for this property, value must be one of ${V}`)):F().error("Accessor#set",`'${ma}' is not a valid value for this property`);ca&&(ca.valid=!1);return null}}function B(L,T){if(2===arguments.length)return B(L).call(null,T);const N={},K=[],
O=[];for(const V in L.typeMap){const ma=L.typeMap[V];N[V]=u(ma);K.push(p(ma));O.push(V)}const R="string"===typeof L.key?V=>V[L.key]:L.key;return V=>{if(L.base&&!m(L.base,V)||null==V)return V;var ma=R(V)||L.defaultKeyValue;const ca=N[ma];if(!ca)return F().error("Accessor#set",`Invalid property value, value needs to be one of ${`'${K.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${O.join("', '")}'`})`),null;if(!m(L.typeMap[ma],V))return V;if("string"===typeof L.key&&!l(V)){ma=
{};for(const ua in V)ua!==L.key&&(ma[ua]=V[ua]);return ca(ma)}return ca(V)}}function A(L){switch(L.type){case "native":return u(L.value);case "array":return x(A(L.value));case "one-of":return D(L);default:return null}}function D(L){let T=null;return(N,K)=>{if(J(N,L))return N;null==T&&(T=E(L));F().error("Accessor#set",`Invalid property value, value needs to be of type ${T}`);K&&(K.valid=!1);return null}}function E(L){switch(L.type){case "native":switch(L.value){case Number:return"number";case String:return"string";
case Boolean:return"boolean";case M:return"integer";case Date:return"date";default:return p(L.value)}case "array":return`array of ${E(L.value)}`;case "one-of":return L=L.values.map(T=>E(T)),`one of ${L.slice(0,-1)} or ${L[L.length-1]}`}return"unknown"}function J(L,T){if(null==L)return!0;switch(T.type){case "native":switch(T.value){case Number:case M:return"number"===typeof L;case Boolean:return"boolean"===typeof L;case String:return"string"===typeof L}return L instanceof T.value;case "array":return Array.isArray(L)?
!L.some(N=>!J(N,T.value)):!1;case "one-of":return T.values.some(N=>J(L,N))}}const F=()=>d.getLogger("esri.core.accessorSupport.ensureTypes"),G=new WeakMap;class M{}a.Integer=M;a.ensureArray=function(L,T){return 1===arguments.length?x(N=>u(L,N)):x(N=>u(L,N),T)};a.ensureArrayTyped=x;a.ensureBoolean=q;a.ensureClass=g;a.ensureDate=c;a.ensureInteger=h;a.ensureLongFormType=A;a.ensureNArray=function(L,T,N){return 2===arguments.length?t(K=>u(L,K),T):t(K=>u(L,K),T,N)};a.ensureNArrayTyped=t;a.ensureNumber=
k;a.ensureOneOf=y;a.ensureOneOfType=B;a.ensureString=n;a.ensureType=u;a.isClassedType=l;a.isLongFormType=function(L){if(!(L&&"type"in L))return!1;switch(L.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(L){return Array.isArray(L)?!L.some(T=>{T=typeof T;return!("string"===T||"number"===T||"function"===T&&1<L.length)}):!1};a.requiresType=m;a.types={native(L){return{type:"native",value:L}},array(L){return{type:"array",value:L}},oneOf(L){return{type:"one-of",values:L}}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,d){for(const [f,c]of b)if(d(c,f))return c;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,d,f){const c=b.get(d);if(void 0!==c)return c;f=f();b.set(d,f);return f};a.memoize=function(b){const d=new Map;return f=>{d.has(f)||d.set(f,b(f));return d.get(f)}};a.someMap=function(b,d){for(const [f,
c]of b)if(d(c,f))return!0;return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../has ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),function(a,b,d,f,c,q,n){function k(w,r){return null==r.get?function(){var e=this.__accessor__;const g=e.propertiesByName.get(w);if(void 0!==g)return q.trackAccess(g),e=e.store,e.has(w)?e.get(w):g.metadata.value}:function(){const e=
this.__accessor__,g=e.propertiesByName.get(w);if(void 0!==g)return g.getComputed(e)}}function h(w){const r=c.getPropertiesMetadata(w.prototype),e={};for(const g of Object.getOwnPropertyNames(r)){const p=r[g];n.processPrototypePropertyMetadata(p);e[g]={enumerable:!0,configurable:!0,get:k(g,p),set(v){const u=this.__accessor__;if(void 0===u)Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:v});else if(!Object.isFrozen(this)){if(u.initialized&&p.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${g}' of ${this.declaredClass}`);
if(u.lifecycle===f.Lifecycle.CONSTRUCTED&&p.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${g}' of ${this.declaredClass}`);u.set(g,v)}}}}Object.defineProperties(w.prototype,e)}const l=new Set,m=new Set;a.finalizeClass=h;a.subclass=function(w){return r=>{w??="esri.core.Accessor";r.prototype.declaredClass=w;h(r);const e=[],g=[];let p=r.prototype;for(;p;)p.hasOwnProperty("initialize")&&!l.has(p.initialize)&&(l.add(p.initialize),e.push(p.initialize)),p.hasOwnProperty("destroy")&&
!m.has(p.destroy)&&(m.add(p.destroy),g.push(p.destroy)),p=Object.getPrototypeOf(p);l.clear();m.clear();const v=class extends r{constructor(...u){super(...u);if(this.constructor===v&&"function"===typeof this.postscript){e.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let x=e.length-1;0<=x;x--)e[x].call(this)}});if(g.length){let x=!1;const z=this[d.beforeDestroySymbol];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!x){x=!0;
z.call(this);for(let t=0;t<g.length;t++)g[t].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}});this.postscript(...u)}}};v.__accessorMetadata__=c.getPropertiesMetadata(r.prototype);v.prototype.declaredClass=w;r=(w||"AccessorSubclass").split(".").slice(-1)[0];Object.defineProperty(v,"name",{value:r,configurable:!0});return v}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,b,d,f,c,q){function n(l,m,w){l=l?.json;l?.origins&&w&&(w="link-chart"===w?l.origins[w]&&("any"===m||m in l.origins[w])?l.origins[w]:l.origins["web-map"]:l.origins[w])&&("any"===m||m in w)&&(l=w);return l}function k(l){if(l.type){var m=0;for(l=l.type;Array.isArray(l)&&!b.isOneOf(l);)l=l[0],m++;return{type:l,ndimArray:m}}}function h(l){if(l.types){var m=0;for(l=l.types;Array.isArray(l);)l=l[0],m++;return{types:l,ndimArray:m}}}a.originSpecificPropertyDefinition=function(l,m){return n(l,"any",
m?.origin)};a.originSpecificReadPropertyDefinition=function(l,m){return n(l,"read",m?.origin)};a.originSpecificWritePropertyDefinition=function(l,m){return n(l,"write",m?.origin)};a.processPrototypePropertyMetadata=function(l){if(c.process(l)){d.process(l);var m=l.json.types?h(l.json):l.type?k(l):h(l);if(l.json.origins)for(const r in l.json.origins){const e=l.json.origins[r];if(e.types){var w=e;w=w.type?k(w):h(w)}else w=m;f.create(w,e,!1);e.types&&!e.write&&l.json.write&&l.json.write.enabled&&(e.write=
{...l.json.write});q.create(w,e)}f.create(m,l.json,!0);q.create(m,l.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&b.json.origins){const d=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const f in b)if(d[f]){const c=d[f];b[f].forEach(q=>{d[q]=c});delete d[f]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,d,f,c,q){function n(u){var x=u.ndimArray??0;if(1<x)return m(u);if(1===x)return w(u);if("type"in u&&r(u.type)){x=u.type.prototype?.itemType?.Type;const z=w("function"===typeof x?{type:x}:{types:x});return(t,y,B)=>(t=z(t,y,B))?new u.type(t):t}return k(u)}function k(u){return"type"in u?h(u.type):p(u.types)}function h(u){return u.prototype.read?
(x,z,t)=>{if(null==x)return x;z=typeof x;if("object"!==z)v().error(`Expected JSON value of type 'object' to deserialize type '${u.prototype.declaredClass}', but got '${z}'`);else return z=new u,z.read(x,t),z}:u.fromJSON}function l(u,x,z,t){return 0!==t&&Array.isArray(x)?x.map(y=>l(u,y,z,t-1)):u(x,void 0,z)}function m(u){const x=k(u),z=l.bind(null,x),t=u.ndimArray??0;return(y,B,A)=>{if(null==y)return y;y=z(y,A,t);B=t;for(A=y;0<B&&Array.isArray(A);)B--,A=A[0];if(void 0!==A)for(A=0;A<B;A++)y=[y];return y}}
function w(u){const x=k(u);return(z,t,y)=>{if(null==z)return z;if(Array.isArray(z)){t=[];for(const B of z)z=x(B,void 0,y),void 0!==z&&t.push(z);return t}y=x(z,void 0,y);return void 0!==y?[y]:void 0}}function r(u){return q.isCollection(u)?(u=u.prototype.itemType)&&u.Type?"function"===typeof u.Type?e(u.Type):g(u.Type):!1:!1}function e(u){return Array.isArray(u)?!1:!!u&&u.prototype&&("read"in u.prototype||"fromJSON"in u||r(u))}function g(u){for(const x in u.typeMap)if(!e(u.typeMap[x]))return!1;return!0}
function p(u){let x=null;const z=u.errorContext??"type",t=u.validate;return(y,B,A)=>{if(null==y)return y;B=typeof y;if("object"!==B)v().error(`Expected JSON value of type 'object' to deserialize, but got '${B}'`);else{if(!x){B={};for(var D in u.typeMap){const F=u.typeMap[D];var E=c.getPropertiesMetadata(F.prototype);if("function"===typeof u.key)continue;E=E[u.key];if(!E)continue;E.json?.type&&Array.isArray(E.json.type)&&1===E.json.type.length&&"string"===typeof E.json.type[0]&&(B[E.json.type[0]]=
F);E=E.json?.write;if(!E?.writer){B[D]=F;continue}var J=E.target;J="string"===typeof J?J:u.key;const G={};E.writer(D,G,J);G[J]&&(B[G[J]]=F)}x=B}D=u.key;if("string"===typeof D){if(B=(D=y[D])?x[D]:u.defaultKeyValue?u.typeMap[u.defaultKeyValue]:void 0)return D=new B,D.read(y,A),t?t(D):D;D=`Type '${D||"unknown"}' is not supported`;A?.messages&&y&&A.messages.push(new f(`${z}:unsupported`,D,{definition:y,context:A}));v().error(D)}}}}const v=()=>b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");
a.create=function(u,x,z){u&&(z||x.read)&&!x.read?.reader&&!1!==x.read?.enabled&&(z="types"in u?g(u.types):e(u.type),z&&d.setDeepValue("read.reader",n(u),x))};a.createTypeReader=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["./Message"],function(a){class b extends a{constructor(d,f,c){super(d,f,c)}}b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=
function(b){return!!b&&b.prototype?.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function b(c){c.name&&(c.read?"object"===typeof c.read?void 0===c.read.source&&(c.read.source=c.name):c.read={source:c.name}:c.read={source:c.name},c.write?"object"===typeof c.write?void 0===c.write.target&&(c.write.target=
c.name):c.write={target:c.name}:c.write={target:c.name})}function d(c){"boolean"===typeof c.read?c.read={enabled:c.read}:"function"===typeof c.read?c.read={enabled:!0,reader:c.read}:c.read&&"object"===typeof c.read&&void 0===c.read.enabled&&(c.read.enabled=!0)}function f(c){"boolean"===typeof c.write?c.write={enabled:c.write}:"function"===typeof c.write?c.write={enabled:!0,writer:c.write}:c.write&&"object"===typeof c.write&&void 0===c.write.enabled&&(c.write.enabled=!0)}a.process=function(c){c.json||
(c.json={});d(c.json);f(c.json);b(c.json);if(c.json.origins)for(const q in c.json.origins)d(c.json.origins[q]),f(c.json.origins[q]),b(c.json.origins[q]);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(a,b,d,f,c){function q(g){return(p,v,u,x)=>{if(!p||n(p,g,x))return h(p,v,u,x)}}function n(g,p,v){for(var u in p.typeMap)if(g instanceof
p.typeMap[u])return!0;v?.messages&&(u=p.errorContext??"type",p=`Values of type '${("function"!==typeof p.key?g[p.key]:g.declaredClass)??"Unknown"}' cannot be written`,v&&v.messages&&g&&v.messages.push(new b(`${u}:unsupported`,p,{definition:g,context:v})),d.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(p));return!1}function k(g){return(p,v,u,x)=>{if(!p||!Array.isArray(p))return h(p,v,u,x);p=p.filter(z=>n(z,g,x));return h(p,v,u,x)}}function h(g,p,v,u){f.setDeepValue(v,
l(g,u),p)}function l(g,p){return g&&"function"===typeof g.write?g.write({},p):g&&"function"===typeof g.toJSON?g.toJSON():"number"===typeof g?m(g):g}function m(g){return-Infinity===g?-Number.MAX_VALUE:Infinity===g?Number.MAX_VALUE:isNaN(g)?null:g}function w(g,p,v,u){null===g?g=null:g&&"function"===typeof g.map?(g=g.map(x=>l(x,u)),"function"===typeof g.toArray&&(g=g.toArray())):g=[l(g,u)];f.setDeepValue(v,g,p)}function r(g,p,v){return 0!==v&&Array.isArray(g)?g.map(u=>r(u,p,v-1)):l(g,p)}function e(g){return(p,
v,u,x)=>{if(null===p)p=null;else{p=r(p,x,g);x=g;for(var z=p;0<x&&Array.isArray(z);)x--,z=z[0];if(void 0!==z)for(z=0;z<x;z++)p=[p]}f.setDeepValue(u,p,v)}}a.create=function(g,p){if(p.write&&!p.write.writer&&(!1!==p.write.enabled||p.write.overridePolicy)){var v=g?.ndimArray??0;g&&(1===v||"type"in g&&c.isCollection(g.type))?p.write.writer=w:1<v?p.write.writer=e(v):p.types?Array.isArray(p.types)?p.write.writer=k(p.types[0]):p.write.writer=q(p.types):p.write.writer=h}};a.numberToJSON=m;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,d){class f{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(q){const n=new f;this._values.forEach((k,h)=>{q&&q.has(h)||n.set(h,b.clone(k.value),k.origin)});return n}get(q,n){n=this._normalizeOrigin(n);q=this._values.get(q);return null==n||q?.origin===n?q?.value:void 0}originOf(q){return this._values.get(q)?.origin??d.OriginId.USER}keys(q){q=
this._normalizeOrigin(q);const n=[...this._values.keys()];return null==q?n:n.filter(k=>this._values.get(k)?.origin===q)}set(q,n,k){k=this._normalizeOrigin(k);if(k===d.OriginId.DEFAULTS){const h=this._values.get(q);if(null!=h?.origin&&h.origin>k)return}this._values.set(q,new c(n,k))}delete(q,n){n=this._normalizeOrigin(n);null!=n&&this._values.get(q)?.origin!==n||this._values.delete(q)}has(q,n){n=this._normalizeOrigin(n);return null!=n?this._values.get(q)?.origin===n:this._values.has(q)}forEach(q){this._values.forEach(({value:n},
k)=>q(n,k))}_normalizeOrigin(q){if(null!=q)return q===d.OriginId.DEFAULTS?q:d.OriginId.USER}}class c{constructor(q,n){this.value=q;this.origin=n}}a.DefaultsStore=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports","./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(d,f,c){f.keys().forEach(q=>{c.set(q,f.get(q),b.OriginId.DEFAULTS)});Object.keys(d.metadata).forEach(q=>{d.internalGet(q)&&c.set(q,
d.internalGet(q),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,d,f){const c={origin:"service"};a.read=function(q,n,k=c){if(n&&"object"===typeof n){var h=d.getProperties(q),l=h.metadata,m={};for(const t of Object.getOwnPropertyNames(n)){var w=m,r=l,e=t,g=n,p=k,v=f.originSpecificReadPropertyDefinition(r[e],p);v&&(!v.read||!1!==v.read.enabled&&
!v.read.source)&&(w[e]=!0);for(const y of Object.getOwnPropertyNames(r)){v=f.originSpecificReadPropertyDefinition(r[y],p);a:{var u=e;var x=g;if(v?.read&&!1!==v.read.enabled&&v.read.source){v=v.read.source;if("string"===typeof v){if(v===u||v.includes(".")&&0===v.indexOf(u)&&b.exists(v,x)){u=!0;break a}}else for(const B of v)if(B===u||B.includes(".")&&0===B.indexOf(u)&&b.exists(B,x)){u=!0;break a}u=!1}else u=!1}u&&(w[y]=!0)}}h.setDefaultOrigin(k.origin);for(var z of Object.getOwnPropertyNames(m))w=
f.originSpecificReadPropertyDefinition(l[z],k).read,r=(r=w?.source)&&"string"===typeof r?b.valueOf(n,r):n[z],w?.reader&&(r=w.reader.call(q,r,n,k)),void 0!==r&&h.set(z,r);if(!k||!k.ignoreDefaults){h.setDefaultOrigin("defaults");for(const t of Object.getOwnPropertyNames(l))m[t]||(z=q,n=t,l=h,w=k,r=f.originSpecificPropertyDefinition(l.metadata[n],w)?.default,void 0!==r&&(z="function"===typeof r?r.call(z,n,w):r,void 0!==z&&l.set(n,z)))}h.setDefaultOrigin("user")}};a.readLoadable=function(q,n,k,h=c){n=
{...h,messages:[]};k(n);n.messages?.forEach(l=>{"warning"!==l.type||q.loaded?h?.messages&&h.messages.push(l):q.loadWarnings.push(l)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./get ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,d,f,c,q,n,k){function h(m,w,r,e,g){const p={};w.write?.writer?.call(m,e,p,r,g);return p}function l(m,w,r,e,g,p){if(!e?.write)return!1;
const v=c.get(m,r);if(!g&&e.write.overridePolicy){var u=e.write.overridePolicy.call(m,v,r,p??void 0);void 0!==u&&(g=u)}g||(g=e.write);if(!g||!1===g.enabled||g.layerContainerTypes&&p?.layerContainerType&&!g.layerContainerTypes.includes(p.layerContainerType))return!1;if((null===v&&!g.allowNull&&!g.writerEnsuresNonNull||void 0===v)&&g.isRequired)return(w=new d("web-document-write:property-required",`Missing value for required property '${r}' on '${m.declaredClass}'`,{propertyName:r,target:m}),p?.messages)?
p.messages.push(w):w&&!p&&f.getLogger("esri.core.accessorSupport.write").error(w.name,w.message),!1;if(void 0===v||null===v&&!g.allowNull&&!g.writerEnsuresNonNull)return!1;if(u=!g.alwaysWriteDefaults&&(!w.store.multipleOriginsSupported||w.store.originOf(r)===q.OriginId.DEFAULTS))u=e.default,void 0===u?u=!1:null!=e.defaultEquals?u=e.defaultEquals(v):"function"===typeof u?Array.isArray(v)?(m=u.call(m,r,p??void 0),u=b.equals(m,v)):u=!1:u=u===v;return u||!g.ignoreOrigin&&p?.origin&&w.store.multipleOriginsSupported&&
w.store.originOf(r)<q.nameToId(p.origin)?!1:!0}a.willPropertyWrite=function(m,w,r,e){const g=n.getProperties(m),p=k.originSpecificWritePropertyDefinition(g.metadata[w],e);return p?l(m,g,w,p,r,e):!1};a.write=function(m,w,r){if(m&&"function"===typeof m.toJSON&&(!m.toJSON.isDefaultToJSON||!m.write))return n.merge(w,m.toJSON(r));const e=n.getProperties(m),g=e.metadata;for(const p in g){const v=k.originSpecificWritePropertyDefinition(g[p],r);if(!l(m,e,p,v,void 0,r))continue;const u=c.get(m,p),x=h(m,v,
v.write&&"string"===typeof v.write.target?v.write.target:p,u,r);0<Object.keys(x).length&&(w=n.merge(w,x),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>n.merge(w,x,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:m,propName:p,oldOrigin:q.idToReadableName(e.store.originOf(p)),newOrigin:r.origin}))}return w};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],
function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,d={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};a.isSecureProxyService=function(f){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(f)};a.parseKnownArcGISOnlineDomain=function(f){f=f?.match(b);if(!f)return null;const [,c,q,n]=f;if(!c)return null;
let k=f=null,h=null;const {devext:l,qaext:m,www:w}=d;if(q)if(f=c,n)switch(n.toLowerCase()){case "devext":({customBaseUrl:k,portalHostname:h}=l);break;case "qa":({customBaseUrl:k,portalHostname:h}=m);break;default:return null}else({customBaseUrl:k,portalHostname:h}=w);else switch(c.toLowerCase()){case "devext":({customBaseUrl:k,portalHostname:h}=l);break;case "qaext":({customBaseUrl:k,portalHostname:h}=m);break;case "www":({customBaseUrl:k,portalHostname:h}=w);break;default:return null}return{customBaseUrl:k,
isPortal:!1,portalHostname:h,urlKey:f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/base64Utils":function(){define(["exports"],function(a){a.arrayBufferToBase64=function(b){b=new Uint8Array(b);let d="";for(let f=0;f<b.length;f++)d+=String.fromCharCode(b[f]);return btoa(d)};a.base64ToArrayBuffer=function(b){b=atob(b);const d=new Uint8Array(b.length);for(let f=0;f<b.length;f++)d[f]=b.charCodeAt(f);return d.buffer};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20240321";a.commitHash="9cf5a4b8555fda94595b625a40b922e012baf071";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const d=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);a.isApiKey=function(f){return!!f&&4<f.length&&f.startsWith("AAPK")};a.supportsApiKey=
function(f){const c=b.getOrigin(f,!0);return c?c.endsWith(".arcgis.com")&&!d.has(c)&&!f.endsWith("/sharing/rest/generateToken"):!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define(["exports","../config","../core/has","../core/promiseUtils","../core/urlUtils"],function(a,b,d,f,c){function q(){try{return new DOMException("Aborted","AbortError")}catch{const n=Error();n.name="AbortError";return n}}a.createTimeoutError=function(){return Error("Timeout exceeded")};
a.isNoCorsRequestRequired=function(n){const k=b.request.crossOriginNoCorsDomains;return k&&(n=c.getOrigin(n))?(n=n.toLowerCase(),!c.hasSameOrigin(n,c.getAppUrl())&&k[n]<Date.now()-36E5):!1};a.isTimeoutError=function(n){return"object"===typeof n&&!!n&&"message"in n&&"Timeout exceeded"===n.message};a.loadImageAsync=function(n,k,h=!1,l){return new Promise((m,w)=>{if(f.isAborted(l))w(q());else{var r=()=>{p();w(Error(`Unable to load ${k}`))},e=()=>{const v=n;p();m(v)},g=()=>{if(n){var v=n;p();v.src="";
w(q())}},p=()=>{d("esri-image-decode")||(n.removeEventListener("error",r),n.removeEventListener("load",e));n=e=r=null;null!=l&&l.removeEventListener("abort",g);g=null;h&&URL.revokeObjectURL(k)};null!=l&&l.addEventListener("abort",g);d("esri-image-decode")?n.decode().then(e,r):(n.addEventListener("error",r),n.addEventListener("load",e))}})};a.registerNoCorsDomains=function(n){b.request.crossOriginNoCorsDomains||(b.request.crossOriginNoCorsDomains={});const k=b.request.crossOriginNoCorsDomains;for(let h of n)h=
h.toLowerCase(),/^https?:\/\//.test(h)?k[c.getOrigin(h)??""]=0:(k[c.getOrigin("http://"+h)??""]=0,k[c.getOrigin("https://"+h)??""]=0)};a.sendNoCorsRequest=async function(n){var k=b.request.crossOriginNoCorsDomains;const h=c.getOrigin(n);k&&h&&(k[h.toLowerCase()]=Date.now());k=c.urlToObject(n);n=k.path;"json"===k.query?.f&&(n+="?f\x3djson");try{await fetch(n,{mode:"no-cors",credentials:"include"})}catch{}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Collection":function(){define("../chunks/tslib.es6 ./ArrayPool ./Evented ./handleUtils ./lang ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e){function g(F){return F?F instanceof J?F.toArray():F.length?Array.prototype.slice.apply(F):[]:[]}function p(F){if(F?.length)return F[0]}function v(F,G,M,L){G&&G.forEach((T,N,K)=>{F.push(T);v(F,M.call(L,T,N,K),M,L)})}var u;class x{constructor(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(F){this.defaultPrevented=!1;this.item=F}}class z{constructor(F,G,M,
L,T){this.target=F;this.added=G;this.removed=M;this.start=L;this.deleteCount=T}}const t=new q(x,void 0,F=>{F.item=null;F.target=null;F.defaultPrevented=!1;F.cancellable=!1}),y=new Set,B=new Set,A=new Set,D=new Map;let E=0,J=u=class extends d.EventedAccessor{static isCollection(F){return null!=F&&F instanceof u}constructor(F){super(F);this._chgListeners=[];this._notifications=null;this._updating=!1;this._timer=null;this._observable=new e.SimpleObservable;this.length=0;this._items=[];Object.defineProperty(this,
"uid",{value:E++})}normalizeCtorArgs(F){return F?Array.isArray(F)||F instanceof u?{items:F}:F:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){l.trackAccess(this._observable);return this._items}set items(F){this._emitBeforeChanges(n.ObservableChangesType.ADD)||(this._splice(0,this.length,g(F)),this._emitAfterChanges(n.ObservableChangesType.ADD))}hasEventListener(F){return"change"===F?0<this._chgListeners.length:this._emitter.hasEventListener(F)}on(F,G){if("change"===
F){const M=this._chgListeners,L={removed:!1,callback:G};M.push(L);this._notifications&&this._notifications.push({listeners:M.slice(),items:this._items.slice(),changes:[]});return f.makeHandle(()=>{L.removed=!0;M.splice(M.indexOf(L),1)})}return this._emitter.on(F,G)}once(F,G){const M="deref"in G?()=>G.deref():()=>G,L=this.on(F,T=>{M()?.call(null,T);L.remove()});return L}add(F,G){l.trackAccess(this._observable);if(this._emitBeforeChanges(n.ObservableChangesType.ADD))return this;G=this.getNextIndex(G??
null);this._splice(G,0,[F]);this._emitAfterChanges(n.ObservableChangesType.ADD);return this}addMany(F,G=this._items.length){l.trackAccess(this._observable);if(!F?.length||this._emitBeforeChanges(n.ObservableChangesType.ADD))return this;G=this.getNextIndex(G);this._splice(G,0,g(F));this._emitAfterChanges(n.ObservableChangesType.ADD);return this}at(F){l.trackAccess(this._observable);F=Math.trunc(F)||0;0>F&&(F+=this.length);if(!(0>F||F>=this.length))return this._items[F]}removeAll(){l.trackAccess(this._observable);
if(!this.length||this._emitBeforeChanges(n.ObservableChangesType.REMOVE))return[];const F=this._removeAllRaw();this._emitAfterChanges(n.ObservableChangesType.REMOVE);return F}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){l.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(c.clone)})}concat(...F){l.trackAccess(this._observable);F=F.map(g);return this._createNewInstance({items:this._items.concat(...F)})}drain(F,G){l.trackAccess(this._observable);
if(this.length&&!this._emitBeforeChanges(n.ObservableChangesType.REMOVE)){var M=this._splice(0,this.length),L=M.length;for(let T=0;T<L;T++)F.call(G,M[T],T,M);this._emitAfterChanges(n.ObservableChangesType.REMOVE)}}every(F,G){l.trackAccess(this._observable);return this._items.every(F,G)}filter(F,G){l.trackAccess(this._observable);let M;M=2===arguments.length?this._items.filter(F,G):this._items.filter(F);return this._createNewInstance({items:M})}find(F,G){l.trackAccess(this._observable);return this._items.find(F,
G)}findIndex(F,G){l.trackAccess(this._observable);return this._items.findIndex(F,G)}flatten(F,G){l.trackAccess(this._observable);const M=[];v(M,this,F,G);return new u(M)}forEach(F,G){l.trackAccess(this._observable);return this._items.forEach(F,G)}getItemAt(F){l.trackAccess(this._observable);return this._items[F]}getNextIndex(F){l.trackAccess(this._observable);const G=this.length;F=null==F?G:F;0>F?F=0:F>G&&(F=G);return F}includes(F,G=0){l.trackAccess(this._observable);return this._items.includes(F,
G)}indexOf(F,G=0){l.trackAccess(this._observable);return this._items.indexOf(F,G)}join(F=","){l.trackAccess(this._observable);return this._items.join(F)}lastIndexOf(F,G=this.length-1){l.trackAccess(this._observable);return this._items.lastIndexOf(F,G)}map(F,G){l.trackAccess(this._observable);F=this._items.map(F,G);return new u({items:F})}reorder(F,G=this.length-1){l.trackAccess(this._observable);const M=this.indexOf(F);if(-1!==M){0>G?G=0:G>=this.length&&(G=this.length-1);if(M!==G){if(this._emitBeforeChanges(n.ObservableChangesType.MOVE))return F;
this._splice(M,1);this._splice(G,0,[F]);this._emitAfterChanges(n.ObservableChangesType.MOVE)}return F}}pop(){l.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(n.ObservableChangesType.REMOVE)){var F=p(this._splice(this.length-1,1));this._emitAfterChanges(n.ObservableChangesType.REMOVE);return F}}push(...F){l.trackAccess(this._observable);if(this._emitBeforeChanges(n.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,F);this._emitAfterChanges(n.ObservableChangesType.ADD);
return this.length}reduce(F,G){l.trackAccess(this._observable);const M=this._items;return 2===arguments.length?M.reduce(F,G):M.reduce(F)}reduceRight(F,G){l.trackAccess(this._observable);const M=this._items;return 2===arguments.length?M.reduceRight(F,G):M.reduceRight(F)}remove(F){l.trackAccess(this._observable);return this.removeAt(this.indexOf(F))}removeAt(F){l.trackAccess(this._observable);if(!(0>F||F>=this.length||this._emitBeforeChanges(n.ObservableChangesType.REMOVE)))return F=p(this._splice(F,
1)),this._emitAfterChanges(n.ObservableChangesType.REMOVE),F}removeMany(F){l.trackAccess(this._observable);if(!F?.length||this._emitBeforeChanges(n.ObservableChangesType.REMOVE))return[];F=F instanceof u?F.toArray():F;const G=this._items,M=[],L=F.length;for(let O=0;O<L;O++){var T=G.indexOf(F[O]);if(-1<T){var N=O+1,K=T+1;const R=Math.min(F.length-N,G.length-K);let V=0;for(;V<R&&F[N+V]===G[K+V];)V++;N=1+V;(T=this._splice(T,N))&&0<T.length&&M.push.apply(M,T);O+=N-1}}this._emitAfterChanges(n.ObservableChangesType.REMOVE);
return M}reverse(){l.trackAccess(this._observable);if(this._emitBeforeChanges(n.ObservableChangesType.MOVE))return this;const F=this._splice(0,this.length);F&&(F.reverse(),this._splice(0,0,F));this._emitAfterChanges(n.ObservableChangesType.MOVE);return this}shift(){l.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(n.ObservableChangesType.REMOVE)){var F=p(this._splice(0,1));this._emitAfterChanges(n.ObservableChangesType.REMOVE);return F}}slice(F=0,G=this.length){l.trackAccess(this._observable);
return this._createNewInstance({items:this._items.slice(F,G)})}some(F,G){l.trackAccess(this._observable);return this._items.some(F,G)}sort(F){l.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(n.ObservableChangesType.MOVE))return this;const G=this._splice(0,this.length);arguments.length?G.sort(F):G.sort();this._splice(0,0,G);this._emitAfterChanges(n.ObservableChangesType.MOVE);return this}splice(F,G,...M){l.trackAccess(this._observable);const L=(G?n.ObservableChangesType.REMOVE:
0)|(M.length?n.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(L))return[];F=this._splice(F,G,M)||[];this._emitAfterChanges(L);return F}toArray(){l.trackAccess(this._observable);return this._items.slice()}toJSON(){l.trackAccess(this._observable);return this.toArray()}toLocaleString(){l.trackAccess(this._observable);return this._items.toLocaleString()}toString(){l.trackAccess(this._observable);return this._items.toString()}unshift(...F){l.trackAccess(this._observable);if(!F.length||this._emitBeforeChanges(n.ObservableChangesType.ADD))return this.length;
this._splice(0,0,F);this._emitAfterChanges(n.ObservableChangesType.ADD);return this.length}_createNewInstance(F){return new this.constructor(F)}_splice(F,G,M){const L=this._items;var T=this.itemType;let N=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=k.schedule(()=>this._dispatchChange()));0>F&&(F+=this.length);if(G){N=L.splice(F,
G);if(this.hasEventListener("before-remove")){var K=t.acquire();K.target=this;K.cancellable=!0;for(let ma=0,ca=N.length;ma<ca;ma++){var O=N[ma];K.reset(O);this.emit("before-remove",K);K.defaultPrevented&&(N.splice(ma,1),L.splice(F,0,O),F+=1,--ma,--ca)}t.release(K)}this.length=this._items.length;if(this.hasEventListener("after-remove")){O=t.acquire();O.target=this;O.cancellable=!1;K=N.length;for(let ma=0;ma<K;ma++)O.reset(N[ma]),this.emit("after-remove",O);t.release(O)}}if(M?.length){if(T){O=[];for(var R of M)M=
T.ensureType(R),null==M&&null!=R||O.push(M);M=O}T=this.hasEventListener("before-add");R=this.hasEventListener("after-add");O=F===this.length;if(T||R){var V=t.acquire();V.target=this;V.cancellable=!0;K=t.acquire();K.target=this;K.cancellable=!1;for(const ma of M)T?(V.reset(ma),this.emit("before-add",V),V.defaultPrevented||(O?L.push(ma):L.splice(F++,0,ma),this._set("length",L.length),R&&(K.reset(ma),this.emit("after-add",K)))):(O?L.push(ma):L.splice(F++,0,ma),this._set("length",L.length),K.reset(ma),
this.emit("after-add",K));t.release(K);t.release(V)}else{if(O)for(V of M)L.push(V);else L.splice(F,0,...M);this._set("length",L.length)}}(M?.length||N?.length)&&this._notifyChangeEvent(M,N);this.hasEventListener("after-splice")&&(F=new z(this,M,N,F,G),this.emit("after-splice",F));return N}_emitBeforeChanges(F){let G=!1;if(this.hasEventListener("before-changes")){const M=t.acquire();M.target=this;M.cancellable=!0;M.type=F;this.emit("before-changes",M);G=M.defaultPrevented;t.release(M)}return G}_emitAfterChanges(F){if(this.hasEventListener("after-changes")){const G=
t.acquire();G.target=this;G.cancellable=!1;G.type=F;this.emit("after-changes",G);t.release(G)}this._observable.notify()}_notifyChangeEvent(F,G){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:F,removed:G})}get updating(){return this._updating}_dispatchChange(){this._timer&&(this._timer.remove(),this._timer=null);this._updating=!1;if(this._notifications){var F=this._notifications;this._notifications=null;for(const G of F){F=
G.changes;y.clear();B.clear();A.clear();for(const {added:O,removed:R}of F){if(O)if(0===A.size&&0===B.size)for(const V of O)y.add(V);else for(const V of O)B.has(V)?(A.add(V),B.delete(V)):A.has(V)||y.add(V);if(R)if(0===A.size&&0===y.size)for(const V of R)B.add(V);else for(const V of R)y.has(V)?y.delete(V):(A.delete(V),B.add(V))}const M=b.acquire();y.forEach(O=>{M.push(O)});const L=b.acquire();B.forEach(O=>{L.push(O)});const T=this._items,N=G.items,K=b.acquire();A.forEach(O=>{N.indexOf(O)!==T.indexOf(O)&&
K.push(O)});if(G.listeners&&(M.length||L.length||K.length)){F={target:this,added:M,removed:L,moved:K};const O=G.listeners.length;for(let R=0;R<O;R++){const V=G.listeners[R];V.removed||V.callback.call(this,F)}}b.release(M);b.release(L);b.release(K)}y.clear();B.clear();A.clear()}}};J.ofType=F=>{if(!F)return u;if(D.has(F))return D.get(F);let G=null;if("function"===typeof F)G=F.prototype.declaredClass;else if(F.base)G=F.base.prototype.declaredClass;else for(var M in F.typeMap){const L=F.typeMap[M].prototype.declaredClass;
G=G?G+` | ${L}`:L}M=class extends u{};a.__decorate([w.shared({Type:F,ensureType:"function"===typeof F?h.ensureType(F):h.ensureOneOfType(F)})],M.prototype,"itemType",void 0);M=a.__decorate([r.subclass(`esri.core.Collection<${G}>`)],M);D.set(F,M);return M};a.__decorate([m.property()],J.prototype,"_updating",void 0);a.__decorate([m.property()],J.prototype,"length",void 0);a.__decorate([m.property()],J.prototype,"items",null);a.__decorate([m.property({readOnly:!0})],J.prototype,"updating",null);return J=
u=a.__decorate([r.subclass("esri.core.Collection")],J)})},"esri/core/Evented":function(){define(["../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,b,d,f){class c{constructor(){this._emitter=new c.EventEmitter(this)}emit(q,n){return this._emitter.emit(q,n)}on(q,n){return this._emitter.on(q,n)}once(q,n){return this._emitter.once(q,n)}hasEventListener(q){return this._emitter.hasEventListener(q)}}(function(q){class n{constructor(h=null){this._target=
h;this._listenersMap=null}clear(){this._listenersMap?.clear();this._listenersMap=null}destroy(){this.clear()}emit(h,l){let m=this._listenersMap?.get(h);if(!m)return!1;const w=this._target||this;let r=!1;for(const e of m.slice()){const g="deref"in e?e.deref():e;g?g?.call(w,l):r=!0}r&&(m=m.filter(e=>"deref"in e?null!=e.deref():!0),this._listenersMap.set(h,m));return 0<m.length}on(h,l){if(Array.isArray(h)){var m=h.map(w=>this.on(w,l));return d.handlesGroup(m)}if(h.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");
this._listenersMap??(this._listenersMap=new Map);m=this._listenersMap.get(h)||[];m.push(l);this._listenersMap.set(h,m);return d.makeHandle(()=>{const w=this._listenersMap?.get(h),r=w?.indexOf(l)??-1;0<=r&&w.splice(r,1)})}once(h,l){const m=this.on(h,w=>{m.remove();("deref"in l?l.deref():l)?.call(null,w)});return m}hasEventListener(h){h=this._listenersMap?.get(h);return null!=h&&0<h.length}}q.EventEmitter=n;q.EventedMixin=h=>{h=class extends h{constructor(){super(...arguments);this._emitter=new n}destroy(){this._emitter.clear()}emit(l,
m){return this._emitter.emit(l,m)}on(l,m){return this._emitter.on(l,m)}once(l,m){return this._emitter.once(l,m)}hasEventListener(l){return this._emitter.hasEventListener(l)}};return h=a.__decorate([f.subclass("esri.core.Evented")],h)};let k=class extends b{constructor(){super(...arguments);this._emitter=new c.EventEmitter(this)}destroy(){this._emitter.clear()}emit(h,l){return this._emitter.emit(h,l)}on(h,l){return this._emitter.on(h,l)}once(h,l){return this._emitter.once(h,l)}hasEventListener(h){return this._emitter.hasEventListener(h)}};
k=a.__decorate([f.subclass("esri.core.Evented")],k);q.EventedAccessor=k})(c||={});return c})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(d,
f)=>{d[f]=b}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../ObservableBase"],function(a,b){class d extends b.ObservableBase{notify(){var f=this._observers;if(f&&0<f.length){f=f.slice();for(const c of f)c.onInvalidated(),c.onCommitted()}}}a.SimpleObservable=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],
function(a,b){a.castForReferenceSetter=function(d){return d};a.referenceSetter=function(d,f,c=b){f||=new c;if(f===d)return f;f.removeAll();d&&(Array.isArray(d)||"items"in d&&Array.isArray(d.items))?f.addMany(d):d&&f.add(d);return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,
b,d,f,c,q,n,k){const h=l=>{l=class extends l{constructor(...m){super(...m);this.loadError=this._loadController=null;this.loadStatus="not-loaded";this._set("loadWarnings",[]);this.addResolvingPromise(new Promise(w=>{const r=this.load.bind(this);this.load=e=>{const g=new Promise((p,v)=>{const u=c.onAbortOrThrow(e,v);this.destroyed&&v(new b("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this}));this.when(p,v).finally(()=>{u&&u.remove()})});
if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const p=this._loadController=new AbortController;r({signal:p.signal})}w();return g}}));this.when(()=>{this._set("loadStatus","loaded");this._loadController=null},w=>{this._set("loadStatus","failed");this._set("loadError",w);this._loadController=null})}destroy(){this._loadController&&(this._loadController=d.abortMaybe(this._loadController),this._promiseProps.abort());this._set("loadError",null);this._set("loadWarnings",[])}get loaded(){return"loaded"===
this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){if(this.isFulfilled())return this;this._set("loadError",new b("load:cancelled","Cancelled"));this._loadController?.abort();this._promiseProps.abort();return this}};a.__decorate([n.property({readOnly:!0})],l.prototype,"loaded",null);a.__decorate([n.property({readOnly:!0})],l.prototype,"loadError",void 0);a.__decorate([n.property({clonable:!1})],l.prototype,"loadStatus",void 0);a.__decorate([n.property({type:[q],
readOnly:!0})],l.prototype,"loadWarnings",null);return l=a.__decorate([k.subclass("esri.core.Loadable")],l)};f=class extends h(f.EsriPromise){};f=a.__decorate([k.subclass("esri.core.Loadable")],f);(function(l){l.LoadableMixin=h;l.isLoadable=function(m){return!(!m||!m.load)}})(f||={});return f})},"esri/core/Promise":function(){define(["exports","../chunks/tslib.es6","./Accessor","./promiseUtils","./accessorSupport/decorators/subclass"],function(a,b,d,f,c){var q;(function(h){h[h.PENDING=0]="PENDING";
h[h.RESOLVED=1]="RESOLVED";h[h.REJECTED=2]="REJECTED"})(q||={});class n{constructor(){this._resolver=f.createResolver();this._status=q.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=q.RESOLVED;this._cleanUp()},()=>{this._status=q.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(h){this._resolvingPromises.push(h);this._tryResolve()}isResolved(){return this._status===q.RESOLVED}isRejected(){return this._status===
q.REJECTED}isFulfilled(){return this._status!==q.PENDING}abort(){this._resolver.reject(f.createAbortError())}_cleanUp(){this._resolvingPromises=this._allPromise=null}_tryResolve(){if(!this.isFulfilled()){var h=f.createResolver(),l=[...this._resolvingPromises,h.promise],m=this._allPromise=Promise.all(l);m.then(()=>{this.isFulfilled()||this._allPromise!==m||this._resolver.resolve()},w=>{this.isFulfilled()||this._allPromise!==m||f.isAbortError(w)||this._resolver.reject(w)});h.resolve()}}}const k=h=>
{h=class extends h{constructor(...l){super(...l);this._promiseProps=new n;this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(l,m){return this._promiseProps.promise.then(()=>this).then(l,m)}catch(l){return this.when(null,l)}addResolvingPromise(l){l&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in
l?l.when():l)}};return h=b.__decorate([c.subclass("esri.core.Promise")],h)};a.EsriPromise=class extends k(d){};a.EsriPromise=b.__decorate([c.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports","./asyncUtils","./Collection","./Loadable"],function(a,b,d,f){async function c(q,n){const k=[],h=(...m)=>{for(const w of m)null!=w&&(Array.isArray(w)?h(...w):d.isCollection(w)?w.forEach(r=>
h(r)):f.isLoadable(w)&&k.push(w))};n(h);let l=null;await b.map(k,async m=>{m=await b.result("loadAll"in m&&"function"===typeof m.loadAll?m.loadAll():m.load());!1!==m.ok||l||(l=m)});if(l)throw l.error;return q}a.loadAll=async function(q,n){await q.load();return c(q,n)};a.loadAllChildren=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){function k(r){return{ok:!0,value:r}}function h(r){return{ok:!1,error:r}}function l(r){return null!=r&&!0===r.ok?r.value:null}function m(r){return null!=r&&!1===r.ok?r.error:null}let w=class extends d{get value(){return l(this._result)}get error(){return m(this._result)}get finished(){return null!=this._result}constructor(r,e){super({});this._abortHandle=this._result=null;this.remove=this.abort=()=>{this._abortController=f.abortMaybe(this._abortController)};this._abortController=
new AbortController;const {signal:g}=this._abortController;this.promise=r(g);this.promise.then(p=>{this._result=k(p);this._cleanup()},p=>{this._result=h(p);this._cleanup()});this._abortHandle=c.onAbort(e,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=f.removeMaybe(this._abortHandle);this._abortController=null}};b.__decorate([q.property()],w.prototype,"value",null);b.__decorate([q.property()],w.prototype,"error",null);b.__decorate([q.property()],w.prototype,
"finished",null);b.__decorate([q.property()],w.prototype,"promise",void 0);b.__decorate([q.property()],w.prototype,"_result",void 0);w=b.__decorate([n.subclass("esri.core.asyncUtils.ReactiveTask")],w);a.assertResult=function(r){if(!0===r.ok)return r.value;throw r.error;};a.createTask=function(r,e){return new w(r,e)};a.forEach=function(r,e,g){return c.eachAlways(r.map((p,v)=>e.apply(g,[p,v])))};a.makeResultError=h;a.makeResultOk=k;a.map=async function(r,e,g){return(await c.eachAlways(r.map((p,v)=>
e.apply(g,[p,v])))).map(p=>p.value)};a.result=async function(r){if(null==r)return{ok:!1,error:Error("no promise provided")};try{return k(await r)}catch(e){return h(e)}};a.resultError=m;a.resultOrAbort=async function(r){try{return k(await r)}catch(e){return c.throwIfAbortError(e),h(e)}};a.resultValue=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(d,f,c){let q,
n;void 0===f?(n=d,q=[void 0]):"string"!==typeof f?(n=d,q=[void 0],c=f):(n=f,q=Array.isArray(d)?d:[d]);return(k,h)=>{const l=k.constructor.prototype;for(const m of q){const w=b.propertyJSONMeta(k,m,n);w.write&&"object"===typeof w.write||(w.write={});c&&(w.write.target=c);w.write.writer=l[h]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/SpatialReference":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;b=l=class extends b.JSONSupport{static fromJSON(m){if(!m)return null;if(m.wkid){if(102100===m.wkid)return l.WebMercator;if(4326===m.wkid)return l.WGS84}const w=new l;w.read(m);return w}constructor(m){super(m);this.imageCoordinateSystem=this.latestVcsWkid=this.vcsWkid=this.wkt2=this.wkt=this.wkid=this.latestWkid=null}normalizeCtorArgs(m){return m&&"object"===typeof m?m:{["string"===typeof m?"wkt":"wkid"]:m}}get isWGS84(){return h.isWGS84(this)}get isWebMercator(){return h.isWebMercator(this)}get isGeographic(){return h.isGeographic(this)}get isWrappable(){return h.isWrappable(this)}get metersPerUnit(){return f.getMetersPerUnitForSR(this)}get unit(){return f.getUnitString(this)||
(this.isGeographic?"degrees":null)}writeWkt(m,w){this.wkid||(w.wkt=m)}clone(){if(this===l.WGS84)return new l(h.wgs84);if(this===l.WebMercator)return new l(h.webMercator);const m=new l;null!=this.wkid?(m.wkid=this.wkid,null!=this.latestWkid&&(m.latestWkid=this.latestWkid),null!=this.vcsWkid&&(m.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(m.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(m.wkt=this.wkt),null!=this.wkt2&&(m.wkt2=this.wkt2));this.imageCoordinateSystem&&(m.imageCoordinateSystem=
d.clone(this.imageCoordinateSystem));return m}equals(m){if(null==m)return!1;if(this.imageCoordinateSystem||m.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==m.imageCoordinateSystem)return!1;const {id:w,referenceServiceName:r}=m.imageCoordinateSystem,{geodataXform:e}=m.imageCoordinateSystem,g=this.imageCoordinateSystem;return null==w||e?JSON.stringify(g)===JSON.stringify(m.imageCoordinateSystem):r?g.id===w&&g.referenceServiceName===r:g.id===w}return h.equals(this,m)}toJSON(m){return this.write(void 0,
m)}};b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;b.PlateCarree=null;a.__decorate([q.property({readOnly:!0})],b.prototype,"isWGS84",null);a.__decorate([q.property({readOnly:!0})],b.prototype,"isWebMercator",null);a.__decorate([q.property({readOnly:!0})],b.prototype,"isGeographic",null);a.__decorate([q.property({readOnly:!0})],b.prototype,"isWrappable",null);a.__decorate([q.property({type:c.Integer,json:{write:!0}})],b.prototype,"latestWkid",void 0);a.__decorate([q.property({readOnly:!0})],
b.prototype,"metersPerUnit",null);a.__decorate([q.property({readOnly:!0})],b.prototype,"unit",null);a.__decorate([q.property({type:c.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],b.prototype,"wkid",void 0);a.__decorate([q.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],b.prototype,"wkt",void 0);a.__decorate([k.writer("wkt"),k.writer("web-scene","wkt")],b.prototype,
"writeWkt",null);a.__decorate([q.property({type:String,json:{write:!1}})],b.prototype,"wkt2",void 0);a.__decorate([q.property({type:c.Integer,json:{write:!0}})],b.prototype,"vcsWkid",void 0);a.__decorate([q.property({type:c.Integer,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);a.__decorate([q.property()],b.prototype,"imageCoordinateSystem",void 0);b=l=a.__decorate([n.subclass("esri.geometry.SpatialReference")],b);b.prototype.toJSON.isDefaultToJSON=!0;b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
b.WGS84=new b(h.wgs84);b.WebMercator=new b(h.webMercator);b.PlateCarree=new b(h.plateCarree);Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator),Object.freeze(b.PlateCarree));return b})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,d,f,c,q,n){function k(K){K=L[K];if(!K)throw Error("unknown type");
return K}function h(K){return M[K].baseUnit}function l(K,O=null){O=O||k(K);return M[O].baseUnit===K}function m(K,O,R){if(O===R)return K;const V=k(O);if(V!==k(R))throw Error("incompatible units");K=l(O,V)?K:K*M[V].units[O].inBaseUnits;return l(R,V)?K:K/M[V].units[R].inBaseUnits}function w(K){switch(K){case "metric":return"meters";case "imperial":return"feet";default:return K}}function r(K,O){K=m(K,O,"meters");return 3E3>Math.abs(K)?"meters":"kilometers"}function e(K,O){K=m(K,O,"meters");return 1E5>
Math.abs(K)?"meters":"kilometers"}function g(K,O){K=m(K,O,"feet");return 1E3>Math.abs(K)?"feet":"miles"}function p(K,O){K=m(K,O,"feet");return 1E5>Math.abs(K)?"feet":"miles"}function v(K){return G.fromJSON(K.toLowerCase())||null}function u(K){const O=x(K),R=f.getReferenceEllipsoid(K).metersPerDegree;return O>=R?"meters":y(K)}function x(K,O=c.earth.metersPerDegree){return z(K,!0)??O}function z(K,O=!1){const R=K?.wkid??null;K=K?.wkt2??K?.wkt??null;let V=null;if(R){if(q.isWKIDFromMars(R))return c.mars.metersPerDegree;
if(q.isWKIDFromMoon(R))return c.moon.metersPerDegree;V=E.values[E[R]];!V&&O&&F.has(R)&&(V=A)}else K&&(B(K)?V=t(D.exec(K),V):/^GEOCCS/i.test(K)&&(V=t(J.exec(K),V)));return V}function t(K,O){return K?.[1]?parseFloat(K[1].split(",")[1]):O}function y(K){var O=K?.wkid??null,R=K?.wkt2??K?.wkt??null;K=null;if(O)K=E.units[E[O]];else if(R&&(O=B(R)?D:/^GEOCCS/i.test(R)?J:null)&&(O=O.exec(R),O?.[1]&&(O=O[1],K=/[\\"']{1}([^\\"']+)/.exec(O)?.[1],!K||!E.units.includes(K)))){O=parseFloat(O.split(",")[1]);K=null;
R=E.values;for(let V=0;V<R.length;++V)if(1E-7>Math.abs(O-R[V])){K=E.units[V];break}}return null!=K?v(K):null}function B(K){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(K)}const A=c.earth.radius*Math.PI/200,D=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,E=n,J=/UNIT\[([^\]]+)]/i,F=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),G=d.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",
foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},
yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};n={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(K=>
K*K)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const M={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:n},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*
304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},L=(()=>{const K={};for(const O in M)for(const R in M[O].units)K[R]=O;return K})(),T="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),N=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=d.strict()({esriAcres:"acres",esriAres:"ares",
esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});n=d.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",
esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"});d=d.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.adaptiveImperialAreaUnit=function(K,O){K=m(K,O,"square-feet");return 1E6>Math.abs(K)?"square-feet":"square-miles"};a.adaptiveImperialLengthUnit=g;a.adaptiveImperialVerticalLengthUnit=p;a.adaptiveLengthUnit=function(K,O,R){switch(R){case "metric":return r(K,O);case "imperial":return g(K,O);default:return R}};
a.adaptiveMetricAreaUnit=function(K,O){K=m(K,O,"square-meters");return 3E6>Math.abs(K)?"square-meters":"square-kilometers"};a.adaptiveMetricLengthUnit=r;a.adaptiveMetricVerticalLengthUnit=e;a.adaptiveVerticalLengthUnit=function(K,O,R){switch(R){case "metric":return e(K,O);case "imperial":return p(K,O);default:return R}};a.angleUnitsJSONMap=d;a.areaUnitFromSpatialReference=function(K){K=y(K);return null==K?null:N.get(K)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(K){return h(k(K))};a.baseUnitForUnitType=
h;a.convertUnit=m;a.defaultAreaUnit=function(K){switch(K){case "metric":return"square-meters";case "imperial":return"square-feet";default:return K}};a.defaultLengthUnit=w;a.defaultVerticalLengthUnit=function(K){return w(K)};a.getDefaultUnitSystem=function(K){K=y(K);if(null==K)return null;switch(K){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerCartesianUnitForSR=function(K){return q.isGeographic(K)?1:x(K)};a.getMetersPerUnit=z;a.getMetersPerUnitForSR=x;a.getMetersPerVerticalUnitForSR=function(K){if(null!=K&&!q.isEarth(K))return 1;K=x(K);return 1E5<K?1:K};a.getUnitString=y;a.getVerticalUnitStringForSR=u;a.inchesPerMeter=39.37;a.isBaseUnit=l;a.isMeasurementSystem=function(K){return"imperial"===K||"metric"===K};a.isProjectedWKT=B;a.lengthToDegrees=
function(K,O,R){return m(K,O,"meters")/(R*Math.PI/180)};a.lengthUnitFromSpatialReference=function(K){K=y(K);return null!=K&&T.includes(K)?K:null};a.lengthUnitsJSONMap=n;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=T;a.unitFromRESTJSON=v;a.unitType=k;a.verticalLengthUnitFromSpatialReference=function(K){K=u(K);return null!=K&&T.includes(K)?K:null};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){class d{constructor(f,c={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=f;this._options=c;this.apiValues=[];this.jsonValues=[];this._apiToJSON=this._invertMap(f);this.apiValues=this._getKeysSorted(this._apiToJSON);this.jsonValues=this._getKeysSorted(this._jsonToAPI);this.read=q=>this.fromJSON(q);this.write=(q,n,k)=>{q=this.toJSON(q);void 0!==q&&b.setDeepValue(k,q,n)};this.write.isJSONMapWriter=
!0}toJSON(f){return null==f?null:this._apiToJSON.hasOwnProperty(f)?(f=this._apiToJSON[f],this._options.useNumericKeys?+f:f):this._options.ignoreUnknown?void 0:f}fromJSON(f){return null!=f&&this._jsonToAPI.hasOwnProperty(f)?this._jsonToAPI[f]:this._options.ignoreUnknown?void 0:f}_invertMap(f){const c={};for(const q in f)c[f[q]]=q;return c}_getKeysSorted(f){const c=[];for(const q in f)c.push(q);c.sort();return c}}a.JSONMap=d;a.strict=function(){return function(f,c){return new d(f,{ignoreUnknown:!0,
...c})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,d){function f(w){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${w.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}
function c(w){return d.equals(w,q)}const q=f(b.earth),n=f(b.mars),k=f(b.moon),h={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${b.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},l=n.wkt.toUpperCase(),m=
k.wkt.toUpperCase();a.SphericalECEFSpatialReferenceLike=q;a.SphericalPCPFMarsLike=n;a.SphericalPCPFMoonLike=k;a.WGS84ECEFSpatialReferenceLike=h;a.getReferenceEllipsoid=function(w){if(null!=w&&d.isValid(w)){const r=w.wkid;w=w.wkt2??w.wkt;if(d.isWKIDFromMars(r))return b.mars;const e=w?.toUpperCase();if(w&&e===l)return b.mars;if(d.isWKIDFromMoon(r)||e&&e===m)return b.moon}return b.earth};a.getReferenceEllipsoidFromWKID=function(w){return d.isWKIDFromMars(w)?b.mars:d.isWKIDFromMoon(w)?b.moon:b.earth};
a.isSphericalECEF=c;a.isSphericalPCPF=function(w){return c(w)||d.equals(w,n)||d.equals(w,k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports"],function(a){class b{constructor(q,n,k,h){this.semiMajorAxis=q;this.flattening=n;this.outerAtmosphereRimWidth=k;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=
this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=h||2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const d=new b(6378137,1/298.257223563,3E5,.006694379990137799),f=new b(3396190,.005886007555525457,23E4),c=new b(1737400,0,0);a.Ellipsoid=b;a.earth=d;a.mars=f;a.moon=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports",
"../../core/string","../../chunks/pe","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,d,f,c){function q(u){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(u)}function n(u){u=u?.wkid;return null!=u&&2E3<=u&&r.includes(u)}function k(u){return u===f.SupportedGCSWkids.GCSMARS2000||u===f.SupportedGCSWkids.GCSMARS2000_SPHERE}function h(u){return k(u?.wkid)}function l(u){return u===f.SupportedGCSWkids.GCSMOON2000}
function m(u){return l(u?.wkid)}function w(u){if(null==u)return!1;const x=u.wkid;return null!=x&&2E3<=x?!0:null!=u.wkt2||null!=u.wkt}const r=[102100,102113,3857,3785],e=[4326,...r,104905,104971],g=[-2.0037508342788905E7,2.0037508342788905E7],p=[-2.0037508342787E7,2.0037508342787E7],v={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:g,origin:p,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:g,origin:p,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:g,origin:p,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:g,origin:p,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};b={wkid:4326,wkt:b.replace(v[4326].wkTemplate,{Central_Meridian:"0.0"})};a.equals=function(u,x){if(u===x)return!0;if(null==u||null==x)return!1;const z=u.wkid,t=x.wkid;if(null!=z||null!=t){if(z===t||n(u)&&n(x))return!0;u=u.latestWkid;if(null!=u&&t===u)return!0;x=x.latestWkid;return null!=x&&z===x?!0:!1}let y,B;u.wkt2&&x.wkt2?(y=u.wkt2,B=x.wkt2):u.wkt&&x.wkt&&(y=u.wkt,B=x.wkt);return y&&B?y.toUpperCase()===B.toUpperCase():!1};a.getInfo=function(u){u=u?.wkid;return null!=u&&2E3<=u?v[u]||null:
null};a.getWKT=async function(u,x){if(1===x&&!q(u)||2===x&&q(u))return u;d.isLoaded()||await d.load();return d.PeFactory.fromString(d.PeDefs.PE_TYPE_NONE,u)?.toString(1===x?d.PeDefs.PE_STR_FMT_WKT:d.PeDefs.PE_STR_FMT_WKT2)??null};a.isCGCS2000=function(u){return u?.wkid===f.SupportedGCSWkids.CGCS2000};a.isEarth=function(u){return!(h(u)||m(u))};a.isGeographic=function(u){if(!w(u))return!1;const {wkid:x}=u;return x?null==c[x]:(u=u.wkt2||u.wkt)?/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(u):!1};a.isMars=
h;a.isMoon=m;a.isPlateCarree=function(u){return 32662===u?.wkid};a.isValid=w;a.isWGS84=function(u){return 4326===u?.wkid};a.isWKIDFromMars=k;a.isWKIDFromMoon=l;a.isWKT2=q;a.isWebMercator=n;a.isWrappable=function(u){u=u?.wkid;return null!=u&&2E3<=u&&e.includes(u)};a.plateCarree={wkid:32662};a.srToRESTValue=function(u){if(u){var {wkid:x,vcsWkid:z}=u;if(x)return z?JSON.stringify({wkid:x,vcsWkid:z}):String(x);u=u.wkt||u.wkt2;return JSON.stringify(u?z?{wkt:u,vcsWkid:z}:{wkt:u}:{})}};a.webMercator={wkid:102100,
latestWkid:3857};a.wgs84=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","../assets","../core/has"],function(a,b,d,f){function c(){return!!b._pe}function q(){return!!f("esri-wasm")}function n(){return r?r:r=(new Promise((g,p)=>a(["./pe-wasm"],g,p))).then(g=>g.peWasm).then(({default:g})=>g({locateFile:p=>d.getAssetUrl(`esri/geometry/support/${p}`)})).then(g=>{k(g)})}function k(g){function p(x,z,t){x[z]=t(x[z])}b._pe=g;b.PeDefs.init();
b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=class extends b._pe.PeGCSExtent{destroy(){b._pe.destroy(this)}};g=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var v of g)p(v.prototype,"getName",x=>function(){return x.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const x of[b._pe.PeGeogtran,b._pe.PeProjcs])p(x.prototype,"getParameters",z=>function(){const t=
Array(b.PeDefs.PE_PARM_MAX);let y=z.call(this);for(let B=0;B<t.length;B++){const A=b._pe.getValue(y,"*");t[B]=A?b._pe.wrapPointer(A,b._pe.PeParameter):null;y+=Int32Array.BYTES_PER_ELEMENT}return t});p(b._pe.PeHorizon.prototype,"getCoord",x=>function(){const z=this.getSize();if(!z)return null;const t=[],y=x.call(this);w(t,z,y);return t});p(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",x=>{const z=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let t=null;var y=x.call(this);if(!b._pe.compare(y,
b._pe.NULL)){t=[y];const B=this.getSteps();if(1<B){y=b._pe.getPointer(y);for(let A=1;A<B;A++)t.push(b._pe.wrapPointer(y+z*A,b._pe.PeGTlistExtendedGTs))}}return t}});const u=b._pe._pe_getPeHorizonSize();v=x=>function(){let z=this._cache;z||(this._cache=z=new Map);if(z.has(x))return z.get(x);let t=null;var y=x.call(this);if(!b._pe.compare(y,b._pe.NULL)){t=[y];const B=y.getNump();if(1<B){y=b._pe.getPointer(y);for(let A=1;A<B;A++)t.push(b._pe.wrapPointer(y+u*A,b._pe.PeHorizon))}}z.set(x,t);return t};
p(b._pe.PeProjcs.prototype,"horizonGcsGenerate",v);p(b._pe.PeProjcs.prototype,"horizonPcsGenerate",v);b._pe.PeObject.prototype.toString=function(x=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();const z=b._pe.getPointer(this),t=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(z,x,t))}}function h(g){if(g){var p=b._pe.getClass(g);p&&(p=b._pe.getCache(p))&&(g=b._pe.getPointer(g))&&delete p[g]}}function l(g,p){const v=[];p=Array(p);for(let u=
0;u<g;u++)v.push(b._pe.ensureInt8(p));return v}function m(g){let p;Array.isArray(g[0])?(p=[],g.forEach(v=>{p.push(v[0],v[1])})):p=g;return p}function w(g,p,v,u=!1){if(u)for(u=0;u<2*p;u++)g[u]=b._pe.getValue(v+u*Float64Array.BYTES_PER_ELEMENT,"double");else{u=0===g.length;for(let x=0;x<p;x++)u&&(g[x]=Array(2)),g[x][0]=b._pe.getValue(v,"double"),g[x][1]=b._pe.getValue(v+Float64Array.BYTES_PER_ELEMENT,"double"),v+=2*Float64Array.BYTES_PER_ELEMENT}}let r;b._pe=null;b.PeCSTransformations=void 0;(function(g){function p(x,
z,t){b._pe.ensureCache.prepare();var y=m(t);const B=t===y;y=b._pe.ensureFloat64(y);(x=b._pe._pe_geog_to_proj(b._pe.getPointer(x),z,y))&&w(t,z,y,B);return x}function v(x,z,t){return u(x,z,t,0)}function u(x,z,t,y){b._pe.ensureCache.prepare();var B=m(t);const A=t===B;B=b._pe.ensureFloat64(B);(x=b._pe._pe_proj_to_geog_center(b._pe.getPointer(x),z,B,y))&&w(t,z,B,A);return x}g.geogToProj=p;g.projGeog=function(x,z,t,y){switch(y){case b.PeDefs.PE_TRANSFORM_P_TO_G:return v(x,z,t);case b.PeDefs.PE_TRANSFORM_G_TO_P:return p(x,
z,t)}return 0};g.projToGeog=v;g.projToGeogCenter=u})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(g){g.init=function(){g.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;g.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;g.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;g.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;g.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;g.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;g.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;g.PE_UTM_MAX=
b._pe.PeDefs.prototype.PE_UTM_MAX;g.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;g.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;g.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;g.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;g.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;g.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;g.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;g.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;g.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;
g.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;g.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;g.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;g.PE_STR_FMT_WKT=b._pe.PeDefs.prototype.PE_STR_FMT_WKT;g.PE_STR_FMT_WKT2=b._pe.PeDefs.prototype.PE_STR_FMT_WKT2;g.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;g.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;g.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;g.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;
g.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;g.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;g.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;g.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;g.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;g.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(g){function p(z,t){let y=null,B=v[z];B||(B={},v[z]=B);B.hasOwnProperty(String(t))?y=
B[t]:(z=b._pe.PeFactory.prototype.factoryByType(z,t),b._pe.compare(z,b._pe.NULL)||(y=z,B[t]=y));return y=x(y)}const v={},u={},x=z=>{if(z){const t=z.getType();switch(t){case b.PeDefs.PE_TYPE_GEOGCS:z=b._pe.castObject(z,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:z=b._pe.castObject(z,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:z=b._pe.castObject(z,b._pe.PeGeogtran);break;default:t&b.PeDefs.PE_TYPE_UNIT&&(z=b._pe.castObject(z,b._pe.PeUnit))}}return z};g.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};
g.coordsys=function(z){return p(b.PeDefs.PE_TYPE_COORDSYS,z)};g.factoryByType=p;g.fromString=function(z,t){let y=null,B=u[z];B||(B={},u[z]=B);B.hasOwnProperty(t)?y=B[t]:(z=b._pe.PeFactory.prototype.fromString(z,t),b._pe.compare(z,b._pe.NULL)||(y=z,B[t]=y));return y=x(y)};g.geogcs=function(z){return p(b.PeDefs.PE_TYPE_GEOGCS,z)};g.geogtran=function(z){return p(b.PeDefs.PE_TYPE_GEOGTRAN,z)};g.getCode=function(z){return b._pe.PeFactory.prototype.getCode(z)};g.projcs=function(z){return p(b.PeDefs.PE_TYPE_PROJCS,
z)};g.unit=function(z){return p(b.PeDefs.PE_TYPE_UNIT,z)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(g){let p;g.init=function(){g.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;p=b._pe._pe_getPeGTlistExtendedEntrySize()};g.getGTlist=function(v,u,x,z,t,y){let B=null;const A=new b._pe.PeInteger(y);try{const D=b._pe.PeGTlistExtended.prototype.getGTlist(v,u,x,z,t,A);if(y=A.val)if(B=[D],1<y){const E=b._pe.getPointer(D);for(v=1;v<
y;v++)B.push(b._pe.wrapPointer(E+p*v,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(A)}return B}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(g){g.destroy=function(p){if(p?.length){for(const v of p)h(v),v.getEntries().forEach(u=>{h(u);u=u.getGeogtran();h(u);u.getParameters().forEach(h);[u.getGeogcs1(),u.getGeogcs2()].forEach(x=>{h(x);const z=x.getDatum();h(z);h(z.getSpheroid());h(x.getPrimem());h(x.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(p[0])}}})(b.PeGTlistExtendedEntry||
(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(g){g.geogToGeog=function(p,v,u,x,z){b._pe.ensureCache.prepare();var t=m(u);const y=u===t;t=b._pe.ensureFloat64(t);let B=0;x&&(B=b._pe.ensureFloat64(x));(p=b._pe._pe_geog_to_geog(b._pe.getPointer(p),v,t,B,z))&&w(u,v,t,y);return p}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(g){const p=(u,x,z,t,y,B)=>{b._pe.ensureCache.prepare();switch(u){case "dd":var A=b._pe._pe_geog_to_dd;var D=b.PeDefs.PE_DD_MAX;
break;case "ddm":A=b._pe._pe_geog_to_ddm;D=b.PeDefs.PE_DDM_MAX;break;case "dms":A=b._pe._pe_geog_to_dms,D=b.PeDefs.PE_DMS_MAX}u=0;x&&(u=b._pe.getPointer(x));x=m(t);x=b._pe.ensureFloat64(x);D=l(z,D);t=b._pe.ensureInt32(D);if(y=A(u,z,x,y,t))for(A=0;A<z;A++)B[A]=b._pe.UTF8ToString(D[A]);return y},v=(u,x,z,t,y)=>{b._pe.ensureCache.prepare();switch(u){case "dd":var B=b._pe._pe_dd_to_geog;break;case "ddm":B=b._pe._pe_ddm_to_geog;break;case "dms":B=b._pe._pe_dms_to_geog}u=0;x&&(u=b._pe.getPointer(x));x=
t.map(A=>b._pe.ensureString(A));t=b._pe.ensureInt32(x);x=b._pe.ensureFloat64(Array(2*z));(B=B(u,z,t,x))&&w(y,z,x);return B};g.geogToDms=function(u,x,z,t,y){return p("dms",u,x,z,t,y)};g.dmsToGeog=function(u,x,z,t){return v("dms",u,x,z,t)};g.geogToDdm=function(u,x,z,t,y){return p("ddm",u,x,z,t,y)};g.ddmToGeog=function(u,x,z,t){return v("ddm",u,x,z,t)};g.geogToDd=function(u,x,z,t,y){return p("dd",u,x,z,t,y)};g.ddToGeog=function(u,x,z,t){return v("dd",u,x,z,t)}})(b.PeNotationDms||(b.PeNotationDms={}));
b.PeNotationMgrs=void 0;(function(g){g.init=function(){g.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;g.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;g.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;g.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;g.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};g.geogToMgrsExtended=function(p,v,u,x,z,t,y){b._pe.ensureCache.prepare();let B=0;p&&
(B=b._pe.getPointer(p));p=m(u);u=b._pe.ensureFloat64(p);p=l(v,b.PeDefs.PE_MGRS_MAX);const A=b._pe.ensureInt32(p);if(x=b._pe._pe_geog_to_mgrs_extended(B,v,u,x,z,t,A))for(z=0;z<v;z++)y[z]=b._pe.UTF8ToString(p[z]);return x};g.mgrsToGeogExtended=function(p,v,u,x,z){b._pe.ensureCache.prepare();let t=0;p&&(t=b._pe.getPointer(p));p=u.map(y=>b._pe.ensureString(y));u=b._pe.ensureInt32(p);p=b._pe.ensureFloat64(Array(2*v));(x=b._pe._pe_mgrs_to_geog_extended(t,v,u,x,p))&&w(z,v,p);return x}})(b.PeNotationMgrs||
(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(g){g.geogToUsng=function(p,v,u,x,z,t,y){b._pe.ensureCache.prepare();let B=0;p&&(B=b._pe.getPointer(p));p=m(u);u=b._pe.ensureFloat64(p);p=l(v,b.PeDefs.PE_MGRS_MAX);const A=b._pe.ensureInt32(p);if(x=b._pe._pe_geog_to_usng(B,v,u,x,z,t,A))for(z=0;z<v;z++)y[z]=b._pe.UTF8ToString(p[z]);return x};g.usngToGeog=function(p,v,u,x){b._pe.ensureCache.prepare();var z=0;p&&(z=b._pe.getPointer(p));p=u.map(t=>b._pe.ensureString(t));u=b._pe.ensureInt32(p);p=
b._pe.ensureFloat64(Array(2*v));(z=b._pe._pe_usng_to_geog(z,v,u,p))&&w(x,v,p);return z}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(g){g.init=function(){g.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;g.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;g.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};g.geogToUtm=function(p,v,u,x,z){b._pe.ensureCache.prepare();var t=0;p&&(t=b._pe.getPointer(p));p=m(u);u=b._pe.ensureFloat64(p);
p=l(v,b.PeDefs.PE_UTM_MAX);const y=b._pe.ensureInt32(p);if(x=b._pe._pe_geog_to_utm(t,v,u,x,y))for(t=0;t<v;t++)z[t]=b._pe.UTF8ToString(p[t]);return x};g.utmToGeog=function(p,v,u,x,z){b._pe.ensureCache.prepare();let t=0;p&&(t=b._pe.getPointer(p));p=u.map(y=>b._pe.ensureString(y));u=b._pe.ensureInt32(p);p=b._pe.ensureFloat64(Array(2*v));(x=b._pe._pe_utm_to_geog(t,v,u,x,p))&&w(z,v,p);return x}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(g){const p=new Map;g.init=function(){g.PE_PCSINFO_OPTION_NONE=
b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;g.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;g.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;g.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};g.generate=function(v,u=g.PE_PCSINFO_OPTION_DOMAIN){let x=null,z=null;p.has(v)&&(z=p.get(v),z[u]&&(x=z[u]));x||(x=b._pe.PePCSInfo.prototype.generate(v,u),z||(z=[],p.set(v,z)),z[u]=x);return x}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;
(function(g){g.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},
get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:k,get _pe(){return b._pe},isLoaded:c,isSupported:q,load:n},Symbol.toStringTag,{value:"Module"}));b._init=k;b.isLoaded=c;b.isSupported=q;b.load=n;b.pe=e})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),
function(a,b,d,f,c,q){function n(k){if(!b.assetsPath)throw c.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new f("assets:path-not-set","config.assetsPath is not set");return q.join(b.assetsPath,k)}a.fetchAsset=function(k,h){return d(n(k),h)};a.getAssetUrl=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=
void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,
.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,
2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,
3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,
3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,
3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,
5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,
6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,
6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,
6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,
6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,
7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,
7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,
8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,
8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,
9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,
20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,
27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,
102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,
103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,
103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,
103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,
103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=
1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=
1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=
0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=
2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=
0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5167;5188>=a;a++)b[a]=
0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=
0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=
0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=
0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=
0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=10285;10291>=a;a++)b[a]=0;for(a=10314;10317>=a;a++)b[a]=0;for(a=10448;10465>=a;a++)b[a]=0;for(a=11114;11118>=a;a++)b[a]=0;for(a=20004;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=
20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=
0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22229;22232>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=a;a++)b[a]=0;for(a=22307;22322>=a;a++)b[a]=0;for(a=22348;22357>=a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=a;a++)b[a]=0;for(a=22641;22646>=
a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22807;22822>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23301;23333>=a;a++)b[a]=2;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=
a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=
a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=
a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=
a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32401;32460>=a;a++)b[a]=0;for(a=32501;32560>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=
a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=
102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=
0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102955>=a;a++)b[a]=0;for(a=102961;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=
0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=
0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=
2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=
2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=
0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=a;a++)b[a]=2;for(a=103972;103977>=a;a++)b[a]=0;for(a=112E3;112101>=a;a++)b[a]=0;return b})},"esri/portal/Portal":function(){define("require ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalGroup ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A){function D(L){const T=f.id;return()=>{const N=L.deref();N&&T.findCredential(N.restUrl)&&N.signIn().catch(()=>{})}}const E=L=>Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));var J;let F;const G={PortalGroup:()=>Promise.resolve({default:z}),PortalItem:()=>new Promise((L,T)=>a(["./PortalItem"],N=>L(E(N)),T)),PortalUser:()=>Promise.resolve({default:B})};n=J=class extends n.JSONSupportMixin(k){constructor(L){super(L);
this.access=this._esriIdCredentialCreateHandle=null;this.allSSL=!1;this.authMode="auto";this.bingKey=this.basemapGalleryGroupQuery3D=this.basemapGalleryGroupQuery=this.authorizedCrossOriginDomains=null;this.canProvisionDirectPurchase=this.canListPreProvisionedItems=this.canListData=this.canListApps=!1;this.canSearchPublic=!0;this.canSignInIDP=this.canSignInArcGIS=this.canSharePublic=this.canShareBingPublic=!1;this.colorSetsGroupQuery=null;this.commentsEnabled=!1;this.livingAtlasGroupQuery=this.layoutGroupQuery=
this.galleryTemplatesGroupQuery=this.featuredItemsGroupQuery=this.featuredGroups=this.eueiEnabled=this.devBasemapGalleryGroupQuery=this.description=this.defaultVectorBasemap=this.defaultExtent=this.defaultDevBasemap=this.defaultBasemap=this.customBaseUrl=this.culture=this.created=null;this.hasCategorySchema=!1;this.ipCntryCode=this.id=this.httpsPort=this.httpPort=this.homePageFeaturedContentCount=this.homePageFeaturedContent=this.helperServices=null;this.isReadOnly=this.isPortal=!1;this.rotatorPanels=
this.region=this.portalProperties=this.portalMode=this.portalHostname=this.name=this.modified=this.maxTokenExpirationMinutes=this.layerTemplatesGroupQuery=null;this.showHomePageDescription=!1;this.sourceJSON=null;this.supportsHostedServices=!1;this.units=this.templatesGroupQuery=this.symbolSetsGroupQuery=null;this.url=d.portalUrl;this.user=this.urlKey=null;this.use3dBasemaps=!0;this.useVectorBasemaps=this.useStandardizedQuery=!1;this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(L){return"string"===
typeof L?{url:L}:L}destroy(){M.unregister(this);this.defaultBasemap=h.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=h.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=h.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=h.removeMaybe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(L){if(L)for(const T of L)d.request.trustedServers.includes(T)||d.request.trustedServers.push(T);return L}readDefaultBasemap(L){return this._readBasemap(L)}readDefaultDevBasemap(L){return this._readBasemap(L)}readDefaultVectorBasemap(L){return this._readBasemap(L)}get extraQuery(){const L=
!this.user?.orgId||this.canSearchPublic;return this.id&&!L?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let L=this.url;if(L){const T=L.indexOf("/sharing");L=0<T?L.substring(0,T):this.url.replace(/\/+$/,"");L+="/sharing/rest"}return L}get thumbnailUrl(){const L=this.restUrl,T=this.thumbnail;return L&&T?this._normalizeSSL(L+"/portals/self/resources/"+T):null}readUrlKey(L){return L?L.toLowerCase():
L}readUser(L){let T=null;L&&(T=B.fromJSON(L),T.portal=this);return T}load(L){const T=(new Promise((N,K)=>a(["../Basemap"],O=>N(E(O)),K))).then(({default:N})=>{l.throwIfAborted(L);F=N}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,L)).then(N=>{if(f.id){const K=f.id;this.credential=K.findCredential(this.restUrl);this.credential||this.authMode!==J.AUTH_MODE_AUTO&&this.authMode!==J.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=
K.on("credential-create",D(new WeakRef(this))),M.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=N;this.read(N)});this.addResolvingPromise(T);return Promise.resolve(this)}async createElevationLayers(){await this.load();const L=this._getHelperService("defaultElevationLayers"),T=(await new Promise((N,K)=>a(["../layers/ElevationLayer"],O=>N(E(O)),K))).default;return L?L.map(N=>new T({id:N.id,url:N.url})):[]}async fetchBasemaps(L,T){const N=await this._fetchBasemaps(L,T);!0===
T?.include3d&&!1!==this.use3dBasemaps&&(L=await this._fetchBasemaps3D(L,T),N.unshift(...L));return N}fetchCategorySchema(L){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",L).then(T=>T.categorySchema):l.isAborted(L)?Promise.reject(l.createAbortError()):Promise.resolve([])}fetchFeaturedGroups(L){const T=this.featuredGroups,N=new t;N.num=100;N.sortField="title";if(T&&T.length){const K=[];for(const O of T)K.push(`(title:"${O.title}" AND owner:${O.owner})`);N.query=
K.join(" OR ");return this.queryGroups(N,L).then(O=>O.results)}return l.isAborted(L)?Promise.reject(l.createAbortError()):Promise.resolve([])}fetchRegions(L){const T=this.user?.culture||this.culture||u.getLocale();return this.request(this.restUrl+"/portals/regions",{...L,query:{culture:T}})}fetchSettings(L){const T=this.user?.culture||this.culture||u.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...L,query:{culture:T}})}static getDefault(){return x.ensureDefaultPortalInstance(()=>
new J)}queryGroups(L,T){return this.queryPortal("/community/groups",L,"PortalGroup",T)}queryItems(L,T){return this.queryPortal("/search",L,"PortalItem",T)}queryUsers(L,T){L.sortField||(L.sortField="username");return this.queryPortal("/community/users",L,"PortalUser",T)}fetchSelf(L=this.authMode,T=!1,N){const K=this.restUrl+"/portals/self";L={authMode:L,query:{culture:u.getLocale().toLowerCase()},withCredentials:!0,...N};"auto"===L.authMode&&(L.authMode="no-prompt");T&&(L.query.default=!0);return this.request(K,
L)}queryPortal(L,T,N,K){const O=w.ensureType(t,T),R=V=>this.request(this.restUrl+L,{...O.toRequestOptions(this),...K}).then(ma=>{const ca=O.clone();ca.start=ma.nextStart;return new y({nextQueryParams:ca,queryParams:O,total:ma.total,results:J._resultsToTypedArray(V,{portal:this},ma,K)})}).then(ma=>Promise.all(ma.results.map(ca=>"function"===typeof ca.when?ca.when():ma)).then(()=>ma,ca=>{l.throwIfAbortError(ca);return ma}));return N&&G[N]?G[N]().then(({default:V})=>{l.throwIfAborted(K);return R(V)}):
R()}signIn(){if(this.authMode===J.AUTH_MODE_ANONYMOUS||this.authMode===J.AUTH_MODE_NO_PROMPT&&!f.id)return Promise.reject(new q("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const L=T=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return T||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=
T;return this.fetchSelf("immediate")});if(this.user&&this.credential===T)return null;this.credential=T;return this.fetchSelf("immediate")}).then(N=>{N&&(this.sourceJSON=N,this.read(N))});return f.id?f.id.getCredential(this.restUrl,{prompt:this.authMode!==J.AUTH_MODE_NO_PROMPT}).then(T=>L(T)):L(this.credential)}normalizeUrl(L){const T=this.credential?.token;return this._normalizeSSL(T?L+(L.includes("?")?"\x26":"?")+"token\x3d"+T:L)}requestToTypedArray(L,T,N){return this.request(L,T).then(K=>{const O=
J._resultsToTypedArray(N,{portal:this},K);return Promise.all(O.map(R=>"function"===typeof R.when?R.when():K)).then(()=>O,()=>O)})}request(L,T={}){var N={f:"json",...T.query};const {authMode:K=this.authMode===J.AUTH_MODE_ANONYMOUS||this.authMode===J.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:O=null,cacheBust:R=!1,method:V="auto",responseType:ma="json",signal:ca}=T;N={authMode:K,body:O,cacheBust:R,method:V,query:N,responseType:ma,timeout:0,signal:ca};T.withCredentials&&(N.withCredentials=!0);return c(this._normalizeSSL(L),
N).then(ua=>ua.data)}toJSON(){throw new q("internal:not-yet-implemented","Portal.toJSON is not yet implemented");}static fromJSON(L){if(!L)return null;if(L.declaredClass)throw Error("JSON object is already hydrated");return new J({sourceJSON:L})}_getHelperService(L){const T=this.helperServices&&this.helperServices[L];if(!T)throw new q("portal:service-not-found",`The \`helperServices\` do not include an entry named "${L}"`);return T}async _fetchBasemaps(L,T){const N=new t;N.query=L||(d.apiKey&&A.supportsApiKey(this.url)?
this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);N.disableExtraQuery=!0;L=await this.queryGroups(N,T);if(!L.total)return[];L=L.results[0];N.num=100;N.query='type:"Web Map" -type:"Web Application"';N.sortField=L.sortField||"name";N.sortOrder=L.sortOrder||"desc";T=await L.queryItems(N,T);return T.total?T.results.filter(K=>"Web Map"===K.type).map(K=>new F({portalItem:K})):[]}async _fetchBasemaps3D(L,T){L=L||this.basemapGalleryGroupQuery3D;
if(!L)return[];L=new t({query:L,disableExtraQuery:!0});var N=await this.queryGroups(L,T);if(!N.total)return[];N=N.results[0];L.num=100;L.query='type:"Web Scene"';L.sortField=N.sortField||"name";L.sortOrder=N.sortOrder||"desc";T=await N.queryItems(L,T);return T.total?T.results.filter(K=>"Web Scene"===K.type).map(K=>new F({portalItem:K})):[]}_normalizeSSL(L){return L.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(L){return L?(L=F.fromJSON(L),L.portalItem={portal:this},L):null}static _resultsToTypedArray(L,
T,N,K){let O=[];if(N){const R=null!=K?K.signal:null;O=N.listings||N.notifications||N.userInvitations||N.tags||N.items||N.groups||N.comments||N.provisions||N.results||N.relatedItems||N;if(L||T)O=O.map(V=>{V=Object.assign(L?L.fromJSON(V):V,T);"function"===typeof V.load&&V.load(R);return V})}else O=[];return O}};n.AUTH_MODE_ANONYMOUS="anonymous";n.AUTH_MODE_AUTO="auto";n.AUTH_MODE_IMMEDIATE="immediate";n.AUTH_MODE_NO_PROMPT="no-prompt";b.__decorate([m.property()],n.prototype,"access",void 0);b.__decorate([m.property()],
n.prototype,"allSSL",void 0);b.__decorate([m.property()],n.prototype,"authMode",void 0);b.__decorate([m.property()],n.prototype,"authorizedCrossOriginDomains",void 0);b.__decorate([g.reader("authorizedCrossOriginDomains")],n.prototype,"readAuthorizedCrossOriginDomains",null);b.__decorate([m.property()],n.prototype,"basemapGalleryGroupQuery",void 0);b.__decorate([m.property({json:{name:"3DBasemapGalleryGroupQuery"}})],n.prototype,"basemapGalleryGroupQuery3D",void 0);b.__decorate([m.property()],n.prototype,
"bingKey",void 0);b.__decorate([m.property()],n.prototype,"canListApps",void 0);b.__decorate([m.property()],n.prototype,"canListData",void 0);b.__decorate([m.property()],n.prototype,"canListPreProvisionedItems",void 0);b.__decorate([m.property()],n.prototype,"canProvisionDirectPurchase",void 0);b.__decorate([m.property()],n.prototype,"canSearchPublic",void 0);b.__decorate([m.property()],n.prototype,"canShareBingPublic",void 0);b.__decorate([m.property()],n.prototype,"canSharePublic",void 0);b.__decorate([m.property()],
n.prototype,"canSignInArcGIS",void 0);b.__decorate([m.property()],n.prototype,"canSignInIDP",void 0);b.__decorate([m.property()],n.prototype,"colorSetsGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"commentsEnabled",void 0);b.__decorate([m.property({type:Date})],n.prototype,"created",void 0);b.__decorate([m.property()],n.prototype,"credential",void 0);b.__decorate([m.property()],n.prototype,"culture",void 0);b.__decorate([m.property()],n.prototype,"currentVersion",void 0);b.__decorate([m.property()],
n.prototype,"customBaseUrl",void 0);b.__decorate([m.property()],n.prototype,"defaultBasemap",void 0);b.__decorate([g.reader("defaultBasemap")],n.prototype,"readDefaultBasemap",null);b.__decorate([m.property()],n.prototype,"defaultDevBasemap",void 0);b.__decorate([g.reader("defaultDevBasemap")],n.prototype,"readDefaultDevBasemap",null);b.__decorate([m.property({type:v})],n.prototype,"defaultExtent",void 0);b.__decorate([m.property()],n.prototype,"defaultVectorBasemap",void 0);b.__decorate([g.reader("defaultVectorBasemap")],
n.prototype,"readDefaultVectorBasemap",null);b.__decorate([m.property()],n.prototype,"description",void 0);b.__decorate([m.property()],n.prototype,"devBasemapGalleryGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"eueiEnabled",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"extraQuery",null);b.__decorate([m.property()],n.prototype,"featuredGroups",void 0);b.__decorate([m.property()],n.prototype,"featuredItemsGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"galleryTemplatesGroupQuery",
void 0);b.__decorate([m.property()],n.prototype,"layoutGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"livingAtlasGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"hasCategorySchema",void 0);b.__decorate([m.property()],n.prototype,"helpBase",void 0);b.__decorate([m.property()],n.prototype,"helperServices",void 0);b.__decorate([m.property()],n.prototype,"helpMap",void 0);b.__decorate([m.property()],n.prototype,"homePageFeaturedContent",void 0);b.__decorate([m.property()],n.prototype,
"homePageFeaturedContentCount",void 0);b.__decorate([m.property()],n.prototype,"httpPort",void 0);b.__decorate([m.property()],n.prototype,"httpsPort",void 0);b.__decorate([m.property()],n.prototype,"id",void 0);b.__decorate([m.property()],n.prototype,"ipCntryCode",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"isOrganization",null);b.__decorate([m.property()],n.prototype,"isPortal",void 0);b.__decorate([m.property()],n.prototype,"isReadOnly",void 0);b.__decorate([m.property({readOnly:!0})],
n.prototype,"itemPageUrl",null);b.__decorate([m.property()],n.prototype,"layerTemplatesGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"maxTokenExpirationMinutes",void 0);b.__decorate([m.property({type:Date})],n.prototype,"modified",void 0);b.__decorate([m.property()],n.prototype,"name",void 0);b.__decorate([m.property()],n.prototype,"portalHostname",void 0);b.__decorate([m.property()],n.prototype,"portalMode",void 0);b.__decorate([m.property()],n.prototype,"portalProperties",void 0);
b.__decorate([m.property()],n.prototype,"region",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"restUrl",null);b.__decorate([m.property()],n.prototype,"rotatorPanels",void 0);b.__decorate([m.property()],n.prototype,"showHomePageDescription",void 0);b.__decorate([m.property()],n.prototype,"sourceJSON",void 0);b.__decorate([m.property()],n.prototype,"staticImagesUrl",void 0);b.__decorate([m.property({json:{name:"2DStylesGroupQuery"}})],n.prototype,"stylesGroupQuery2d",void 0);b.__decorate([m.property({json:{name:"stylesGroupQuery"}})],
n.prototype,"stylesGroupQuery3d",void 0);b.__decorate([m.property()],n.prototype,"supportsHostedServices",void 0);b.__decorate([m.property()],n.prototype,"symbolSetsGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"templatesGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"thumbnail",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"thumbnailUrl",null);b.__decorate([m.property()],n.prototype,"units",void 0);b.__decorate([m.property()],n.prototype,"url",void 0);b.__decorate([m.property()],
n.prototype,"urlKey",void 0);b.__decorate([g.reader("urlKey")],n.prototype,"readUrlKey",null);b.__decorate([m.property()],n.prototype,"user",void 0);b.__decorate([g.reader("user")],n.prototype,"readUser",null);b.__decorate([m.property()],n.prototype,"use3dBasemaps",void 0);b.__decorate([m.property()],n.prototype,"useStandardizedQuery",void 0);b.__decorate([m.property()],n.prototype,"useVectorBasemaps",void 0);b.__decorate([m.property()],n.prototype,"vectorBasemapGalleryGroupQuery",void 0);b=n=J=b.__decorate([p.subclass("esri.portal.Portal")],
n);const M=new FinalizationRegistry(L=>{L.remove()});return b})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(d,f,c){let q,n;void 0===f||Array.isArray(f)?(n=d,c=f,q=[void 0]):(n=f,q=Array.isArray(d)?d:[d]);return(k,h)=>{const l=k.constructor.prototype;q.forEach(m=>{m=b.propertyJSONMeta(k,m,n);m.read&&"object"===typeof m.read||(m.read={});m.read.reader=l[h];c&&(m.read.source=(m.read.source||[]).concat(c))})}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define("../chunks/tslib.es6 ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,d,f,c,q,n,k,h,l,m,w,r,e){function g(v,u,x){return null==u?x:null==x?u:v(u,x)}var p;f=
p=class extends k{constructor(...v){super(...v);this.type="extent";this.ymin=this.xmin=0;this.zmin=this.mmin=void 0;this.ymax=this.xmax=0;this.zmax=this.mmax=void 0}normalizeCtorArgs(v,u,x,z,t){return!v||"esri.geometry.SpatialReference"!==v.declaredClass&&null==v.wkid?"object"===typeof v?(v.spatialReference=null==v.spatialReference?l.WGS84:v.spatialReference,v):{xmin:v,ymin:u,xmax:x,ymax:z,spatialReference:null==t?l.WGS84:t}:{spatialReference:v,xmin:0,ymin:0,xmax:0,ymax:0}}static fromBounds(v,u){return new p({xmin:v[0],
ymin:v[1],xmax:v[2],ymax:v[3],spatialReference:u})}static fromPoint(v){return new p({xmin:v.x,ymin:v.y,zmin:v.z,xmax:v.x,ymax:v.y,zmax:v.z,spatialReference:v.spatialReference})}get cache(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}get center(){const v=new h({x:.5*(this.xmin+
this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(v.z=.5*(this.zmin+this.zmax));this.hasM&&(v.m=.5*(this.mmin+this.mmax));return v}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(v){const u=this.center;return null!=v.z&&this.hasZ?this.offset(v.x-u.x,v.y-u.y,v.z-u.z):
this.offset(v.x-u.x,v.y-u.y)}clone(){const v=new p;v.xmin=this.xmin;v.ymin=this.ymin;v.xmax=this.xmax;v.ymax=this.ymax;v.spatialReference=this.spatialReference;null!=this.zmin&&(v.zmin=this.zmin,v.zmax=this.zmax);null!=this.mmin&&(v.mmin=this.mmin,v.mmax=this.mmax);return v}contains(v){if(!v)return!1;const u=this.spatialReference,x=v.spatialReference;u&&x&&!u.equals(x)&&e.canProject(u,x)&&(v=u.isWebMercator?e.geographicToWebMercator(v):e.webMercatorToGeographic(v,!0));return"point"===v.type?m.extentContainsPoint(this,
v):"extent"===v.type?m.extentContainsExtent(this,v):!1}equals(v){if(this===v)return!0;if(null==v)return!1;const u=this.spatialReference,x=v.spatialReference;u&&x&&!u.equals(x)&&e.canProject(u,x)&&(v=u.isWebMercator?e.geographicToWebMercator(v):e.webMercatorToGeographic(v,!0));return this.xmin===v.xmin&&this.ymin===v.ymin&&this.zmin===v.zmin&&this.mmin===v.mmin&&this.xmax===v.xmax&&this.ymax===v.ymax&&this.zmax===v.zmax&&this.mmax===v.mmax}expand(v){v=.5*(1-v);var u=this.width*v;const x=this.height*
v;this.xmin+=u;this.ymin+=x;this.xmax-=u;this.ymax-=x;this.hasZ&&(u=(this.zmax-this.zmin)*v,this.zmin+=u,this.zmax-=u);this.hasM&&(v*=this.mmax-this.mmin,this.mmin+=v,this.mmax-=v);return this}intersects(v){if(null==v)return!1;"mesh"===v.type&&(v=v.extent);const u=this.spatialReference,x=v.spatialReference;u&&x&&!r.equals(u,x)&&e.canProject(u,x)&&(v=u.isWebMercator?e.geographicToWebMercator(v):e.webMercatorToGeographic(v,!0));return w.getFeatureExtentIntersector(v.type)(this,v)}normalize(){const v=
this._normalize(!1,!0);return Array.isArray(v)?v:[v]}offset(v,u,x){this.xmin+=v;this.ymin+=u;this.xmax+=v;this.ymax+=u;null!=x&&(this.zmin+=x,this.zmax+=x);return this}shiftCentralMeridian(){return this._normalize(!0)}union(v){if(this===v)return this;this.xmin=Math.min(this.xmin,v.xmin);this.ymin=Math.min(this.ymin,v.ymin);this.xmax=Math.max(this.xmax,v.xmax);this.ymax=Math.max(this.ymax,v.ymax);if(this.hasZ||v.hasZ)this.zmin=g(Math.min,this.zmin,v.zmin),this.zmax=g(Math.max,this.zmax,v.zmax);if(this.hasM||
v.hasM)this.mmin=g(Math.min,this.mmin,v.mmin),this.mmax=g(Math.max,this.mmax,v.mmax);return this}intersection(v){if(this===v)return this;if(null==v||!this.intersects(v))return null;this.xmin=Math.max(this.xmin,v.xmin);this.ymin=Math.max(this.ymin,v.ymin);this.xmax=Math.min(this.xmax,v.xmax);this.ymax=Math.min(this.ymax,v.ymax);if(this.hasZ||v.hasZ)this.zmin=g(Math.max,this.zmin,v.zmin),this.zmax=g(Math.min,this.zmax,v.zmax);if(this.hasM||v.hasM)this.mmin=g(Math.max,this.mmin,v.mmin),this.mmax=g(Math.min,
this.mmax,v.mmax);return this}toJSON(v){return this.write({},v)}_shiftCM(v=r.getInfo(this.spatialReference)){if(!v||!this.spatialReference)return this;const u=this.spatialReference,x=this._getCM(v);if(x){const z=u.isWebMercator?e.webMercatorToGeographic(x):x;this.xmin-=x.x;this.xmax-=x.x;u.isWebMercator||(z.x=this._normalizeX(z.x,v).x);this.spatialReference=new l(b.replace((u.isWGS84?v.altTemplate:null)??v.wkTemplate,{Central_Meridian:z.x}))}return this}_getCM(v){let u=null;const [x,z]=v.valid;v=
this.xmin;const t=this.xmax;v>=x&&v<=z&&t>=x&&t<=z||(u=this.center);return u}_normalize(v,u,x){const z=this.spatialReference;if(!z)return this;x=x??r.getInfo(z);if(null==x)return this;const t=this._getParts(x).map(A=>A.extent);if(2>t.length)return t[0]||this;if(2<t.length)return v?this._shiftCM(x):this.set({xmin:x.valid[0],xmax:x.valid[1]});if(v)return this._shiftCM(x);if(u)return t;let y=!0,B=!0;t.forEach(A=>{A.hasZ||(y=!1);A.hasM||(B=!1)});return{rings:t.map(A=>{const D=[[A.xmin,A.ymin],[A.xmin,
A.ymax],[A.xmax,A.ymax],[A.xmax,A.ymin],[A.xmin,A.ymin]];if(y){var E=(A.zmax-A.zmin)/2;for(let J=0;J<D.length;J++)D[J].push(E)}if(B)for(A=(A.mmax-A.mmin)/2,E=0;E<D.length;E++)D[E].push(A);return D}),hasZ:y,hasM:B,spatialReference:z}}_getParts(v){let u=this.cache._parts;if(!u){u=[];const {ymin:E,ymax:J,spatialReference:F}=this;var x=this.width,z=this.xmin,t=this.xmax;v=v||r.getInfo(F);const [G,M]=v.valid;var y=this._normalizeX(this.xmin,v);var B=y.x,A=y.frameId;y=this._normalizeX(this.xmax,v);v=y.x;
y=y.frameId;var D=B===v&&0<x;if(x>2*M){x=new p(z<t?B:v,E,M,J,F);z=new p(G,E,z<t?v:B,J,F);t=new p(0,E,M,J,F);B=new p(G,E,0,J,F);v=[];D=[];x.contains(t)&&v.push(A);x.contains(B)&&D.push(A);z.contains(t)&&v.push(y);z.contains(B)&&D.push(y);for(let L=A+1;L<y;L++)v.push(L),D.push(L);u.push({extent:x,frameIds:[A]},{extent:z,frameIds:[y]},{extent:t,frameIds:v},{extent:B,frameIds:D})}else B>v||D?u.push({extent:new p(B,E,M,J,F),frameIds:[A]},{extent:new p(G,E,v,J,F),frameIds:[y]}):u.push({extent:new p(B,E,
v,J,F),frameIds:[A]});this.cache._parts=u}y=this.hasZ;x=this.hasM;if(y||x)for(A={},y&&(A.zmin=this.zmin,A.zmax=this.zmax),x&&(A.mmin=this.mmin,A.mmax=this.mmax),y=0;y<u.length;y++)u[y].extent.set(A);return u}_normalizeX(v,u){const [x,z]=u.valid;u=2*z;var t=0;v>z?(t=Math.ceil(Math.abs(v-z)/u),v-=t*u):v<x&&(t=Math.ceil(Math.abs(v-x)/u),v+=t*u,t=-t);return{x:v,frameId:t}}};a.__decorate([d.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([d.property({readOnly:!0})],f.prototype,"center",
null);a.__decorate([d.property({readOnly:!0})],f.prototype,"extent",null);a.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasM",null);a.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasZ",null);a.__decorate([d.property({readOnly:!0})],f.prototype,"height",null);a.__decorate([d.property({readOnly:!0})],f.prototype,"width",null);a.__decorate([d.property({type:Number,json:{type:[Number,String],write:{enabled:!0,
allowNull:!0}}})],f.prototype,"xmin",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"ymin",void 0);a.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],f.prototype,"mmin",void 0);a.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"zmin",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],
f.prototype,"xmax",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"ymax",void 0);a.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],f.prototype,"mmax",void 0);a.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"zmax",void 0);f=p=a.__decorate([n.subclass("esri.geometry.Extent")],f);f.prototype.toJSON.isDefaultToJSON=
!0;return f})},"esri/geometry/Geometry":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,d,f,c,q,n,k,h){b=class extends b.JSONSupport{constructor(...l){super(...l);this.type=null;this.hasZ=this.hasM=!1;this.spatialReference=h.WGS84}get cache(){this.commitProperty("spatialReference");
return{}}get extent(){return null}readSpatialReference(l,m){if(l instanceof h)return l;if(null!=l){const w=new h;w.read(l,m);return w}return l}clone(){console.warn(".clone() is not implemented for "+this.declaredClass);return null}clearCache(){this.notifyChange("cache")}getCacheValue(l){return this.cache[l]}setCacheValue(l,m){this.cache[l]=m}};a.__decorate([d.property()],b.prototype,"type",void 0);a.__decorate([d.property({readOnly:!0})],b.prototype,"cache",null);a.__decorate([d.property({readOnly:!0})],
b.prototype,"extent",null);a.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(l){return{enabled:l}}}}})],b.prototype,"hasM",void 0);a.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(l){return{enabled:l}}}}})],b.prototype,"hasZ",void 0);a.__decorate([d.property({type:h,json:{write:!0},value:h.WGS84})],b.prototype,"spatialReference",void 0);a.__decorate([n.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=a.__decorate([k.subclass("esri.geometry.Geometry")],
b)})},"esri/geometry/Point":function(){define("../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,d,f,c,q,
n,k,h,l,m,w,r,e,g){function p(x){return x&&("esri.geometry.SpatialReference"===x.declaredClass||null!=x.wkid)}var v;const u=[0,0];c=v=class extends m{static copy(x,z){z._set("x",x._get("x"));z._set("y",x._get("y"));z._set("z",x._get("z"));z._set("m",x._get("m"));x=x._get("spatialReference");z._set("spatialReference",Object.isFrozen(x)?x:x.clone())}constructor(...x){super(...x);this.y=this.x=0;this.m=this.z=void 0;this.type="point"}normalizeCtorArgs(x,z,t,y,B){let A;if(Array.isArray(x))A=x,B=z,x=A[0],
z=A[1],t=A[2],y=A[3];else if(x&&"object"===typeof x){if(A=x,x=null!=A.x?A.x:A.longitude,z=null!=A.y?A.y:A.latitude,t=A.z,y=A.m,(B=A.spatialReference)&&"esri.geometry.SpatialReference"!==B.declaredClass&&(B=new w(B)),null!=A.longitude||null!=A.latitude)null==A.longitude?b.getLogger(this).warn(".longitude\x3d","Latitude was defined without longitude"):null==A.latitude?b.getLogger(this).warn(".latitude\x3d","Longitude was defined without latitude"):!A.declaredClass&&B&&B.isWebMercator&&(z=g.lngLatToXY(A.longitude,
A.latitude,u),x=z[0],z=z[1])}else p(t)?(B=t,t=null):p(y)&&(B=y,y=null);x={x,y:z};null==x.x&&null!=x.y?b.getLogger(this).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==x.y&&null!=x.x&&b.getLogger(this).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=B&&(x.spatialReference=B);null!=t&&(x.z=t);null!=y&&(x.m=y);return x}get cache(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");
return{}}get hasM(){return void 0!==this.m}set hasM(x){const z=void 0!==this._get("m");x!==z&&(this._set("m",x?0:void 0),this._set("hasM",x))}get hasZ(){return void 0!==this.z}set hasZ(x){const z=void 0!==this._get("z");x!==z&&(this._set("z",x?0:void 0),this._set("hasZ",x))}get latitude(){const {spatialReference:x,x:z,y:t}=this;if(x){if(x.isWebMercator)return g.xyToLngLat(z,t,u)[1];if(x.isGeographic)return t}return null}set latitude(x){const {spatialReference:z,x:t}=this;null!=x&&z&&(z.isWebMercator?
this._set("y",g.lngLatToXY(t,x,u)[1]):z.isGeographic&&this._set("y",x),this._set("latitude",x))}get longitude(){const {x,y:z,spatialReference:t}=this;if(t){if(t.isWebMercator)return g.xyToLngLat(x,z,u)[0];if(t.isGeographic)return x}return null}set longitude(x){const {y:z,spatialReference:t}=this;null!=x&&t&&(t.isWebMercator?this._set("x",g.lngLatToXY(x,z,u)[0]):t.isGeographic&&this._set("x",x),this._set("longitude",x))}writeX(x,z,t){z[t]=isNaN(x)?"NaN":x}readX(x){return"string"===typeof x?NaN:x}clone(){const x=
new v;x.x=this.x;x.y=this.y;x.z=this.z;x.m=this.m;x.spatialReference=this.spatialReference;return x}copy(x){v.copy(x,this);return this}equals(x){if(null==x)return!1;const {x:z,y:t,z:y,m:B,spatialReference:A}=this,{z:D,m:E}=x;let {x:J,y:F,spatialReference:G}=x;if(!A.equals(G))if(A.isWebMercator&&G.isWGS84)[J,F]=g.lngLatToXY(J,F),G=A;else if(A.isWGS84&&G.isWebMercator)[J,F]=g.xyToLngLat(J,F),G=A;else return!1;return z===J&&t===F&&y===D&&B===E&&A.wkid===G.wkid}offset(x,z,t){this.x+=x;this.y+=z;null!=
t&&(this.z=(this.z??0)+t);return this}normalize(){if(!this.spatialReference)return this;var x=e.getInfo(this.spatialReference);if(!x)return this;let z=this.x;const [t,y]=x.valid;x=2*y;let B;z>y?(B=Math.ceil(Math.abs(z-y)/x),z-=B*x):z<t&&(B=Math.ceil(Math.abs(z-t)/x),z+=B*x);this._set("x",z);return this}distance(x){return r.distance(this,x)}toArray(){const x=this.hasZ,z=this.hasM;return x&&z?[this.x,this.y,this.z,this.m]:x?[this.x,this.y,this.z]:z?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(x){return this.write({},
x)}};a.__decorate([d.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasM",null);a.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasZ",null);a.__decorate([d.property({type:Number})],c.prototype,"latitude",null);a.__decorate([d.property({type:Number})],c.prototype,"longitude",null);a.__decorate([d.property({type:Number,json:{type:[Number,
String],write:{isRequired:!0,allowNull:!0}}}),f.cast(x=>isNaN(x)?x:l.ensureNumber(x))],c.prototype,"x",void 0);a.__decorate([h.writer("x")],c.prototype,"writeX",null);a.__decorate([n.reader("x")],c.prototype,"readX",null);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"y",void 0);a.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],c.prototype,"z",void 0);a.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],
c.prototype,"m",void 0);c=v=a.__decorate([k.subclass("esri.geometry.Point")],c);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports","../ensureType","../metadata"],function(a,b,d){function f(k){const h="__accessorMetadata__"in k?b.ensureType(k):k;return function(...l){l.push(h);if("number"===typeof l[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return c.apply(this,l)}}function c(k,h,l,m){d.getPropertyMetadata(k,
h).cast=m}function q(k){return(h,l)=>{d.getPropertyMetadata(h,k).cast=h[l]}}const n=Object.prototype.toString;a.cast=function(...k){if(3!==k.length||"string"!==typeof k[1]){if(1===k.length&&"[object Function]"===n.call(k[0]))return f(k[0]);if(1===k.length&&"string"===typeof k[0])return q(k[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=function(b,d){const f=b.x-d.x,c=b.y-d.y;b=b.hasZ&&d.hasZ?
b.z-d.z:0;return Math.sqrt(f*f+c*c+b*b)};a.squareDistance=function(b,d){const f=b.x-d.x,c=b.y-d.y;b=b.hasZ&&d.hasZ?b.z-d.z:0;return f*f+c*c+b*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],function(a,b,d,f,c){function q(m,w,r,e,g){g.spatialReference=r;if("x"in m&&"x"in g)[g.x,g.y]=w(m.x,m.y,l,e);else if("xmin"in m&&"xmin"in g)[g.xmin,
g.ymin]=w(m.xmin,m.ymin,l,e),[g.xmax,g.ymax]=w(m.xmax,m.ymax,l,e);else if("paths"in m&&"paths"in g||"rings"in m&&"rings"in g){m="paths"in m?m.paths:m.rings;r=[];for(let v=0;v<m.length;v++){const u=m[v];var p=[];r.push(p);for(let x=0;x<u.length;x++)p.push(w(u[x][0],u[x][1],[0,0],e)),2<u[x].length&&p[x].push(u[x][2]),3<u[x].length&&p[x].push(u[x][3])}"paths"in g?g.paths=r:g.rings=r}else if("points"in m&&"points"in g){m=m.points;r=[];for(p=0;p<m.length;p++)r[p]=w(m[p][0],m[p][1],[0,0],e),2<m[p].length&&
r[p].push(m[p][2]),3<m[p].length&&r[p].push(m[p][3]);g.points=r}return g}function n(m,w){const r=m&&(null!=m.wkid||null!=m.wkt?m:m.spatialReference),e=w&&(null!=w.wkid||null!=w.wkt?w:w.spatialReference);return m&&"type"in m&&"mesh"===m.type||w&&"type"in w&&"mesh"===w.type||!r||!e?!1:c.equals(e,r)?!0:c.isWebMercator(e)&&c.isWGS84(r)||c.isWebMercator(r)&&c.isWGS84(e)}function k(m,w,r=[0,0]){89.99999<w?w=89.99999:-89.99999>w&&(w=-89.99999);w*=.017453292519943;r[0]=.017453292519943*m*f.earth.radius;r[1]=
f.earth.halfSemiMajorAxis*Math.log((1+Math.sin(w))/(1-Math.sin(w)));return r}function h(m,w,r=[0,0],e=!1){m=m/f.earth.radius*57.29577951308232;r[0]=e?m:m-360*Math.floor((m+180)/360);r[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-w/f.earth.radius)));return r}const l=[0,0];a.canProject=n;a.geographicToWebMercator=function(m,w=!1,r=b.clone(m)){return q(m,k,d.WebMercator,w,r)};a.lngLatToXY=k;a.project=function(m,w){if(null==m)return null;const r=m.spatialReference;w=w&&(null!=w.wkid||null!=w.wkt?
w:w.spatialReference);return n(r,w)?c.equals(r,w)?b.clone(m):c.isWebMercator(w)?q(m,k,d.WebMercator,!1,b.clone(m)):c.isWGS84(w)?q(m,h,d.WGS84,!1,b.clone(m)):null:null};a.webMercatorToGeographic=function(m,w=!1,r=b.clone(m)){return q(m,h,d.WGS84,w,r)};a.x2lon=function(m){return m/f.earth.radius};a.xyToLngLat=h;a.y2lat=function(m){return Math.PI/2-2*Math.atan(Math.exp(-m/f.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/contains":function(){define(["exports"],
function(a){function b(k,h){return d(k,h[0],h[1])}function d(k,h,l,m){return h>=k.xmin&&h<=k.xmax&&l>=k.ymin&&l<=k.ymax?null!=m&&k.hasZ?m>=k.zmin&&m<=k.zmax:!0:!1}function f(k,h){return c(k.rings,h)}function c(k,h){if(!k)return!1;if(!Array.isArray(k[0][0]))return q(!1,k,h);let l=!1;for(let m=0,w=k.length;m<w;m++)l=q(l,k[m],h);return l}function q(k,h,l){const [m,w]=l;l=0;for(let r=0,e=h.length;r<e;r++){l++;l===e&&(l=0);const [g,p]=h[r],[v,u]=h[l];(p<w&&u>=w||u<w&&p>=w)&&g+(w-p)/(u-p)*(v-g)<m&&(k=!k)}return k}
const n=[0,0];a.extentContainsCoords2D=b;a.extentContainsCoords3D=function(k,h){return d(k,h[0],h[1],h[2])};a.extentContainsExtent=function(k,h){const {xmin:l,ymin:m,zmin:w,xmax:r,ymax:e,zmax:g}=h;return k.hasZ&&h.hasZ?d(k,l,m,w)&&d(k,l,e,w)&&d(k,r,e,w)&&d(k,r,m,w)&&d(k,l,m,g)&&d(k,l,e,g)&&d(k,r,e,g)&&d(k,r,m,g):d(k,l,m)&&d(k,l,e)&&d(k,r,e)&&d(k,r,m)};a.extentContainsMultipoint=function(k,h){if(!h.points||h.points.length)return!1;for(const l of h.points)if(!b(k,l))return!1;return!0};a.extentContainsPoint=
function(k,h){return null!=h?d(k,h.x,h.y,h.z):!1};a.extentContainsXYZ=d;a.polygonContainsCoords=f;a.polygonContainsPoint=function(k,h){n[1]=h.y;n[0]=h.x;return f(k,n)};a.ringsContainsCoords=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function d(u,x){return b.extentContainsPoint(u,x)}function f(u,x){var z=u.hasZ&&x.hasZ;if(u.xmin<=x.xmin){var t=x.xmin;if(u.xmax<t)return!1}else if(t=
u.xmin,x.xmax<t)return!1;if(u.ymin<=x.ymin){if(t=x.ymin,u.ymax<t)return!1}else if(t=u.ymin,x.ymax<t)return!1;if(z&&x.hasZ)if(u.zmin<=x.zmin){if(z=x.zmin,u.zmax<z)return!1}else if(z=u.zmin,x.zmax<z)return!1;return!0}function c(u,x){const {points:z,hasZ:t}=x;x=t?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const y of z)if(x(u,y))return!0;return!1}function q(u,x){return n(u,x.rings)}function n(u,x){m[0]=u.xmin;m[1]=u.ymax;w[0]=u.xmax;w[1]=u.ymax;r[0]=u.xmin;r[1]=u.ymin;e[0]=u.xmax;e[1]=u.ymin;
for(var z of g)if(b.ringsContainsCoords(x,z))return!0;for(const t of x)if(t.length){x=t[0];if(b.extentContainsCoords2D(u,x))return!0;for(z=1;z<t.length;z++){const y=t[z];if(b.extentContainsCoords2D(u,y)||h(x,y,p))return!0;x=y}}return!1}function k(u,x){m[0]=u.xmin;m[1]=u.ymax;w[0]=u.xmax;w[1]=u.ymax;r[0]=u.xmin;r[1]=u.ymin;e[0]=u.xmax;e[1]=u.ymin;x=x.paths;for(const z of x){if(!x.length)continue;let t=z[0];if(b.extentContainsCoords2D(u,t))return!0;for(let y=1;y<z.length;y++){const B=z[y];if(b.extentContainsCoords2D(u,
B)||h(t,B,p))return!0;t=B}}return!1}function h(u,x,z){for(let t=0;t<z.length;t++)if(l(u,x,z[t][0],z[t][1]))return!0;return!1}function l(u,x,z,t,y){const [B,A]=u,[D,E]=x,[J,F]=z,[G,M]=t;var L=G-J;u=B-J;x=D-B;const T=M-F;z=A-F;t=E-A;const N=T*x-L*t;if(0===N)return!1;L=(L*z-T*u)/N;u=(x*z-t*u)/N;return 0<=L&&1>=L&&0<=u&&1>=u?(y&&(y[0]=B+L*(D-B),y[1]=A+L*(E-A)),!0):!1}const m=[0,0],w=[0,0],r=[0,0],e=[0,0],g=[m,w,r,e],p=[[r,m],[m,w],[w,e],[e,r]],v=[0,0];a.extentIntersectsExtent=f;a.extentIntersectsMultipoint=
c;a.extentIntersectsPoint=d;a.extentIntersectsPolygon=q;a.extentIntersectsPolyline=k;a.getFeatureExtentIntersector=function(u){switch(u){case "esriGeometryEnvelope":case "extent":return f;case "esriGeometryMultipoint":case "multipoint":return c;case "esriGeometryPoint":case "point":return d;case "esriGeometryPolygon":case "polygon":return q;case "esriGeometryPolyline":case "polyline":return k}};a.isSelfIntersecting=function(u){for(let E=0;E<u.length;E++){const J=u[E];for(var x=0;x<J.length-1;x++){var z=
J[x],t=J[x+1];for(var y=E+1;y<u.length;y++)for(var B=0;B<u[y].length-1;B++){var A=u[y][B],D=u[y][B+1];if(l(z,t,A,D,v)&&!(v[0]===z[0]&&v[1]===z[1]||v[0]===A[0]&&v[1]===A[1]||v[0]===t[0]&&v[1]===t[1]||v[0]===D[0]&&v[1]===D[1]))return!0}}x=J.length;if(!(4>=x))for(z=0;z<x-3;z++)for(t=x-1,0===z&&(t=x-2),y=J[z],B=J[z+1],A=z+2;A<t;A++){D=J[A];const F=J[A+1];if(l(y,B,D,F,v)&&!(v[0]===y[0]&&v[1]===y[1]||v[0]===D[0]&&v[1]===D[1]||v[0]===B[0]&&v[1]===B[1]||v[0]===F[0]&&v[1]===F[1]))return!0}}return!1};a.segmentIntersects=
l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports","../core/handleUtils"],function(a,b){function d(){return h??globalThis.navigator?.language??"en"}function f(){void 0===k&&(k=d());return k}function c(r=f()){return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(r)?.[1].toLowerCase()}function q(){const r=n??d();k!==r&&(k=r,[...w].forEach(e=>{e.call(null,r)}),[...m].forEach(e=>{e.call(null,r)}))}let n=void 0,k=void 0;const h=globalThis.esriConfig?.locale??
globalThis.dojoConfig?.locale,l={he:!0,ar:!0},m=[],w=[];globalThis.addEventListener?.("languagechange",q);a.beforeLocaleChange=function(r){w.push(r);return b.makeHandle(()=>m.splice(w.indexOf(r),1))};a.getDefaultLocale=d;a.getLanguage=c;a.getLocale=f;a.onLocaleChange=function(r){m.push(r);return b.makeHandle(()=>m.splice(m.indexOf(r),1))};a.prefersRTL=function(r=f()){r=c(r);return void 0!==r&&(l[r]||!1)};a.setLocale=function(r){n=r||void 0;q()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/portal/portalDefault":function(){define(["exports"],function(a){let b;a.clearDefaultPortalInstance=function(){b=void 0};a.ensureDefaultPortalInstance=function(d){if(!b||b.destroyed)b=d();return b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalGroup":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;d=l=class extends d.JSONSupport{constructor(m){super(m);this.id=this.description=this.created=this.access=null;this.isInvitationOnly=!1;this.title=this.tags=this.sourceJSON=this.sortOrder=this.sortField=this.snippet=this.portal=this.owner=this.modified=null}get thumbnailUrl(){const m=this.url,w=this.thumbnail;return m&&w&&this.portal?this.portal?.normalizeUrl(`${m}/info/${w}?f=json`):null}get url(){const m=this.portal?.restUrl;return m?m+"/community/groups/"+this.id:
null}fetchCategorySchema(m){return this.portal.request(this.url+"/categorySchema",m).then(w=>{w=w.categorySchema||[];return w.some(r=>"contentCategorySetsGroupQuery.LivingAtlas"===r.source)?this._fetchCategorySchemaSet("LivingAtlas",m):w})}fetchMembers(m){return this.portal.request(this.url+"/users",m)}getThumbnailUrl(m){let w=this.thumbnailUrl;w&&m&&(w+=`&w=${m}`);return w}toJSON(){throw new b("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");}static fromJSON(m){if(!m)return null;
if(m.declaredClass)throw Error("JSON object is already hydrated");const w=new l;w.sourceJSON=m;w.read(m);return w}queryItems(m,w){m=c.ensureType(h,m);const r=this.portal;if(5<parseFloat(r.currentVersion))return m=m||new h,r.queryPortal(`/content/groups/${this.id}/search`,m,"PortalItem",w);m=m?m.clone():new h;m.query="group:"+this.id+(m.query?" "+m.query:"");return r.queryItems(m,w)}_fetchCategorySchemaSet(m,w){const r=this.portal;return r.fetchSelf(r.authMode,!0,w).then(e=>{if(e=e.contentCategorySetsGroupQuery){const g=
new h;g.disableExtraQuery=!0;g.num=1;g.query=e;return r.queryGroups(g,w)}throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(e=>{if(e.total){e=e.results[0];const g=new h;g.num=1;g.query=`typekeywords:"${m}"`;return e.queryItems(g,w)}throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(e=>e.total?e.results[0].fetchData("json",w).then(g=>{g=g?.categorySchema;return g?.length?g:[]}):[])}};a.__decorate([f.property()],
d.prototype,"access",void 0);a.__decorate([f.property({type:Date})],d.prototype,"created",void 0);a.__decorate([f.property()],d.prototype,"description",void 0);a.__decorate([f.property()],d.prototype,"id",void 0);a.__decorate([f.property()],d.prototype,"isInvitationOnly",void 0);a.__decorate([f.property({type:Date})],d.prototype,"modified",void 0);a.__decorate([f.property()],d.prototype,"owner",void 0);a.__decorate([f.property()],d.prototype,"portal",void 0);a.__decorate([f.property()],d.prototype,
"snippet",void 0);a.__decorate([f.property()],d.prototype,"sortField",void 0);a.__decorate([f.property()],d.prototype,"sortOrder",void 0);a.__decorate([f.property()],d.prototype,"sourceJSON",void 0);a.__decorate([f.property()],d.prototype,"tags",void 0);a.__decorate([f.property()],d.prototype,"thumbnail",void 0);a.__decorate([f.property({readOnly:!0})],d.prototype,"thumbnailUrl",null);a.__decorate([f.property()],d.prototype,"title",void 0);a.__decorate([f.property({readOnly:!0})],d.prototype,"url",
null);return d=l=a.__decorate([k.subclass("esri.portal.PortalGroup")],d)})},"esri/portal/PortalQueryParams":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,d,f,c,q,n,k,h,l,m){var w;const r=new d.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",
numComments:"num-comments",numViews:"num-views"});b=w=class extends b{constructor(e){super(e);this.categories=null;this.disableExtraQuery=!1;this.filter=this.extent=null;this.num=10;this.sortField=this.query=null;this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new w({categories:this.categories?f.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():
null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,g){let p=[];this.categories&&(p=this.categories.map(x=>Array.isArray(x)?JSON.stringify(x):x));let v="";if(this.extent){var u=m.project(this.extent,l.WGS84);null!=u&&(v=`${u.xmin},${u.ymin},${u.xmax},${u.ymax}`)}u=this.query;!this.disableExtraQuery&&e.extraQuery&&(u="("+u+")"+e.extraQuery);e={categories:p,bbox:v,q:u,filter:this.filter,num:this.num,sortField:null,
sortOrder:null,start:this.start};this.sortField&&(e.sortField=this.sortField.split(",").map(x=>r.toJSON(x.trim())).join(","),e.sortOrder=this.sortOrder);return{query:{...g,...e}}}};a.__decorate([c.property()],b.prototype,"categories",void 0);a.__decorate([c.property()],b.prototype,"disableExtraQuery",void 0);a.__decorate([c.property({type:h})],b.prototype,"extent",void 0);a.__decorate([c.property()],b.prototype,"filter",void 0);a.__decorate([c.property()],b.prototype,"num",void 0);a.__decorate([c.property()],
b.prototype,"query",void 0);a.__decorate([c.property()],b.prototype,"sortField",void 0);a.__decorate([c.property()],b.prototype,"sortOrder",null);a.__decorate([c.property()],b.prototype,"start",void 0);return b=w=a.__decorate([k.subclass("esri.portal.PortalQueryParams")],b)})},"esri/portal/PortalQueryResult":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){b=class extends b{constructor(k){super(k);this.total=this.results=this.queryParams=this.nextQueryParams=null}};a.__decorate([d.property()],b.prototype,"nextQueryParams",void 0);a.__decorate([d.property()],b.prototype,"queryParams",void 0);a.__decorate([d.property()],b.prototype,"results",void 0);a.__decorate([d.property()],b.prototype,"total",void 0);return b=a.__decorate([n.subclass("esri.portal.PortalQueryResult")],b)})},"esri/portal/PortalUser":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;f=w=class extends f.JSONSupport{constructor(...r){super(...r);this.userType=this.username=this.units=this.sourceJSON=this.roleId=this.role=this.region=this.privileges=this.preferredView=this.portal=this.orgId=this.modified=this.fullName=this.email=this.description=this.culture=this.created=this.access=null}get thumbnailUrl(){const r=this.url,e=this.thumbnail;return r&&e?this.portal.normalizeUrl(`${r}/info/${e}?f=json`):null}get userContentUrl(){const r=this.portal?.restUrl;
return r?`${r}/content/users/${this.username}`:null}get url(){const r=this.portal?.restUrl;return r?`${r}/community/users/${this.username}`:null}addItem(r){const e=r&&r.item;var g=r?.data;r=r?.folder;const p={method:"post"};e&&(p.query=e.createPostQuery(),null!=g&&("string"===typeof g?p.query.text=g:"object"===typeof g&&(p.query.text=JSON.stringify(g))));g=this.userContentUrl;r&&(g+="/"+("string"===typeof r?r:r.id));return this.portal.request(g+"/addItem",p).then(v=>{e.id=v.id;e.portal=this.portal;
return e.loaded?e.reload():e.load()})}deleteItem(r){let e=this.userContentUrl;r.ownerFolder&&(e+="/"+r.ownerFolder);return this.portal.request(e+`/items/${r.id}/delete`,{method:"post"}).then(()=>{r.id=null;r.portal=null})}deleteItems(r){const e=this.userContentUrl+"/deleteItems";var g=r.map(p=>p.id);return g.length?(g={method:"post",query:{items:g.join(",")}},this.portal.request(e,g).then(()=>{r.forEach(p=>{p.id=null;p.portal=null})})):Promise.resolve(void 0)}fetchFolders(){return this.portal.request(this.userContentUrl??
"",{query:{num:1}}).then(r=>r&&r.folders?r.folders.map(e=>{e=l.fromJSON(e);e.portal=this.portal;return e}):[])}fetchGroups(){return this.portal.request(this.url??"").then(r=>r&&r.groups?r.groups.map(e=>{e=m.fromJSON(e);e.portal=this.portal;return e}):[])}fetchItems(r){const e=r??{};let g=this.userContentUrl??"";e.folder&&(g+="/"+e.folder.id);let p;return(new Promise((v,u)=>a(["./PortalItem"],x=>v(Object.freeze(Object.defineProperty({__proto__:null,default:x},Symbol.toStringTag,{value:"Module"}))),
u))).then(({default:v})=>{p=v;return this.portal.request(g,{query:{folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"}})}).then(v=>{let u;return v?.items?(u=v.items.map(x=>{x=p.fromJSON(x);x.portal=this.portal;return x}),Promise.all(u.map(x=>x.load())).catch(x=>x).then(()=>({items:u,nextStart:v.nextStart,total:v.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(r=>r.tags)}getThumbnailUrl(r){let e=
this.thumbnailUrl;e&&r&&(e+=`&w=${r}`);return e}queryFavorites(r){return this.favGroupId?(this._favGroup||(this._favGroup=new m({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(r)):Promise.reject(new d("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new d("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented");}static fromJSON(r){if(!r)return null;if(r.declaredClass)throw Error("JSON object is already hydrated");
const e=new w;e.sourceJSON=r;e.read(r);return e}};b.__decorate([c.property()],f.prototype,"access",void 0);b.__decorate([c.property({type:Date})],f.prototype,"created",void 0);b.__decorate([c.property()],f.prototype,"culture",void 0);b.__decorate([c.property()],f.prototype,"description",void 0);b.__decorate([c.property()],f.prototype,"email",void 0);b.__decorate([c.property()],f.prototype,"favGroupId",void 0);b.__decorate([c.property()],f.prototype,"fullName",void 0);b.__decorate([c.property({type:Date})],
f.prototype,"modified",void 0);b.__decorate([c.property()],f.prototype,"orgId",void 0);b.__decorate([c.property()],f.prototype,"portal",void 0);b.__decorate([c.property()],f.prototype,"preferredView",void 0);b.__decorate([c.property()],f.prototype,"privileges",void 0);b.__decorate([c.property()],f.prototype,"region",void 0);b.__decorate([c.property()],f.prototype,"role",void 0);b.__decorate([c.property()],f.prototype,"roleId",void 0);b.__decorate([c.property()],f.prototype,"sourceJSON",void 0);b.__decorate([c.property()],
f.prototype,"thumbnail",void 0);b.__decorate([c.property({readOnly:!0})],f.prototype,"thumbnailUrl",null);b.__decorate([c.property()],f.prototype,"units",void 0);b.__decorate([c.property({readOnly:!0})],f.prototype,"userContentUrl",null);b.__decorate([c.property({readOnly:!0})],f.prototype,"url",null);b.__decorate([c.property()],f.prototype,"username",void 0);b.__decorate([c.property()],f.prototype,"userType",void 0);return f=w=b.__decorate([h.subclass("esri.portal.PortalUser")],f)})},"esri/portal/PortalFolder":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){d=class extends d.JSONSupport{constructor(h){super(h);this.username=this.title=this.portal=this.id=this.created=null}get url(){const h=this.portal?.restUrl;return h?`${h}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new b("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");}};a.__decorate([f.property({type:Date})],d.prototype,"created",void 0);a.__decorate([f.property()],d.prototype,"id",void 0);a.__decorate([f.property()],d.prototype,
"portal",void 0);a.__decorate([f.property()],d.prototype,"title",void 0);a.__decorate([f.property({readOnly:!0})],d.prototype,"url",null);a.__decorate([f.property()],d.prototype,"username",void 0);return d=a.__decorate([k.subclass("esri.portal.PortalFolder")],d)})},"esri/portal/PortalItem":function(){define("require ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating ../chunks/persistableUrlUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v){var u;const x=new Set("3DTiles Service;CSV;Feature Collection;Feature Service;Feed;GeoJson;Group Layer;Image Service;KML;Map Service;Media Layer;Scene Service;Stream Service;Vector Tile Service;WFS;WMS;WMTS".split(";")),z=new Set(["KML","GeoJson","CSV"]);c=u=class extends c.JSONSupportMixin(n){static from(t){return l.ensureClass(u,t)}constructor(t){super(t);this.id=this.groupCategories=this.extent=this.description=this.culture=this.created=this.categories=
this.avgRating=this.applicationProxies=this.apiKey=this.accessInformation=this.access=null;this.isOrgItem=!1;this.url=this.typeKeywords=this.type=this.title=this.tags=this.spatialReference=this.sourceUrl=this.sourceJSON=this.snippet=this.size=this.screenshots=this.portal=this.ownerFolder=this.owner=this.numViews=this.numRatings=this.numComments=this.name=this.modified=this.licenseInfo=this.itemControl=null}destroy(){this.portal=null}get displayName(){const t=this.type,y=this.typeKeywords||[];let B=
t;"Feature Service"===t||"Feature Collection"===t?B=y.includes("Table")?"Table":y.includes("Route Layer")?"Route Layer":y.includes("Markup")?"Markup":"Feature Layer":"Image Service"===t?B=y.includes("Elevation 3D Layer")?"Elevation Layer":y.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===t?B="Scene Layer":"Video Service"===t?B="Video Layer":"Scene Package"===t?B="Scene Layer Package":"Stream Service"===t?B="Feature Layer":"Geoprocessing Service"===t?B=y.includes("Web Tool")?
"Tool":"Geoprocessing Service":"Geoenrichment Service"===t?B="GeoEnrichment Service":"Geocoding Service"===t?B="Locator":"Microsoft Powerpoint"===t?B="Microsoft PowerPoint":"GeoJson"===t?B="GeoJSON":"Globe Service"===t?B="Globe Layer":"Vector Tile Service"===t?B="Tile Layer":"netCDF"===t?B="NetCDF":"Map Service"===t?B=y.includes("Spatiotemporal")||!y.includes("Hosted Service")&&!y.includes("Tiled")||y.includes("Relational")?"Map Image Layer":"Tile Layer":t&&t.toLowerCase().includes("add in")?B=t.replaceAll(/(add in)/gi,
"Add-In"):"datastore catalog service"===t?B="Big Data File Share":"Compact Tile Package"===t?B="Tile Package (tpkx)":"Raster function template"===t?B="Raster Function Template":"OGCFeatureServer"===t?B="OGC Feature Layer":"web mapping application"===t&&y.includes("configurableApp")?B="Instant App":"Insights Page"===t?B="Insights Report":"Excalibur Imagery Project"===t?B="Excalibur Project":"3DTiles Service"===t?B="3D tiles layer":"3DTiles Package"===t&&(B="3D tiles package");return B}readExtent(t){return t&&
t.length?new r(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){var t=this.type?.toLowerCase()||"";const y=this.typeKeywords||[];var B=!1,A=!1;let D=!1,E=!1,J=!1,F=!1;B=A=!1;0<t.indexOf("service")||"feature collection"===t||"kml"===t||"wms"===t||"wmts"===t||"wfs"===t?(B=y.includes("Hosted Service"),"feature service"===t||"feature collection"===t||"kml"===t||"wfs"===t?(A=y.includes("Table"),D=y.includes("Route Layer"),E=y.includes("Markup"),J=y.includes("Spatiotemporal"),F=y.includes("UtilityNetwork"),
t=J&&A?"spatiotemporaltable":A?"table":D?"routelayer":E?"markup":J?"spatiotemporal":F?"utilitynetwork":B?"featureshosted":"features"):"map service"===t||"wms"===t||"wmts"===t?(J=y.includes("Spatiotemporal"),A=y.includes("Relational"),t=J||A?"mapimages":B||y.includes("Tiled")||"wmts"===t?"maptiles":"mapimages"):t="scene service"===t?y.includes("Line")?"sceneweblayerline":y.includes("3DObject")?"sceneweblayermultipatch":y.includes("Point")?"sceneweblayerpoint":y.includes("IntegratedMesh")?"sceneweblayermesh":
y.includes("PointCloud")?"sceneweblayerpointcloud":y.includes("Polygon")?"sceneweblayerpolygon":y.includes("Building")?"sceneweblayerbuilding":y.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===t?y.includes("Elevation 3D Layer")?"elevationlayer":y.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===t?"streamlayer":"vector tile service"===t?"vectortile":"datastore catalog service"===t?"datastorecollection":"geocoding service"===t?"geocodeservice":"video service"===
t?y.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===t?y.includes("Web Tool")?"tool":"layers":"geodata service"===t?"geodataservice":"3dtiles service"===t?y.includes("3DObject")?"3dobjecttileslayer":y.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):t="web map"===t||"cityengine web scene"===t?"maps":"web scene"===t?y.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===t&&y.includes("configurableApp")?
"instantapps":"web mapping application"===t||"mobile application"===t||"application"===t||"operation view"===t||"desktop application"===t?"apps":"map document"===t||"map package"===t||"published map"===t||"scene document"===t||"globe document"===t||"basemap package"===t||"mobile basemap package"===t||"mobile map package"===t||"project package"===t||"project template"===t||"pro map"===t||"layout"===t||"layer"===t&&y.includes("ArcGIS Pro")||"explorer map"===t&&y.indexOf("Explorer Document")?"mapsgray":
"service definition"===t||"shapefile"===t||"cad drawing"===t||"geojson"===t||"netcdf"===t||"administrative report"===t?"datafiles":"360 vr experience"===t?"360vr":"explorer add in"===t||"desktop add in"===t||"windows viewer add in"===t||"windows viewer configuration"===t?"appsgray":"arcgis pro add in"===t||"arcgis pro configuration"===t?"addindesktop":"pdf"===t?"pdf":"microsoft word"===t?"word":"microsoft excel"===t?"excel":"microsoft powerpoint"===t?"ppt":"rule package"===t||"file geodatabase"===
t||"sqlite geodatabase"===t||"csv collection"===t||"kml collection"===t||"windows mobile package"===t||"map template"===t||"desktop application template"===t||"gml"===t||"arcpad package"===t||"code sample"===t||"document link"===t||"earth configuration"===t||"operations dashboard add in"===t||"rules package"===t||"workflow manager package"===t||"explorer map"===t&&y.includes("Explorer Mapping Application")||y.includes("Document")?"datafilesgray":"network analysis service"===t||"geoprocessing service"===
t||"geodata service"===t||"geometry service"===t||"geoprocessing package"===t||"locator package"===t||"geoprocessing sample"===t||"workflow manager service"===t?"toolsgray":"layer"===t||"layer package"===t||"explorer layer"===t?"layersgray":"scene package"===t?"scenepackage":"3dtiles package"===t?"3dtileslayerpackage":"3dtiles service"===t?"3dtileslayer":"mobile scene package"===t?"mobilescenepackage":"tile package"===t||"compact tile package"===t?"tilepackage":"task file"===t?"taskfile":"report template"===
t?"report-template":"statistical data collection"===t?"statisticaldatacollection":"insights workbook"===t?"workbook":"insights model"===t?"insightsmodel":"insights page"===t?"insightspage":"insights theme"===t?"insightstheme":"hub initiative"===t?"hubinitiative":"hub page"===t?"hubpage":"hub site application"===t?"hubsite":"hub event"===t?"hubevent":"hub project"===t?"hubproject":"relational database connection"===t?"relationaldatabaseconnection":"big data file share"===t?"datastorecollection":"image collection"===
t?"imagecollection":"desktop style"===t?"desktopstyle":"style"===t?"style":"dashboard"===t?"dashboard":"raster function template"===t?"rasterprocessingtemplate":"vector tile package"===t?"vectortilepackage":"ortho mapping project"===t?"orthomappingproject":"ortho mapping template"===t?"orthomappingtemplate":"solution"===t?"solutions":"geopackage"===t?"geopackage":"deep learning package"===t?"deeplearningpackage":"real time analytic"===t?"realtimeanalytics":"big data analytic"===t?"bigdataanalytics":
"feed"===t?"feed":"excalibur imagery project"===t?"excaliburimageryproject":"notebook"===t?"notebook":"storymap"===t?"storymap":"survey123 add in"===t?"survey123addin":"mission"===t?"mission":"mission report"===t?"missionreport":"mission template"===t?"missiontemplate":"quickcapture project"===t?"quickcaptureproject":"pro report"===t?"proreport":"pro report template"===t?"proreporttemplate":"urban model"===t?"urbanmodel":"web experience"===t?"experiencebuilder":"web experience template"===t?"webexperiencetemplate":
"experience builder widget"===t?"experiencebuilderwidget":"experience builder widget package"===t?"experiencebuilderwidgetpackage":"workflow"===t?"workflow":"kernel gateway connection"===t?"kernelgatewayconnection":"insights script"===t?"insightsscript":"hub initiative template"===t?"hubinitiativetemplate":"storymap theme"===t?"storymaptheme":"knowledge graph"===t?"knowledgegraph":"knowledge studio project"===t?"knowledgestudio":"native application"===t?"nativeapp":"native application installer"===
t?"nativeappinstaller":"web link chart"===t?"linkchart":"knowledge graph web investigation"===t?"investigation":"ogcfeatureserver"===t?"features":"pro project"===t?"proproject":"insights workbook package"===t?"insightsworkbookpackage":"apache parquet"===t?"apacheparquet":"notebook code snippets"===t||"notebook code snippet library"===t?"notebookcodesnippets":"suitability model"===t?"suitabilitymodel":"esri classifier definition"===t?"classifierdefinition":"esri classification schema"===t?"classificationschema":
"insights data engineering workbook"===t?"dataengineeringworkbook":"insights data engineering model"===t?"dataengineeringmodel":"deep learning studio project"===t?"deeplearningproject":"discussion"===t?"discussion":"allsource project"===t?"allsourceproject":"api key"===t?"apikey":"data pipeline"===t?"datapipelines":"group layer"===t?(B=y.includes("Map"))?"layergroup2d":"layergroup":"media layer"===t?"onlinemedialayer":"form"===t?y.includes("Survey123")?"survey":"datafilesgray":"csv"===t?"csv":"image"===
t?"image":"maps";return t?d.getAssetUrl("esri/images/portal/"+t+"16.png"):null}get isLayer(){return null!=this.type&&x.has(this.type)}get itemCdnUrl(){return v.toCDNUrl(this.itemUrl)}get itemPageUrl(){const t=this.portal?.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){const t=this.portal?.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get thumbnailUrl(){const t=this.itemUrl,y=this.thumbnail;return t&&y?this.portal?.normalizeUrl(`${t}/info/${y}?f=json`)??null:
null}get userItemUrl(){const t=this.portal?.restUrl;if(!t)return null;const y=this.owner||this.portal?.user?.username;return y?`${t}/content/users/${this.ownerFolder?`${y}/${this.ownerFolder}`:y}/items/${this.id}`:null}load(t){const y=this.portal??(this.portal=e.getDefault()),B=y.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?y.request(this.itemUrl,{signal:null!=t?t.signal:null,query:{token:this.apiKey}}):{}).then(A=>{this.sourceJSON=A;this.read(A)});this.addResolvingPromise(B);
return Promise.resolve(this)}async addRating(t){const y={method:"post",query:{}};t instanceof p&&(t=t.rating);null==t||isNaN(t)||"number"!==typeof t||(y.query.rating=t);if(!this.portal)return null;await this.portal.request(this.itemUrl+"/addRating",y);return new p({rating:t,created:new Date})}clone(){var t={access:this.access,accessInformation:this.accessInformation,applicationProxies:q.clone(this.applicationProxies),avgRating:this.avgRating,categories:q.clone(this.categories),created:q.clone(this.created),
culture:this.culture,description:this.description,extent:q.clone(this.extent),groupCategories:q.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:q.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:q.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,
tags:q.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:q.clone(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");t=(new u({sourceJSON:this.sourceJSON})).set(t);t._set("isOrgItem",this.isOrgItem);return t}createPostQuery(){const t=this.toJSON();for(var y of["tags","typeKeywords","categories"])t[y]=t[y]?.join(", ");({extent:y}=t);y&&(t.extent=JSON.stringify(y));return t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",
{method:"post"})}fetchData(t="json",y){return this.portal.request(this.itemUrl+"/data",{responseType:t,...y,query:{token:this.apiKey}})}async fetchRating(t){t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return null!=t.rating?(t.created=new Date(t.created),new p(t)):null}fetchRelatedItems(t,y){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...y},u)}getThumbnailUrl(t){let y=this.thumbnailUrl;y&&t&&(y+=`&w=${t}`);
return y}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>{this.sourceJSON=t;this.read(t);return this})}update(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const y=t?.data,B={method:"post"};B.query=this.createPostQuery();for(const A in B.query)null===B.query[A]&&(B.query[A]="");B.query.clearEmptyFields=!0;null!=y&&("string"===typeof y?B.query.text=y:"object"===typeof y&&(B.query.text=JSON.stringify(y)));return this.portal.request(`${this.userItemUrl}/update`,
B).then(()=>this.reload())}):Promise.reject(new f("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new f("portal:item-does-not-exist","The item does not exist yet");await this.load();const {portal:y,itemUrl:B}=this;await y.signIn();const {copyResources:A,folder:D,tags:E,title:J}=t||{};t={method:"post",query:{copyPrivateResources:"all"===A,folder:"string"===typeof D?D:D?.id,includeResources:!!A,tags:E?.join(","),title:J}};({itemId:t}=
await y.request(`${B}/copy`,t));return new u({id:t,portal:y})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const y=t.thumbnail,B=t.filename,A={method:"post"};if("string"===typeof y)k.isDataProtocol(y)?A.query={data:y}:A.query={url:k.makeAbsolute(y)},null!=B&&(A.query.filename=B);else{const D=new FormData;null!=B?D.append("file",y,B):D.append("file",y);A.body=D}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,A).then(()=>this.reload())}):Promise.reject(new f("portal:item-does-not-exist",
"The item does not exist yet and cannot be updated"))}async fetchResources(t={},y){const {fetchResources:B}=await new Promise((A,D)=>a(["./support/resourceUtils"],A,D));return B(this,t,y)}async addResource(t,y,B){const {addOrUpdateResources:A}=await new Promise((D,E)=>a(["./support/resourceUtils"],D,E));t.portalItem=this;await A(this,[{resource:t,content:y,compress:B?.compress,access:B?.access}],"add",B);return t}async removeResource(t,y){const {removeResource:B}=await new Promise((A,D)=>a(["./support/resourceUtils"],
A,D));if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new f("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return B(this,t,y)}async removeAllResources(t){const {removeAllResources:y}=await new Promise((B,A)=>a(["./support/resourceUtils"],B,A));return y(this,t)}resourceFromPath(t){return new g({portalItem:this,path:t})}toJSON(){var t=this.extent;t={accessInformation:this.accessInformation,categories:q.clone(this.categories),
created:this.created?.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:q.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:q.clone(this.typeKeywords),url:this.url};return q.fixJson(t)}static fromJSON(t){if(!t)return null;
if(t.declaredClass)throw Error("JSON object is already hydrated");return new u({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const y in t)"tags"===y&&null!==t[y]&&(t[y]=t[y].join(", ")),"typeKeywords"===y&&null!==t[y]&&(t[y]=t[y].join(", ")),"extent"===y&&t[y]&&(t[y]=JSON.stringify(t[y]));return t}};b.__decorate([h.property({type:["private","shared","org","public"]})],c.prototype,"access",void 0);b.__decorate([h.property()],c.prototype,"accessInformation",void 0);b.__decorate([h.property({type:String})],
c.prototype,"apiKey",void 0);b.__decorate([h.property({json:{read:{source:"appProxies"}}})],c.prototype,"applicationProxies",void 0);b.__decorate([h.property()],c.prototype,"avgRating",void 0);b.__decorate([h.property()],c.prototype,"categories",void 0);b.__decorate([h.property({type:Date})],c.prototype,"created",void 0);b.__decorate([h.property()],c.prototype,"culture",void 0);b.__decorate([h.property()],c.prototype,"description",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"displayName",
null);b.__decorate([h.property({type:r})],c.prototype,"extent",void 0);b.__decorate([m.reader("extent")],c.prototype,"readExtent",null);b.__decorate([h.property()],c.prototype,"groupCategories",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"iconUrl",null);b.__decorate([h.property()],c.prototype,"id",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"isLayer",null);b.__decorate([h.property({type:Boolean,readOnly:!0})],c.prototype,"isOrgItem",void 0);b.__decorate([h.property()],
c.prototype,"itemControl",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"itemPageUrl",null);b.__decorate([h.property({readOnly:!0})],c.prototype,"itemUrl",null);b.__decorate([h.property()],c.prototype,"licenseInfo",void 0);b.__decorate([h.property({type:Date})],c.prototype,"modified",void 0);b.__decorate([h.property()],c.prototype,"name",void 0);b.__decorate([h.property()],c.prototype,"numComments",void 0);b.__decorate([h.property()],c.prototype,"numRatings",void 0);b.__decorate([h.property()],
c.prototype,"numViews",void 0);b.__decorate([h.property()],c.prototype,"owner",void 0);b.__decorate([h.property()],c.prototype,"ownerFolder",void 0);b.__decorate([h.property({type:e})],c.prototype,"portal",void 0);b.__decorate([h.property()],c.prototype,"screenshots",void 0);b.__decorate([h.property()],c.prototype,"size",void 0);b.__decorate([h.property()],c.prototype,"snippet",void 0);b.__decorate([h.property()],c.prototype,"sourceJSON",void 0);b.__decorate([h.property({type:String})],c.prototype,
"sourceUrl",void 0);b.__decorate([h.property({type:String})],c.prototype,"spatialReference",void 0);b.__decorate([h.property()],c.prototype,"tags",void 0);b.__decorate([h.property()],c.prototype,"thumbnail",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"thumbnailUrl",null);b.__decorate([h.property()],c.prototype,"title",void 0);b.__decorate([h.property()],c.prototype,"type",void 0);b.__decorate([h.property()],c.prototype,"typeKeywords",void 0);b.__decorate([h.property({type:String,
json:{read(t,y){z.has(y.type)&&(y=this.portal?.restUrl,t||=y&&this.id?`${y}/content/items/${this.id}/data`:null);return t}}})],c.prototype,"url",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"userItemUrl",null);return c=u=b.__decorate([w.subclass("esri.portal.PortalItem")],c)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){d=class extends d{constructor(w){super(w);this.portalItem=null}normalizeCtorArgs(w){return w?.portalItem&&w.path?{...w,path:this._normalizePath(w.path,w.portalItem)}:w}set path(w){null!=w&&q.isAbsolute(w)?c.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",w)}_castPath(w){return this._normalizePath(w,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:
null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(w="json",r){const e=this.cdnUrl;if(null==e)throw new f("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(e,{responseType:w,query:{token:this.portalItem.apiKey},signal:r?.signal})}async update(w,r){const {addOrUpdateResources:e}=
await new Promise((g,p)=>a(["./support/resourceUtils"],g,p));await e(this.portalItem,[{resource:this,content:w,compress:r?.compress,access:r?.access}],"update",r);return this}hasPath(){return null!=this.path}_normalizePath(w,r){if(null==w)return w;w=w.replace(/^\/+/,"");null!=r&&q.isAbsolute(w)&&(w=q.makeRelative(w,r.itemUrl));return w?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")}};b.__decorate([n.property()],d.prototype,"portalItem",void 0);b.__decorate([n.property({type:String,value:null})],
d.prototype,"path",null);b.__decorate([k.cast("path")],d.prototype,"_castPath",null);b.__decorate([n.property({type:String,readOnly:!0})],d.prototype,"url",null);b.__decorate([n.property({type:String,readOnly:!0})],d.prototype,"cdnUrl",null);b.__decorate([n.property({type:String,readOnly:!0})],d.prototype,"itemRelativeUrl",null);return d=b.__decorate([m.subclass("esri.portal.PortalItemResource")],d)})},"esri/portal/PortalRating":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){b=class extends b{constructor(k){super(k);this.rating=this.created=null}};a.__decorate([d.property()],b.prototype,"created",void 0);a.__decorate([d.property()],b.prototype,"rating",void 0);return b=a.__decorate([n.subclass("esri.portal.PortalRating")],b)})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../kernel","../core/urlUtils"],function(a,b,d){function f(v,u){var x=u?.url?.path;v&&x&&(v=d.makeAbsolute(v,x,{preserveProtocolRelative:!0}),u.portalItem&&
u.readResourcePaths&&(x=d.makeRelative(v,u.portalItem.itemUrl),null!=x&&g.test(x)&&u.readResourcePaths.push(u.portalItem.resourceFromPath(x).path)));return(v=m(v,u?.portal))&&e.test(v)?w(v):v}function c(v,u,x=a.MarkKeep.YES){v=v&&e.test(v)?r(v):v;if(null==v)return v;!d.isAbsolute(v)&&u?.blockedRelativeUrls&&u.blockedRelativeUrls.push(v);let z=d.makeAbsolute(v);if(u){var t=u.verifyItemRelativeUrls?.rootPath||u.url?.path;if(t){t=m(t,u.portal);const y=m(z,u.portal);z=d.makeRelative(y,t,t);null!=z&&z!==
y&&z!==v&&u.verifyItemRelativeUrls&&u.verifyItemRelativeUrls.writtenUrls.push(z)}}z=l(z,u?.portal);d.isAbsolute(z)&&(z=d.normalize(z));u?.resources&&u?.portalItem&&!d.isAbsolute(z)&&!d.isDataProtocol(z)&&x===a.MarkKeep.YES&&u.resources.toKeep.push({resource:u.portalItem.resourceFromPath(z),compress:!1});return z}function q(v,u,x){return f(v,x)}function n(v,u,x,z){v=c(v,z);void 0!==v&&(u[x]=v)}function k(v){return(v?.match(e)??null)?.[1]??null}function h(v){v=v?.match(e)??null;if(null==v)return null;
v=v[2];const u=v.lastIndexOf("/");if(-1===u){const {path:t,extension:y}=d.splitPathExtension(v);return{prefix:null,filename:t,extension:y}}const {path:x,extension:z}=d.splitPathExtension(v.slice(u+1));return{prefix:v.slice(0,u),filename:x,extension:z}}function l(v,u){return u&&!u.isPortal&&u.urlKey&&u.customBaseUrl?d.changeDomain(v,`${u.urlKey}.${u.customBaseUrl}`,u.portalHostname):v}function m(v,u){if(!u||u.isPortal||!u.urlKey||!u.customBaseUrl)return v;const x=`${u.urlKey}.${u.customBaseUrl}`,z=
d.getAppUrl();return d.hasSameOrigin(z,`${z.scheme}://${x}`)?d.changeDomain(v,u.portalHostname,x):d.changeDomain(v,x,u.portalHostname)}function w(v){if(!v)return v||null;v&&b.id&&!b.id.findCredential(v)&&(v=b.id._normalizeAGOLorgDomain(v),v=v.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),v=v.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),v=v.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return v}function r(v){if(!v)return v||null;
v=v.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com");v=v.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com");(v=v.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"))&&b.id&&!b.id.findCredential(v)&&(v=b.id._normalizeAGOLorgDomain(v));return v}const e=/\/items\/([^\/]+)\/resources\/(.*)/,g=/^\.\/resources\//;a.MarkKeep=void 0;(function(v){v[v.YES=0]="YES";v[v.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep={}));const p=Object.freeze(Object.defineProperty({__proto__:null,
get MarkKeep(){return a.MarkKeep},ensureMainOnlineDomain:l,fromCDNUrl:r,fromJSON:f,itemIdFromResourceUrl:k,prefixAndFilenameFromResourceUrl:h,read:q,toCDNUrl:w,toJSON:c,write:n},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=l;a.fromCDNUrl=r;a.fromJSON=f;a.itemIdFromResourceUrl=k;a.persistableUrlUtils=p;a.prefixAndFilenameFromResourceUrl=h;a.read=q;a.toCDNUrl=w;a.toJSON=c;a.write=n})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(a,
b,d){a.esriBasemapDefinitions={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",
classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",
isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get "dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},
baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],
id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-vector.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},
"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",
styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",
layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",
layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},
{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",
itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},
{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",
title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},
"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",
layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",
title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",
title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",
title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},
"arcgis-topographic":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},
title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",
title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},
"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},
"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",
title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};a.getBasemapTitle=async function(f){if(f){var c=f.includes("-vector")?f.slice(0,f.indexOf("-vector")):
f.includes("-3d")?f.slice(0,f.indexOf("-3d")):f,q=await d.fetchMessageBundle("esri/t9n/basemaps");return q[f]||q[c]}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../core/Error","../core/handleUtils","../core/promiseUtils","./locale"],function(a,b,d,f,c){function q(g){for(const p of w.keys())k(g.pattern,p)&&w.delete(p)}async function n(g,p){const v=[];for(const u of m)if(k(u.pattern,g))try{return await u.fetchMessageBundle(g,p)}catch(x){v.push(x)}if(v.length)throw new b("intl:message-bundle-error",
`Errors occurred while loading "${g}"`,{errors:v});throw new b("intl:no-message-bundle-loader",`No loader found for message bundle "${g}"`);}function k(g,p){return"string"===typeof g?p.startsWith(g):g.test(p)}const h=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,l={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,
"zh-TW":!0},m=[],w=new Map;c.beforeLocaleChange(()=>{w.clear()});const r=new class{constructor(){this._numLoading=0;this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(g){this._increase();g.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()}_increase(){this._numLoading++;this._dfd||(this._dfd=f.createResolver())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},e={cache:w,loaders:m};
a.fetchMessageBundle=async function(g){const p=c.getLocale();w.has(g)||w.set(g,n(g,p));(g=w.get(g))&&await r.add(g);return g};a.normalizeMessageBundleLocale=function(g){if(!h.test(g))return null;g=h.exec(g);if(null===g)return null;const [,p,v]=g;g=p+(v?"-"+v.toUpperCase():"");return g in l?g:p in l?p:null};a.registerMessageBundleLoader=function(g){m.includes(g)||(q(g),m.unshift(g));return d.makeHandle(()=>{const p=m.indexOf(g);-1<p&&(m.splice(p,1),q(g))})};a.test=e;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/BasemapStyle":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../intl/locale".split(" "),function(a,b,d,f,c,q,n,k){const h=new Set("ar bs ca hr cs da nl en et fi fr de el he hu id it ja ko lv lt nb pl ro ru sr es sv th tr uk vi".split(" "));b=class extends b{constructor(l){super(l);this.places=this.language=this.id=null;this.serviceUrl=
"https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps";this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;var l=k.getLocale().toLowerCase();switch(l){case "pt-br":return"pt-BR";case "pt-pt":return"pt-PT";case "zh-cn":return"zh-CN";case "zh-hk":return"zh-HK";case "zh-tw":return"zh-TW"}l=k.getLanguage(l);return"pt"===l?"pt-BR":l&&h.has(l)?l:"global"}};a.__decorate([d.property()],b.prototype,"id",void 0);a.__decorate([d.property()],b.prototype,"language",
void 0);a.__decorate([d.property()],b.prototype,"places",void 0);a.__decorate([d.property()],b.prototype,"serviceUrl",void 0);a.__decorate([d.property()],b.prototype,"worldview",void 0);return b=a.__decorate([n.subclass("esri.support.BasemapStyle")],b)})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),function(a,b,d,f,c,q){function n(l,
m){"maxScale"in l&&(m.maxScale=c.numberToJSON(l.maxScale)??void 0);"minScale"in l&&(m.minScale=c.numberToJSON(l.minScale)??void 0)}const k=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),h=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes media ogc-feature oriented-imagery route stream subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));a.disableRestrictedWriting=
function(l){k.add(l);h.add(l)};a.enableRestrictedWriting=function(l){k.delete(l);h.delete(l)};a.getLayerJSON=function(l,m,w){if(!l.persistenceEnabled)return null;if(!("write"in l&&l.write))return w?.messages&&w.messages.push(new b("layer:unsupported",`Layers (${l.title}, ${l.id}) of type '${l.declaredClass}' cannot be persisted`,{layer:l})),null;if(q.isFeatureCollectionLayer(l)&&!l.isTable)m=l.resourceInfo;else{if(w.restrictedWebMapWriting){var r="basemap"===w.layerContainerType?k:"operational-layers"===
w.layerContainerType?h:null;r=null!=r?r.has(l.type)&&!q.isFeatureCollectionLayer(l):!0}else r=!0;if(r)return m={},l.write(m,w)?m:null}if(null!=m){m=d.clone(m);if(w=m)q.isFeatureCollectionLayer(l)?(r=f.getDeepValue("featureCollection.layers",w)?.[0]?.layerDefinition)&&n(l,r):"group"!==l.type&&n(l,w);if(w&&(w.id=l.id,"blendMode"in l&&(w.blendMode=l.blendMode,"normal"===w.blendMode&&delete w.blendMode),w.opacity=c.numberToJSON(l.opacity)??void 0,w.title=l.title||"Layer",w.visibility=l.visible,"legendEnabled"in
l&&"wmts"!==l.type))if(q.isFeatureCollectionLayer(l)){if(w=w.featureCollection)w.showLegend=l.legendEnabled}else w.showLegend=l.legendEnabled}return m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(a,b,d){function f(q){return"scene"===q?.type}function c(q){q=q?.type;return"imagery-tile"===q||"tile"===q||"open-street-map"===q||"vector-tile"===q||"web-tile"===q||"wmts"===q}a.getEffectiveEditingEnabled=
function(q){a:if("editingEnabled"in q)switch(q.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var n=!0;break a;default:n=!1}else n=!1;return n?"effectiveEditingEnabled"in q?q.effectiveEditingEnabled:q.editingEnabled:!1};a.getEffectiveLayerCapabilities=function(q){a:if("capabilities"in q)switch(q.type){case "catalog":case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":case "wfs":var n=
!0;break a;default:n=!1}else n=!1;return n?"effectiveCapabilities"in q?q.effectiveCapabilities:q.capabilities:null};a.getOwningPortalUrl=async function(q,n){var k=b.id?.findServerInfo(q);if(null!=k?.currentVersion)return k.owningSystemUrl||null;k=q.toLowerCase().indexOf("/rest/services");if(-1===k)return null;q=`${q.substring(0,k)}/rest/info`;({data:n}=await d(q,{query:{f:"json"},responseType:"json",signal:null!=n?n.signal:null}));return n?.owningSystemUrl||null};a.getTileMaxtrixSetFromActiveLayer=
function(q){if(q.activeLayer){const n=q.activeLayer.tileMatrixSet;if(n)return n;if(q=q.activeLayer.tileMatrixSets)return q}return null};a.isBaseLayer=function(q){return null!=q?.parent&&"declaredClass"in q.parent&&"esri.Basemap"===q.parent.declaredClass&&q.parent.baseLayers.includes(q)};a.isBasemap3DSupportedLayer=function(q){return c(q)||f(q)};a.isBasemapSupportedTiledLayer=c;a.isFeatureCollectionLayer=function(q){return"feature"===q?.type&&!q.url&&"memory"===q.source?.type};a.isFeatureLayer=function(q){return null!=
q&&"object"===typeof q&&"type"in q&&"feature"===q.type};a.isFeatureServiceLayer=function(q){return"feature"===q?.type&&"feature-layer"===q.source?.type};a.isGraphicsLayer=function(q){return null!=q&&"object"===typeof q&&"type"in q&&"graphics"===q.type};a.isGroupLayer=function(q){return null!=q&&"type"in q&&"group"===q.type};a.isImageryTileLayer=function(q){return"imagery-tile"===q?.type};a.isIntegratedMeshLayer=function(q){return"integrated-mesh"===q||"integrated-mesh-3dtiles"===q};a.isIntegratedMeshOperationalLayer=
function(q){return"IntegratedMeshLayer"===q||"IntegratedMesh3DTilesLayer"===q};a.isKnowledgeGraphLayer=function(q){return null!=q&&"object"===typeof q&&"type"in q&&"knowledge-graph"===q.type&&"layers"in q};a.isLayerWithFeatureLayerSource=function(q){return("feature"===q?.type||"subtype-group"===q?.type)&&"feature-layer"===q.source?.type};a.isLinkChartLayer=function(q){return null!=q&&"object"===typeof q&&"type"in q&&"link-chart"===q.type&&"layers"in q};a.isMapNotesLayer=function(q){return null!=q&&
"object"===typeof q&&"type"in q&&"map-notes"===q.type&&"sublayers"in q};a.isSceneLayer=f;a.isSceneServiceLayer=function(q){q=q?.type;return"building-scene"===q||"integrated-mesh"===q||"point-cloud"===q||"scene"===q};a.isSubtypeGroupLayer=function(q){return null!=q&&"object"===typeof q&&"type"in q&&"subtype-group"===q.type&&"sublayers"in q};a.isSubtypeSublayer=function(q){return"subtype-sublayer"===q?.type};a.isTable=function(q){return null!=q&&"object"===typeof q&&"isTable"in q&&!!q.isTable};a.isTiledLayer=
function(q){q=q?.type;return"base-tile"===q||"tile"===q||"elevation"===q||"imagery-tile"===q||"base-elevation"===q||"open-street-map"===q||"wcs"===q||"web-tile"===q||"wmts"===q||"vector-tile"===q};a.isVoxelLayer=function(q){return"voxel"===q?.type};a.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a.serializeLayerDefinitions=function(q){const n=/[:;]/,k=[];let h=!1;if(q&&(q.forEach((l,
m)=>{k.push([m,l]);!h&&n.test(l)&&(h=!0)}),0<k.length)){if(h){const l={};k.forEach(m=>{l[m[0]]=m[1]});q=JSON.stringify(l)}else{const l=[];k.forEach(m=>{l.push(m[0]+":"+m[1])});q=l.join(";")}return q}return null};a.serializeTimeOptions=function(q){if(q){var n=[];q.forEach((k,h)=>{n.push('"'+h+'":'+JSON.stringify(k))});if(n.length)return"{"+n.join(",")+"}"}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Ground":function(){define("require ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z){function t(B){return"elevation"===B.type||B&&"createElevationSampler"in B}var y;k=y=class extends k.JSONSupportMixin(l){constructor(B){super(B);this.opacity=1;this.navigationConstraint=this.surfaceColor=null;this.layers=new f;const A=D=>{D.parent&&D.parent!==this&&"remove"in D.parent&&D.parent.remove(D);D.parent=this;"elevation"!==D.type&&"base-elevation"!==D.type&&w.getLogger(this).error(`Layer '${D.title}, id:${D.id}' of type '${D.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};
this.addHandles([this.layers.on("after-add",D=>A(D.item)),this.layers.on("after-remove",D=>{D.item.parent=null})])}initialize(){this.when().catch(B=>{e.isAbortError(B)||w.getLogger(this).error("#load()","Failed to load ground",B)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const B=this.layers.removeAll();for(const A of B)r.destroyMaybe(A);this.layers.destroy()}normalizeCtorArgs(B){B&&"resourceInfo"in B&&(this._set("resourceInfo",B.resourceInfo),B={...B},
delete B.resourceInfo);return B}set layers(B){this._set("layers",c.referenceSetter(B,this._get("layers")))}writeLayers(B,A,D,E){const J=[];B&&(E={...E,layerContainerType:"ground"},B.forEach(F=>{if("write"in F){const G={};q.typeCast(F)().write(G,E)&&J.push(G)}else E?.messages&&E.messages.push(new n("layer:unsupported",`Layers (${F.title}, ${F.id}) of type '${F.declaredClass}' cannot be persisted in the ground`,{layer:F}))}));A.layers=J}load(B){this.addResolvingPromise(this._loadFromSource(B));return Promise.resolve(this)}loadAll(){return m.loadAll(this,
B=>{B(this.layers)})}async queryElevation(B,A){await this.load({signal:A?.signal});var {ElevationQuery:D}=await new Promise((J,F)=>a(["./layers/support/ElevationQuery"],J,F));e.throwIfAborted(A);D=new D;const E=this.layers.filter(t).toArray();return D.queryAll(E,B,A)}async createElevationSampler(B,A){await this.load({signal:A?.signal});var {ElevationQuery:D}=await new Promise((J,F)=>a(["./layers/support/ElevationQuery"],J,F));e.throwIfAborted(A);D=new D;const E=this.layers.filter(t).toArray();return D.createSamplerAll(E,
B,A)}clone(){const B={opacity:this.opacity,surfaceColor:h.clone(this.surfaceColor),navigationConstraint:h.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(B.loadStatus="loaded");return(new y({resourceInfo:this.resourceInfo})).set(B)}read(B,A){this.resourceInfo||this._set("resourceInfo",{data:B,context:A});super.read(B,A)}_loadFromSource(B){const A=this.resourceInfo;return A?this._loadLayersFromJSON(A.data,A.context,B):Promise.resolve()}async _loadLayersFromJSON(B,A,D){const E=
A?.origin||"web-scene",J=A?.portal||null;A=A?.url||null;const {populateOperationalLayers:F}=await new Promise((G,M)=>a(["./layers/support/layersCreator"],G,M));e.throwIfAborted(D);D=[];B.layers&&Array.isArray(B.layers)&&D.push(F(this.layers,B.layers,{context:{origin:E,url:A,portal:J,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));await Promise.allSettled(D)}};b.__decorate([g.property({json:{read:!1}})],k.prototype,"layers",null);b.__decorate([u.writer("layers")],
k.prototype,"writeLayers",null);b.__decorate([g.property({readOnly:!0})],k.prototype,"resourceInfo",void 0);b.__decorate([g.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:p.Integer,read:{reader:z.transparencyToOpacity,source:"transparency"},write:{writer:(B,A)=>{A.transparency=z.opacityToTransparency(B)},target:"transparency"}}})],k.prototype,"opacity",void 0);b.__decorate([g.property({type:d,json:{type:[p.Integer],write:(B,A)=>{A.surfaceColor=B.toJSON().slice(0,3)}}})],k.prototype,
"surfaceColor",void 0);b.__decorate([g.property({type:x.NavigationConstraint,json:{write:!0}})],k.prototype,"navigationConstraint",void 0);return k=y=b.__decorate([v.subclass("esri.Ground")],k)})},"esri/Color":function(){define(["./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],function(a,b,d){function f(k){return b.clamp(d.ensureInteger(k),0,255)}function c(k,h,l){k=Number(k);return isNaN(k)?l:k<h?h:k>l?l:k}function q(k,h){k=k.toString(16).padStart(2,"0");return h?k.substring(0,
1):k}class n{static blendColors(k,h,l,m=new n){m.r=Math.round(k.r+(h.r-k.r)*l);m.g=Math.round(k.g+(h.g-k.g)*l);m.b=Math.round(k.b+(h.b-k.b)*l);m.a=k.a+(h.a-k.a)*l;return m._sanitize()}static fromRgb(k,h){var l=k.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(l){k=l[2].split(/\s*,\s*/);l=l[1];if("rgb"===l&&3===k.length||"rgba"===l&&4===k.length)return l=k[0],"%"===l.charAt(l.length-1)?(l=k.map(m=>2.56*parseFloat(m)),4===k.length&&(l[3]=parseFloat(k[3])),n.fromArray(l,h)):n.fromArray(k.map(m=>
parseFloat(m)),h);if("hsl"===l&&3===k.length||"hsla"===l&&4===k.length)return n.fromArray(a.hsla2rgba(parseFloat(k[0]),parseFloat(k[1])/100,parseFloat(k[2])/100,parseFloat(k[3])),h)}return null}static fromHex(k,h=new n){if("#"!==k[0]||isNaN(Number(`0x${k.substring(1)}`)))return null;switch(k.length){case 4:case 5:var l=parseInt(k.substring(1,2),16),m=parseInt(k.substring(2,3),16),w=parseInt(k.substring(3,4),16);k=5===k.length?15:parseInt(k.substring(4),16);return n.fromArray([l+16*l,m+16*m,w+16*w,
(k+16*k)/255],h);case 7:case 9:return l=parseInt(k.substring(1,3),16),m=parseInt(k.substring(3,5),16),w=parseInt(k.substring(5,7),16),k=7===k.length?255:parseInt(k.substring(7),16),n.fromArray([l,m,w,k/255],h);default:return null}}static fromArray(k,h=new n){h._set(Number(k[0]),Number(k[1]),Number(k[2]),Number(k[3]));isNaN(h.a)&&(h.a=1);return h._sanitize()}static fromString(k,h){const l=a.isNamedColor(k)?a.getNamedColor(k):null;return l&&n.fromArray(l,h)||n.fromRgb(k,h)||n.fromHex(k,h)}static fromJSON(k){return null!=
k?new n([k[0],k[1],k[2],(k[3]??255)/255]):void 0}static toUnitRGB(k){return null!=k?[k.r/255,k.g/255,k.b/255]:null}static toUnitRGBA(k){return null!=k?[k.r/255,k.g/255,k.b/255,null!=k.a?k.a:1]:null}constructor(k){this.b=this.g=this.r=255;this.a=1;k&&this.setColor(k)}get isBright(){return 127<=.299*this.r+.587*this.g+.114*this.b}setColor(k){"string"===typeof k?n.fromString(k,this):Array.isArray(k)?n.fromArray(k,this):(this._set(k.r??0,k.g??0,k.b??0,k.a??1),k instanceof n||this._sanitize());return this}toRgb(){return[this.r,
this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(k){const h=k?.capitalize??!1;var l=k?.digits??6;k=3===l||4===l;const m=4===l||8===l;l=q(this.r,k);const w=q(this.g,k),r=q(this.b,k);k=m?q(Math.round(255*this.a),k):"";k=`#${l}${w}${r}${k}`;return h?k.toUpperCase():k}toCss(k=!1){const h=this.r+", "+this.g+", "+this.b;return k?`rgba(${h}, ${this.a})`:`rgb(${h})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(k=n.AlphaMode.ALWAYS){const h=f(this.r),l=f(this.g),
m=f(this.b);return k===n.AlphaMode.ALWAYS||1!==this.a?[h,l,m,f(255*this.a)]:[h,l,m]}clone(){return new n(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(k){return null!=k&&k.r===this.r&&k.g===this.g&&k.b===this.b&&k.a===this.a}_sanitize(){this.r=Math.round(c(this.r,0,255));this.g=Math.round(c(this.g,0,255));this.b=Math.round(c(this.b,0,255));this.a=c(this.a,0,1);return this}_set(k,h,l,m){this.r=k;this.g=h;this.b=l;this.a=m}}n.prototype.declaredClass="esri.Color";(function(k){k=
k.AlphaMode||(k.AlphaMode={});k[k.ALWAYS=0]="ALWAYS";k[k.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(n||={});return n})},"esri/colorUtils":function(){define(["exports"],function(a){function b(c){return f[c]??f[c.toLowerCase()]}function d(c,q,n){0>n&&++n;1<n&&--n;const k=6*n;return 1>k?c+(q-c)*k:1>2*n?q:2>3*n?c+(q-c)*(2/3-n)*6:c}const f={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,
0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,
1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,
79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,
1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,
136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,
228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,
105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,
205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(c){return[...b(c)]};a.hex2rgba=function(c){var q=5<c.length;const n=q?8:4,k=(1<<n)-1,h=q?1:17;q=q?9===c.length:5===c.length;c=Number("0x"+c.substr(1));if(isNaN(c))return null;const l=[0,0,0,1];q&&(q=c&k,c>>=n,l[3]=h*q/255);q=c&k;c>>=n;l[2]=h*q;q=c&k;c>>=n;l[1]=h*q;q=c&k;c>>=n;l[0]=h*q;return l};a.hsla2rgba=function(c,q,n,k=1){c=(c%360+360)%360/360;q=.5>=n?n*(q+1):n+q-n*q;n=2*n-q;return[Math.round(255*d(n,q,c+1/3)),Math.round(255*d(n,q,c)),
Math.round(255*d(n,q,c-1/3)),k]};a.isNamedColor=function(c){return!!f[c]||!!f[c.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec32"],function(a,b){function d(p,v,u){return Math.min(Math.max(p,v),u)}function f(p,v,u){return p+(v-p)*u}function c(p){return Math.asin(d(p,-1,1))}function q(p,v,u=1E-6){return p===v?!0:Number.isFinite(p)&&Number.isFinite(v)?(p>v?p-v:v-p)<=u:!1}function n(p){w.setFloat64(0,p);
return w.getBigInt64(0)}function k(p){w.setBigInt64(0,p);return w.getFloat64(0)}function h(p){p=Math.abs(p);var v=n(p);v=v<=r?k(r):k(v-r);return Math.abs(p-v)}function l(p){m[0]=p;return m[0]}const m=new Float32Array(1),w=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),r=BigInt("1000000"),e=h(1),g=l(3.4028234663852886E38);a.acosClamped=function(p){return Math.acos(d(p,-1,1))};a.asinClamped=c;a.cartesianToSpherical=function(p,v){const u=b.length(p),x=c(p[2]/u);b.set(v,u,x,Math.atan2(p[1]/
u,p[0]/u));return v};a.clamp=d;a.clampFloat32=function(p){return l(Math.max(-g,Math.min(p,g)))};a.deg2rad=function(p){return p*Math.PI/180};a.floatEqualAbsolute=q;a.floatEqualRelative=function(p,v,u=1E-6){if(p===v)return!0;if(!Number.isFinite(p)||!Number.isFinite(v))return!1;const x=Math.abs(p-v),z=Math.abs(p),t=Math.abs(v);if(0===p||0===v||1E-12>z&&1E-12>t){if(x>.01*u)return!1}else if(x/(z+t)>u)return!1;return!0};a.floatEqualUlp=function(p,v,u=e){if(p===v)return!0;if(!Number.isFinite(p)||!Number.isFinite(v))return!1;
if(null!=u&&h(Math.min(Math.abs(p),Math.abs(v)))<u)return Math.abs(p-v)<=u;p=n(p);v=n(v);return 0>p!==0>v||(p<v?v-p:p-v)>r?!1:!0};a.hasScaling=function(p){const v=p[3]*p[3]+p[4]*p[4]+p[5]*p[5],u=p[6]*p[6]+p[7]*p[7]+p[8]*p[8];return!(q(p[0]*p[0]+p[1]*p[1]+p[2]*p[2],1)&&q(v,1)&&q(u,1))};a.isPowerOfTwo=function(p){return 0===(p&p-1)};a.lerp=f;a.moduloPositive=function(p,v){return(p%v+v)%v};a.nextHighestPowerOfTen=function(p){return 10**Math.ceil(Math.LOG10E*Math.log(p))};a.nextHighestPowerOfTwo=function(p){--p;
for(let v=1;32>v;v<<=1)p|=p>>v;return p+1};a.nextPowerOfTwo=function(p){p--;p|=p>>1;p|=p>>2;p|=p>>4;p|=p>>8;p|=p>>16;p++;return p};a.numberMaxFloat32=g;a.rad2deg=function(p){return 180*p/Math.PI};a.reciprocalClamped=function(p,v=1E-6){return(0>p?-1:1)/Math.max(Math.abs(p),v)};a.roundToNearest=function(p,v){return 0===v?0:Math.round(p/v)*v};a.scale=function(p,v,u,x,z){return f(x,z,(p-v)/(u-v))};a.smoothstep=function(p,v,u){p=d((u-p)/(v-p),0,1);return p*p*(3-2*p)};a.sphericalToCartesian=function(p,
v){const u=p[0],x=p[1];p=p[2];const z=Math.cos(x);b.set(v,u*z*Math.cos(p),u*z*Math.sin(p),u*Math.sin(x))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(a,b,d){function f(qa){const ha=qa[0],aa=qa[1];qa=qa[2];return Math.sqrt(ha*ha+aa*aa+qa*qa)}function c(qa,ha){qa[0]=ha[0];qa[1]=ha[1];qa[2]=ha[2];return qa}function q(qa,ha,aa,ja){qa[0]=ha;
qa[1]=aa;qa[2]=ja;return qa}function n(qa,ha,aa){qa[0]=ha[0]+aa[0];qa[1]=ha[1]+aa[1];qa[2]=ha[2]+aa[2];return qa}function k(qa,ha,aa){qa[0]=ha[0]-aa[0];qa[1]=ha[1]-aa[1];qa[2]=ha[2]-aa[2];return qa}function h(qa,ha,aa){qa[0]=ha[0]*aa[0];qa[1]=ha[1]*aa[1];qa[2]=ha[2]*aa[2];return qa}function l(qa,ha,aa){qa[0]=ha[0]/aa[0];qa[1]=ha[1]/aa[1];qa[2]=ha[2]/aa[2];return qa}function m(qa,ha){qa[0]=Math.ceil(ha[0]);qa[1]=Math.ceil(ha[1]);qa[2]=Math.ceil(ha[2]);return qa}function w(qa,ha){qa[0]=Math.floor(ha[0]);
qa[1]=Math.floor(ha[1]);qa[2]=Math.floor(ha[2]);return qa}function r(qa,ha){qa[0]=Math.abs(ha[0]);qa[1]=Math.abs(ha[1]);qa[2]=Math.abs(ha[2]);return qa}function e(qa,ha){qa[0]=Math.sign(ha[0]);qa[1]=Math.sign(ha[1]);qa[2]=Math.sign(ha[2]);return qa}function g(qa,ha,aa){qa[0]=Math.min(ha[0],aa[0]);qa[1]=Math.min(ha[1],aa[1]);qa[2]=Math.min(ha[2],aa[2]);return qa}function p(qa,ha,aa){qa[0]=Math.max(ha[0],aa[0]);qa[1]=Math.max(ha[1],aa[1]);qa[2]=Math.max(ha[2],aa[2]);return qa}function v(qa,ha){qa[0]=
Math.round(ha[0]);qa[1]=Math.round(ha[1]);qa[2]=Math.round(ha[2]);return qa}function u(qa,ha,aa){qa[0]=ha[0]*aa;qa[1]=ha[1]*aa;qa[2]=ha[2]*aa;return qa}function x(qa,ha,aa,ja){qa[0]=ha[0]+aa[0]*ja;qa[1]=ha[1]+aa[1]*ja;qa[2]=ha[2]+aa[2]*ja;return qa}function z(qa,ha){const aa=ha[0]-qa[0],ja=ha[1]-qa[1];qa=ha[2]-qa[2];return Math.sqrt(aa*aa+ja*ja+qa*qa)}function t(qa,ha){const aa=ha[0]-qa[0],ja=ha[1]-qa[1];qa=ha[2]-qa[2];return aa*aa+ja*ja+qa*qa}function y(qa){const ha=qa[0],aa=qa[1];qa=qa[2];return ha*
ha+aa*aa+qa*qa}function B(qa,ha){qa[0]=-ha[0];qa[1]=-ha[1];qa[2]=-ha[2];return qa}function A(qa,ha){qa[0]=1/ha[0];qa[1]=1/ha[1];qa[2]=1/ha[2];return qa}function D(qa,ha){var aa=ha[0];const ja=ha[1],sa=ha[2];aa=aa*aa+ja*ja+sa*sa;0<aa&&(aa=1/Math.sqrt(aa),qa[0]=ha[0]*aa,qa[1]=ha[1]*aa,qa[2]=ha[2]*aa);return qa}function E(qa,ha){return qa[0]*ha[0]+qa[1]*ha[1]+qa[2]*ha[2]}function J(qa,ha,aa){const ja=ha[0],sa=ha[1];ha=ha[2];const H=aa[0],Q=aa[1];aa=aa[2];qa[0]=sa*aa-ha*Q;qa[1]=ha*H-ja*aa;qa[2]=ja*Q-
sa*H;return qa}function F(qa,ha,aa,ja){const sa=ha[0],H=ha[1];ha=ha[2];qa[0]=sa+ja*(aa[0]-sa);qa[1]=H+ja*(aa[1]-H);qa[2]=ha+ja*(aa[2]-ha);return qa}function G(qa,ha,aa,ja,sa,H){const Q=H*H,fa=Q*(2*H-3)+1,ka=Q*(H-2)+H,za=Q*(H-1);H=Q*(3-2*H);qa[0]=ha[0]*fa+aa[0]*ka+ja[0]*za+sa[0]*H;qa[1]=ha[1]*fa+aa[1]*ka+ja[1]*za+sa[1]*H;qa[2]=ha[2]*fa+aa[2]*ka+ja[2]*za+sa[2]*H;return qa}function M(qa,ha,aa,ja,sa,H){var Q=1-H,fa=Q*Q;const ka=H*H,za=fa*Q;fa*=3*H;Q*=3*ka;H*=ka;qa[0]=ha[0]*za+aa[0]*fa+ja[0]*Q+sa[0]*H;
qa[1]=ha[1]*za+aa[1]*fa+ja[1]*Q+sa[1]*H;qa[2]=ha[2]*za+aa[2]*fa+ja[2]*Q+sa[2]*H;return qa}function L(qa,ha){ha=ha||1;var aa=d.RANDOM;const ja=2*aa()*Math.PI;aa=2*aa()-1;const sa=Math.sqrt(1-aa*aa)*ha;qa[0]=Math.cos(ja)*sa;qa[1]=Math.sin(ja)*sa;qa[2]=aa*ha;return qa}function T(qa,ha,aa){const ja=ha[0],sa=ha[1];ha=ha[2];qa[0]=aa[0]*ja+aa[4]*sa+aa[8]*ha+aa[12];qa[1]=aa[1]*ja+aa[5]*sa+aa[9]*ha+aa[13];qa[2]=aa[2]*ja+aa[6]*sa+aa[10]*ha+aa[14];return qa}function N(qa,ha,aa){const ja=ha[0],sa=ha[1];ha=ha[2];
qa[0]=ja*aa[0]+sa*aa[3]+ha*aa[6];qa[1]=ja*aa[1]+sa*aa[4]+ha*aa[7];qa[2]=ja*aa[2]+sa*aa[5]+ha*aa[8];return qa}function K(qa,ha,aa){const ja=aa[0],sa=aa[1],H=aa[2],Q=ha[0],fa=ha[1];ha=ha[2];const ka=sa*ha-H*fa,za=H*Q-ja*ha,W=ja*fa-sa*Q;aa=2*aa[3];qa[0]=Q+ka*aa+2*(sa*W-H*za);qa[1]=fa+za*aa+2*(H*ka-ja*W);qa[2]=ha+W*aa+2*(ja*za-sa*ka);return qa}function O(qa,ha,aa,ja){const sa=[],H=[];sa[0]=ha[0]-aa[0];sa[1]=ha[1]-aa[1];sa[2]=ha[2]-aa[2];H[0]=sa[0];H[1]=sa[1]*Math.cos(ja)-sa[2]*Math.sin(ja);H[2]=sa[1]*
Math.sin(ja)+sa[2]*Math.cos(ja);qa[0]=H[0]+aa[0];qa[1]=H[1]+aa[1];qa[2]=H[2]+aa[2];return qa}function R(qa,ha,aa,ja){const sa=[],H=[];sa[0]=ha[0]-aa[0];sa[1]=ha[1]-aa[1];sa[2]=ha[2]-aa[2];H[0]=sa[2]*Math.sin(ja)+sa[0]*Math.cos(ja);H[1]=sa[1];H[2]=sa[2]*Math.cos(ja)-sa[0]*Math.sin(ja);qa[0]=H[0]+aa[0];qa[1]=H[1]+aa[1];qa[2]=H[2]+aa[2];return qa}function V(qa,ha,aa,ja){const sa=[],H=[];sa[0]=ha[0]-aa[0];sa[1]=ha[1]-aa[1];sa[2]=ha[2]-aa[2];H[0]=sa[0]*Math.cos(ja)-sa[1]*Math.sin(ja);H[1]=sa[0]*Math.sin(ja)+
sa[1]*Math.cos(ja);H[2]=sa[2];qa[0]=H[0]+aa[0];qa[1]=H[1]+aa[1];qa[2]=H[2]+aa[2];return qa}function ma(qa,ha){D(Ga,qa);D(Qa,ha);qa=E(Ga,Qa);return 1<qa?0:-1>qa?Math.PI:Math.acos(qa)}function ca(qa){return"vec3("+qa[0]+", "+qa[1]+", "+qa[2]+")"}function ua(qa,ha){return qa[0]===ha[0]&&qa[1]===ha[1]&&qa[2]===ha[2]}function Aa(qa,ha){if(qa===ha)return!0;const aa=qa[0],ja=qa[1];qa=qa[2];const sa=ha[0],H=ha[1];ha=ha[2];const Q=d.getEpsilon();return Math.abs(aa-sa)<=Q*Math.max(1,Math.abs(aa),Math.abs(sa))&&
Math.abs(ja-H)<=Q*Math.max(1,Math.abs(ja),Math.abs(H))&&Math.abs(qa-ha)<=Q*Math.max(1,Math.abs(qa),Math.abs(ha))}function Ma(qa,ha,aa){const ja=aa[0]-ha[0],sa=aa[1]-ha[1];ha=aa[2]-ha[2];aa=ja*ja+sa*sa+ha*ha;if(0<aa)return aa=1/Math.sqrt(aa),qa[0]=ja*aa,qa[1]=sa*aa,qa[2]=ha*aa,qa;qa[0]=0;qa[1]=0;qa[2]=0;return qa}const Ga=b.create(),Qa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,abs:r,add:n,angle:ma,bezier:M,ceil:m,copy:c,cross:J,direction:Ma,dist:z,distance:z,div:l,divide:l,dot:E,
equals:Aa,exactEquals:ua,floor:w,hermite:G,inverse:A,len:f,length:f,lerp:F,max:p,min:g,mul:h,multiply:h,negate:B,normalize:D,random:L,rotateX:O,rotateY:R,rotateZ:V,round:v,scale:u,scaleAndAdd:x,set:q,sign:e,sqrDist:t,sqrLen:y,squaredDistance:t,squaredLength:y,str:ca,sub:k,subtract:k,transformMat3:N,transformMat4:T,transformQuat:K},Symbol.toStringTag,{value:"Module"}));a.abs=r;a.add=n;a.angle=ma;a.bezier=M;a.ceil=m;a.copy=c;a.cross=J;a.direction=Ma;a.dist=z;a.distance=z;a.div=l;a.divide=l;a.dot=E;
a.equals=Aa;a.exactEquals=ua;a.floor=w;a.hermite=G;a.inverse=A;a.len=f;a.length=f;a.lerp=F;a.max=p;a.min=g;a.mul=h;a.multiply=h;a.negate=B;a.normalize=D;a.random=L;a.rotateX=O;a.rotateY=R;a.rotateZ=V;a.round=v;a.scale=u;a.scaleAndAdd=x;a.set=q;a.sign=e;a.sqrDist=t;a.sqrLen=y;a.squaredDistance=t;a.squaredLength=y;a.str=ca;a.sub=k;a.subtract=k;a.transformMat3=N;a.transformMat4=T;a.transformQuat=K;a.vec3=b})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["exports"],function(a){function b(){return[0,
0,0]}function d(u){return[u[0],u[1],u[2]]}function f(u,x,z){return[u,x,z]}function c(u,x=b()){const z=Math.min(3,u.length);for(let t=0;t<z;++t)x[t]=u[t];return x}function q(u,x){return new Float64Array(u,x,3)}function n(){return b()}function k(){return[1,1,1]}function h(){return[1,0,0]}function l(){return[0,1,0]}function m(){return[0,0,1]}const w=b(),r=k(),e=h(),g=l(),p=m(),v=Object.freeze(Object.defineProperty({__proto__:null,ONES:r,UNIT_X:e,UNIT_Y:g,UNIT_Z:p,ZEROS:w,clone:d,create:b,createView:q,
fromArray:c,fromValues:f,ones:k,unitX:h,unitY:l,unitZ:m,zeros:n},Symbol.toStringTag,{value:"Module"}));a.ONES=r;a.UNIT_X=e;a.UNIT_Y=g;a.UNIT_Z=p;a.ZEROS=w;a.clone=d;a.create=b;a.createView=q;a.fromArray=c;a.fromValues=f;a.ones=k;a.unitX=h;a.unitY=l;a.unitZ=m;a.vec3f64=v;a.zeros=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["exports"],function(a){function b(){return n}function d(w){n=w}function f(w){return w*h}function c(w){return w*
l}function q(w,r){return Math.abs(w-r)<=n*Math.max(1,Math.abs(w),Math.abs(r))}let n=1E-6;const k=Math.random,h=Math.PI/180,l=180/Math.PI,m=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:k,equals:q,getEpsilon:b,setEpsilon:d,toDegree:c,toRadian:f},Symbol.toStringTag,{value:"Module"}));a.RANDOM=k;a.common=m;a.equals=q;a.getEpsilon=b;a.setEpsilon=d;a.toDegree=c;a.toRadian=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports",
"./has"],function(a,b){a.neverReached=function(d){};a.neverReachedSilent=function(d){};a.typeCast=function(d){return()=>d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){var l;a.NavigationConstraint=
l=class extends d.JSONSupport{constructor(m){super(m);this.type="none"}clone(){return new l({type:this.type})}};b.__decorate([k.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=l=b.__decorate([h.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],
function(a,b,d){a.enumeration=function(f,c={}){f=f instanceof b.JSONMap?f:new b.JSONMap(f,c);f={type:c?.ignoreUnknown??!0?f.apiValues:String,json:{type:f.jsonValues,read:c?.readOnly?!1:{reader:f.read},write:{writer:f.write}}};void 0!==c?.readOnly&&(f.readOnly=!!c.readOnly);void 0!==c?.default&&(f.json.default=c.default);void 0!==c?.name&&(f.json.name=c.name);void 0!==c?.nonNullable&&(f.nonNullable=c.nonNullable);return d.property(f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(d){d=b.ensureInteger(100*(1-d));return Math.max(0,Math.min(d,100))};a.transparencyToOpacity=function(d){return Math.max(0,Math.min(1-d/100,1))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/CollectionFlattener":function(){define("../chunks/tslib.es6 ./Collection ./asyncUtils ./Error ./Logger ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h){d=class extends b{constructor(l){super(l);this.getCollections=null}initialize(){this.addHandles(n.autorun(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const l=null!=this.getCollections?this.getCollections():null;if(null==l)this.removeAll();else{var m=0;for(const w of l)null!=w&&(m=this._processCollection(m,w));this.splice(m,this.length)}}_createNewInstance(l){return new b(l)}_processCollection(l,m){if(!m)return l;const w=this.itemFilterFunction??
(r=>!!r);for(const r of m)if(r&&(w(r)&&(m=this.indexOf(r,l),0<=m?m!==l&&this.reorder(r,l):this.add(r,l),++l),this.getChildrenFunction))if(m=this.getChildrenFunction(r),Array.isArray(m))for(const e of m)l=this._processCollection(l,e);else l=this._processCollection(l,m);return l}};a.__decorate([k.property()],d.prototype,"getCollections",void 0);a.__decorate([k.property()],d.prototype,"getChildrenFunction",void 0);a.__decorate([k.property()],d.prototype,"itemFilterFunction",void 0);return d=a.__decorate([h.subclass("esri.core.CollectionFlattener")],
d)})},"esri/layers/support/editableLayers":function(){define(["exports","./layerUtils"],function(a,b){a.isEditableLayer=function(d){return!(!(d&&"object"===typeof d&&"loaded"in d&&d.loaded&&b.getEffectiveLayerCapabilities(d)?.operations?.supportsEditing&&"type"in d)||"editingEnabled"in d&&!b.getEffectiveEditingEnabled(d))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ../layers/effects/utils ./basemapDefinitions".split(" "),
function(a,b,d,f,c,q,n,k,h,l){function m(G,M){let L;if("string"===typeof G){const T=G in l.esriBasemapDefinitions,N=!T&&G.includes("/");if(!T&&!N)return M=Object.entries(l.esriBasemapDefinitions).filter(([,K])=>d.apiKey&&!K.classic||!d.apiKey&&(K.classic||K.is3d)).map(([K])=>`"${K}"`).sort().join(", "),c.getLogger("esri.support.basemapUtils").warn(`Unable to find basemap definition for: ${G}. Try one of these: ${M}`),null;M&&(L=M[G]);L||(L=T?b.fromId(G):new b({style:{id:G}}),M&&(M[G]=L))}else L=k.ensureType(b,
G);L?.destroyed&&(c.getLogger("esri.support.basemapUtils").warn("The provided basemap is already destroyed",{basemap:L}),L=null);return L}function w(G){if(J)return J(G);let M=null;G=p(G);const L=!G?.baseLayers.length;for(const N in l.esriBasemapDefinitions){var T=z(l.esriBasemapDefinitions[N]);T=y(G,T,{mustMatchReferences:L});if("equal"===T){M=N;break}"base-layers-equal"===T&&(M=N)}return M}function r(G,M){const L=new f;G.forEach(T=>{const N=M.find(K=>"scene"!==K.type&&A(u(T),u(K)))||T;L.includes(N)?
L.push(T):L.push(N)});return L}function e(G){if(g(G.url))return!0;if("vector-tile"===G.type)for(const M in G.sourceNameToSource)if(g(G.sourceNameToSource[M]?.sourceUrl))return!0;return!1}function g(G){if(!G)return!1;G=new n.Url(n.makeAbsolute(G));return!!G.authority&&F.test(G.authority)}function p(G){return G?!G.loaded&&G.resourceInfo?z(G.resourceInfo.data):{baseLayers:v(G.baseLayers),referenceLayers:v(G.referenceLayers)}:null}function v(G){return(f.isCollection(G)?G.toArray():G).map(u)}function u(G){return{type:G.type,
effect:"effect"in G?G.effect:void 0,url:D("urlTemplate"in G&&G.urlTemplate||G.url||"styleUrl"in G&&G.styleUrl||""),minScale:"minScale"in G&&null!=G.minScale?G.minScale:0,maxScale:"maxScale"in G&&null!=G.maxScale?G.maxScale:0,opacity:null!=G.opacity?G.opacity:1,visible:null!=G.visible?!!G.visible:!0,sublayers:"map-image"!==G.type&&"wms"!==G.type||null==G.sublayers?void 0:G.sublayers?.map(M=>({id:M.id,visible:M.visible})),activeLayerId:"wmts"===G.type?G.activeLayer?.id:void 0}}function x(G){return G.isReference||
"ArcGISSceneServiceLayer"===G.layerType}function z(G){return G?{baseLayers:t((G.baseMapLayers??[]).filter(M=>!x(M))),referenceLayers:t((G.baseMapLayers??[]).filter(M=>x(M)))}:null}function t(G){return G.map(M=>{let L;switch(M.layerType){case "VectorTileLayer":L="vector-tile";break;case "ArcGISTiledMapServiceLayer":L="tile";break;case "ArcGISSceneServiceLayer":L="scene";break;default:L="unknown"}return{type:L,effect:M.effect,url:D(M.templateUrl||M.urlTemplate||M.styleUrl||M.url),minScale:M.minScale??
0,maxScale:M.maxScale??0,opacity:M.opacity??1,visible:null!=M.visibility?!!M.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function y(G,M,L){return null!=G!==(null!=M)?"not-equal":G&&M?B(G.baseLayers,M.baseLayers)?B(G.referenceLayers,M.referenceLayers)?"equal":L.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function B(G,M){if(G.length!==M.length)return!1;for(let L=0;L<G.length;L++)if(!A(G[L],M[L]))return!1;return!0}function A(G,M){if(G.type!==M.type||G.url!==M.url||
G.minScale!==M.minScale||G.maxScale!==M.maxScale||G.visible!==M.visible||G.opacity!==M.opacity||!h.effectEquals(G.effect,M.effect))return!1;if(null!=G.activeLayerId||null!=M.activeLayerId)return G.activeLayerId===M.activeLayerId;if(null!=G.sublayers||null!=M.sublayers){if(null==G.sublayers||null==M.sublayers||G.sublayers.length!==M.sublayers.length)return!1;for(let L=0;L<G.sublayers.length;L++){const T=G.sublayers.at(L),N=M.sublayers.at(L);if(T?.id!==N?.id||T?.visible!==N?.visible)return!1}}return!0}
function D(G){return G?n.normalize(G).replace(/^\s*https?:/i,"").toLowerCase():""}function E(G){return"portalItem"in G?G.portalItem?.thumbnailUrl:void 0}let J;const F=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(G,M=null){G=m(G);if(!G)return null;G=G.clone();M&&(G.baseLayers=r(G.baseLayers,M.baseLayers),G.referenceLayers=r(G.referenceLayers,M.referenceLayers));return G};a.contentEquals=function(G,M){if(G===M||null!=G?.portalItem?.id&&G.portalItem.id===M?.portalItem?.id)return!0;
G=p(G);M=p(M);return"equal"===y(G,M,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(G){for(const M in G)q.destroyMaybe(G[M]),delete G[M]};a.ensureType=m;a.findSpatialReference=function(G,M){if(null==M||null==G)return{spatialReference:null,updating:!1};if("not-loaded"===M.loadStatus)return M.load(),{spatialReference:null,updating:!0};if(M.spatialReference)return{spatialReference:M.spatialReference,updating:!1};if(0===M.baseLayers.length)return{spatialReference:null,
updating:!1};M=M.baseLayers.at(0);switch(M.loadStatus){case "not-loaded":M.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}M=(("supportedSpatialReferences"in M?M.supportedSpatialReferences:null)||["tileInfo"in M?M.tileInfo?.spatialReference:M.spatialReference]).filter(Boolean);const L=G.spatialReference;return L?{spatialReference:M.find(T=>L.equals(T))??M[0]??null,updating:!1}:{spatialReference:M[0],updating:!1}};a.getBasemapThumbnailUrl=
function(G){if(!G)return null;var {thumbnailUrl:M}=G;return M?M:(M=w(G))?l.esriBasemapDefinitions[M].thumbnailUrl:q.mappedFind(G.baseLayers,E)};a.getWellKnownBasemapId=w;a.hasDeveloperBasemapLayer=function(G){return!!G?.baseLayers.concat(G.referenceLayers).some(e)};a.isBasemap3D=function(G){return"Web Scene"===G.portalItem?.type||G.referenceLayers.some(M=>"scene"===M.type)};a.isBasemapInBeta=function(G){return!!G?.portalItem?.tags?.some(M=>"beta"===M.toLowerCase())};a.isBasemapLayer=function(G,M){return G.basemap?.referenceLayers?.some(L=>
L.uid===M)||G.basemap?.baseLayers?.some(L=>L.uid===M)};a.isDeveloperBasemapLayer=e;a.overrideGetWellKnownBasemapId=function(G){J=G};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(d,f){const c=d.length>f.length?d:f;return(d.length>f.length?f:d).every((q,n)=>q.type===c[n].type)};a.effectEquals=function(d,f){d=JSON.stringify(d??null);f=JSON.stringify(f??null);return d===
f};a.isEffectFunctions=function(d){return(d=d[0])?"type"in d:!1};a.normalizeEffects=function(d,f){const c=d.length>f.length?d:f;d=d.length>f.length?f:d;for(f=d.length;f<c.length;f++)d.push(b.createEffectWithInitialValues(c[f]))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define(["exports","../../colorUtils","../../core/screenUtils","../../core/libs/gl-matrix-2/factories/mat4f32","./colorMatrixFunctions"],function(a,b,d,f,c){function q(e,
g,p){return e+(g-e)*p}function n(e){return Math.round(1E3*d.px2pt(e))/1E3}class k{constructor(e,g,p){this.strength=e;this.radius=g;this.threshold=p;this.type="bloom"}interpolate(e,g,p){this.strength=q(e.strength,g.strength,p);this.radius=q(e.radius,g.radius,p);this.threshold=q(e.threshold,g.threshold,p)}clone(){return new k(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:n(this.radius),strength:this.strength,threshold:this.threshold}}}class h{constructor(e){this.radius=
e;this.type="blur"}interpolate(e,g,p){this.radius=Math.round(q(e.radius,g.radius,p))}clone(){return new h(this.radius)}toJSON(){return{type:"blur",radius:n(this.radius)}}}class l{constructor(e,g){this.type=e;this.amount=g;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(e,g,p){this.amount=q(e.amount,g.amount,p);this._updateMatrix()}clone(){return new l(this.type,
this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||f.create();switch(this.type){case "brightness":this._colorMatrix=c.brightness(e,this.amount);break;case "contrast":this._colorMatrix=c.contrast(e,this.amount);break;case "grayscale":this._colorMatrix=c.grayscale(e,this.amount);break;case "invert":this._colorMatrix=c.invert(e,this.amount);break;case "saturate":this._colorMatrix=c.saturate(e,this.amount);break;case "sepia":this._colorMatrix=c.sepia(e,
this.amount)}}}class m{constructor(e,g,p,v){this.offsetX=e;this.offsetY=g;this.blurRadius=p;this.color=v;this.type="drop-shadow"}interpolate(e,g,p){this.offsetX=q(e.offsetX,g.offsetX,p);this.offsetY=q(e.offsetY,g.offsetY,p);this.blurRadius=q(e.blurRadius,g.blurRadius,p);this.color[0]=Math.round(q(e.color[0],g.color[0],p));this.color[1]=Math.round(q(e.color[1],g.color[1],p));this.color[2]=Math.round(q(e.color[2],g.color[2],p));this.color[3]=q(e.color[3],g.color[3],p)}clone(){return new m(this.offsetX,
this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];e[3]*=255;return{type:"drop-shadow",xoffset:n(this.offsetX),yoffset:n(this.offsetY),blurRadius:n(this.blurRadius),color:e}}}class w{constructor(e){this.angle=e;this.type="hue-rotate"}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(e,g,p){this.angle=q(e.angle,g.angle,p);this._updateMatrix()}clone(){return new w(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=
this._colorMatrix||f.create();this._colorMatrix=c.rotateHue(e,this.angle)}}class r{constructor(e){this.amount=e;this.type="opacity";this.amount=Math.min(this.amount,1)}interpolate(e,g,p){this.amount=q(e.amount,g.amount,p)}clone(){return new r(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}a.BloomEffect=k;a.BlurEffect=h;a.ColorMatrixEffect=l;a.DropShadowEffect=m;a.HueRotateEffect=w;a.OpacityEffect=r;a.createEffectWithInitialValues=function(e){switch(e.type){case "grayscale":case "sepia":case "invert":return new l(e.type,
0);case "saturate":case "brightness":case "contrast":return new l(e.type,1);case "opacity":return new r(1);case "hue-rotate":return new w(0);case "blur":return new h(0);case "drop-shadow":return new m(0,0,0,[...b.getNamedColor("transparent")]);case "bloom":return new k(0,0,1)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(f){return f?72*f/96:0}const d=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=
function(f){return f};a.castRenderScreenPointArray3=function(f){return f};a.castScreenPointArray=function(f){return f};a.createRenderScreenPoint=function(f=0,c=0){return{x:f,y:c}};a.createRenderScreenPointArray=function(f=0,c=0){return[f,c]};a.createRenderScreenPointArray3=function(f=0,c=0,q=0){return[f,c,q]};a.createScreenPoint=function(f=0,c=0){return{x:f,y:c}};a.createScreenPointArray=function(f=0,c=0){return[f,c]};a.pt2px=function(f){return f?f/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(f,
c){return c?(c.x=f[0],c.y=f[1],c):{x:f[0],y:f[1]}};a.screenPointObjectToArray=function(f,c){return c?(c[0]=f.x,c[1]=f.y,2<c.length&&(c[2]=0),c):[f.x,f.y]};a.toPt=function(f){if("string"===typeof f){var c=f.match(d);if(c){var q=Number(c[1]);c=c[3]&&c[3].toLowerCase();f="-"===f.charAt(0);q="px"===c?b(q):q;return f?-q:q}console.warn("screenUtils.toPt: input not recognized!");return null}return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f32":function(){define(["exports"],
function(a){function b(){const k=new Float32Array(16);k[0]=1;k[5]=1;k[10]=1;k[15]=1;return k}function d(k){const h=new Float32Array(16);h[0]=k[0];h[1]=k[1];h[2]=k[2];h[3]=k[3];h[4]=k[4];h[5]=k[5];h[6]=k[6];h[7]=k[7];h[8]=k[8];h[9]=k[9];h[10]=k[10];h[11]=k[11];h[12]=k[12];h[13]=k[13];h[14]=k[14];h[15]=k[15];return h}function f(k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B){const A=new Float32Array(16);A[0]=k;A[1]=h;A[2]=l;A[3]=m;A[4]=w;A[5]=r;A[6]=e;A[7]=g;A[8]=p;A[9]=v;A[10]=u;A[11]=x;A[12]=z;A[13]=t;A[14]=y;A[15]=
B;return A}function c(k,h){return new Float32Array(k,h,16)}const q=b(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:q,clone:d,create:b,createView:c,fromValues:f},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=q;a.clone=d;a.create=b;a.createView=c;a.fromValues=f;a.mat4f32=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(a,b){a.brightness=(d,
f)=>{d=b.set(d,f,0,0,0,0,f,0,0,0,0,f,0,0,0,0,1);return b.transpose(d,d)};a.contrast=(d,f)=>{d=b.set(d,f,0,0,.5-.5*f,0,f,0,.5-.5*f,0,0,f,.5-.5*f,0,0,0,1);return b.transpose(d,d)};a.grayscale=(d,f)=>{f=1-f;d=b.set(d,.2126+.7874*f,.7152-.7152*f,.0722-.0722*f,0,.2126-.2126*f,.7152+.2848*f,.0722-.0722*f,0,.2126-.2126*f,.7152-.7152*f,.0722+.9278*f,0,0,0,0,1);return b.transpose(d,d)};a.invert=(d,f)=>{const c=1-2*f;d=b.set(d,c,0,0,f,0,c,0,f,0,0,c,f,0,0,0,1);return b.transpose(d,d)};a.rotateHue=(d,f)=>{const c=
Math.sin(f*Math.PI/180);f=Math.cos(f*Math.PI/180);d=b.set(d,.213+.787*f-.213*c,.715-.715*f-.715*c,.072-.072*f+.928*c,0,.213-.213*f+.143*c,.715+.285*f+.14*c,.072-.072*f-.283*c,0,.213-.213*f-.787*c,.715-.715*f+.715*c,.072+.928*f+.072*c,0,0,0,0,1);return b.transpose(d,d)};a.saturate=(d,f)=>{d=b.set(d,.213+.787*f,.715-.715*f,.072-.072*f,0,.213-.213*f,.715+.285*f,.072-.072*f,0,.213-.213*f,.715-.715*f,.072+.928*f,0,0,0,0,1);return b.transpose(d,d)};a.sepia=(d,f)=>{f=1-f;d=b.set(d,.393+.607*f,.769-.769*
f,.189-.189*f,0,.349-.349*f,.686+.314*f,.168-.168*f,0,.272-.272*f,.534-.534*f,.131+.869*f,0,0,0,0,1);return b.transpose(d,d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(a,b,d){function f(H,Q){H[0]=Q[0];H[1]=Q[1];H[2]=Q[2];H[3]=Q[3];H[4]=Q[4];H[5]=Q[5];H[6]=Q[6];H[7]=Q[7];H[8]=Q[8];H[9]=Q[9];H[10]=Q[10];H[11]=Q[11];H[12]=Q[12];H[13]=Q[13];H[14]=Q[14];H[15]=Q[15];return H}
function c(H,Q,fa,ka,za,W,ea,ia,I,S,X,na,va,Ea,da,pa,ra){H[0]=Q;H[1]=fa;H[2]=ka;H[3]=za;H[4]=W;H[5]=ea;H[6]=ia;H[7]=I;H[8]=S;H[9]=X;H[10]=na;H[11]=va;H[12]=Ea;H[13]=da;H[14]=pa;H[15]=ra;return H}function q(H){H[0]=1;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=1;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=1;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function n(H,Q){if(H===Q){const fa=Q[1],ka=Q[2],za=Q[3],W=Q[6],ea=Q[7],ia=Q[11];H[1]=Q[4];H[2]=Q[8];H[3]=Q[12];H[4]=fa;H[6]=Q[9];H[7]=Q[13];H[8]=ka;H[9]=W;H[11]=Q[14];
H[12]=za;H[13]=ea;H[14]=ia}else H[0]=Q[0],H[1]=Q[4],H[2]=Q[8],H[3]=Q[12],H[4]=Q[1],H[5]=Q[5],H[6]=Q[9],H[7]=Q[13],H[8]=Q[2],H[9]=Q[6],H[10]=Q[10],H[11]=Q[14],H[12]=Q[3],H[13]=Q[7],H[14]=Q[11],H[15]=Q[15];return H}function k(H,Q){h(H,Q)||q(H);return H}function h(H,Q){const fa=Q[0],ka=Q[1],za=Q[2],W=Q[3],ea=Q[4],ia=Q[5],I=Q[6],S=Q[7],X=Q[8],na=Q[9],va=Q[10],Ea=Q[11],da=Q[12],pa=Q[13],ra=Q[14];Q=Q[15];const Ca=fa*ia-ka*ea,Da=fa*I-za*ea,Na=fa*S-W*ea,Oa=ka*I-za*ia,Pa=ka*S-W*ia,Ra=za*S-W*I,oa=X*pa-na*da,
U=X*ra-va*da,ba=X*Q-Ea*da,ya=na*ra-va*pa,xa=na*Q-Ea*pa,Ka=va*Q-Ea*ra;let Sa=Ca*Ka-Da*xa+Na*ya+Oa*ba-Pa*U+Ra*oa;if(!Sa)return null;Sa=1/Sa;H[0]=(ia*Ka-I*xa+S*ya)*Sa;H[1]=(za*xa-ka*Ka-W*ya)*Sa;H[2]=(pa*Ra-ra*Pa+Q*Oa)*Sa;H[3]=(va*Pa-na*Ra-Ea*Oa)*Sa;H[4]=(I*ba-ea*Ka-S*U)*Sa;H[5]=(fa*Ka-za*ba+W*U)*Sa;H[6]=(ra*Na-da*Ra-Q*Da)*Sa;H[7]=(X*Ra-va*Na+Ea*Da)*Sa;H[8]=(ea*xa-ia*ba+S*oa)*Sa;H[9]=(ka*ba-fa*xa-W*oa)*Sa;H[10]=(da*Pa-pa*Na+Q*Ca)*Sa;H[11]=(na*Na-X*Pa-Ea*Ca)*Sa;H[12]=(ia*U-ea*ya-I*oa)*Sa;H[13]=(fa*ya-
ka*U+za*oa)*Sa;H[14]=(pa*Da-da*Oa-ra*Ca)*Sa;H[15]=(X*Oa-na*Da+va*Ca)*Sa;return H}function l(H,Q){const fa=Q[0],ka=Q[1],za=Q[2],W=Q[3],ea=Q[4],ia=Q[5],I=Q[6],S=Q[7],X=Q[8],na=Q[9],va=Q[10],Ea=Q[11],da=Q[12],pa=Q[13],ra=Q[14];Q=Q[15];H[0]=ia*(va*Q-Ea*ra)-na*(I*Q-S*ra)+pa*(I*Ea-S*va);H[1]=-(ka*(va*Q-Ea*ra)-na*(za*Q-W*ra)+pa*(za*Ea-W*va));H[2]=ka*(I*Q-S*ra)-ia*(za*Q-W*ra)+pa*(za*S-W*I);H[3]=-(ka*(I*Ea-S*va)-ia*(za*Ea-W*va)+na*(za*S-W*I));H[4]=-(ea*(va*Q-Ea*ra)-X*(I*Q-S*ra)+da*(I*Ea-S*va));H[5]=fa*(va*
Q-Ea*ra)-X*(za*Q-W*ra)+da*(za*Ea-W*va);H[6]=-(fa*(I*Q-S*ra)-ea*(za*Q-W*ra)+da*(za*S-W*I));H[7]=fa*(I*Ea-S*va)-ea*(za*Ea-W*va)+X*(za*S-W*I);H[8]=ea*(na*Q-Ea*pa)-X*(ia*Q-S*pa)+da*(ia*Ea-S*na);H[9]=-(fa*(na*Q-Ea*pa)-X*(ka*Q-W*pa)+da*(ka*Ea-W*na));H[10]=fa*(ia*Q-S*pa)-ea*(ka*Q-W*pa)+da*(ka*S-W*ia);H[11]=-(fa*(ia*Ea-S*na)-ea*(ka*Ea-W*na)+X*(ka*S-W*ia));H[12]=-(ea*(na*ra-va*pa)-X*(ia*ra-I*pa)+da*(ia*va-I*na));H[13]=fa*(na*ra-va*pa)-X*(ka*ra-za*pa)+da*(ka*va-za*na);H[14]=-(fa*(ia*ra-I*pa)-ea*(ka*ra-za*pa)+
da*(ka*I-za*ia));H[15]=fa*(ia*va-I*na)-ea*(ka*va-za*na)+X*(ka*I-za*ia);return H}function m(H){const Q=H[0],fa=H[1],ka=H[2],za=H[3],W=H[4],ea=H[5],ia=H[6],I=H[7],S=H[8],X=H[9],na=H[10],va=H[11],Ea=H[12],da=H[13],pa=H[14];H=H[15];return(Q*ea-fa*W)*(na*H-va*pa)-(Q*ia-ka*W)*(X*H-va*da)+(Q*I-za*W)*(X*pa-na*da)+(fa*ia-ka*ea)*(S*H-va*Ea)-(fa*I-za*ea)*(S*pa-na*Ea)+(ka*I-za*ia)*(S*da-X*Ea)}function w(H,Q,fa){const ka=Q[0],za=Q[1],W=Q[2],ea=Q[3],ia=Q[4],I=Q[5],S=Q[6],X=Q[7],na=Q[8],va=Q[9],Ea=Q[10],da=Q[11],
pa=Q[12],ra=Q[13],Ca=Q[14];Q=Q[15];let Da=fa[0],Na=fa[1],Oa=fa[2],Pa=fa[3];H[0]=Da*ka+Na*ia+Oa*na+Pa*pa;H[1]=Da*za+Na*I+Oa*va+Pa*ra;H[2]=Da*W+Na*S+Oa*Ea+Pa*Ca;H[3]=Da*ea+Na*X+Oa*da+Pa*Q;Da=fa[4];Na=fa[5];Oa=fa[6];Pa=fa[7];H[4]=Da*ka+Na*ia+Oa*na+Pa*pa;H[5]=Da*za+Na*I+Oa*va+Pa*ra;H[6]=Da*W+Na*S+Oa*Ea+Pa*Ca;H[7]=Da*ea+Na*X+Oa*da+Pa*Q;Da=fa[8];Na=fa[9];Oa=fa[10];Pa=fa[11];H[8]=Da*ka+Na*ia+Oa*na+Pa*pa;H[9]=Da*za+Na*I+Oa*va+Pa*ra;H[10]=Da*W+Na*S+Oa*Ea+Pa*Ca;H[11]=Da*ea+Na*X+Oa*da+Pa*Q;Da=fa[12];Na=fa[13];
Oa=fa[14];Pa=fa[15];H[12]=Da*ka+Na*ia+Oa*na+Pa*pa;H[13]=Da*za+Na*I+Oa*va+Pa*ra;H[14]=Da*W+Na*S+Oa*Ea+Pa*Ca;H[15]=Da*ea+Na*X+Oa*da+Pa*Q;return H}function r(H,Q,fa){const ka=fa[0],za=fa[1];fa=fa[2];if(Q===H)H[12]=Q[0]*ka+Q[4]*za+Q[8]*fa+Q[12],H[13]=Q[1]*ka+Q[5]*za+Q[9]*fa+Q[13],H[14]=Q[2]*ka+Q[6]*za+Q[10]*fa+Q[14],H[15]=Q[3]*ka+Q[7]*za+Q[11]*fa+Q[15];else{const W=Q[0],ea=Q[1],ia=Q[2],I=Q[3],S=Q[4],X=Q[5],na=Q[6],va=Q[7],Ea=Q[8],da=Q[9],pa=Q[10],ra=Q[11];H[0]=W;H[1]=ea;H[2]=ia;H[3]=I;H[4]=S;H[5]=X;H[6]=
na;H[7]=va;H[8]=Ea;H[9]=da;H[10]=pa;H[11]=ra;H[12]=W*ka+S*za+Ea*fa+Q[12];H[13]=ea*ka+X*za+da*fa+Q[13];H[14]=ia*ka+na*za+pa*fa+Q[14];H[15]=I*ka+va*za+ra*fa+Q[15]}return H}function e(H,Q,fa){const ka=fa[0],za=fa[1];fa=fa[2];H[0]=Q[0]*ka;H[1]=Q[1]*ka;H[2]=Q[2]*ka;H[3]=Q[3]*ka;H[4]=Q[4]*za;H[5]=Q[5]*za;H[6]=Q[6]*za;H[7]=Q[7]*za;H[8]=Q[8]*fa;H[9]=Q[9]*fa;H[10]=Q[10]*fa;H[11]=Q[11]*fa;H[12]=Q[12];H[13]=Q[13];H[14]=Q[14];H[15]=Q[15];return H}function g(H,Q,fa,ka){let za=ka[0],W=ka[1];ka=ka[2];let ea=Math.sqrt(za*
za+W*W+ka*ka);var ia=void 0,I=void 0;let S=void 0,X=void 0,na=void 0,va=void 0,Ea=void 0,da=void 0,pa=void 0,ra=void 0,Ca=void 0,Da=void 0,Na=void 0,Oa=void 0,Pa=void 0,Ra=void 0,oa=void 0,U=void 0,ba=void 0,ya=void 0,xa=void 0,Ka=void 0;I=ia=void 0;if(ea<d.getEpsilon())return null;ea=1/ea;za*=ea;W*=ea;ka*=ea;ia=Math.sin(fa);I=Math.cos(fa);S=1-I;X=Q[0];na=Q[1];va=Q[2];Ea=Q[3];da=Q[4];pa=Q[5];ra=Q[6];Ca=Q[7];Da=Q[8];Na=Q[9];Oa=Q[10];Pa=Q[11];Ra=za*za*S+I;oa=W*za*S+ka*ia;U=ka*za*S-W*ia;ba=za*W*S-ka*
ia;ya=W*W*S+I;xa=ka*W*S+za*ia;Ka=za*ka*S+W*ia;ia=W*ka*S-za*ia;I=ka*ka*S+I;H[0]=X*Ra+da*oa+Da*U;H[1]=na*Ra+pa*oa+Na*U;H[2]=va*Ra+ra*oa+Oa*U;H[3]=Ea*Ra+Ca*oa+Pa*U;H[4]=X*ba+da*ya+Da*xa;H[5]=na*ba+pa*ya+Na*xa;H[6]=va*ba+ra*ya+Oa*xa;H[7]=Ea*ba+Ca*ya+Pa*xa;H[8]=X*Ka+da*ia+Da*I;H[9]=na*Ka+pa*ia+Na*I;H[10]=va*Ka+ra*ia+Oa*I;H[11]=Ea*Ka+Ca*ia+Pa*I;Q!==H&&(H[12]=Q[12],H[13]=Q[13],H[14]=Q[14],H[15]=Q[15]);return H}function p(H,Q,fa){const ka=Math.sin(fa);fa=Math.cos(fa);const za=Q[4],W=Q[5],ea=Q[6],ia=Q[7],
I=Q[8],S=Q[9],X=Q[10],na=Q[11];Q!==H&&(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[12]=Q[12],H[13]=Q[13],H[14]=Q[14],H[15]=Q[15]);H[4]=za*fa+I*ka;H[5]=W*fa+S*ka;H[6]=ea*fa+X*ka;H[7]=ia*fa+na*ka;H[8]=I*fa-za*ka;H[9]=S*fa-W*ka;H[10]=X*fa-ea*ka;H[11]=na*fa-ia*ka;return H}function v(H,Q,fa){const ka=Math.sin(fa);fa=Math.cos(fa);const za=Q[0],W=Q[1],ea=Q[2],ia=Q[3],I=Q[8],S=Q[9],X=Q[10],na=Q[11];Q!==H&&(H[4]=Q[4],H[5]=Q[5],H[6]=Q[6],H[7]=Q[7],H[12]=Q[12],H[13]=Q[13],H[14]=Q[14],H[15]=Q[15]);H[0]=za*fa-I*
ka;H[1]=W*fa-S*ka;H[2]=ea*fa-X*ka;H[3]=ia*fa-na*ka;H[8]=za*ka+I*fa;H[9]=W*ka+S*fa;H[10]=ea*ka+X*fa;H[11]=ia*ka+na*fa;return H}function u(H,Q,fa){const ka=Math.sin(fa);fa=Math.cos(fa);const za=Q[0],W=Q[1],ea=Q[2],ia=Q[3],I=Q[4],S=Q[5],X=Q[6],na=Q[7];Q!==H&&(H[8]=Q[8],H[9]=Q[9],H[10]=Q[10],H[11]=Q[11],H[12]=Q[12],H[13]=Q[13],H[14]=Q[14],H[15]=Q[15]);H[0]=za*fa+I*ka;H[1]=W*fa+S*ka;H[2]=ea*fa+X*ka;H[3]=ia*fa+na*ka;H[4]=I*fa-za*ka;H[5]=S*fa-W*ka;H[6]=X*fa-ea*ka;H[7]=na*fa-ia*ka;return H}function x(H,Q){H[0]=
1;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=1;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=1;H[11]=0;H[12]=Q[0];H[13]=Q[1];H[14]=Q[2];H[15]=1;return H}function z(H,Q){H[0]=Q[0];H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=Q[1];H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=Q[2];H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function t(H,Q,fa){if(0===Q)return q(H);let ka=fa[0],za=fa[1];fa=fa[2];let W=Math.sqrt(ka*ka+za*za+fa*fa),ea=void 0,ia=void 0,I=void 0;if(W<d.getEpsilon())return null;W=1/W;ka*=W;za*=W;fa*=W;ea=Math.sin(Q);ia=Math.cos(Q);
I=1-ia;H[0]=ka*ka*I+ia;H[1]=za*ka*I+fa*ea;H[2]=fa*ka*I-za*ea;H[3]=0;H[4]=ka*za*I-fa*ea;H[5]=za*za*I+ia;H[6]=fa*za*I+ka*ea;H[7]=0;H[8]=ka*fa*I+za*ea;H[9]=za*fa*I-ka*ea;H[10]=fa*fa*I+ia;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function y(H,Q){const fa=Math.sin(Q);Q=Math.cos(Q);H[0]=1;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=Q;H[6]=fa;H[7]=0;H[8]=0;H[9]=-fa;H[10]=Q;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function B(H,Q){const fa=Math.sin(Q);Q=Math.cos(Q);H[0]=Q;H[1]=0;H[2]=-fa;H[3]=0;H[4]=0;
H[5]=1;H[6]=0;H[7]=0;H[8]=fa;H[9]=0;H[10]=Q;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function A(H,Q){const fa=Math.sin(Q);Q=Math.cos(Q);H[0]=Q;H[1]=fa;H[2]=0;H[3]=0;H[4]=-fa;H[5]=Q;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=1;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function D(H,Q,fa){var ka=Q[0],za=Q[1],W=Q[2],ea=Q[3],ia=ka+ka,I=za+za;const S=W+W;Q=ka*ia;const X=ka*I;ka*=S;const na=za*I;za*=S;W*=S;ia*=ea;I*=ea;ea*=S;H[0]=1-(na+W);H[1]=X+ea;H[2]=ka-I;H[3]=0;H[4]=X-ea;H[5]=1-(Q+W);H[6]=za+ia;
H[7]=0;H[8]=ka+I;H[9]=za-ia;H[10]=1-(Q+na);H[11]=0;H[12]=fa[0];H[13]=fa[1];H[14]=fa[2];H[15]=1;return H}function E(H,Q){const fa=sa,ka=-Q[0],za=-Q[1],W=-Q[2],ea=Q[3],ia=Q[4],I=Q[5],S=Q[6],X=Q[7],na=ka*ka+za*za+W*W+ea*ea;0<na?(fa[0]=2*(ia*ea+X*ka+I*W-S*za)/na,fa[1]=2*(I*ea+X*za+S*ka-ia*W)/na,fa[2]=2*(S*ea+X*W+ia*za-I*ka)/na):(fa[0]=2*(ia*ea+X*ka+I*W-S*za),fa[1]=2*(I*ea+X*za+S*ka-ia*W),fa[2]=2*(S*ea+X*W+ia*za-I*ka));D(H,Q,fa);return H}function J(H,Q){H[0]=Q[12];H[1]=Q[13];H[2]=Q[14];return H}function F(H,
Q){const fa=Q[0],ka=Q[1],za=Q[2],W=Q[4],ea=Q[5],ia=Q[6],I=Q[8],S=Q[9];Q=Q[10];H[0]=Math.sqrt(fa*fa+ka*ka+za*za);H[1]=Math.sqrt(W*W+ea*ea+ia*ia);H[2]=Math.sqrt(I*I+S*S+Q*Q);return H}function G(H,Q){const fa=Q[0]+Q[5]+Q[10];let ka=0;0<fa?(ka=2*Math.sqrt(fa+1),H[3]=.25*ka,H[0]=(Q[6]-Q[9])/ka,H[1]=(Q[8]-Q[2])/ka,H[2]=(Q[1]-Q[4])/ka):Q[0]>Q[5]&&Q[0]>Q[10]?(ka=2*Math.sqrt(1+Q[0]-Q[5]-Q[10]),H[3]=(Q[6]-Q[9])/ka,H[0]=.25*ka,H[1]=(Q[1]+Q[4])/ka,H[2]=(Q[8]+Q[2])/ka):Q[5]>Q[10]?(ka=2*Math.sqrt(1+Q[5]-Q[0]-Q[10]),
H[3]=(Q[8]-Q[2])/ka,H[0]=(Q[1]+Q[4])/ka,H[1]=.25*ka,H[2]=(Q[6]+Q[9])/ka):(ka=2*Math.sqrt(1+Q[10]-Q[0]-Q[5]),H[3]=(Q[1]-Q[4])/ka,H[0]=(Q[8]+Q[2])/ka,H[1]=(Q[6]+Q[9])/ka,H[2]=.25*ka);return H}function M(H,Q,fa,ka){var za=Q[0],W=Q[1],ea=Q[2],ia=Q[3],I=za+za,S=W+W,X=ea+ea;Q=za*I;const na=za*S;za*=X;const va=W*S;W*=X;ea*=X;I*=ia;S*=ia;ia*=X;X=ka[0];const Ea=ka[1];ka=ka[2];H[0]=(1-(va+ea))*X;H[1]=(na+ia)*X;H[2]=(za-S)*X;H[3]=0;H[4]=(na-ia)*Ea;H[5]=(1-(Q+ea))*Ea;H[6]=(W+I)*Ea;H[7]=0;H[8]=(za+S)*ka;H[9]=
(W-I)*ka;H[10]=(1-(Q+va))*ka;H[11]=0;H[12]=fa[0];H[13]=fa[1];H[14]=fa[2];H[15]=1;return H}function L(H,Q,fa,ka,za){var W=Q[0],ea=Q[1],ia=Q[2],I=Q[3],S=W+W,X=ea+ea,na=ia+ia;Q=W*S;var va=W*X,Ea=W*na;W=ea*X;ea*=na;var da=ia*na;ia=I*S;X*=I;const pa=I*na;var ra=ka[0],Ca=ka[1];na=ka[2];ka=za[0];I=za[1];za=za[2];S=(1-(W+da))*ra;const Da=(va+pa)*ra;ra*=Ea-X;va=(va-pa)*Ca;da=(1-(Q+da))*Ca;Ca*=ea+ia;Ea=(Ea+X)*na;ea=(ea-ia)*na;Q=(1-(Q+W))*na;H[0]=S;H[1]=Da;H[2]=ra;H[3]=0;H[4]=va;H[5]=da;H[6]=Ca;H[7]=0;H[8]=
Ea;H[9]=ea;H[10]=Q;H[11]=0;H[12]=fa[0]+ka-(S*ka+va*I+Ea*za);H[13]=fa[1]+I-(Da*ka+da*I+ea*za);H[14]=fa[2]+za-(ra*ka+Ca*I+Q*za);H[15]=1;return H}function T(H,Q){var fa=Q[0],ka=Q[1],za=Q[2];Q=Q[3];var W=fa+fa,ea=ka+ka;const ia=za+za;fa*=W;const I=ka*W;ka*=ea;const S=za*W,X=za*ea;za*=ia;W*=Q;ea*=Q;Q*=ia;H[0]=1-ka-za;H[1]=I+Q;H[2]=S-ea;H[3]=0;H[4]=I-Q;H[5]=1-fa-za;H[6]=X+W;H[7]=0;H[8]=S+ea;H[9]=X-W;H[10]=1-fa-ka;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function N(H,Q,fa,ka,za,W,ea){const ia=1/
(fa-Q),I=1/(za-ka),S=1/(W-ea);H[0]=2*W*ia;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=2*W*I;H[6]=0;H[7]=0;H[8]=(fa+Q)*ia;H[9]=(za+ka)*I;H[10]=(ea+W)*S;H[11]=-1;H[12]=0;H[13]=0;H[14]=ea*W*2*S;H[15]=0;return H}function K(H,Q,fa,ka,za){Q=1/Math.tan(Q/2);let W=void 0;H[0]=Q/fa;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=Q;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[11]=-1;H[12]=0;H[13]=0;H[15]=0;null!=za&&Infinity!==za?(W=1/(ka-za),H[10]=(za+ka)*W,H[14]=2*za*ka*W):(H[10]=-1,H[14]=-2*ka);return H}function O(H,Q,fa,ka){const za=Math.tan(Q.upDegrees*
Math.PI/180),W=Math.tan(Q.downDegrees*Math.PI/180),ea=Math.tan(Q.leftDegrees*Math.PI/180);Q=Math.tan(Q.rightDegrees*Math.PI/180);const ia=2/(ea+Q),I=2/(za+W);H[0]=ia;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=I;H[6]=0;H[7]=0;H[8]=-((ea-Q)*ia*.5);H[9]=(za-W)*I*.5;H[10]=ka/(fa-ka);H[11]=-1;H[12]=0;H[13]=0;H[14]=ka*fa/(fa-ka);H[15]=0;return H}function R(H,Q,fa,ka,za,W,ea){const ia=1/(Q-fa),I=1/(ka-za),S=1/(W-ea);H[0]=-2*ia;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=-2*I;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=2*S;H[11]=0;H[12]=
(Q+fa)*ia;H[13]=(za+ka)*I;H[14]=(ea+W)*S;H[15]=1;return H}function V(H,Q,fa,ka){const za=Q[0],W=Q[1];Q=Q[2];let ea=za-fa[0],ia=W-fa[1];fa=Q-fa[2];var I=d.getEpsilon();if(Math.abs(ea)<I&&Math.abs(ia)<I&&Math.abs(fa)<I)q(H);else{var S=1/Math.sqrt(ea*ea+ia*ia+fa*fa);ea*=S;ia*=S;fa*=S;S=ka[0];var X=ka[1];I=ka[2];ka=X*fa-I*ia;I=I*ea-S*fa;X=S*ia-X*ea;(S=Math.sqrt(ka*ka+I*I+X*X))?(S=1/S,ka*=S,I*=S,X*=S):X=I=ka=0;var na=ia*X-fa*I,va=fa*ka-ea*X,Ea=ea*I-ia*ka;(S=Math.sqrt(na*na+va*va+Ea*Ea))?(S=1/S,na*=S,va*=
S,Ea*=S):Ea=va=na=0;H[0]=ka;H[1]=na;H[2]=ea;H[3]=0;H[4]=I;H[5]=va;H[6]=ia;H[7]=0;H[8]=X;H[9]=Ea;H[10]=fa;H[11]=0;H[12]=-(ka*za+I*W+X*Q);H[13]=-(na*za+va*W+Ea*Q);H[14]=-(ea*za+ia*W+fa*Q);H[15]=1}}function ma(H,Q,fa,ka){const za=Q[0],W=Q[1];Q=Q[2];var ea=ka[0];const ia=ka[1];var I=ka[2];ka=za-fa[0];let S=W-fa[1];fa=Q-fa[2];let X=ka*ka+S*S+fa*fa;0<X&&(X=1/Math.sqrt(X),ka*=X,S*=X,fa*=X);let na=ia*fa-I*S;I=I*ka-ea*fa;ea=ea*S-ia*ka;X=na*na+I*I+ea*ea;0<X&&(X=1/Math.sqrt(X),na*=X,I*=X,ea*=X);H[0]=na;H[1]=
I;H[2]=ea;H[3]=0;H[4]=S*ea-fa*I;H[5]=fa*na-ka*ea;H[6]=ka*I-S*na;H[7]=0;H[8]=ka;H[9]=S;H[10]=fa;H[11]=0;H[12]=za;H[13]=W;H[14]=Q;H[15]=1;return H}function ca(H){return"mat4("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+", "+H[4]+", "+H[5]+", "+H[6]+", "+H[7]+", "+H[8]+", "+H[9]+", "+H[10]+", "+H[11]+", "+H[12]+", "+H[13]+", "+H[14]+", "+H[15]+")"}function ua(H){return Math.sqrt(H[0]**2+H[1]**2+H[2]**2+H[3]**2+H[4]**2+H[5]**2+H[6]**2+H[7]**2+H[8]**2+H[9]**2+H[10]**2+H[11]**2+H[12]**2+H[13]**2+H[14]**2+H[15]**
2)}function Aa(H,Q,fa){H[0]=Q[0]+fa[0];H[1]=Q[1]+fa[1];H[2]=Q[2]+fa[2];H[3]=Q[3]+fa[3];H[4]=Q[4]+fa[4];H[5]=Q[5]+fa[5];H[6]=Q[6]+fa[6];H[7]=Q[7]+fa[7];H[8]=Q[8]+fa[8];H[9]=Q[9]+fa[9];H[10]=Q[10]+fa[10];H[11]=Q[11]+fa[11];H[12]=Q[12]+fa[12];H[13]=Q[13]+fa[13];H[14]=Q[14]+fa[14];H[15]=Q[15]+fa[15];return H}function Ma(H,Q,fa){H[0]=Q[0]-fa[0];H[1]=Q[1]-fa[1];H[2]=Q[2]-fa[2];H[3]=Q[3]-fa[3];H[4]=Q[4]-fa[4];H[5]=Q[5]-fa[5];H[6]=Q[6]-fa[6];H[7]=Q[7]-fa[7];H[8]=Q[8]-fa[8];H[9]=Q[9]-fa[9];H[10]=Q[10]-fa[10];
H[11]=Q[11]-fa[11];H[12]=Q[12]-fa[12];H[13]=Q[13]-fa[13];H[14]=Q[14]-fa[14];H[15]=Q[15]-fa[15];return H}function Ga(H,Q,fa){H[0]=Q[0]*fa;H[1]=Q[1]*fa;H[2]=Q[2]*fa;H[3]=Q[3]*fa;H[4]=Q[4]*fa;H[5]=Q[5]*fa;H[6]=Q[6]*fa;H[7]=Q[7]*fa;H[8]=Q[8]*fa;H[9]=Q[9]*fa;H[10]=Q[10]*fa;H[11]=Q[11]*fa;H[12]=Q[12]*fa;H[13]=Q[13]*fa;H[14]=Q[14]*fa;H[15]=Q[15]*fa;return H}function Qa(H,Q,fa,ka){H[0]=Q[0]+fa[0]*ka;H[1]=Q[1]+fa[1]*ka;H[2]=Q[2]+fa[2]*ka;H[3]=Q[3]+fa[3]*ka;H[4]=Q[4]+fa[4]*ka;H[5]=Q[5]+fa[5]*ka;H[6]=Q[6]+fa[6]*
ka;H[7]=Q[7]+fa[7]*ka;H[8]=Q[8]+fa[8]*ka;H[9]=Q[9]+fa[9]*ka;H[10]=Q[10]+fa[10]*ka;H[11]=Q[11]+fa[11]*ka;H[12]=Q[12]+fa[12]*ka;H[13]=Q[13]+fa[13]*ka;H[14]=Q[14]+fa[14]*ka;H[15]=Q[15]+fa[15]*ka;return H}function qa(H,Q){return H[0]===Q[0]&&H[1]===Q[1]&&H[2]===Q[2]&&H[3]===Q[3]&&H[4]===Q[4]&&H[5]===Q[5]&&H[6]===Q[6]&&H[7]===Q[7]&&H[8]===Q[8]&&H[9]===Q[9]&&H[10]===Q[10]&&H[11]===Q[11]&&H[12]===Q[12]&&H[13]===Q[13]&&H[14]===Q[14]&&H[15]===Q[15]}function ha(H,Q){if(H===Q)return!0;const fa=H[0],ka=H[1],
za=H[2],W=H[3],ea=H[4],ia=H[5],I=H[6],S=H[7],X=H[8],na=H[9],va=H[10],Ea=H[11],da=H[12],pa=H[13],ra=H[14];H=H[15];const Ca=Q[0],Da=Q[1],Na=Q[2],Oa=Q[3],Pa=Q[4],Ra=Q[5],oa=Q[6],U=Q[7],ba=Q[8],ya=Q[9],xa=Q[10],Ka=Q[11],Sa=Q[12],Ta=Q[13],Xa=Q[14];Q=Q[15];const Ua=d.getEpsilon();return Math.abs(fa-Ca)<=Ua*Math.max(1,Math.abs(fa),Math.abs(Ca))&&Math.abs(ka-Da)<=Ua*Math.max(1,Math.abs(ka),Math.abs(Da))&&Math.abs(za-Na)<=Ua*Math.max(1,Math.abs(za),Math.abs(Na))&&Math.abs(W-Oa)<=Ua*Math.max(1,Math.abs(W),
Math.abs(Oa))&&Math.abs(ea-Pa)<=Ua*Math.max(1,Math.abs(ea),Math.abs(Pa))&&Math.abs(ia-Ra)<=Ua*Math.max(1,Math.abs(ia),Math.abs(Ra))&&Math.abs(I-oa)<=Ua*Math.max(1,Math.abs(I),Math.abs(oa))&&Math.abs(S-U)<=Ua*Math.max(1,Math.abs(S),Math.abs(U))&&Math.abs(X-ba)<=Ua*Math.max(1,Math.abs(X),Math.abs(ba))&&Math.abs(na-ya)<=Ua*Math.max(1,Math.abs(na),Math.abs(ya))&&Math.abs(va-xa)<=Ua*Math.max(1,Math.abs(va),Math.abs(xa))&&Math.abs(Ea-Ka)<=Ua*Math.max(1,Math.abs(Ea),Math.abs(Ka))&&Math.abs(da-Sa)<=Ua*Math.max(1,
Math.abs(da),Math.abs(Sa))&&Math.abs(pa-Ta)<=Ua*Math.max(1,Math.abs(pa),Math.abs(Ta))&&Math.abs(ra-Xa)<=Ua*Math.max(1,Math.abs(ra),Math.abs(Xa))&&Math.abs(H-Q)<=Ua*Math.max(1,Math.abs(H),Math.abs(Q))}function aa(H){const Q=d.getEpsilon(),fa=H[0],ka=H[1],za=H[2],W=H[4],ea=H[5],ia=H[6],I=H[8],S=H[9];H=H[10];return Math.abs(1-(fa*fa+W*W+I*I))<=Q&&Math.abs(1-(ka*ka+ea*ea+S*S))<=Q&&Math.abs(1-(za*za+ia*ia+H*H))<=Q}function ja(H){return 1===H[0]&&0===H[1]&&0===H[2]&&0===H[4]&&1===H[5]&&0===H[6]&&0===H[8]&&
0===H[9]&&1===H[10]}const sa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:Aa,adjoint:l,copy:f,determinant:m,equals:ha,exactEquals:qa,frob:ua,fromQuat:T,fromQuat2:E,fromRotation:t,fromRotationTranslation:D,fromRotationTranslationScale:M,fromRotationTranslationScaleOrigin:L,fromScaling:z,fromTranslation:x,fromXRotation:y,fromYRotation:B,fromZRotation:A,frustum:N,getRotation:G,getScaling:F,getTranslation:J,hasIdentityRotation:ja,identity:q,invert:h,invertOrIdentity:k,isOrthoNormal:aa,
lookAt:V,mul:w,multiply:w,multiplyScalar:Ga,multiplyScalarAndAdd:Qa,ortho:R,perspective:K,perspectiveFromFieldOfView:O,rotate:g,rotateX:p,rotateY:v,rotateZ:u,scale:e,set:c,str:ca,sub:Ma,subtract:Ma,targetTo:ma,translate:r,transpose:n},Symbol.toStringTag,{value:"Module"}));a.add=Aa;a.adjoint=l;a.copy=f;a.determinant=m;a.equals=ha;a.exactEquals=qa;a.frob=ua;a.fromQuat=T;a.fromQuat2=E;a.fromRotation=t;a.fromRotationTranslation=D;a.fromRotationTranslationScale=M;a.fromRotationTranslationScaleOrigin=L;
a.fromScaling=z;a.fromTranslation=x;a.fromXRotation=y;a.fromYRotation=B;a.fromZRotation=A;a.frustum=N;a.getRotation=G;a.getScaling=F;a.getTranslation=J;a.hasIdentityRotation=ja;a.identity=q;a.invert=h;a.invertOrIdentity=k;a.isOrthoNormal=aa;a.lookAt=V;a.mat4=b;a.mul=w;a.multiply=w;a.multiplyScalar=Ga;a.multiplyScalarAndAdd=Qa;a.ortho=R;a.perspective=K;a.perspectiveFromFieldOfView=O;a.rotate=g;a.rotateX=p;a.rotateY=v;a.rotateZ=u;a.scale=e;a.set=c;a.str=ca;a.sub=Ma;a.subtract=Ma;a.targetTo=ma;a.translate=
r;a.transpose=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/collectionUtils":function(){define(["exports","../core/CollectionFlattener"],function(a,b){a.createFlattenedTablesCollection=function(d){return new b({getCollections:()=>[d.tables,d.layers],getChildrenFunction:f=>{const c=[];"tables"in f&&c.push(f.tables);"layers"in f&&c.push(f.layers);return c},itemFilterFunction:f=>{const c=f.parent;return!!c&&"tables"in c&&c.tables.includes(f)}})};a.destroyMap=function(d){for(const f of d.values())f?.destroy();
d.clear()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/groundUtils":function(){define(["exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,d,f){const c={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",
layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(q){let n=null;"string"===typeof q?q in c?n=new b({resourceInfo:{data:{layers:[c[q]]}}}):d.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${q}. Try "world-elevation"`):n=f.ensureType(b,q);return n};a.groundElevationLayers=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/LayersMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){function w(r,e,g){if(r)for(let v=0,u=r.length;v<u;v++){var p=r.at(v);if(p?.[e]===g||"group"===p?.type&&(p=w(p.layers,e,g)))return p}}a.LayersMixin=r=>{r=class extends r{constructor(...e){super(...e);this.layers=new d;const g=v=>{v.parent=this;this.layerAdded(v);"elevation"!==v.type&&"base-elevation"!==v.type||c.getLogger(this).error(`Layer 'title:${v.title}, id:${v.id}' of type '${v.type}' is not supported as an operational layer and will therefore be ignored.`)},p=
v=>{v.parent=null;this.layerRemoved(v)};this.addHandles([this.layers.on("before-add",v=>{v=v.item;v.parent&&"remove"in v.parent&&v.parent.remove(v)}),this.layers.on("after-add",v=>g(v.item)),this.layers.on("after-remove",v=>p(v.item))])}destroy(){const e=this.layers.toArray();for(const g of e)g.destroy();this.layers.destroy()}set layers(e){this._set("layers",f.referenceSetter(e,this._get("layers")))}add(e,g){const p=this.layers;g=p.getNextIndex(g);e instanceof m?e.parent===this?this.reorder(e,g):
p.add(e,g):q.isPromiseLike(e)?e.then(v=>{this.destroyed||this.add(v,g)}):c.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,g){const p=this.layers;let v=p.getNextIndex(g);e.slice().forEach(u=>{u.parent===this?this.reorder(u,v):(p.add(u,v),v+=1)})}findLayerById(e){return w(this.layers,"id",e)}findLayerByUid(e){return w(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,
g){return this.layers.reorder(e,g)}layerAdded(e){}layerRemoved(e){}};b.__decorate([n.property()],r.prototype,"layers",null);return r=b.__decorate([l.subclass("esri.support.LayersMixin")],r)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/Layer":function(){define("require ../chunks/tslib.es6 ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u){let x=0;d=class extends q.EventedMixin(n.IdentifiableMixin(k)){constructor(){super(...arguments);this.attributionDataUrl=null;this.fullExtent=new v(-180,-90,180,90,u.WGS84);this.id=Date.now().toString(16)+"-layer-"+x++;this.legendEnabled=!0;this.listMode="show";this.opacity=1;this.parent=null;this.persistenceEnabled=!1;this.attributionVisible=this.popupEnabled=!0;this.spatialReference=u.WGS84;this.url=this.type=this.title=null;this.visible=!0}static async fromArcGISServerUrl(z){z=
"string"===typeof z?{url:z}:z;return(await new Promise((t,y)=>a(["./support/arcgisLayers"],t,y))).fromUrl(z)}static fromPortalItem(z){return p.fromPortalItem(z)}initialize(){this.when().catch(z=>{l.isAbortError(z)||h.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:z})})}destroy(){const z=this.parent;z&&("layers"in z&&z.layers.includes(this)?z.layers.remove(this):"tables"in z&&z.tables.includes(this)?z.tables.remove(this):
"baseLayers"in z&&z.baseLayers.includes(this)?z.baseLayers.remove(this):"referenceLayers"in z&&z.referenceLayers.includes(this)&&z.referenceLayers.remove(this),this._set("parent",null))}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return m.urlToObject(this.url)}async fetchAttributionData(){const z=this.attributionDataUrl;if(this.hasAttributionData&&z)return(await f(z,{query:{f:"json"},responseType:"json"})).data;throw new c("layer:no-attribution-data","Layer does not have attribution data");
}};b.__decorate([w.property({type:String})],d.prototype,"attributionDataUrl",void 0);b.__decorate([w.property({type:v})],d.prototype,"fullExtent",void 0);b.__decorate([w.property({readOnly:!0})],d.prototype,"hasAttributionData",null);b.__decorate([w.property({type:String,clonable:!1})],d.prototype,"id",void 0);b.__decorate([w.property({type:Boolean,nonNullable:!0})],d.prototype,"legendEnabled",void 0);b.__decorate([w.property({type:["show","hide","hide-children"]})],d.prototype,"listMode",void 0);
b.__decorate([w.property({type:Number,range:{min:0,max:1},nonNullable:!0})],d.prototype,"opacity",void 0);b.__decorate([w.property({clonable:!1})],d.prototype,"parent",void 0);b.__decorate([w.property({readOnly:!0})],d.prototype,"parsedUrl",null);b.__decorate([w.property({type:Boolean,readOnly:!0})],d.prototype,"persistenceEnabled",void 0);b.__decorate([w.property({type:Boolean})],d.prototype,"popupEnabled",void 0);b.__decorate([w.property({type:Boolean})],d.prototype,"attributionVisible",void 0);
b.__decorate([w.property({type:u})],d.prototype,"spatialReference",void 0);b.__decorate([w.property({type:String})],d.prototype,"title",void 0);b.__decorate([w.property({readOnly:!0,json:{read:!1}})],d.prototype,"type",void 0);b.__decorate([w.property()],d.prototype,"url",void 0);b.__decorate([w.property({type:Boolean,nonNullable:!0})],d.prototype,"visible",void 0);return d=b.__decorate([g.subclass("esri.layers.Layer")],d)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){const w={base:f,key:"type",typeMap:{extent:d,multipoint:c,point:q,polyline:k,polygon:n}};b=b.ensureOneOfType(w);a.Extent=d;a.BaseGeometry=f;a.Multipoint=c;a.Point=q;a.Polygon=n;a.Polyline=k;a.SpatialReference=h;a.featureGeometryTypeKebabDictionary=l.featureGeometryTypeKebabDictionary;a.typeKebabDictionary=l.typeKebabDictionary;a.fromJSON=m.fromJSON;a.ensureType=b;a.geometryTypes=w;a.isGeometry=function(r){return r instanceof f};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,d,f,c,q,n,k,h,l,m){function w(e){return(g,p)=>null==g?p:null==p?g:e(g,p)}var r;f=r=class extends h{constructor(...e){super(...e);this.points=[];this.type="multipoint"}normalizeCtorArgs(e,
g){if(!e&&!g)return{};const p={};Array.isArray(e)?(p.points=e,p.spatialReference=g):!e||"esri.geometry.SpatialReference"!==e.declaredClass&&null==e.wkid?(e.points&&(p.points=e.points),e.spatialReference&&(p.spatialReference=e.spatialReference),e.hasZ&&(p.hasZ=e.hasZ),e.hasM&&(p.hasM=e.hasM)):p.spatialReference=e;if(e=p.points?.[0])void 0===p.hasZ&&void 0===p.hasM?(p.hasZ=2<e.length,p.hasM=!1):void 0===p.hasZ?p.hasZ=3<e.length:void 0===p.hasM&&(p.hasM=3<e.length);return p}get cache(){this.commitProperty("points");
this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const e=this.points;if(!e.length)return null;const g=new k,p=this.hasZ,v=this.hasM,u=p?3:2;var x=e[0];const z=w(Math.min),t=w(Math.max);let [y,B]=x,[A,D]=x,E,J,F,G;for(let M=0,L=e.length;M<L;M++){x=e[M];const [T,N]=x;y=z(y,T);B=z(B,N);A=t(A,T);D=t(D,N);if(p&&2<x.length){const K=x[2];E=z(E,K);F=t(F,K)}v&&x.length>u&&(x=x[u],J=z(J,x),G=t(G,x))}g.xmin=y;g.ymin=B;g.xmax=A;g.ymax=D;g.spatialReference=
this.spatialReference;p?(g.zmin=E,g.zmax=F):(g.zmin=void 0,g.zmax=void 0);v?(g.mmin=J,g.mmax=G):(g.mmin=void 0,g.mmax=void 0);return g}writePoints(e,g){g.points=b.clone(this.points)}addPoint(e){m.updateSupportFromPoint(this,e);Array.isArray(e)?this.points.push(e):this.points.push(e.toArray());this.notifyChange("points");return this}clone(){const e={points:b.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(e.hasZ=!0);this.hasM&&(e.hasM=!0);return new r(e)}getPoint(e){if(!this._validateInputs(e))return null;
e=this.points[e];const g={x:e[0],y:e[1],spatialReference:this.spatialReference};let p=2;this.hasZ&&(g.z=e[2],p=3);this.hasM&&(g.m=e[p]);return new l(g)}removePoint(e){if(!this._validateInputs(e))return null;e=new l(this.points.splice(e,1)[0],this.spatialReference);this.notifyChange("points");return e}setPoint(e,g){if(!this._validateInputs(e))return this;m.updateSupportFromPoint(this,g);Array.isArray(g)||(g=g.toArray());this.points[e]=g;this.notifyChange("points");return this}toJSON(e){return this.write({},
e)}_validateInputs(e){return null!=e&&0<=e&&e<this.points.length}};a.__decorate([d.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([d.property()],f.prototype,"extent",null);a.__decorate([d.property({type:[[Number]],json:{write:{isRequired:!0}}})],f.prototype,"points",void 0);a.__decorate([n.writer("points")],f.prototype,"writePoints",null);f=r=a.__decorate([q.subclass("esri.geometry.Multipoint")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/support/zmUtils":function(){define(["exports"],
function(a){a.updateSupportFromPoint=function(b,d,f=!1){let {hasM:c,hasZ:q}=b;Array.isArray(d)?4!==d.length||c||q?3===d.length&&f&&!c?(q=!0,c=!1):3===d.length&&c&&q&&(q=c=!1):q=c=!0:(q=!q&&d.hasZ&&(!c||d.hasM),c=!c&&d.hasM&&(!q||d.hasZ));b.hasZ=q;b.hasM=c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x){var z;c=z=class extends l{static fromExtent(t){var y=t.clone().normalize();t=t.spatialReference;let B=!1,A=!1;for(const D of y)D.hasZ&&(B=!0),D.hasM&&(A=!0);y={rings:y.map(D=>{const E=[[D.xmin,D.ymin],[D.xmin,D.ymax],[D.xmax,D.ymax],[D.xmax,D.ymin],[D.xmin,D.ymin]];if(B&&D.hasZ){var J=D.zmin+.5*(D.zmax-D.zmin);for(let F=0;F<E.length;F++)E[F].push(J)}if(A&&D.hasM)for(D=D.mmin+.5*(D.mmax-D.mmin),J=0;J<E.length;J++)E[J].push(D);return E}),spatialReference:t};
B&&(y.hasZ=!0);A&&(y.hasM=!0);return new z(y)}constructor(...t){super(...t);this.rings=[];this.type="polygon"}normalizeCtorArgs(t,y){let B=null,A,D,E=null;t&&!Array.isArray(t)?(B=t.rings??null,y||(t.spatialReference?y=t.spatialReference:t.rings||(y=t)),A=t.hasZ,D=t.hasM):B=t;B=B||[];y=y||w.WGS84;B.length&&null!=B[0]?.[0]&&"number"===typeof B[0][0]&&(B=[B]);if(E=B[0]?.[0])void 0===A&&void 0===D?(A=2<E.length,D=3<E.length):void 0===A?A=D?3<E.length:2<E.length:void 0===D&&(D=A?3<E.length:2<E.length);
return{rings:B,spatialReference:y,hasZ:A,hasM:D}}get cache(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get centroid(){const t=r.polygonCentroid(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const y=new m;y.x=t[0];y.y=t[1];y.spatialReference=this.spatialReference;this.hasZ&&(y.z=t[2]);return y}get extent(){const {spatialReference:t}=this;var y=p.getPolygonExtent(this);if(!y)return null;
y=new h(y);y.spatialReference=t;return y}get isSelfIntersecting(){return v.isSelfIntersecting(this.rings)}writeRings(t,y){y.rings=d.clone(this.rings)}addRing(t){if(t){var y=this.rings,B=y.length;if(Array.isArray(t[0]))y[B]=t.concat();else{const A=[];for(let D=0,E=t.length;D<E;D++)A[D]=t[D].toArray();y[B]=A}this.notifyChange("rings");return this}}clone(){const t=new z;t.spatialReference=this.spatialReference;t.rings=d.clone(this.rings);t.hasZ=this.hasZ;t.hasM=this.hasM;return t}equals(t){if(this===
t)return!0;if(null==t)return!1;var y=this.spatialReference,B=t.spatialReference;if(null!=y!==(null!=B)||null!=y&&null!=B&&!y.equals(B)||this.rings.length!==t.rings.length)return!1;y=([A,D,E,J],[F,G,M,L])=>A===F&&D===G&&(null==E&&null==M||E===M)&&(null==J&&null==L||J===L);for(B=0;B<this.rings.length;B++)if(!b.equals(this.rings[B],t.rings[B],y))return!1;return!0}contains(t){if(!t)return!1;const y=u.project(t,this.spatialReference);return e.polygonContainsPoint(this,null!=y?y:t)}isClockwise(t){t=Array.isArray(t[0])?
t:t.map(y=>this.hasZ?this.hasM?[y.x,y.y,y.z,y.m]:[y.x,y.y,y.z]:[y.x,y.y]);return g.isClockwise(t)}getPoint(t,y){if(!this._validateInputs(t,y))return null;t=this.rings[t][y];y=this.hasZ;const B=this.hasM;return y&&!B?new m(t[0],t[1],t[2],void 0,this.spatialReference):B&&!y?new m(t[0],t[1],void 0,t[2],this.spatialReference):y&&B?new m(t[0],t[1],t[2],t[3],this.spatialReference):new m(t[0],t[1],this.spatialReference)}insertPoint(t,y,B){if(!this._validateInputs(t,y,!0))return this;x.updateSupportFromPoint(this,
B);Array.isArray(B)||(B=B.toArray());this.rings[t].splice(y,0,B);this.notifyChange("rings");return this}removePoint(t,y){if(!this._validateInputs(t,y))return null;t=new m(this.rings[t].splice(y,1)[0],this.spatialReference);this.notifyChange("rings");return t}removeRing(t){if(!this._validateInputs(t,null))return null;t=this.rings.splice(t,1)[0];const y=this.spatialReference;t=t.map(B=>new m(B,y));this.notifyChange("rings");return t}setPoint(t,y,B){if(!this._validateInputs(t,y))return this;x.updateSupportFromPoint(this,
B);Array.isArray(B)||(B=B.toArray());this.rings[t][y]=B;this.notifyChange("rings");return this}_validateInputs(t,y,B=!1){return null==t||0>t||t>=this.rings.length||null!=y&&(t=this.rings[t],B&&(0>y||y>t.length)||!B&&(0>y||y>=t.length))?!1:!0}toJSON(t){return this.write({},t)}};a.__decorate([f.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([f.property({readOnly:!0})],c.prototype,"centroid",null);a.__decorate([f.property({readOnly:!0})],c.prototype,"extent",null);a.__decorate([f.property({readOnly:!0})],
c.prototype,"isSelfIntersecting",null);a.__decorate([f.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],c.prototype,"rings",void 0);a.__decorate([k.writer("rings")],c.prototype,"writeRings",null);c=z=a.__decorate([n.subclass("esri.geometry.Polygon")],c);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(a,b,d){function f(l,m){if(!l?.length)return null;const w=[],r=[],e=
m?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let g=0,p=l.length;g<p;g++){const v=c(l[g],m,e);v&&r.push(v)}r.sort((g,p)=>{let v=g[2]-p[2];0===v&&m&&(v=g[4]-p[4]);return v});r.length&&(w[0]=r[0][0],w[1]=r[0][1],m&&(w[2]=r[0][3]),w[0]<e[0]||w[0]>e[1]||w[1]<e[2]||w[1]>e[3]||m&&(w[2]<e[4]||w[2]>e[5]))&&(w.length=0);if(!w.length)if(l=l[0]&&l[0].length?q(l[0],m):null)w[0]=l[0],w[1]=l[1],m&&2<l.length&&(w[2]=l[2]);else return null;return w}function c(l,
m,w){let r=0,e=0,g=0,p=0,v=0;const u=l.length?l[0][0]:0,x=l.length?l[0][1]:0,z=l.length&&m?l[0][2]:0;for(let A=0;A<l.length;A++){var t=l[A],y=l[(A+1)%l.length];const [D,E,J]=t;var B=D-u;const F=E-x,[G,M,L]=y,T=G-u,N=M-x,K=B*N-T*F;p+=K;r+=(B+T)*K;e+=(F+N)*K;m&&2<t.length&&2<y.length&&(t=J-z,y=L-z,B=B*y-T*t,g+=(t+y)*B,v+=B);D<w[0]&&(w[0]=D);D>w[1]&&(w[1]=D);E<w[2]&&(w[2]=E);E>w[3]&&(w[3]=E);m&&(J<w[4]&&(w[4]=J),J>w[5]&&(w[5]=J))}0<p&&(p*=-1);0<v&&(v*=-1);if(!p)return null;p*=.5;v*=.5;l=[r/(6*p)+u,e/
(6*p)+x,p];m&&(w[4]===w[5]||0===v?(l[3]=(w[4]+w[5])/2,l[4]=0):(l[3]=g/(6*v)+z,l[4]=v));return l}function q(l,m){const w=m?[0,0,0]:[0,0],r=m?[0,0,0]:[0,0];let e=0,g=0,p=0,v=0;for(let x=0,z=l.length;x<z-1;x++){var u=l[x];const t=l[x+1];if(u&&t){w[0]=u[0];w[1]=u[1];r[0]=t[0];r[1]=t[1];m&&2<u.length&&2<t.length&&(w[2]=u[2],r[2]=t[2]);const y=d.getLength(w,r);y&&(e+=y,u=d.getMidpoint(u,t),g+=y*u[0],p+=y*u[1],m&&2<u.length&&(v+=y*u[2]))}}return 0<e?m?[g/e,p/e,v/e]:[g/e,p/e]:l.length?l[0]:null}function n(l){const {hasZ:m,
totalSize:w}=l;if(0===w)return null;const r=[],e=[],g=m?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(l.reset();l.nextPath();){const p=c(b.collectPath(l),l.hasZ,g);p&&e.push(p)}e.sort((p,v)=>{let u=p[2]-v[2];0===u&&m&&(u=p[4]-v[4]);return u});e.length&&(r[0]=e[0][0],r[1]=e[0][1],m&&(r[2]=
e[0][3]),r[0]<g[0]||r[0]>g[1]||r[1]<g[2]||r[1]>g[3]||m&&(r[2]<g[4]||r[2]>g[5]))&&(r.length=0);if(!r.length)if(l.reset(),l.nextPath(),l=l.pathSize?k(l):null)r[0]=l[0],r[1]=l[1],m&&2<l.length&&(r[2]=l[2]);else return null;return r}function k(l){const {hasZ:m}=l,w=m?[0,0,0]:[0,0],r=m?[0,0,0]:[0,0];let e=0,g=0,p=0,v=0;if(l.nextPoint()){var u=l.x,x=l.y;let z=l.z;for(;l.nextPoint();){const t=l.x,y=l.y,B=l.z;w[0]=u;w[1]=x;r[0]=t;r[1]=y;m&&(w[2]=z,r[2]=B);if(u=d.getLength(w,r))e+=u,x=d.getMidpoint(w,r),g+=
u*x[0],p+=u*x[1],m&&2<x.length&&(v+=u*x[2]);u=t;x=y;z=B}}return 0<e?m?[g/e,p/e,v/e]:[g/e,p/e]:l.pathSize?(l.seekPathStart(),l.nextPoint(),[l.x,l.y]):null}const h=1/3;a.extentCentroid=function(l){return l?l.hasZ?[l.xmax-l.xmin/2,l.ymax-l.ymin/2,l.zmax-l.zmin/2]:[l.xmax-l.xmin/2,l.ymax-l.ymin/2]:null};a.lineCentroid=q;a.lineCentroidCursor=k;a.polygonCentroid=function(l){return l?f(l.rings,l.hasZ??!1):null};a.ringCentroid=c;a.ringCentroidCursorXY=function(l,m){let w=0,r=0,e=0;l.nextPoint();const g=l.pathSize?
l.x:0,p=l.pathSize?l.y:0;for(let x=0;x<l.pathSize;x++){l.seekInPath(x);var v=[l.x,l.y];l.seekInPath((x+1)%l.pathSize);var u=[l.x,l.y];const [z,t]=v;v=z-g;const y=t-p,[B,A]=u;u=B-g;const D=A-p,E=v*D-u*y;e+=E;w+=(v+u)*E;r+=(y+D)*E;z<m[0]&&(m[0]=z);z>m[1]&&(m[1]=z);t<m[2]&&(m[2]=t);t>m[3]&&(m[3]=t)}0<e&&(e*=-1);if(!e)return null;e*=.5;return[w/(6*e)+g,r/(6*e)+p,e]};a.ringsCentroid=f;a.ringsCentroidCursor=n;a.weightedAreaCentroid=function(l){let m=0;for(l.reset();l.nextPath();)m+=l.getCurrentRingArea();
if(1E-6>m)return(l=n(l))?[l[0],l[1]]:null;const w=[0,0];l.reset();if(!l.nextPath()||!l.nextPoint())return null;const r=[l.x,l.y];for(l.reset();l.nextPath();)a:{let u=void 0;var e=w,g=r,p=l;if(!e||!p||3>p.pathSize)break a;p.nextPoint();var v=p.x;const x=p.y;p.nextPoint();let z=p.x-v,t=p.y-x,y=0,B=0;for(;p.nextPoint();)y=p.x-v,B=p.y-x,u=.5*h*(y*t-B*z),e[0]+=u*(z+y),e[1]+=u*(t+B),z=y,t=B;p=p.getCurrentRingArea();v=[v,x];v[0]-=g[0];v[1]-=g[1];v[0]*=p;v[1]*=p;e[0]+=v[0];e[1]+=v[1]}w[0]*=1/m;w[1]*=1/m;
w[0]+=r[0];w[1]+=r[1];return w};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],function(a){a.collectMultipath=function(b){const d=[];for(b.reset();b.nextPath();){const f=[];for(;b.nextPoint();)f.push([b.x,b.y]);d.push(f)}b.reset();return d};a.collectPath=function(b){const d=[];for(;b.nextPoint();)d.push([b.x,b.y]);b.seekPathStart();return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports",
"../../core/arrayUtils","./Axis","./spatialReferenceUtils"],function(a,b,d,f){function c(e,g){const p=g[0]-e[0],v=g[1]-e[1];return 2<e.length&&2<g.length?(e=e[2]-g[2],Math.sqrt(p*p+v*v+e*e)):Math.sqrt(p*p+v*v)}function q(e,g,p){const v=e[0]+p*(g[0]-e[0]),u=e[1]+p*(g[1]-e[1]);return 2<e.length&&2<g.length?[v,u,e[2]+p*(g[2]-e[2])]:[v,u]}function n(e,g,p,v){const [u,x]=g,[z,t]=p,[y,B]=v;g=y-z;p=B-t;v=Math.min(1,Math.max(0,((u-z)*g+(x-t)*p)/(g*g+p*p)));e[0]=z+g*v;e[1]=t+p*v;return e}function k(e,g,p,
v,u,x){let z=u-p,t=x-v;if(0!==z||0!==t){const y=((e-p)*z+(g-v)*t)/(z*z+t*t);1<y?(p=u,v=x):0<y&&(p+=z*y,v+=t*y)}z=e-p;t=g-v;return z*z+t*t}function h(e,g=d.Axis.X,p=d.Axis.Y){let v=0;const u=e.length;let x=e[0];for(let z=0;z<u-1;z++){const t=e[z+1];v+=(t[g]-x[g])*(t[p]+x[p]);x=t}return 0<=v}function l(e){const g=e.length;return 2<g&&b.equals(e[0],e[g-1])}function m(e){if("rings"in e)for(const g of e.rings)l(g)||g.push(g[0].slice())}function w(e,g){var p=f.getInfo(g);if(p){g=p.valid[0];p=p.valid[1];
var v=p-g;for(const u of e){e=Infinity;let x=-Infinity;for(const z of u){const t=r(z[0],g,p);e=Math.min(e,t);x=Math.max(x,t);z[0]=t}e=x-e;v-e<e&&u.forEach(z=>{0>z[0]&&(z[0]+=v)})}}}function r(e,g,p){const v=p-g;return e<g?p-(g-e)%v:e>p?g+(e-g)%v:e}a.closeRings=m;a.closeRingsAndFixWinding=function(e){if("rings"in e&&(m(e),0<e.rings.length&&!h(e.rings[0])))for(const g of e.rings)g.reverse()};a.distanceFromPointToPolygon=function(e,g,p){let v=!1,u=Infinity,x,z,t,y;for(p.reset();p.nextPath();)if(p.nextPoint())for(x=
p.x,z=p.y;p.nextPoint();)t=p.x,y=p.y,z>g!==y>g&&e<(t-x)*(g-z)/(y-z)+x&&(v=!v),u=Math.min(u,k(e,g,x,z,t,y)),x=t,z=y;return 0===u?0:(v?1:-1)*Math.sqrt(u)};a.distanceToSegmentSquared=k;a.geometryToCoordinates=function(e){if(!e)return null;if(Array.isArray(e))return e;const g=e.hasZ,p=e.hasM;if("point"===e.type)return p&&g?[e.x,e.y,e.z,e.m]:g?[e.x,e.y,e.z]:p?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice(0);if("polyline"===e.type)return e.paths.slice(0);if("multipoint"===e.type)return e.points.slice(0);
if("extent"===e.type){e=e.clone().normalize();if(!e)return null;let v=!1,u=!1;e.forEach(x=>{x.hasZ&&(v=!0);x.hasM&&(u=!0)});return e.map(x=>{const z=[[x.xmin,x.ymin],[x.xmin,x.ymax],[x.xmax,x.ymax],[x.xmax,x.ymin],[x.xmin,x.ymin]];if(v&&x.hasZ){var t=.5*(x.zmax-x.zmin);for(let y=0;y<z.length;y++)z[y].push(t)}if(u&&x.hasM)for(x=.5*(x.mmax-x.mmin),t=0;t<z.length;t++)z[t].push(x);return z})}return null};a.getLength=c;a.getMidpoint=function(e,g){return q(e,g,.5)};a.getPathLength=function(e){const g=e.length;
let p=0;for(let v=0;v<g-1;++v)p+=c(e[v],e[v+1]);return p};a.getPointOnPath=function(e,g){if(0>=g)return e[0];const p=e.length;let v=0;for(let u=0;u<p-1;++u){const x=c(e[u],e[u+1]);if(g-v<x)return q(e[u],e[u+1],(g-v)/x);v+=x}return e[p-1]};a.hasCompatibleTopology=function(e,g){if(e===g)return!0;if(e.type!==g.type)return!1;if("point"===e.type||"mesh"===e.type||"extent"===e.type)return!0;if("multipoint"===e.type)return e.points.length===g.points.length;const [p,v]="polyline"===e.type?[e.paths,g.paths]:
[e.rings,g.rings];return p.length===v.length&&p.every((u,x)=>u.length===v[x].length)};a.isClockwise=h;a.isClosed=l;a.projectPointOnLine=function(e,g,p,v){return n(e,g,p[v],p[v+1])};a.projectPointOnLineSeg=n;a.unnormalizeGeometryOnDatelineCrossing=function(e){if("polygon"!==e.type&&"polyline"!==e.type)return e;w("polygon"===e.type?e.rings:e.paths,e.spatialReference);return e};a.unnormalizeVerticesOnDatelineCrossing=w;a.unnormalizedCoordinate=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/Axis":function(){define(["exports"],function(a){a.Axis=void 0;var b=a.Axis||(a.Axis={});b[b.X=0]="X";b[b.Y=1]="Y";b[b.Z=2]="Z";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function d(h,l=!1,m=!1){return l?m?{xmin:h[0],ymin:h[1],zmin:h[2],mmin:h[3],xmax:h[4],ymax:h[5],zmax:h[6],mmax:h[7]}:{xmin:h[0],ymin:h[1],zmin:h[2],xmax:h[3],ymax:h[4],zmax:h[5]}:m?{xmin:h[0],
ymin:h[1],mmin:h[2],xmax:h[3],ymax:h[4],mmax:h[5]}:{xmin:h[0],ymin:h[1],xmax:h[2],ymax:h[3]}}function f(h){const {hasZ:l,hasM:m,points:w}=h;return d(b.getPointsBounds(k,w,l??!1,m??!1),l,m)}function c(h){const {x:l,y:m,z:w,m:r}=h;h=null!=r;return null!=w?h?{xmin:l,ymin:m,zmin:w,mmin:r,xmax:l,ymax:m,zmax:w,mmax:r}:{xmin:l,ymin:m,zmin:w,xmax:l,ymax:m,zmax:w}:h?{xmin:l,ymin:m,mmin:r,xmax:l,ymax:m,mmax:r}:{xmin:l,ymin:m,xmax:l,ymax:m}}function q(h){const {hasZ:l,hasM:m,rings:w}=h;return(h=b.getRingsOrPathsBounds(k,
w,l??!1,m??!1))?d(h,l,m):null}function n(h){const {hasZ:l,hasM:m,paths:w}=h;return(h=b.getRingsOrPathsBounds(k,w,l??!1,m??!1))?d(h,l,m):null}const k=[];a.getGeometryExtent=function(h){return h?void 0!==h.xmin&&void 0!==h.ymin&&void 0!==h.xmax&&void 0!==h.ymax?h:void 0!==h.x&&void 0!==h.y?c(h):void 0!==h.rings?q(h):void 0!==h.paths?n(h):void 0!==h.points?f(h):null:null};a.getMultipointExtent=f;a.getPointExtent=c;a.getPolygonExtent=q;a.getPolylineExtent=n;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],function(a,b){function d(m){return void 0!==m.xmin&&void 0!==m.ymin&&void 0!==m.xmax&&void 0!==m.ymax}function f(m){return function(w,r){return null==w?r:null==r?w:m(w,r)}}function c(m){let w,r,e,g;w=e=Infinity;for(r=g=-Infinity;m.nextPoint();)w=Math.min(m.x,w),e=Math.min(m.y,e),r=Math.max(m.x,r),g=Math.max(m.y,g);return b.create([w,e,r,g])}function q(m,w,r,e){const g=r?3:2;if(!w.length||!w[0].length)return null;
let [p,v]=w[0][0],[u,x]=w[0][0],z=void 0,t=void 0,y=void 0;var B=void 0;for(let A=0;A<w.length;A++){const D=w[A];for(let E=0;E<D.length;E++){const J=D[E],[F,G]=J;p=h(p,F);v=h(v,G);u=l(u,F);x=l(x,G);if(r&&2<J.length){const M=J[2];z=h(z,M);t=l(t,M)}e&&J.length>g&&(B=J[g],y=h(z,B),B=l(t,B))}}if(r){if(e)return m[0]=p,m[1]=v,m[2]=z,m[3]=y,m[4]=u,m[5]=x,m[6]=t,m[7]=B,m.length=8,m;m[0]=p;m[1]=v;m[2]=z;m[3]=u;m[4]=x;m[5]=t;m.length=6;return m}if(e)return m[0]=p,m[1]=v,m[2]=y,m[3]=u,m[4]=x,m[5]=B,m.length=
6,m;m[0]=p;m[1]=v;m[2]=u;m[3]=x;m.length=4;return m}function n(m,w,r,e,g,p){r=w.xmin;e=w.xmax;const v=w.ymin,u=w.ymax;let x=w.zmin,z=w.zmax,t=w.mmin;w=w.mmax;if(g){x=x||0;z=z||0;if(p)return m[0]=r,m[1]=v,m[2]=x,m[3]=t||0,m[4]=e,m[5]=u,m[6]=z,m[7]=w||0,m;m[0]=r;m[1]=v;m[2]=x;m[3]=e;m[4]=u;m[5]=z;return m}if(p)return m[0]=r,m[1]=v,m[2]=t||0,m[3]=e,m[4]=u,m[5]=w||0,m;m[0]=r;m[1]=v;m[2]=e;m[3]=u;return m}function k(m,w,r,e,g,p){const v=r?3:2;e=e&&p;r=r&&g;if(!w.length||!w[0].length)return null;let [u,
x]=w[0],[z,t]=w[0],y=void 0,B=void 0,A=void 0;var D=void 0;for(let E=0;E<w.length;E++){const J=w[E],[F,G]=J;u=h(u,F);x=h(x,G);z=l(z,F);t=l(t,G);if(r&&2<J.length){const M=J[2];y=h(y,M);B=l(B,M)}e&&J.length>v&&(D=J[v],A=h(y,D),D=l(B,D))}if(g){y=y||0;B=B||0;if(p)return m[0]=u,m[1]=x,m[2]=y,m[3]=A||0,m[4]=z,m[5]=t,m[6]=B,m[7]=D||0,m;m[0]=u;m[1]=x;m[2]=y;m[3]=z;m[4]=t;m[5]=B;return m}if(p)return m[0]=u,m[1]=x,m[2]=A||0,m[3]=z,m[4]=t,m[5]=D||0,m;m[0]=u;m[1]=x;m[2]=z;m[3]=t;return m}const h=f(Math.min),
l=f(Math.max);a.getBoundsXY=function(m,w){if(void 0!==w.paths)return q(m,w.paths,!1,!1);if(void 0!==w.rings)return q(m,w.rings,!1,!1);if(void 0!==w.points)return k(m,w.points,!1,!1,!1,!1);if(d(w))return n(m,w);void 0!==w.x&&void 0!==w.y&&(m[0]=w.x,m[1]=w.y,m[2]=w.x,m[3]=w.y);return m};a.getBoundsXYZ=function(m,w){if(void 0!==w.paths)return q(m,w.paths,!0,!1);if(void 0!==w.rings)return q(m,w.rings,!0,!1);if(void 0!==w.points)return k(m,w.points,!0,!1,!0,!1);if(d(w))return n(m,w,!0,!1,!0,!1);void 0!==
w.x&&void 0!==w.y&&(m[0]=w.x,m[1]=w.y,m[2]=w.z,m[3]=w.x,m[4]=w.y,m[5]=w.z);return m};a.getCursorBoundsXY=function(m){m.reset();let w,r,e,g;w=e=Infinity;for(r=g=-Infinity;m.nextPath();){const p=c(m);w=Math.min(p[0],w);e=Math.min(p[1],e);r=Math.max(p[2],r);g=Math.max(p[3],g)}return b.create([w,e,r,g])};a.getCursorPathBounds=c;a.getExtentBounds=n;a.getPointsBounds=k;a.getRingsOrPathsBounds=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports",
"../../core/has","../../core/mathUtils","../Extent"],function(a,b,d,f){function c(r=w){return[r[0],r[1],r[2],r[3]]}function q(r,e){r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3]);return r}function n(r){return null==r||r[0]>=r[2]?0:r[2]-r[0]}function k(r){return null==r||r[1]>=r[3]?0:r[3]-r[1]}function h(r,e,g){return e>=r[0]&&g>=r[1]&&e<=r[2]&&g<=r[3]}function l(r){return null!=r&&4===r.length}const m=[Infinity,Infinity,-Infinity,-Infinity],w=[0,0,0,0];a.allFinite=function(r){for(let e=0;4>e;e++)if(!isFinite(r[e]))return!1;
return!0};a.area=function(r){return n(r)*k(r)};a.center=function(r,e=[0,0]){e[0]=(r[0]+r[2])/2;e[1]=(r[1]+r[3])/2;return e};a.clone=function(r){return[r[0],r[1],r[2],r[3]]};a.contains=function(r,e){return e[0]>=r[0]&&e[2]<=r[2]&&e[1]>=r[1]&&e[3]<=r[3]};a.containsPoint=function(r,e){return h(r,e[0],e[1])};a.containsPointObject=function(r,e){return h(r,e.x,e.y)};a.containsPointWithMargin=function(r,e,g){return e[0]>=r[0]-g&&e[1]>=r[1]-g&&e[0]<=r[2]+g&&e[1]<=r[3]+g};a.containsXY=h;a.containsXYWithMargin=
function(r,e,g,p){return e>=r[0]-p&&g>=r[1]-p&&e<=r[2]+p&&g<=r[3]+p};a.copy=q;a.create=c;a.distance=function(r,e){const g=(r[1]+r[3])/2,p=Math.max(Math.abs(e[0]-(r[0]+r[2])/2)-n(r)/2,0);r=Math.max(Math.abs(e[1]-g)-k(r)/2,0);return Math.sqrt(p*p+r*r)};a.empty=function(r){return r?q(r,m):c(m)};a.equals=function(r,e){return l(r)&&l(e)?r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]:r===e};a.expand=function(r,e,g){if(null==e)q(g,r);else if("length"in e)if(l(e))g[0]=Math.min(r[0],e[0]),g[1]=Math.min(r[1],
e[1]),g[2]=Math.max(r[2],e[2]),g[3]=Math.max(r[3],e[3]);else{if(2===e.length||3===e.length)g[0]=Math.min(r[0],e[0]),g[1]=Math.min(r[1],e[1]),g[2]=Math.max(r[2],e[0]),g[3]=Math.max(r[3],e[1])}else switch(e.type){case "extent":g[0]=Math.min(r[0],e.xmin);g[1]=Math.min(r[1],e.ymin);g[2]=Math.max(r[2],e.xmax);g[3]=Math.max(r[3],e.ymax);break;case "point":g[0]=Math.min(r[0],e.x),g[1]=Math.min(r[1],e.y),g[2]=Math.max(r[2],e.x),g[3]=Math.max(r[3],e.y)}};a.expandPointInPlace=function(r,e){e[0]<r[0]&&(r[0]=
e[0]);e[0]>r[2]&&(r[2]=e[0]);e[1]<r[1]&&(r[1]=e[1]);e[1]>r[3]&&(r[3]=e[1])};a.expandWithNestedArray=function(r,e,g=r){const p=e.length;let v=r[0],u=r[1],x=r[2];r=r[3];for(let z=0;z<p;z++){const t=e[z];v=Math.min(v,t[0]);u=Math.min(u,t[1]);x=Math.max(x,t[0]);r=Math.max(r,t[1])}g[0]=v;g[1]=u;g[2]=x;g[3]=r;return g};a.fromExtent=function(r,e=c()){e[0]=r.xmin;e[1]=r.ymin;e[2]=r.xmax;e[3]=r.ymax;return e};a.fromValues=function(r,e,g,p,v=c()){v[0]=r;v[1]=e;v[2]=g;v[3]=p;return v};a.hasArea=function(r){return 0<
n(r)&&0<k(r)};a.height=k;a.intersection=function(r,e,g){if(null==e)return q(g,r);const p=e[0],v=e[1],u=e[2];e=e[3];g[0]=d.clamp(r[0],p,u);g[1]=d.clamp(r[1],v,e);g[2]=d.clamp(r[2],p,u);g[3]=d.clamp(r[3],v,e);return g};a.intersects=function(r,e){return Math.max(e[0],r[0])<=Math.min(e[2],r[2])&&Math.max(e[1],r[1])<=Math.min(e[3],r[3])};a.intersectsSegment=function(r,e,g){const p=r[0],v=r[1],u=r[2];r=r[3];const {x,y:z}=e,{x:t,y}=g;var B=(D,E)=>0>(y-z)*D+(x-t)*E+(t*z-x*y);e=B(p,r);g=B(u,r);const A=B(u,
v);B=B(p,v);return e===g&&g===A&&A===B&&B===e||x<p&&t<p||x>u&&t>u||z>r&&y>r||z<v&&y<v?!1:!0};a.intersectsSphere=function(r,e){const g=e[3];var p=Math.abs(e[0]-.5*(r[0]+r[2]));const v=.5*(r[2]-r[0]);if(p>g+v)return!1;var u=.5*(r[3]-r[1]);r=Math.abs(e[1]-.5*(r[1]+r[3]));if(r>g+u)return!1;if(p<v||r<u)return!0;p-=v;u=r-u;return p*p+u*u<=g*g};a.is=l;a.isPoint=function(r){return(0===n(r)||!isFinite(r[0]))&&(0===k(r)||!isFinite(r[1]))};a.negativeInfinity=m;a.offset=function(r,e,g,p=r){p[0]=r[0]+e;p[1]=r[1]+
g;p[2]=r[2]+e;p[3]=r[3]+g;return p};a.pad=function(r,e,g=r){g[0]=r[0]-e;g[1]=r[1]-e;g[2]=r[2]+e;g[3]=r[3]+e;return g};a.positiveInfinity=[-Infinity,-Infinity,Infinity,Infinity];a.setMax=function(r,e,g=r){g[2]=e[0];g[3]=e[1];g!==r&&(g[0]=r[0],g[1]=r[1]);return r};a.setMin=function(r,e,g=r){g[0]=e[0];g[1]=e[1];g!==r&&(g[2]=r[2],g[3]=r[3]);return g};a.size=function(r,e){e[0]=r[2]-r[0];e[1]=r[3]-r[1]};a.toExtent=function(r,e){return new f({xmin:r[0],ymin:r[1],xmax:r[2],ymax:r[3],spatialReference:e})};
a.unit=[0,0,1,1];a.width=n;a.zero=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,b,d,f,c,q,n,k,h,l,m,w,r){var e;f=e=class extends h{constructor(...g){super(...g);
this.paths=[];this.type="polyline"}normalizeCtorArgs(g,p){let v=null,u,x,z=null;g&&!Array.isArray(g)?(v=g.paths??null,p||(g.spatialReference?p=g.spatialReference:g.paths||(p=g)),u=g.hasZ,x=g.hasM):v=g;v=v||[];p=p||m.WGS84;v.length&&null!=v[0]?.[0]&&"number"===typeof v[0][0]&&(v=[v]);if(z=v[0]?.[0])void 0===u&&void 0===x?(u=2<z.length,x=!1):void 0===u?u=!x&&3<z.length:void 0===x&&(x=!u&&3<z.length);return{paths:v,spatialReference:p,hasZ:u,hasM:x}}get cache(){this.commitProperty("paths");this.commitProperty("hasZ");
this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const {spatialReference:g}=this;var p=w.getPolylineExtent(this);if(!p)return null;p=new k(p);p.spatialReference=g;return p}writePaths(g,p){p.paths=b.clone(this.paths)}addPath(g){if(g){var p=this.paths,v=p.length;if(Array.isArray(g[0]))p[v]=g.concat();else{const u=[];for(let x=0,z=g.length;x<z;x++)u[x]=g[x].toArray();p[v]=u}this.notifyChange("paths");return this}}clone(){const g=new e;g.spatialReference=this.spatialReference;
g.paths=b.clone(this.paths);g.hasZ=this.hasZ;g.hasM=this.hasM;return g}getPoint(g,p){if(!this._validateInputs(g,p))return null;g=this.paths[g][p];p=this.hasZ;const v=this.hasM;return p&&!v?new l(g[0],g[1],g[2],void 0,this.spatialReference):v&&!p?new l(g[0],g[1],void 0,g[2],this.spatialReference):p&&v?new l(g[0],g[1],g[2],g[3],this.spatialReference):new l(g[0],g[1],this.spatialReference)}insertPoint(g,p,v){if(!this._validateInputs(g,p,!0))return this;r.updateSupportFromPoint(this,v);Array.isArray(v)||
(v=v.toArray());this.paths[g].splice(p,0,v);this.notifyChange("paths");return this}removePath(g){if(!this._validateInputs(g,null))return null;g=this.paths.splice(g,1)[0];const p=this.spatialReference;g=g.map(v=>new l(v,p));this.notifyChange("paths");return g}removePoint(g,p){if(!this._validateInputs(g,p))return null;g=new l(this.paths[g].splice(p,1)[0],this.spatialReference);this.notifyChange("paths");return g}setPoint(g,p,v){if(!this._validateInputs(g,p))return this;r.updateSupportFromPoint(this,
v);Array.isArray(v)||(v=v.toArray());this.paths[g][p]=v;this.notifyChange("paths");return this}_validateInputs(g,p,v=!1){return null==g||0>g||g>=this.paths.length||null!=p&&(g=this.paths[g],v&&(0>p||p>g.length)||!v&&(0>p||p>=g.length))?!1:!0}toJSON(g){return this.write({},g)}};a.__decorate([d.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([d.property({readOnly:!0})],f.prototype,"extent",null);a.__decorate([d.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],f.prototype,
"paths",void 0);a.__decorate([n.writer("paths")],f.prototype,"writePaths",null);f=e=a.__decorate([q.subclass("esri.geometry.Polyline")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const d=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",
esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=d;a.typeKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,d,f,c,q,n){function k(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function h(e){return void 0!==
e.points}function l(e){return void 0!==e.x&&void 0!==e.y}function m(e){return void 0!==e.paths}function w(e){return void 0!==e.rings}const r={esriGeometryPoint:c,esriGeometryPolyline:n,esriGeometryPolygon:q,esriGeometryEnvelope:b,esriGeometryMultipoint:f};a.fromJSON=function(e){return null==e?null:e instanceof d?e:l(e)?c.fromJSON(e):m(e)?n.fromJSON(e):w(e)?q.fromJSON(e):h(e)?f.fromJSON(e):k(e)?b.fromJSON(e):null};a.getGeometryType=function(e){return e&&r[e]||null};a.getJsonType=function(e){return e?
l(e)?"esriGeometryPoint":m(e)?"esriGeometryPolyline":w(e)?"esriGeometryPolygon":k(e)?"esriGeometryEnvelope":h(e)?"esriGeometryMultipoint":null:null};a.isExtent=k;a.isMultipoint=h;a.isPoint=l;a.isPolygon=w;a.isPolyline=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Identifiable":function(){define(["exports","../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b,d){let f=0;const c=q=>{q=class extends q{constructor(...n){super(...n);Object.defineProperty(this,
"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+f++})}};return q=b.__decorate([d.subclass("esri.core.Identifiable")],q)};a.Identifiable=class extends c(class{}){};a.Identifiable=b.__decorate([d.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=c;a.NumericIdentifiableMixin=q=>{q=class extends q{constructor(...n){super(...n);Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:f++})}};return q=b.__decorate([d.subclass("esri.core.NumericIdentifiable")],
q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fromPortalItem":function(){define(["require","exports","../../config","../../core/Logger"],function(a,b,d,f){b.fromPortalItem=async function(c){c="portalItem"in c?c:{portalItem:c};var {fromItem:q}=await new Promise((n,k)=>a(["../../portal/support/portalLayers"],n,k));try{return await q(c)}catch(n){throw q=c&&c.portalItem,c=q?.id||"unset",q=q&&q.portal&&q.portal.url||d.portalUrl,f.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()",
"Failed to create layer from portal item (portal: '"+q+"', id: '"+c+"')",n),n;}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/support/TablesMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){function l(m,w,r){if(m)for(let g=0,p=m.length;g<p;g++){var e=m.at(g);
if(e[w]===r||"group"===e?.type&&(e=l(e.tables,w,r)))return e}}a.TablesMixin=m=>{m=class extends m{constructor(...w){super(...w);this.tables=new d;this.addHandles([this.tables.on("after-add",r=>{r=r.item;r.parent&&r.parent!==this&&"tables"in r.parent&&r.parent.tables.remove(r);r.parent=this;"feature"!==r.type&&c.getLogger(this).error(`Layer 'title:${r.title}, id:${r.id}' of type '${r.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",r=>{r.item.parent=
null})])}destroy(){const w=this.tables.toArray();for(const r of w)r.destroy();this.tables.destroy()}set tables(w){this._set("tables",f.referenceSetter(w,this._get("tables")))}findTableById(w){return l(this.tables,"id",w)}findTableByUid(w){return l(this.tables,"uid",w)}};b.__decorate([q.property()],m.prototype,"tables",null);return m=b.__decorate([h.subclass("esri.support.TablesMixin")],m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Viewpoint":function(){define("./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l){function m(){return{enabled:!this.camera}}var w;f=w=class extends f.JSONSupport{constructor(r){super(r);this.scale=this.rotation=0;this.camera=this.targetGeometry=null}castRotation(r){r%=360;0>r&&(r+=360);return r}clone(){return new w({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};a.__decorate([c.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,
write:!0},"web-scene":{write:{overridePolicy:m}}}}})],f.prototype,"rotation",void 0);a.__decorate([q.cast("rotation")],f.prototype,"castRotation",null);a.__decorate([c.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:m}}}}})],f.prototype,"scale",void 0);a.__decorate([c.property({types:d.geometryTypes,json:{read:l.fromJSON,write:!0,origins:{"web-scene":{read:l.fromJSON,write:{overridePolicy:m}}}}})],f.prototype,"targetGeometry",void 0);
a.__decorate([c.property({type:b,json:{write:!0}})],f.prototype,"camera",void 0);return f=w=a.__decorate([h.subclass("esri.Viewpoint")],f)})},"esri/Camera":function(){define("./chunks/tslib.es6 ./CameraLayout ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){d=class extends d.ClonableMixin(c.JSONSupport){constructor(...p){super(...p);this.position=new g([0,0,0]);this.tilt=this.heading=0;this.fov=55;this.layout=new b}normalizeCtorArgs(p,v,u,x){return p&&"object"===typeof p&&("x"in p||Array.isArray(p))?(p={position:p},null!=v&&(p.heading=v),null!=u&&(p.tilt=u),null!=x&&(p.fov=x),p):p}writePosition(p,v,u,x){const z=p.clone();z.x=e.ensureNumber(p.x||0);z.y=e.ensureNumber(p.y||0);z.z=p.hasZ?e.ensureNumber(p.z||0):p.z;
v[u]=z.write({},x)}readPosition(p,v){const u=new g;u.read(p,v);u.x=e.ensureNumber(u.x||0);u.y=e.ensureNumber(u.y||0);u.z=u.hasZ?e.ensureNumber(u.z||0):u.z;return u}equals(p){return null==p?!1:this.tilt===p.tilt&&this.heading===p.heading&&this.fov===p.fov&&this.position.equals(p.position)&&this.layout.equals(p.layout)}};a.__decorate([n.property({type:g,json:{write:{isRequired:!0}}})],d.prototype,"position",void 0);a.__decorate([r.writer("position")],d.prototype,"writePosition",null);a.__decorate([m.reader("position")],
d.prototype,"readPosition",null);a.__decorate([n.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),k.cast(p=>f.cyclicalDegrees.normalize(e.ensureNumber(p)))],d.prototype,"heading",void 0);a.__decorate([n.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),k.cast(p=>q.clamp(e.ensureNumber(p),-180,180))],d.prototype,"tilt",void 0);a.__decorate([n.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],d.prototype,"fov",void 0);a.__decorate([n.property({type:b,
nonNullable:!0,json:{read:!1,write:!1}})],d.prototype,"layout",void 0);return d=a.__decorate([w.subclass("esri.Camera")],d)})},"esri/CameraLayout":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){b=class extends b.Clonable{constructor(k){super(k);this.column=this.row=0;this.columns=this.rows=1}equals(k){return null==k?!1:this.row===
k.row&&this.rows===k.rows&&this.column===k.column&&this.columns===k.columns}};a.__decorate([d.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"row",void 0);a.__decorate([d.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"column",void 0);a.__decorate([d.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"rows",void 0);a.__decorate([d.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"columns",
void 0);return b=a.__decorate([n.subclass("esri.CameraLayout")],b)})},"esri/core/Clonable":function(){define("exports ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h,l){f=m=>{m=class extends m{clone(){var w=h.getProperties(this);n.assertIsSome(w,"unable to clone instance of non-accessor class");var r=w.metadata;const e=w.store,g={};w=new Map;for(var p in r){var v=
r[p];const u=e?.originOf(p),x=v.clonable;if(v.readOnly||!1===x||u!==k.OriginId.USER&&u!==k.OriginId.DEFAULTS&&u!==k.OriginId.WEB_MAP&&u!==k.OriginId.WEB_SCENE)continue;v=this[p];let z=null;z="function"===typeof x?x(v):"reference"===x?v:c.tryClone(v);if(null==v||null!=z)u===k.OriginId.DEFAULTS?w.set(p,z):g[p]=z}r=new (Object.getPrototypeOf(this).constructor)(g);if(w.size&&(p=h.getProperties(r)?.store))for(const [u,x]of w)p.set(u,x,k.OriginId.DEFAULTS);return r}};return m=b.__decorate([l.subclass("esri.core.Clonable")],
m)};a.Clonable=class extends f(d){};a.Clonable=b.__decorate([l.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Cyclical":function(){define(["exports","./mathUtils"],function(a,b){function d(k){for(const h in k){const l=k[h];l instanceof Function&&(k[h]=l.bind(k))}return k}class f{constructor(k,h){this.min=k;this.max=h;this.range=h-k}ndiff(k,h=0){return Math.ceil((k-h)/this.range)*this.range+h}_normalize(k,h,l,
m=0,w=!1){l-=m;l<k?l+=this.ndiff(k-l):l>h&&(l-=this.ndiff(l-h));w&&l===h&&(l=k);return l+m}normalize(k,h=0,l=!1){return this._normalize(this.min,this.max,k,h,l)}clamp(k,h=0){return b.clamp(k-h,this.min,this.max)+h}monotonic(k,h,l){return k<h?h:h+this.ndiff(k-h,l)}minimalMonotonic(k,h,l){return this._normalize(k,k+this.range,h,l)}center(k,h,l){h=this.monotonic(k,h,l);return this.normalize((k+h)/2,l)}diff(k,h,l){return this.monotonic(k,h,l)-k}shortestSignedDiff(k,h){k=this.normalize(k);h=this.normalize(h);
const l=h-k;k=h<k?this.minimalMonotonic(k,h)-k:h-this.minimalMonotonic(h,k);return Math.abs(l)<Math.abs(k)?l:k}contains(k,h,l){h=this.minimalMonotonic(k,h);l=this.minimalMonotonic(k,l);return l>k&&l<h}}const c=d(new f(0,2*Math.PI)),q=d(new f(-Math.PI,Math.PI)),n=d(new f(0,360));a.Cyclical=f;a.cyclical2PI=c;a.cyclicalDegrees=n;a.cyclicalPI=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p){a.OperationalLayer=v=>{v=class extends v{constructor(){super(...arguments);this.persistenceEnabled=!0;this.title=null}readId(u,x,z){return"Group Layer"===z?.portalItem?.type?void 0:u}writeListMode(u,x,z,t){t&&"ground"===t.layerContainerType?x[z]=u:u&&e.willPropertyWrite(this,z,{},t)&&(x[z]=u)}writeOperationalLayerType(u,x,z,t){u&&"tables"!==t?.layerContainerType&&(x.layerType=u)}writeTitle(u,x){x.title=u??"Layer"}read(u,x){x&&(x.layer=this);r.readLoadable(this,
u,z=>super.read(u,z),x)}write(u,x){if(!this.persistenceEnabled)return null;if(x?.origin){var z=`${x.origin}/${x.layerContainerType||"operational-layers"}`;let t=!!g.supportedTypes[z]?.[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===z&&(t=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===z&&(t=!1);if(!t)return x.messages?.push(new d("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${z}'`,
{layer:this})),null}u=super.write(u,{...x,layer:this});z=!!x&&!!x.messages&&!!x.messages.filter(t=>t instanceof d&&"web-document-write:property-required"===t.name).length;return f.isBlobProtocol(u?.url)?(x?.messages?.push(new d("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&z?null:u}beforeSave(){}};b.__decorate([c.property({type:String,json:{write:{ignoreOrigin:!0},
origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],v.prototype,"id",void 0);b.__decorate([h.reader("id",["id"])],v.prototype,"readId",null);b.__decorate([c.property(p.listMode)],v.prototype,"listMode",void 0);b.__decorate([m.writer("listMode")],v.prototype,"writeListMode",null);b.__decorate([c.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,
ignoreOrigin:!0,layerContainerTypes:w.excludeTables}}}}})],v.prototype,"operationalLayerType",void 0);b.__decorate([m.writer("operationalLayerType")],v.prototype,"writeOperationalLayerType",null);b.__decorate([c.property(p.opacity)],v.prototype,"opacity",void 0);b.__decorate([c.property({type:Boolean,readOnly:!1})],v.prototype,"persistenceEnabled",void 0);b.__decorate([c.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,
writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],v.prototype,"title",void 0);b.__decorate([m.writer("title"),m.writer(["web-scene"],"title")],v.prototype,"writeTitle",null);b.__decorate([c.property({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:w.excludeTables}}},name:"visibility",write:!0}})],v.prototype,"visible",void 0);return v=b.__decorate([l.subclass("esri.layers.mixins.OperationalLayer")],v)};a.isOperationalLayer=function(v){return"operationalLayerType"in
v};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/layerContainerType":function(){define(["exports"],function(a){a.excludeTables=["operational-layers","basemap","ground"];Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){const b={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,
ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},d={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,
OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},f={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0};a.supportedTypes={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,
PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0,IntegratedMesh3DTilesLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},
"web-map/operational-layers":b,"web-map/basemap":d,"web-map/tables":f,"link-chart/operational-layers":{...b,LinkChartLayer:!0},"link-chart/basemap":d,"link-chart/tables":f,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISImageServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,IntegratedMesh3DTilesLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/commonProperties":function(){define("exports ../../TimeExtent ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../support/timeUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),function(a,b,d,f,c,q,n,k,h){const l={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",
write:{enabled:!0,layerContainerTypes:d.excludeTables}}},m={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(z,t){return!t.disablePopup}},write:{enabled:!0,writer(z,t,y){t[y]=!z}}}},w={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:d.excludeTables}}};q={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:q.write}}};const r={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},
name:"showLegend",write:{enabled:!0,layerContainerTypes:d.excludeTables}}};k={value:null,type:k,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:d.excludeTables}}};var e={write:{enabled:!0,layerContainerTypes:d.excludeTables},read:!0};const g={type:Number,json:{origins:{"web-document":e,"portal-item":{write:!0}}}};e={...g,json:{...g.json,origins:{"web-document":{...e,write:{enabled:!0,layerContainerTypes:d.excludeTables,
target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(z,t,y){if((!y||"service"===y.origin)&&t.drawingInfo&&void 0!==t.drawingInfo.transparency)return h.transparencyToOpacity(t.drawingInfo.transparency);if(t.layerDefinition?.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency)return h.transparencyToOpacity(t.layerDefinition.drawingInfo.transparency)}}}};const p=
{type:f,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(z,t)=>{z=f.fromJSON(z);null!=t.spatialReference&&"object"===typeof t.spatialReference&&(z.spatialReference=c.fromJSON(t.spatialReference));return z}}}},read:!1}},v={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},u={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:d.excludeTables}}},name:"layerDefinition.minScale",
write:!0}},x={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:d.excludeTables}}},name:"layerDefinition.maxScale",write:!0}};d={json:{write:{ignoreOrigin:!0,layerContainerTypes:d.excludeTables},origins:{"web-map":{read:!1,write:!1}}}};a.combinedViewLayerTimeExtentProperty={type:b,readOnly:!0,get(){var z=null!=this.layer?.timeInfo?this.layer:null!=this.i3slayer?.timeInfo?this.i3slayer:null;if(null==z)return null;
const {datesInUnknownTimezone:t,timeOffset:y,useViewTime:B}=z;var A=this.view?.timeExtent;z=z.timeExtent;t&&(z=n.toLocalTimeExtent(z));A=B?A&&z?A.intersection(z):A||z:z;if(!A||A.isEmpty||A.isAllTime)return A;y&&(A=A.offset(-y.value,y.unit));t&&(A=n.toUTCTimeExtent(A));z=this._get("timeExtent");return A.equals(z)?z:A}};a.elevationInfo=k;a.id=v;a.labelsVisible=w;a.legendEnabled=r;a.listMode=d;a.maxScale=x;a.minScale=u;a.opacity=g;a.opacityDrawingInfo=e;a.popupEnabled=m;a.readOnlyService=function(z){return{type:z,
readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=p;a.screenSizePerspectiveEnabled=l;a.url=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeExtent":function(){define("./chunks/tslib.es6 ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./time/timeZoneUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;b=w=class extends b.JSONSupport{static get allTime(){return r}static get empty(){return e}constructor(g){super(g);this.start=this.end=null}readEnd(g,p){return null!=p.end?new Date(p.end):null}writeEnd(g,p){p.end=g?.getTime()??null}get isAllTime(){return this.equals(w.allTime)}get isEmpty(){return this.equals(w.empty)}readStart(g,p){return null!=p.start?new Date(p.start):null}writeStart(g,p){p.start=g?.getTime()??null}clone(){return new w({end:this.end,start:this.start})}equals(g){if(!g)return!1;
const p=this.start?.getTime()??this.start,v=this.end?.getTime()??this.end,u=g.start?.getTime()??g.start;g=g.end?.getTime()??g.end;return p===u&&v===g}expandTo(g,p=m.system){if(this.isEmpty||this.isAllTime)return this.clone();let v=this.start;v&&=d.truncateDate(v,g,p);let u=this.end;if(u){const x=d.truncateDate(u,g,p);u=u.getTime()===x.getTime()?x:d.offsetDate(x,1,g,p)}return new w({start:v,end:u})}intersection(g){if(!g)return this.clone();if(this.isEmpty||g.isEmpty)return w.empty;if(this.isAllTime)return g.clone();
if(g.isAllTime)return this.clone();var p=this.start?.getTime()??-Infinity;const v=this.end?.getTime()??Infinity,u=g.start?.getTime()??-Infinity;g=g.end?.getTime()??Infinity;let x,z;u>=p&&u<=v?x=u:p>=u&&p<=g&&(x=p);v>=u&&v<=g?z=v:g>=p&&g<=v&&(z=g);return null==x||null==z||isNaN(x)||isNaN(z)?w.empty:(p=new w,p.start=-Infinity===x?null:new Date(x),p.end=Infinity===z?null:new Date(z),p)}offset(g,p,v=m.system){if(this.isEmpty||this.isAllTime)return this.clone();const u=new w,{start:x,end:z}=this;null!=
x&&(u.start=d.offsetDate(x,g,p,v));null!=z&&(u.end=d.offsetDate(z,g,p,v));return u}union(g){if(!g||g.isEmpty)return this.clone();if(this.isEmpty)return g.clone();if(this.isAllTime||g.isAllTime)return r.clone();const p=null!=this.start&&null!=g.start?new Date(Math.min(this.start.getTime(),g.start.getTime())):null;g=null!=this.end&&null!=g.end?new Date(Math.max(this.end.getTime(),g.end.getTime())):null;return new w({start:p,end:g})}};a.__decorate([f.property({type:Date,json:{write:{allowNull:!0}}})],
b.prototype,"end",void 0);a.__decorate([k.reader("end")],b.prototype,"readEnd",null);a.__decorate([l.writer("end")],b.prototype,"writeEnd",null);a.__decorate([f.property({readOnly:!0,json:{read:!1}})],b.prototype,"isAllTime",null);a.__decorate([f.property({readOnly:!0,json:{read:!1}})],b.prototype,"isEmpty",null);a.__decorate([f.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);a.__decorate([k.reader("start")],b.prototype,"readStart",null);a.__decorate([l.writer("start")],
b.prototype,"writeStart",null);b=w=a.__decorate([h.subclass("esri.TimeExtent")],b);const r=new b,e=new b({start:void 0,end:void 0});return b})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(a,b,d,f){function c(k,h,l){return 0===k?0:k*n[h]/n[l]}function q(k){switch(k){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";
case "months":return"month";case "years":return"year"}}const n={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.convertTime=c;a.isValidDate=function(k){return k instanceof Date&&!isNaN(k.getTime())};a.makeUTCTime=function(k,h,l="milliseconds"){h=new Date(c(h,l,"milliseconds"));h.setUTCFullYear(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate());return h};a.mergeTimeExtents=function(k,h){return k&&h?k.intersection(h):
k||h};a.millisecondsPerTimeUnit=n;a.offsetDate=function(k,h,l,m=d.system){m=new f.IANAZone(b.resolveTimeZone(m));k=f.DateTime.fromJSDate(k,{zone:m});m="decades"===l||"centuries"===l?"year":q(l);"decades"===l&&(h*=10);"centuries"===l&&(h*=100);return k.plus({[m]:h}).toJSDate()};a.offsetDateUTC=function(k,h,l="milliseconds"){k=k.getTime();h=c(h,l,"milliseconds");return new Date(k+h)};a.resetUTCDate=function(k,h){k=new Date(k.getTime());k.setUTCFullYear(h.getFullYear(),h.getMonth(),h.getDate());return k};
a.timeSinceUTCMidnight=function(k,h="milliseconds"){const l=c(k.getUTCHours(),"hours","milliseconds"),m=c(k.getUTCMinutes(),"minutes","milliseconds"),w=c(k.getUTCSeconds(),"seconds","milliseconds");k=k.getUTCMilliseconds();return c(l+m+w+k,"milliseconds",h)};a.truncateDate=function(k,h,l=d.system){l=new f.IANAZone(b.resolveTimeZone(l));k=f.DateTime.fromJSDate(k,{zone:l});if("decades"===h||"centuries"===h)return k=k.startOf("year"),{year:l}=k,k.set({year:l-l%("decades"===h?10:100)}).toJSDate();h=q(h);
return k.startOf(h).toJSDate()};a.truncateLocalTime=function(k){const h=new Date(0);h.setHours(0);h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0);h.setFullYear(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate());return h};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale","../time/timeZoneUtils","../chunks/datetime"],function(a,b,d,f,c){function q(D){var E=B.get(D);if(!E){E=d.getLocale();E=y[E]||E;const J=
k(D.timeZone??f.system);E=new Intl.DateTimeFormat(E,{...D,timeZone:J});B.set(D,E)}return E}function n(D,E=A){return q(E).format(D)}function k(D){switch(D){case f.system:return f.systemTimeZone;case f.unknown:return f.utc;default:return D}}function h(D,E){const J=d.getLocale();return(new Intl.DateTimeFormat(y[J]??J,E)).formatToParts(D)}const l={year:void 0,month:void 0,day:void 0,weekday:void 0},m={hour:void 0,minute:void 0,second:void 0},w={timeZone:f.utc},r={year:"numeric",month:"numeric",day:"numeric"},
e={year:"numeric",month:"long",day:"numeric"},g={year:"numeric",month:"short",day:"numeric"},p={year:"numeric",month:"long",weekday:"long",day:"numeric"},v={hour:"numeric",minute:"numeric"},u={...v,second:"numeric"};var x={hourCycle:"h23"};const z={...v,...x};x={...u,...x};const t={"short-date":r,"short-date-short-time":{...r,...v},"short-date-short-time-24":{...r,...z},"short-date-long-time":{...r,...u},"short-date-long-time-24":{...r,...x},"short-date-le":r,"short-date-le-short-time":{...r,...v},
"short-date-le-short-time-24":{...r,...z},"short-date-le-long-time":{...r,...u},"short-date-le-long-time-24":{...r,...x},"long-month-day-year":e,"long-month-day-year-short-time":{...e,...v},"long-month-day-year-short-time-24":{...e,...z},"long-month-day-year-long-time":{...e,...u},"long-month-day-year-long-time-24":{...e,...x},"day-short-month-year":g,"day-short-month-year-short-time":{...g,...v},"day-short-month-year-short-time-24":{...g,...z},"day-short-month-year-long-time":{...g,...u},"day-short-month-year-long-time-24":{...g,
...x},"long-date":p,"long-date-short-time":{...p,...v},"long-date-short-time-24":{...p,...z},"long-date-long-time":{...p,...u},"long-date-long-time-24":{...p,...x},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":v,"long-time":u};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",
shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
shortMonthYear:"short-month-year",year:"year"});const y={ar:"ar-u-nu-latn-ca-gregory"};let B=new WeakMap;const A=t["short-date-short-time"];d.beforeLocaleChange(()=>{B=new WeakMap});a.convertDateFormatToIntlOptions=function(D){return t[D]};a.dateFormatJSONMap=b;a.formatDate=n;a.formatDateOnly=function(D,E=A){return n(new Date(D),{...E,...w,...m})};a.formatTimeOnly=function(D,E=A){return n(new Date(`1970-01-01T${D}Z`),{...E,...w,...l})};a.formatTimestamp=function(D,E=A){if(E.timeZone)return n(new Date(D),
E);D=c.DateTime.fromISO(D,{setZone:!0});const J=d.getLocale();return D.toLocaleString({...E,timeZone:0===D.offset?f.utc:E.timeZone},{locale:y[J]??J})};a.getDateTimeFormatter=q;a.getShortOffsetTimeZoneSuffix=function(D,E=new Date){return h(E,{timeZone:D,timeZoneName:f.shortTimeZoneName}).find(({type:J})=>"timeZoneName"===J)?.value};a.resolveTimeZone=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/timeZoneUtils":function(){define(["exports","./legacyTimeZoneMap","../chunks/datetime"],
function(a,b,d){function f(k,h="system"){return k?"timeZoneIANA"in k?k.timeZoneIANA:q(k,h):h}function c(k){return{timeZoneIANA:k}}function q(k,h="system"){if(!k||!b.legacyTimeZoneMap.has(k.timeZone))return h;h=b.legacyTimeZoneMap.get(k.timeZone);if(k.timeZone.startsWith("UTC")||k.respectsDaylightSaving)return h;k=d.DateTime.local().setZone(h);k=Math.min(k.set({month:1,day:1}).offset,k.set({month:5}).offset);k=0===k?"Etc/UTC":`Etc/GMT${d.FixedOffsetZone.instance(-k).formatOffset(0,"narrow")}`;return k}
const n=Intl.DateTimeFormat().resolvedOptions().timeZone;a.convertLegacyTimeZone=q;a.fromTimeReference=f;a.getTimeZoneComponents=function(k){k="system"===k?n:k;var h=/^(?<area>[\w-]+)(?:\/(?<region>[\w-]+))?\/(?<location>[\w+-]+)$/;if(h.test(k)){h=h.exec(k)?.groups;const {area:l,region:m,location:w}=h;return{area:l,region:m,location:w,timeZone:k}}return{timeZone:k}};a.getTimeZoneFormattingOptions=function(k,h,l,m,w){if(h&&"date"===w)return{timeZone:"UTC",timeZoneName:void 0};h=m.timeStyle||m.hour;
m="unknown"===l;return{timeZone:m?"timestamp-offset"===w?void 0:k??"UTC":l,timeZoneName:m&&h?"shortOffset":void 0}};a.shortTimeZoneName="shortOffset";a.system="system";a.systemTimeZone=n;a.timeZoneProperty=function(k,h=!1){return{json:{read:{source:k,reader(l,m){return m[k]?f(m[k]):null}},write:h?{allowNull:!0,writer(l,m){m[k]=l?c(l):null}}:!1}}};a.toTimeReference=c;a.unknown="unknown";a.utc="UTC";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],
function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],
["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time",
"Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time",
"Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time",
"Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time",
"Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time",
"Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time",
"Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time",
"Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time",
"Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time",
"Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],
["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],
["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);
a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(a){function b(C,P={}){const Y=JSON.stringify([C,P]);let la=nc[Y];la||(la=new Intl.ListFormat(C,P),nc[Y]=la);return la}function d(C,P={}){const Y=JSON.stringify([C,P]);let la=bc[Y];la||(la=new Intl.DateTimeFormat(C,P),bc[Y]=la);return la}function f(C,P={}){const Y=JSON.stringify([C,P]);let la=cc[Y];la||(la=new Intl.NumberFormat(C,P),cc[Y]=la);return la}
function c(C,P={}){const {base:Y,...la}=P,ta=JSON.stringify([C,la]);let Fa=dc[ta];Fa||(Fa=new Intl.RelativeTimeFormat(C,P),dc[ta]=Fa);return Fa}function q(C){const P=[];for(let Y=1;12>=Y;Y++){const la=fb.utc(2009,Y,1);P.push(C(la))}return P}function n(C){const P=[];for(let Y=1;7>=Y;Y++){const la=fb.utc(2016,11,13+Y);P.push(C(la))}return P}function k(C,P,Y,la){C=C.listingMode();return"error"===C?null:"en"===C?Y(P):la(P)}function h(C,P){if(y(C)||null===C)return P;if(C instanceof Ub)return C;if("string"===
typeof C){const Y=C.toLowerCase();return"default"===Y?P:"local"===Y||"system"===Y?ec.instance:"utc"===Y||"gmt"===Y?Ab.utcInstance:Ab.parseSpecifier(Y)||Jb.create(C)}return B(C)?Ab.instance(C):"object"===typeof C&&"offset"in C&&"function"===typeof C.offset?C:new Uc(C)}function l(C,P){return new Hb("unit out of range",`you specified ${P} (of type ${typeof P}) as a ${C}, which is invalid`)}function m(C,P,Y){P=new Date(Date.UTC(C,P-1,Y));100>C&&0<=C&&P.setUTCFullYear(P.getUTCFullYear()-1900);C=P.getUTCDay();
return 0===C?7:C}function w(C,P){C=V(C)?fc:gc;const Y=C.findIndex(la=>la<P);return{month:Y+1,day:P-C[Y]}}function r(C,P){return(C-P+7)%7+1}function e(C,P=4,Y=1){const {year:la,month:ta,day:Fa}=C;var La=Fa+(V(la)?fc:gc)[ta-1];const Wa=r(m(la,ta,Fa),Y);La=Math.floor((La-Wa+14-P)/7);let Za;1>La?(Za=la-1,La=ua(Za,P,Y)):La>ua(la,P,Y)?(Za=la+1,La=1):Za=la;return{weekYear:Za,weekNumber:La,weekday:Wa,...aa(C)}}function g(C,P=4,Y=1){const {weekYear:la,weekNumber:ta,weekday:Fa}=C,La=r(m(la,1,P),Y);Y=V(la)?
366:365;P=7*ta+Fa-La-7+P;1>P?(Y=la-1,P+=V(Y)?366:365):P>Y?(Y=la+1,P-=V(la)?366:365):Y=la;const {month:Wa,day:Za}=w(Y,P);return{year:Y,month:Wa,day:Za,...aa(C)}}function p(C){const {year:P,month:Y,day:la}=C;var ta=la+(V(P)?fc:gc)[Y-1];return{year:P,ordinal:ta,...aa(C)}}function v(C){const {year:P,ordinal:Y}=C,{month:la,day:ta}=w(P,Y);return{year:P,month:la,day:ta,...aa(C)}}function u(C,P){if(y(C.localWeekday)&&y(C.localWeekNumber)&&y(C.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!y(C.weekday)||
!y(C.weekNumber)||!y(C.weekYear))throw new Z("Cannot mix locale-based week fields with ISO-based week fields");y(C.localWeekday)||(C.weekday=C.localWeekday);y(C.localWeekNumber)||(C.weekNumber=C.localWeekNumber);y(C.localWeekYear)||(C.weekYear=C.localWeekYear);delete C.localWeekday;delete C.localWeekNumber;delete C.localWeekYear;return{minDaysInFirstWeek:P.getMinDaysInFirstWeek(),startOfWeek:P.getStartOfWeek()}}function x(C,P=4,Y=1){const la=A(C.weekYear);P=L(C.weekNumber,1,ua(C.weekYear,P,Y));Y=
L(C.weekday,1,7);return la?P?Y?!1:l("weekday",C.weekday):l("week",C.weekNumber):l("weekYear",C.weekYear)}function z(C){const P=A(C.year),Y=L(C.month,1,12),la=L(C.day,1,ma(C.year,C.month));return P?Y?la?!1:l("day",C.day):l("month",C.month):l("year",C.year)}function t(C){const {hour:P,minute:Y,second:la,millisecond:ta}=C;C=L(P,0,23)||24===P&&0===Y&&0===la&&0===ta;const Fa=L(Y,0,59),La=L(la,0,59),Wa=L(ta,0,999);return C?Fa?La?Wa?!1:l("millisecond",ta):l("second",la):l("minute",Y):l("hour",P)}function y(C){return"undefined"===
typeof C}function B(C){return"number"===typeof C}function A(C){return"number"===typeof C&&0===C%1}function D(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(C){return!1}}function E(){try{return"undefined"!==typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(C){return!1}}function J(C,P,Y){if(0!==C.length)return C.reduce((la,ta)=>{ta=[P(ta),ta];return la?Y(la[0],ta[0])===la[0]?la:ta:ta},null)[1]}function F(C,P){return P.reduce((Y,
la)=>{Y[la]=C[la];return Y},{})}function G(C,P){return Object.prototype.hasOwnProperty.call(C,P)}function M(C){if(null==C)return null;if("object"!==typeof C)throw new Ia("Week settings must be an object");if(!L(C.firstDay,1,7)||!L(C.minimalDays,1,7)||!Array.isArray(C.weekend)||C.weekend.some(P=>!L(P,1,7)))throw new Ia("Invalid week settings");return{firstDay:C.firstDay,minimalDays:C.minimalDays,weekend:Array.from(C.weekend)}}function L(C,P,Y){return A(C)&&C>=P&&C<=Y}function T(C,P=2){return 0>C?"-"+
(""+-C).padStart(P,"0"):(""+C).padStart(P,"0")}function N(C){if(!y(C)&&null!==C&&""!==C)return parseInt(C,10)}function K(C){if(!y(C)&&null!==C&&""!==C)return parseFloat(C)}function O(C){if(!y(C)&&null!==C&&""!==C)return C=1E3*parseFloat("0."+C),Math.floor(C)}function R(C,P,Y=!1){P=10**P;return(Y?Math.trunc:Math.round)(C*P)/P}function V(C){return 0===C%4&&(0!==C%100||0===C%400)}function ma(C,P){var Y=P-1;Y=Y-12*Math.floor(Y/12)+1;return 2===Y?V(C+(P-Y)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,
31][Y-1]}function ca(C){let P=Date.UTC(C.year,C.month-1,C.day,C.hour,C.minute,C.second,C.millisecond);100>C.year&&0<=C.year&&(P=new Date(P),P.setUTCFullYear(C.year,C.month-1,C.day));return+P}function ua(C,P=4,Y=1){var la=-r(m(C,1,P),Y)+P-1;P=-r(m(C+1,1,P),Y)+P-1;return((V(C)?366:365)-la+P)/7}function Aa(C){return 99<C?C:C>rb.twoDigitCutoffYear?1900+C:2E3+C}function Ma(C,P,Y,la=null){C=new Date(C);const ta={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};
la&&(ta.timeZone=la);return(P=(new Intl.DateTimeFormat(Y,{timeZoneName:P,...ta})).formatToParts(C).find(Fa=>"timezonename"===Fa.type.toLowerCase()))?P.value:null}function Ga(C,P){C=parseInt(C,10);Number.isNaN(C)&&(C=0);P=parseInt(P,10)||0;P=0>C||Object.is(C,-0)?-P:P;return 60*C+P}function Qa(C){const P=Number(C);if("boolean"===typeof C||""===C||Number.isNaN(P))throw new Ia(`Invalid unit value ${C}`);return P}function qa(C,P){const Y={};for(const la in C)if(G(C,la)){const ta=C[la];void 0!==ta&&null!==
ta&&(Y[P(la)]=Qa(ta))}return Y}function ha(C,P){const Y=Math.trunc(Math.abs(C/60)),la=Math.trunc(Math.abs(C%60));C=0<=C?"+":"-";switch(P){case "short":return`${C}${T(Y,2)}:${T(la,2)}`;case "narrow":return`${C}${Y}${0<la?`:${la}`:""}`;case "techie":return`${C}${T(Y,2)}${T(la,2)}`;default:throw new RangeError(`Value format ${P} is out of range for property format`);}}function aa(C){return F(C,["hour","minute","second","millisecond"])}function ja(C){switch(C){case "narrow":return[...Vc];case "short":return[...oc];
case "long":return[...Wc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function sa(C){switch(C){case "narrow":return[...Xc];case "short":return[...pc];case "long":return[...qc];case "numeric":return"1234567".split("");default:return null}}function H(C){switch(C){case "narrow":return[...Yc];case "short":return[...Zc];case "long":return[...$c];default:return null}}function Q(C,P,Y="always",la=
!1){const ta={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var Fa=-1===["hours","minutes","seconds"].indexOf(C);if("auto"===Y&&Fa)switch(Y="days"===C,P){case 1:return Y?"tomorrow":`next ${ta[C][0]}`;case -1:return Y?"yesterday":`last ${ta[C][0]}`;case 0:return Y?"today":`this ${ta[C][0]}`}Y=Object.is(P,-0)||0>P;P=Math.abs(P);Fa=1===P;const La=ta[C];C=
la?Fa?La[1]:La[2]||La[1]:Fa?ta[C][0]:C;return Y?`${P} ${C} ago`:`in ${P} ${C}`}function fa(C,P){let Y="";for(const la of C)Y=la.literal?Y+la.val:Y+P(la.val);return Y}function ka(...C){C=C.reduce((P,Y)=>P+Y.source,"");return RegExp(`^${C}$`)}function za(...C){return P=>C.reduce(([Y,la,ta],Fa)=>{const [La,Wa,Za]=Fa(P,ta);return[{...Y,...La},Wa||la,Za]},[{},null,1]).slice(0,2)}function W(C,...P){if(null==C)return[null,null];for(const [Y,la]of P)if(P=Y.exec(C))return la(P);return[null,null]}function ea(...C){return(P,
Y)=>{const la={};let ta;for(ta=0;ta<C.length;ta++)la[C[ta]]=N(P[Y+ta]);return[la,null,Y+ta]}}function ia(C,P,Y){C=C[P];return y(C)?Y:N(C)}function I(C,P){return[{hours:ia(C,P,0),minutes:ia(C,P+1,0),seconds:ia(C,P+2,0),milliseconds:O(C[P+3])},null,P+4]}function S(C,P){const Y=!C[P]&&!C[P+1];C=Ga(C[P+1],C[P+2]);return[{},Y?null:Ab.instance(C),P+3]}function X(C,P){return[{},C[P]?Jb.create(C[P]):null,P+1]}function na(C){const [P,Y,la,ta,Fa,La,Wa,Za,jb]=C,eb="-"===P[0];C=Za&&"-"===Za[0];const hb=(ob,xb=
!1)=>void 0!==ob&&(xb||ob&&eb)?-ob:ob;return[{years:hb(K(Y)),months:hb(K(la)),weeks:hb(K(ta)),days:hb(K(Fa)),hours:hb(K(La)),minutes:hb(K(Wa)),seconds:hb(K(Za),"-0"===Za),milliseconds:hb(O(jb),C)}]}function va(C,P,Y,la,ta,Fa,La){P={year:2===P.length?Aa(N(P)):N(P),month:oc.indexOf(Y)+1,day:N(la),hour:N(ta),minute:N(Fa)};La&&(P.second=N(La));C&&(P.weekday=3<C.length?qc.indexOf(C)+1:pc.indexOf(C)+1);return P}function Ea(C){const [,P,Y,la,ta,Fa,La,Wa,Za,jb,eb,hb]=C;C=va(P,ta,la,Y,Fa,La,Wa);let ob;ob=
Za?ad[Za]:jb?0:Ga(eb,hb);return[C,new Ab(ob)]}function da(C){const [,P,Y,la,ta,Fa,La,Wa]=C;return[va(P,ta,la,Y,Fa,La,Wa),Ab.utcInstance]}function pa(C){const [,P,Y,la,ta,Fa,La,Wa]=C;return[va(P,Wa,Y,la,ta,Fa,La),Ab.utcInstance]}function ra(C,P,Y=!1){C={values:Y?P.values:{...C.values,...(P.values||{})},loc:C.loc.clone(P.loc),conversionAccuracy:P.conversionAccuracy||C.conversionAccuracy,matrix:P.matrix||C.matrix};return new kb(C)}function Ca(C,P){let Y=P.milliseconds??0;for(const la of bd.slice(1))P[la]&&
(Y+=P[la]*C[la].milliseconds);return Y}function Da(C,P){const Y=0>Ca(C,P)?-1:1;Qb.reduceRight((la,ta)=>{if(y(P[ta]))return la;if(la){const Fa=C[ta][la],La=Math.floor(P[la]*Y/Fa);P[ta]+=La*Y;P[la]-=La*Fa*Y}return ta},null);Qb.reduce((la,ta)=>{if(y(P[ta]))return la;if(la){const Fa=P[la]%1;P[la]-=Fa;P[ta]+=Fa*C[la][ta]}return ta},null)}function Na(C,P){C=P.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-C.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(kb.fromMillis(C).as("days"))}
function Oa(C,P,Y){const la=[["years",(Za,jb)=>jb.year-Za.year],["quarters",(Za,jb)=>jb.quarter-Za.quarter+4*(jb.year-Za.year)],["months",(Za,jb)=>jb.month-Za.month+12*(jb.year-Za.year)],["weeks",(Za,jb)=>{Za=Na(Za,jb);return(Za-Za%7)/7}],["days",Na]],ta={},Fa=C;let La,Wa;for(const [Za,jb]of la)0<=Y.indexOf(Za)&&(La=Za,ta[Za]=jb(C,P),Wa=Fa.plus(ta),Wa>P?(ta[Za]--,C=Fa.plus(ta),C>P&&(Wa=C,ta[Za]--,C=Fa.plus(ta))):C=Wa);return[C,ta,Wa,La]}function Pa(C,P,Y,la){let [ta,Fa,La,Wa]=Oa(C,P,Y);C=P-ta;Y=Y.filter(Za=>
0<=["hours","minutes","seconds","milliseconds"].indexOf(Za));0===Y.length&&(La<P&&(La=ta.plus({[Wa]:1})),La!==ta&&(Fa[Wa]=(Fa[Wa]||0)+C/(La-ta)));P=kb.fromObject(Fa,la);return 0<Y.length?kb.fromMillis(C,la).shiftTo(...Y).plus(P):P}function Ra({numberingSystem:C},P=""){return new RegExp(`${hc[C||"latn"]}${P}`)}function oa(C,P=Y=>Y){return{regex:C,deser:([Y])=>{{let la=parseInt(Y,10);if(isNaN(la)){la="";for(let ta=0;ta<Y.length;ta++){const Fa=Y.charCodeAt(ta);if(-1!==Y[ta].search(hc.hanidec))la+=cd.indexOf(Y[ta]);
else for(const La in rc){const [Wa,Za]=rc[La];Fa>=Wa&&Fa<=Za&&(la+=Fa-Wa)}}Y=parseInt(la,10)}else Y=la}return P(Y)}}}function U(C){return C.replace(/\./g,"\\.?").replace(ic,sc)}function ba(C,P){return null===C?null:{regex:RegExp(C.map(U).join("|")),deser:([Y])=>C.findIndex(la=>Y.replace(/\./g,"").replace(ic," ").toLowerCase()===la.replace(/\./g,"").replace(ic," ").toLowerCase())+P}}function ya(C,P){return{regex:C,deser:([,Y,la])=>Ga(Y,la),groups:P}}function xa(C){return{regex:C,deser:([P])=>P}}function Ka(C,
P){const Y=Ra(P),la=Ra(P,"{2}"),ta=Ra(P,"{3}"),Fa=Ra(P,"{4}"),La=Ra(P,"{6}"),Wa=Ra(P,"{1,2}"),Za=Ra(P,"{1,3}"),jb=Ra(P,"{1,6}"),eb=Ra(P,"{1,9}"),hb=Ra(P,"{2,4}"),ob=Ra(P,"{4,6}"),xb=Kb=>({regex:RegExp(Kb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Xb])=>Xb,literal:!0}),yb=(Kb=>{if(C.literal)return xb(Kb);switch(Kb.val){case "G":return ba(P.eras("short"),0);case "GG":return ba(P.eras("long"),0);case "y":return oa(jb);case "yy":return oa(hb,Aa);case "yyyy":return oa(Fa);case "yyyyy":return oa(ob);
case "yyyyyy":return oa(La);case "M":return oa(Wa);case "MM":return oa(la);case "MMM":return ba(P.months("short",!0),1);case "MMMM":return ba(P.months("long",!0),1);case "L":return oa(Wa);case "LL":return oa(la);case "LLL":return ba(P.months("short",!1),1);case "LLLL":return ba(P.months("long",!1),1);case "d":return oa(Wa);case "dd":return oa(la);case "o":return oa(Za);case "ooo":return oa(ta);case "HH":return oa(la);case "H":return oa(Wa);case "hh":return oa(la);case "h":return oa(Wa);case "mm":return oa(la);
case "m":return oa(Wa);case "q":return oa(Wa);case "qq":return oa(la);case "s":return oa(Wa);case "ss":return oa(la);case "S":return oa(Za);case "SSS":return oa(ta);case "u":return xa(eb);case "uu":return xa(Wa);case "uuu":return oa(Y);case "a":return ba(P.meridiems(),0);case "kkkk":return oa(Fa);case "kk":return oa(hb,Aa);case "W":return oa(Wa);case "WW":return oa(la);case "E":case "c":return oa(Y);case "EEE":return ba(P.weekdays("short",!1),1);case "EEEE":return ba(P.weekdays("long",!1),1);case "ccc":return ba(P.weekdays("short",
!0),1);case "cccc":return ba(P.weekdays("long",!0),1);case "Z":case "ZZ":return ya(new RegExp(`([+-]${Wa.source})(?::(${la.source}))?`),2);case "ZZZ":return ya(new RegExp(`([+-]${Wa.source})(${la.source})?`),2);case "z":return xa(/[a-z_+-/]{1,256}?/i);case " ":return xa(/[^\S\n\r]/);default:return xb(Kb)}})(C)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};yb.token=C;return yb}function Sa(C){return[`^${C.map(P=>P.regex).reduce((P,Y)=>`${P}(${Y.source})`,"")}$`,C]}function Ta(C,
P,Y){if(C=C.match(P)){P={};let la=1;for(const ta in Y)if(G(Y,ta)){const Fa=Y[ta],La=Fa.groups?Fa.groups+1:1;!Fa.literal&&Fa.token&&(P[Fa.token.val[0]]=Fa.deser(C.slice(la,la+La)));la+=La}return[C,P]}return[C,{}]}function Xa(C){const P=ta=>{switch(ta){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";
case "k":return"weekYear";case "q":return"quarter";default:return null}};let Y=null,la;y(C.z)||(Y=Jb.create(C.z));y(C.Z)||(Y||=new Ab(C.Z),la=C.Z);y(C.q)||(C.M=3*(C.q-1)+1);y(C.h)||(12>C.h&&1===C.a?C.h+=12:12===C.h&&0===C.a&&(C.h=0));0===C.G&&C.y&&(C.y=-C.y);y(C.u)||(C.S=O(C.u));return[Object.keys(C).reduce((ta,Fa)=>{const La=P(Fa);La&&(ta[La]=C[Fa]);return ta},{}),Y,la]}function Ua(C,P){return Array.prototype.concat(...C.map(Y=>{if(!Y.literal){var la=Bb.macroTokenToFormatOpts(Y.val);la=Ya(la,P);
Y=null==la||la.includes(void 0)?Y:la}return Y}))}function db(C,P,Y){Y=Ua(Bb.parseFormat(Y),C);var la=Y.map(ob=>Ka(ob,C));const ta=la.find(ob=>ob.invalidReason);if(ta)return{input:P,tokens:Y,invalidReason:ta.invalidReason};const [Fa,La]=Sa(la);la=RegExp(Fa,"i");const [Wa,Za]=Ta(P,la,La),[jb,eb,hb]=Za?Xa(Za):[null,null,void 0];if(G(Za,"a")&&G(Za,"H"))throw new Z("Can't include meridiem when specifying 24-hour format");return{input:P,tokens:Y,regex:la,rawMatches:Wa,matches:Za,result:jb,zone:eb,specificOffset:hb}}
function Ya(C,P){if(!C)return null;P=Bb.create(P,C);var Y=P.dtFormatter;tc||=fb.fromMillis(1555555555555);P=Y.call(P,tc);Y=P.formatToParts();const la=P.resolvedOptions();return Y.map(ta=>{{const {type:La,value:Wa}=ta;if("literal"===La)ta=/^\s+$/.test(Wa),ta={literal:!ta,val:ta?" ":Wa};else{ta=C[La];var Fa=La;"hour"===La&&(Fa=null!=C.hour12?C.hour12?"hour12":"hour24":null!=C.hourCycle?"h11"===C.hourCycle||"h12"===C.hourCycle?"hour12":"hour24":la.hour12?"hour12":"hour24");Fa=dd[Fa];"object"===typeof Fa&&
(Fa=Fa[ta]);ta=Fa?{literal:!1,val:Fa}:void 0}}return ta})}function cb(C){return new Hb("unsupported zone",`the zone "${C.name}" is not supported`)}function ib(C){null===C.weekData&&(C.weekData=e(C.c));return C.weekData}function nb(C){null===C.localWeekData&&(C.localWeekData=e(C.c,C.loc.getMinDaysInFirstWeek(),C.loc.getStartOfWeek()));return C.localWeekData}function lb(C,P){C={ts:C.ts,zone:C.zone,c:C.c,o:C.o,loc:C.loc,invalid:C.invalid};return new fb({...C,...P,old:C})}function sb(C,P,Y){let la=C-
6E4*P;const ta=Y.offset(la);if(P===ta)return[la,P];la-=6E4*(ta-P);P=Y.offset(la);return ta===P?[la,ta]:[C-6E4*Math.min(ta,P),Math.max(ta,P)]}function tb(C,P){C=new Date(C+6E4*P);return{year:C.getUTCFullYear(),month:C.getUTCMonth()+1,day:C.getUTCDate(),hour:C.getUTCHours(),minute:C.getUTCMinutes(),second:C.getUTCSeconds(),millisecond:C.getUTCMilliseconds()}}function Fb(C,P,Y){return sb(ca(C),P,Y)}function Nb(C,P){const Y=C.o;var la=C.c.year+Math.trunc(P.years);const ta=C.c.month+Math.trunc(P.months)+
3*Math.trunc(P.quarters);la={...C.c,year:la,month:ta,day:Math.min(C.c.day,ma(la,ta))+Math.trunc(P.days)+7*Math.trunc(P.weeks)};P=kb.fromObject({years:P.years-Math.trunc(P.years),quarters:P.quarters-Math.trunc(P.quarters),months:P.months-Math.trunc(P.months),weeks:P.weeks-Math.trunc(P.weeks),days:P.days-Math.trunc(P.days),hours:P.hours,minutes:P.minutes,seconds:P.seconds,milliseconds:P.milliseconds}).as("milliseconds");la=ca(la);let [Fa,La]=sb(la,Y,C.zone);0!==P&&(Fa+=P,La=C.zone.offset(Fa));return{ts:Fa,
o:La}}function zb(C,P,Y,la,ta,Fa){const {setZone:La,zone:Wa}=Y;return C&&0!==Object.keys(C).length||P?(C=fb.fromObject(C,{...Y,zone:P||Wa,specificOffset:Fa}),La?C:C.setZone(Wa)):fb.invalid(new Hb("unparsable",`the input "${ta}" can't be parsed as ${la}`))}function Eb(C,P,Y=!0){return C.isValid?Bb.create(pb.create("en-US"),{allowZ:Y,forceSimple:!0}).formatDateTimeFromString(C,P):null}function wb(C,P){const Y=9999<C.c.year||0>C.c.year;let la="";Y&&0<=C.c.year&&(la+="+");la+=T(C.c.year,Y?6:4);P?(la=
la+"-"+T(C.c.month),la=la+"-"+T(C.c.day)):(la+=T(C.c.month),la+=T(C.c.day));return la}function Pb(C,P,Y,la,ta,Fa){let La=T(C.c.hour);P?(La=La+":"+T(C.c.minute),0===C.c.millisecond&&0===C.c.second&&Y||(La+=":")):La+=T(C.c.minute);0===C.c.millisecond&&0===C.c.second&&Y||(La+=T(C.c.second),0===C.c.millisecond&&la||(La=La+"."+T(C.c.millisecond,3)));ta&&(C.isOffsetFixed&&0===C.offset&&!Fa?La+="Z":0>C.o?(La=La+"-"+T(Math.trunc(-C.o/60)),La=La+":"+T(Math.trunc(-C.o%60))):(La=La+"+"+T(Math.trunc(C.o/60)),
La=La+":"+T(Math.trunc(C.o%60))));Fa&&(La+="["+C.zone.ianaName+"]");return La}function Ob(C){switch(C.toLowerCase()){case "localweekday":case "localweekdays":return"localWeekday";case "localweeknumber":case "localweeknumbers":return"localWeekNumber";case "localweekyear":case "localweekyears":return"localWeekYear";default:const P={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",
second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[C.toLowerCase()];if(!P)throw new wa(C);return P}}function Ha(C,P){const Y=h(P.zone,rb.defaultZone);P=pb.fromObject(P);const la=rb.now();var ta;if(y(C.year))C=la;else{for(const Fa of uc)y(C[Fa])&&(C[Fa]=vc[Fa]);if(ta=z(C)||t(C))return fb.invalid(ta);
ta=Y.offset(la);[C,ta]=Fb(C,ta,Y)}return new fb({ts:C,zone:Y,loc:P,o:ta})}function mb(C,P,Y){const la=y(Y.round)?!0:Y.round,ta=(La,Wa)=>{La=R(La,la||Y.calendary?0:2,!0);return P.loc.clone(Y).relFormatter(Y).format(La,Wa)},Fa=La=>Y.calendary?P.hasSame(C,La)?0:P.startOf(La).diff(C.startOf(La),La).get(La):P.diff(C,La).get(La);if(Y.unit)return ta(Fa(Y.unit),Y.unit);for(const La of Y.units){const Wa=Fa(La);if(1<=Math.abs(Wa))return ta(Wa,La)}return ta(C>P?-0:0,Y.units[Y.units.length-1])}function Gb(C){let P=
{};0<C.length&&"object"===typeof C[C.length-1]?(P=C[C.length-1],C=Array.from(C).slice(0,C.length-1)):C=Array.from(C);return[P,C]}function vb(C){if(fb.isDateTime(C))return C;if(C&&C.valueOf&&B(C.valueOf()))return fb.fromJSDate(C);if(C&&"object"===typeof C)return fb.fromObject(C);throw new Ia(`Unknown datetime argument: ${C}, of type ${typeof C}`);}class Db extends Error{}class bb extends Db{constructor(C){super(`Invalid DateTime: ${C.toMessage()}`)}}class ab extends Db{constructor(C){super(`Invalid Interval: ${C.toMessage()}`)}}
class Ba extends Db{constructor(C){super(`Invalid Duration: ${C.toMessage()}`)}}class Z extends Db{}class wa extends Db{constructor(C){super(`Invalid unit ${C}`)}}class Ia extends Db{}class Ja extends Db{constructor(){super("Zone is an abstract class")}}const Va={year:"numeric",month:"numeric",day:"numeric"},$a={year:"numeric",month:"short",day:"numeric"},gb={year:"numeric",month:"short",day:"numeric",weekday:"short"},ub={year:"numeric",month:"long",day:"numeric"},Lb={year:"numeric",month:"long",
day:"numeric",weekday:"long"},Rb={hour:"numeric",minute:"numeric"},Ib={hour:"numeric",minute:"numeric",second:"numeric"},Vb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Cb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},Sb={hour:"numeric",minute:"numeric",hourCycle:"h23"},Tb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},Mb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},Wb={hour:"numeric",
minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},wc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},xc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},yc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},zc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},ed={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",
minute:"numeric"},Ac={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},Bc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Cc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},Dc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class Ub{get type(){throw new Ja;
}get name(){throw new Ja;}get ianaName(){return this.name}get isUniversal(){throw new Ja;}offsetName(C,P){throw new Ja;}formatOffset(C,P){throw new Ja;}offset(C){throw new Ja;}equals(C){throw new Ja;}get isValid(){throw new Ja;}}let jc=null;class ec extends Ub{static get instance(){null===jc&&(jc=new ec);return jc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(C,{format:P,locale:Y}){return Ma(C,P,Y)}formatOffset(C,
P){return ha(this.offset(C),P)}offset(C){return-(new Date(C)).getTimezoneOffset()}equals(C){return"system"===C.type}get isValid(){return!0}}let Zb={};const fd={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let $b={};class Jb extends Ub{static create(C){$b[C]||($b[C]=new Jb(C));return $b[C]}static resetCache(){$b={};Zb={}}static isValidSpecifier(C){return this.isValidZone(C)}static isValidZone(C){if(!C)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:C})).format(),!0}catch(P){return!1}}constructor(C){super();
this.zoneName=C;this.valid=Jb.isValidZone(C)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(C,{format:P,locale:Y}){return Ma(C,P,Y,this.name)}formatOffset(C,P){return ha(this.offset(C),P)}offset(C){C=new Date(C);if(isNaN(C))return NaN;var P=this.name;Zb[P]||(Zb[P]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:P,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));P=Zb[P];if(P.formatToParts){P=
P.formatToParts(C);var Y=[];for(let eb=0;eb<P.length;eb++){const {type:hb,value:ob}=P[eb],xb=fd[hb];"era"===hb?Y[xb]=ob:y(xb)||(Y[xb]=parseInt(ob,10))}P=Y}else{P=P.format(C).replace(/\u200E/g,"");P=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(P);const [,eb,hb,ob,xb,yb,Kb,Xb]=P;P=[ob,eb,hb,xb,yb,Kb,Xb]}let [la,ta,Fa,La,Wa,Za,jb]=P;"BC"===La&&(la=-Math.abs(la)+1);P=ca({year:la,month:ta,day:Fa,hour:24===Wa?0:Wa,minute:Za,second:jb,millisecond:0});C=+C;Y=C%1E3;return(P-(C-(0<=Y?Y:1E3+Y)))/6E4}equals(C){return"iana"===
C.type&&C.name===this.name}get isValid(){return this.valid}}let nc={},bc={},cc={},dc={},ac=null,Ec={};class gd{constructor(C,P,Y){this.padTo=Y.padTo||0;this.floor=Y.floor||!1;const {padTo:la,floor:ta,...Fa}=Y;if(!P||0<Object.keys(Fa).length)P={useGrouping:!1,...Y},0<Y.padTo&&(P.minimumIntegerDigits=Y.padTo),this.inf=f(C,P)}format(C){if(this.inf)return this.inf.format(this.floor?Math.floor(C):C);C=this.floor?Math.floor(C):R(C,3);return T(C,this.padTo)}}class hd{constructor(C,P,Y){this.opts=Y;Y=this.originalZone=
void 0;this.opts.timeZone?this.dt=C:"fixed"===C.zone.type?(Y=C.offset/60*-1,Y=0<=Y?`Etc/GMT+${Y}`:`Etc/GMT${Y}`,0!==C.offset&&Jb.create(Y).valid?this.dt=C:(Y="UTC",this.dt=0===C.offset?C:C.setZone("UTC").plus({minutes:C.offset}),this.originalZone=C.zone)):"system"===C.zone.type?this.dt=C:"iana"===C.zone.type?(this.dt=C,Y=C.zone.name):(Y="UTC",this.dt=C.setZone("UTC").plus({minutes:C.offset}),this.originalZone=C.zone);C={...this.opts};C.timeZone=C.timeZone||Y;this.dtf=d(P,C)}format(){return this.originalZone?
this.formatToParts().map(({value:C})=>C).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const C=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?C.map(P=>{if("timeZoneName"===P.type){const Y=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...P,value:Y}}return P}):C}resolvedOptions(){return this.dtf.resolvedOptions()}}class id{constructor(C,P,Y){this.opts={style:"long",...Y};!P&&D()&&(this.rtf=c(C,Y))}format(C,P){return this.rtf?
this.rtf.format(C,P):Q(P,C,this.opts.numeric,"long"!==this.opts.style)}formatToParts(C,P){return this.rtf?this.rtf.formatToParts(C,P):[]}}const jd={firstDay:1,minimalDays:4,weekend:[6,7]};class pb{static fromOpts(C){return pb.create(C.locale,C.numberingSystem,C.outputCalendar,C.weekSettings,C.defaultToEN)}static create(C,P,Y,la,ta=!1){C=C||rb.defaultLocale;var Fa;(Fa=C)||(ta?ta="en-US":(ac||(ac=(new Intl.DateTimeFormat).resolvedOptions().locale),ta=ac),Fa=ta);ta=Fa;P=P||rb.defaultNumberingSystem;
Y=Y||rb.defaultOutputCalendar;la=M(la)||rb.defaultWeekSettings;return new pb(ta,P,Y,la,C)}static resetCache(){ac=null;bc={};cc={};dc={}}static fromObject({locale:C,numberingSystem:P,outputCalendar:Y,weekSettings:la}={}){return pb.create(C,P,Y,la)}constructor(C,P,Y,la,ta){var Fa=C.indexOf("-x-");-1!==Fa&&(C=C.substring(0,Fa));Fa=C.indexOf("-u-");if(-1===Fa)var La=[C];else{try{La=d(C).resolvedOptions();var Wa=C}catch(xb){Wa=C.substring(0,Fa),La=d(Wa).resolvedOptions()}const {numberingSystem:hb,calendar:ob}=
La;La=[Wa,hb,ob]}const [Za,jb,eb]=La;this.locale=Za;this.numberingSystem=P||jb||null;this.outputCalendar=Y||eb||null;this.weekSettings=la;P=this.locale;Y=this.numberingSystem;if((la=this.outputCalendar)||Y)P.includes("-u-")||(P+="-u"),la&&(P+=`-ca-${la}`),Y&&(P+=`-nu-${Y}`);this.intl=P;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=ta;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var C=
this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=C}return this.fastNumbersCached}listingMode(){const C=this.isEnglish(),P=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return C&&P?"en":"intl"}clone(C){return C&&0!==Object.getOwnPropertyNames(C).length?
pb.create(C.locale||this.specifiedLocale,C.numberingSystem||this.numberingSystem,C.outputCalendar||this.outputCalendar,M(C.weekSettings)||this.weekSettings,C.defaultToEN||!1):this}redefaultToEN(C={}){return this.clone({...C,defaultToEN:!0})}redefaultToSystem(C={}){return this.clone({...C,defaultToEN:!1})}months(C,P=!1){return k(this,C,ja,()=>{const Y=P?{month:C,day:"numeric"}:{month:C},la=P?"format":"standalone";this.monthsCache[la][C]||(this.monthsCache[la][C]=q(ta=>this.extract(ta,Y,"month")));
return this.monthsCache[la][C]})}weekdays(C,P=!1){return k(this,C,sa,()=>{const Y=P?{weekday:C,year:"numeric",month:"long",day:"numeric"}:{weekday:C},la=P?"format":"standalone";this.weekdaysCache[la][C]||(this.weekdaysCache[la][C]=n(ta=>this.extract(ta,Y,"weekday")));return this.weekdaysCache[la][C]})}meridiems(){return k(this,void 0,()=>Fc,()=>{if(!this.meridiemCache){const C={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[fb.utc(2016,11,13,9),fb.utc(2016,11,13,19)].map(P=>this.extract(P,C,
"dayperiod"))}return this.meridiemCache})}eras(C){return k(this,C,H,()=>{const P={era:C};this.eraCache[C]||(this.eraCache[C]=[fb.utc(-40,1,1),fb.utc(2017,1,1)].map(Y=>this.extract(Y,P,"era")));return this.eraCache[C]})}extract(C,P,Y){return(C=this.dtFormatter(C,P).formatToParts().find(la=>la.type.toLowerCase()===Y))?C.value:null}numberFormatter(C={}){return new gd(this.intl,C.forceSimple||this.fastNumbers,C)}dtFormatter(C,P={}){return new hd(C,this.intl,P)}relFormatter(C={}){return new id(this.intl,
this.isEnglish(),C)}listFormatter(C={}){return b(this.intl,C)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){if(this.weekSettings)return this.weekSettings;if(E()){var C=this.locale,P=Ec[C];P||(P=new Intl.Locale(C),P="getWeekInfo"in P?P.getWeekInfo():P.weekInfo,Ec[C]=P);return P}return jd}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(C){return this.locale===
C.locale&&this.numberingSystem===C.numberingSystem&&this.outputCalendar===C.outputCalendar}}let kc=null;class Ab extends Ub{static get utcInstance(){null===kc&&(kc=new Ab(0));return kc}static instance(C){return 0===C?Ab.utcInstance:new Ab(C)}static parseSpecifier(C){return C&&(C=C.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Ab(Ga(C[1],C[2])):null}constructor(C){super();this.fixed=C}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ha(this.fixed,"narrow")}`}get ianaName(){return 0===
this.fixed?"Etc/UTC":`Etc/GMT${ha(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(C,P){return ha(this.fixed,P)}get isUniversal(){return!0}offset(){return this.fixed}equals(C){return"fixed"===C.type&&C.fixed===this.fixed}get isValid(){return!0}}class Uc extends Ub{constructor(C){super();this.zoneName=C}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}
let Gc=()=>Date.now(),Hc="system",Ic=null,Jc=null,Kc=null,Lc=60,Mc,Nc=null;class rb{static get now(){return Gc}static set now(C){Gc=C}static set defaultZone(C){Hc=C}static get defaultZone(){return h(Hc,ec.instance)}static get defaultLocale(){return Ic}static set defaultLocale(C){Ic=C}static get defaultNumberingSystem(){return Jc}static set defaultNumberingSystem(C){Jc=C}static get defaultOutputCalendar(){return Kc}static set defaultOutputCalendar(C){Kc=C}static get defaultWeekSettings(){return Nc}static set defaultWeekSettings(C){Nc=
M(C)}static get twoDigitCutoffYear(){return Lc}static set twoDigitCutoffYear(C){Lc=C%100}static get throwOnInvalid(){return Mc}static set throwOnInvalid(C){Mc=C}static resetCaches(){pb.resetCache();Jb.resetCache()}}class Hb{constructor(C,P){this.reason=C;this.explanation=P}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const gc=[0,31,59,90,120,151,181,212,243,273,304,334],fc=[0,31,60,91,121,152,182,213,244,274,305,335],Wc="January February March April May June July August September October November December".split(" "),
oc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Vc="JFMAMJJASOND".split(""),qc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),pc="Mon Tue Wed Thu Fri Sat Sun".split(" "),Xc="MTWTFSS".split(""),Fc=["AM","PM"],$c=["Before Christ","Anno Domini"],Zc=["BC","AD"],Yc=["B","A"],kd={D:Va,DD:$a,DDD:ub,DDDD:Lb,t:Rb,tt:Ib,ttt:Vb,tttt:Cb,T:Sb,TT:Tb,TTT:Mb,TTTT:Wb,f:wc,ff:yc,fff:Ac,ffff:Cc,F:xc,FF:zc,FFF:Bc,FFFF:Dc};class Bb{static create(C,P={}){return new Bb(C,P)}static parseFormat(C){let P=
null,Y="",la=!1;const ta=[];for(let Fa=0;Fa<C.length;Fa++){const La=C.charAt(Fa);"'"===La?(0<Y.length&&ta.push({literal:la||/^\s+$/.test(Y),val:Y}),P=null,Y="",la=!la):la?Y+=La:La===P?Y+=La:(0<Y.length&&ta.push({literal:/^\s+$/.test(Y),val:Y}),P=Y=La)}0<Y.length&&ta.push({literal:la||/^\s+$/.test(Y),val:Y});return ta}static macroTokenToFormatOpts(C){return kd[C]}constructor(C,P){this.opts=P;this.loc=C;this.systemLoc=null}formatWithSystemDefault(C,P){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());
return this.systemLoc.dtFormatter(C,{...this.opts,...P}).format()}dtFormatter(C,P={}){return this.loc.dtFormatter(C,{...this.opts,...P})}formatDateTime(C,P){return this.dtFormatter(C,P).format()}formatDateTimeParts(C,P){return this.dtFormatter(C,P).formatToParts()}formatInterval(C,P){return this.dtFormatter(C.start,P).dtf.formatRange(C.start.toJSDate(),C.end.toJSDate())}resolvedOptions(C,P){return this.dtFormatter(C,P).resolvedOptions()}num(C,P=0){if(this.opts.forceSimple)return T(C,P);const Y={...this.opts};
0<P&&(Y.padTo=P);return this.loc.numberFormatter(Y).format(C)}formatDateTimeFromString(C,P){const Y="en"===this.loc.listingMode(),la=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,ta=(eb,hb)=>this.loc.extract(C,eb,hb),Fa=eb=>C.isOffsetFixed&&0===C.offset&&eb.allowZ?"Z":C.isValid?C.zone.formatOffset(C.ts,eb.format):"",La=(eb,hb)=>Y?ja(eb)[C.month-1]:ta(hb?{month:eb}:{month:eb,day:"numeric"},"month"),Wa=(eb,hb)=>Y?sa(eb)[C.weekday-1]:ta(hb?{weekday:eb}:{weekday:eb,month:"long",day:"numeric"},
"weekday"),Za=eb=>{const hb=Bb.macroTokenToFormatOpts(eb);return hb?this.formatWithSystemDefault(C,hb):eb},jb=eb=>Y?H(eb)[0>C.year?0:1]:ta({era:eb},"era");return fa(Bb.parseFormat(P),eb=>{switch(eb){case "S":return this.num(C.millisecond);case "u":case "SSS":return this.num(C.millisecond,3);case "s":return this.num(C.second);case "ss":return this.num(C.second,2);case "uu":return this.num(Math.floor(C.millisecond/10),2);case "uuu":return this.num(Math.floor(C.millisecond/100));case "m":return this.num(C.minute);
case "mm":return this.num(C.minute,2);case "h":return this.num(0===C.hour%12?12:C.hour%12);case "hh":return this.num(0===C.hour%12?12:C.hour%12,2);case "H":return this.num(C.hour);case "HH":return this.num(C.hour,2);case "Z":return Fa({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return Fa({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return Fa({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return C.zone.offsetName(C.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return C.zone.offsetName(C.ts,
{format:"long",locale:this.loc.locale});case "z":return C.zoneName;case "a":return Y?Fc[12>C.hour?0:1]:ta({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return la?ta({day:"numeric"},"day"):this.num(C.day);case "dd":return la?ta({day:"2-digit"},"day"):this.num(C.day,2);case "c":return this.num(C.weekday);case "ccc":return Wa("short",!0);case "cccc":return Wa("long",!0);case "ccccc":return Wa("narrow",!0);case "E":return this.num(C.weekday);case "EEE":return Wa("short",!1);case "EEEE":return Wa("long",
!1);case "EEEEE":return Wa("narrow",!1);case "L":return la?ta({month:"numeric",day:"numeric"},"month"):this.num(C.month);case "LL":return la?ta({month:"2-digit",day:"numeric"},"month"):this.num(C.month,2);case "LLL":return La("short",!0);case "LLLL":return La("long",!0);case "LLLLL":return La("narrow",!0);case "M":return la?ta({month:"numeric"},"month"):this.num(C.month);case "MM":return la?ta({month:"2-digit"},"month"):this.num(C.month,2);case "MMM":return La("short",!1);case "MMMM":return La("long",
!1);case "MMMMM":return La("narrow",!1);case "y":return la?ta({year:"numeric"},"year"):this.num(C.year);case "yy":return la?ta({year:"2-digit"},"year"):this.num(C.year.toString().slice(-2),2);case "yyyy":return la?ta({year:"numeric"},"year"):this.num(C.year,4);case "yyyyyy":return la?ta({year:"numeric"},"year"):this.num(C.year,6);case "G":return jb("short");case "GG":return jb("long");case "GGGGG":return jb("narrow");case "kk":return this.num(C.weekYear.toString().slice(-2),2);case "kkkk":return this.num(C.weekYear,
4);case "W":return this.num(C.weekNumber);case "WW":return this.num(C.weekNumber,2);case "n":return this.num(C.localWeekNumber);case "nn":return this.num(C.localWeekNumber,2);case "ii":return this.num(C.localWeekYear.toString().slice(-2),2);case "iiii":return this.num(C.localWeekYear,4);case "o":return this.num(C.ordinal);case "ooo":return this.num(C.ordinal,3);case "q":return this.num(C.quarter);case "qq":return this.num(C.quarter,2);case "X":return this.num(Math.floor(C.ts/1E3));case "x":return this.num(C.ts);
default:return Za(eb)}})}formatDurationFromString(C,P){const Y=ta=>{switch(ta[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};P=Bb.parseFormat(P);const la=P.reduce((ta,{literal:Fa,val:La})=>Fa?ta:ta.concat(La),[]);C=C.shiftTo(...la.map(Y).filter(ta=>ta));return fa(P,(ta=>Fa=>{const La=Y(Fa);return La?this.num(ta.get(La),Fa.length):Fa})(C))}}
const Oc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Pc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,lc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Qc=RegExp(`${lc.source}${`(?:${Pc.source}?(?:\\[(${Oc.source})\\])?)?`}`),mc=RegExp(`(?:T${Qc.source})?`),ld=ea("weekYear","weekNumber","weekDay"),md=ea("year","ordinal"),Rc=RegExp(`${lc.source} ?(?:${Pc.source}|(${Oc.source}))?`),nd=RegExp(`(?: ${Rc.source})?`),od=RegExp(`^T?${lc.source}$`),pd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,
ad={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},qd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,rd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,sd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
td=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ud=ka(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,mc),vd=ka(/(\d{4})-?W(\d\d)(?:-?(\d))?/,mc),wd=ka(/(\d{4})-?(\d{3})/,mc),xd=ka(Qc),Sc=za(function(C,P){return[{year:ia(C,P),month:ia(C,P+1,1),day:ia(C,P+2,1)},null,P+3]},I,S,X),yd=za(ld,I,S,X),zd=za(md,I,S,X),Ad=za(I,S,X),Bd=za(I),Cd=ka(/(\d{4})-(\d\d)-(\d\d)/,nd),Dd=ka(Rc),Ed=za(I,S,X),Tc={weeks:{days:7,hours:168,minutes:10080,
seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},Fd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},
...Tc},Gd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Tc},Qb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),bd=Qb.slice(0).reverse();class kb{constructor(C){const P=
"longterm"===C.conversionAccuracy||!1;let Y=P?Gd:Fd;C.matrix&&(Y=C.matrix);this.values=C.values;this.loc=C.loc||pb.create();this.conversionAccuracy=P?"longterm":"casual";this.invalid=C.invalid||null;this.matrix=Y;this.isLuxonDuration=!0}static fromMillis(C,P){return kb.fromObject({milliseconds:C},P)}static fromObject(C,P={}){if(null==C||"object"!==typeof C)throw new Ia(`Duration.fromObject: argument expected to be an object, got ${null===C?"null":typeof C}`);return new kb({values:qa(C,kb.normalizeUnit),
loc:pb.fromObject(P),conversionAccuracy:P.conversionAccuracy,matrix:P.matrix})}static fromDurationLike(C){if(B(C))return kb.fromMillis(C);if(kb.isDuration(C))return C;if("object"===typeof C)return kb.fromObject(C);throw new Ia(`Unknown duration argument ${C} of type ${typeof C}`);}static fromISO(C,P){const [Y]=W(C,[pd,na]);return Y?kb.fromObject(Y,P):kb.invalid("unparsable",`the input "${C}" can't be parsed as ISO 8601`)}static fromISOTime(C,P){const [Y]=W(C,[od,Bd]);return Y?kb.fromObject(Y,P):kb.invalid("unparsable",
`the input "${C}" can't be parsed as ISO 8601`)}static invalid(C,P=null){if(!C)throw new Ia("need to specify a reason the Duration is invalid");C=C instanceof Hb?C:new Hb(C,P);if(rb.throwOnInvalid)throw new Ba(C);return new kb({invalid:C})}static normalizeUnit(C){const P={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",
millisecond:"milliseconds",milliseconds:"milliseconds"}[C?C.toLowerCase():C];if(!P)throw new wa(C);return P}static isDuration(C){return C&&C.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(C,P={}){P={...P,floor:!1!==P.round&&!1!==P.floor};return this.isValid?Bb.create(this.loc,P).formatDurationFromString(this,C):"Invalid Duration"}toHuman(C={}){if(!this.isValid)return"Invalid Duration";const P=
Qb.map(Y=>{const la=this.values[Y];return y(la)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...C,unit:Y.slice(0,-1)}).format(la)}).filter(Y=>Y);return this.loc.listFormatter({type:"conjunction",style:C.listStyle||"narrow",...C}).format(P)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let C="P";0!==this.years&&(C+=this.years+"Y");if(0!==this.months||0!==this.quarters)C+=this.months+3*this.quarters+"M";0!==this.weeks&&(C+=this.weeks+"W");
0!==this.days&&(C+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)C+="T";0!==this.hours&&(C+=this.hours+"H");0!==this.minutes&&(C+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)C+=R(this.seconds+this.milliseconds/1E3,3)+"S";"P"===C&&(C+="T0S");return C}toISOTime(C={}){if(!this.isValid)return null;const P=this.toMillis();if(0>P||864E5<=P)return null;C={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...C,includeOffset:!1};
return fb.fromMillis(P,{zone:"UTC"}).toISOTime(C)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Ca(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(C){if(!this.isValid)return this;C=kb.fromDurationLike(C);const P={};for(const Y of Qb)if(G(C.values,Y)||G(this.values,
Y))P[Y]=C.get(Y)+this.get(Y);return ra(this,{values:P},!0)}minus(C){if(!this.isValid)return this;C=kb.fromDurationLike(C);return this.plus(C.negate())}mapUnits(C){if(!this.isValid)return this;const P={};for(const Y of Object.keys(this.values))P[Y]=Qa(C(this.values[Y],Y));return ra(this,{values:P},!0)}get(C){return this[kb.normalizeUnit(C)]}set(C){if(!this.isValid)return this;C={...this.values,...qa(C,kb.normalizeUnit)};return ra(this,{values:C})}reconfigure({locale:C,numberingSystem:P,conversionAccuracy:Y,
matrix:la}={}){C={loc:this.loc.clone({locale:C,numberingSystem:P}),matrix:la,conversionAccuracy:Y};return ra(this,C)}as(C){return this.isValid?this.shiftTo(C).get(C):NaN}normalize(){if(!this.isValid)return this;const C=this.toObject();Da(this.matrix,C);return ra(this,{values:C},!0)}rescale(){if(!this.isValid)return this;var C=this.normalize().shiftToAll().toObject();const P={};for(const [Y,la]of Object.entries(C))0!==la&&(P[Y]=la);return ra(this,{values:P},!0)}shiftTo(...C){if(!this.isValid||0===
C.length)return this;C=C.map(Fa=>kb.normalizeUnit(Fa));const P={},Y={},la=this.toObject();let ta;for(const Fa of Qb)if(0<=C.indexOf(Fa)){ta=Fa;let La=0;for(const Za in Y)La+=this.matrix[Za][Fa]*Y[Za],Y[Za]=0;B(la[Fa])&&(La+=la[Fa]);const Wa=Math.trunc(La);P[Fa]=Wa;Y[Fa]=(1E3*La-1E3*Wa)/1E3}else B(la[Fa])&&(Y[Fa]=la[Fa]);for(const Fa in Y)0!==Y[Fa]&&(P[ta]+=Fa===ta?Y[Fa]:Y[Fa]/this.matrix[ta][Fa]);Da(this.matrix,P);return ra(this,{values:P},!0)}shiftToAll(){return this.isValid?this.shiftTo("years",
"months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const C={};for(const P of Object.keys(this.values))C[P]=0===this.values[P]?0:-this.values[P];return ra(this,{values:C},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?
this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(C){if(!this.isValid||!C.isValid||!this.loc.equals(C.loc))return!1;
for(const la of Qb){var P=this.values[la];var Y=C.values[la];P=void 0===P||0===P?void 0===Y||0===Y:P===Y;if(!P)return!1}return!0}}class qb{constructor(C){this.s=C.start;this.e=C.end;this.invalid=C.invalid||null;this.isLuxonInterval=!0}static invalid(C,P=null){if(!C)throw new Ia("need to specify a reason the Interval is invalid");C=C instanceof Hb?C:new Hb(C,P);if(rb.throwOnInvalid)throw new ab(C);return new qb({invalid:C})}static fromDateTimes(C,P){C=vb(C);P=vb(P);var Y=C&&C.isValid?P&&P.isValid?
P<C?qb.invalid("end before start",`The end of an interval must be after its start, but you had start=${C.toISO()} and end=${P.toISO()}`):null:qb.invalid("missing or invalid end"):qb.invalid("missing or invalid start");return null==Y?new qb({start:C,end:P}):Y}static after(C,P){P=kb.fromDurationLike(P);C=vb(C);return qb.fromDateTimes(C,C.plus(P))}static before(C,P){P=kb.fromDurationLike(P);C=vb(C);return qb.fromDateTimes(C.minus(P),C)}static fromISO(C,P){const [Y,la]=(C||"").split("/",2);if(Y&&la){let La;
try{var ta=fb.fromISO(Y,P);La=ta.isValid}catch(Za){La=!1}let Wa;try{var Fa=fb.fromISO(la,P);Wa=Fa.isValid}catch(Za){Wa=!1}if(La&&Wa)return qb.fromDateTimes(ta,Fa);if(La){if(Fa=kb.fromISO(la,P),Fa.isValid)return qb.after(ta,Fa)}else if(Wa&&(ta=kb.fromISO(Y,P),ta.isValid))return qb.before(Fa,ta)}return qb.invalid("unparsable",`the input "${C}" can't be parsed as ISO 8601`)}static isInterval(C){return C&&C.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?
this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(C="milliseconds"){return this.isValid?this.toDuration(...[C]).get(C):NaN}count(C="milliseconds",P){if(!this.isValid)return NaN;const Y=this.start.startOf(C,P);let la;la=P?.useLocaleWeeks?this.end.reconfigure({locale:Y.locale}):this.end;la=la.startOf(C,P);return Math.floor(la.diff(Y,C).get(C))+(la.valueOf()!==
this.end.valueOf())}hasSame(C){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,C):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(C){return this.isValid?this.s>C:!1}isBefore(C){return this.isValid?this.e<=C:!1}contains(C){return this.isValid?this.s<=C&&this.e>C:!1}set({start:C,end:P}={}){return this.isValid?qb.fromDateTimes(C||this.s,P||this.e):this}splitAt(...C){if(!this.isValid)return[];C=C.map(vb).filter(Fa=>this.contains(Fa)).sort((Fa,La)=>Fa.toMillis()-La.toMillis());
const P=[];let {s:Y}=this,la=0;for(;Y<this.e;){var ta=C[la]||this.e;ta=+ta>+this.e?this.e:ta;P.push(qb.fromDateTimes(Y,ta));Y=ta;la+=1}return P}splitBy(C){C=kb.fromDurationLike(C);if(!this.isValid||!C.isValid||0===C.as("milliseconds"))return[];let {s:P}=this,Y=1;const la=[];for(;P<this.e;){var ta=this.start.plus(C.mapUnits(Fa=>Fa*Y));ta=+ta>+this.e?this.e:ta;la.push(qb.fromDateTimes(P,ta));P=ta;Y+=1}return la}divideEqually(C){return this.isValid?this.splitBy(this.length()/C).slice(0,C):[]}overlaps(C){return this.e>
C.s&&this.s<C.e}abutsStart(C){return this.isValid?+this.e===+C.s:!1}abutsEnd(C){return this.isValid?+C.e===+this.s:!1}engulfs(C){return this.isValid?this.s<=C.s&&this.e>=C.e:!1}equals(C){return this.isValid&&C.isValid?this.s.equals(C.s)&&this.e.equals(C.e):!1}intersection(C){if(!this.isValid)return this;const P=this.s>C.s?this.s:C.s;C=this.e<C.e?this.e:C.e;return P>=C?null:qb.fromDateTimes(P,C)}union(C){return this.isValid?qb.fromDateTimes(this.s<C.s?this.s:C.s,this.e>C.e?this.e:C.e):this}static merge(C){const [P,
Y]=C.sort((la,ta)=>la.s-ta.s).reduce(([la,ta],Fa)=>ta?ta.overlaps(Fa)||ta.abutsStart(Fa)?[la,ta.union(Fa)]:[la.concat([ta]),Fa]:[la,Fa],[[],null]);Y&&P.push(Y);return P}static xor(C){let P=null,Y=0;const la=[];C=C.map(ta=>[{time:ta.s,type:"s"},{time:ta.e,type:"e"}]);C=Array.prototype.concat(...C).sort((ta,Fa)=>ta.time-Fa.time);for(const ta of C)Y+="s"===ta.type?1:-1,1===Y?P=ta.time:(P&&+P!==+ta.time&&la.push(qb.fromDateTimes(P,ta.time)),P=null);return qb.merge(la)}difference(...C){return qb.xor([this].concat(C)).map(P=>
this.intersection(P)).filter(P=>P&&!P.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(C=Va,P={}){return this.isValid?Bb.create(this.s.loc.clone(P),C).formatInterval(this):"Invalid Interval"}toISO(C){return this.isValid?`${this.s.toISO(C)}/${this.e.toISO(C)}`:
"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(C){return this.isValid?`${this.s.toISOTime(C)}/${this.e.toISOTime(C)}`:"Invalid Interval"}toFormat(C,{separator:P=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(C)}${P}${this.e.toFormat(C)}`:"Invalid Interval"}toDuration(C,P){return this.isValid?this.e.diff(this.s,C,P):kb.invalid(this.invalidReason)}mapEndpoints(C){return qb.fromDateTimes(C(this.s),C(this.e))}}class Yb{static hasDST(C=
rb.defaultZone){const P=fb.now().setZone(C).set({month:12});return!C.isUniversal&&P.offset!==P.set({month:6}).offset}static isValidIANAZone(C){return Jb.isValidZone(C)}static normalizeZone(C){return h(C,rb.defaultZone)}static getStartOfWeek({locale:C=null,locObj:P=null}={}){return(P||pb.create(C)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:C=null,locObj:P=null}={}){return(P||pb.create(C)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:C=null,locObj:P=null}={}){return(P||
pb.create(C)).getWeekendDays().slice()}static months(C="long",{locale:P=null,numberingSystem:Y=null,locObj:la=null,outputCalendar:ta="gregory"}={}){return(la||pb.create(P,Y,ta)).months(C)}static monthsFormat(C="long",{locale:P=null,numberingSystem:Y=null,locObj:la=null,outputCalendar:ta="gregory"}={}){return(la||pb.create(P,Y,ta)).months(C,!0)}static weekdays(C="long",{locale:P=null,numberingSystem:Y=null,locObj:la=null}={}){return(la||pb.create(P,Y,null)).weekdays(C)}static weekdaysFormat(C="long",
{locale:P=null,numberingSystem:Y=null,locObj:la=null}={}){return(la||pb.create(P,Y,null)).weekdays(C,!0)}static meridiems({locale:C=null}={}){return pb.create(C).meridiems()}static eras(C="short",{locale:P=null}={}){return pb.create(P,null,"gregory").eras(C)}static features(){return{relative:D(),localeWeek:E()}}}const hc={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",
khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},rc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,
3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},cd=hc.hanidec.replace(/[\[|\]]/g,"").split(""),sc=`[ ${String.fromCharCode(160)}]`,ic=new RegExp(sc,"g"),dd={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},
minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let tc=null;const vc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Hd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Id={ordinal:1,hour:0,minute:0,second:0,millisecond:0},uc="year month day hour minute second millisecond".split(" "),Jd="weekYear weekNumber weekday hour minute second millisecond".split(" "),Kd="year ordinal hour minute second millisecond".split(" ");
class fb{constructor(C){const P=C.zone||rb.defaultZone;let Y=C.invalid||(Number.isNaN(C.ts)?new Hb("invalid input"):null)||(P.isValid?null:cb(P));this.ts=y(C.ts)?rb.now():C.ts;let la=null;var ta=null;Y||(C.old&&C.old.ts===this.ts&&C.old.zone.equals(P)?[la,ta]=[C.old.c,C.old.o]:(ta=P.offset(this.ts),la=tb(this.ts,ta),la=(Y=Number.isNaN(la.year)?new Hb("invalid input"):null)?null:la,ta=Y?null:ta));this._zone=P;this.loc=C.loc||pb.create();this.invalid=Y;this.localWeekData=this.weekData=null;this.c=la;
this.o=ta;this.isLuxonDateTime=!0}static now(){return new fb({})}static local(){const [C,P]=Gb(arguments),[Y,la,ta,Fa,La,Wa,Za]=P;return Ha({year:Y,month:la,day:ta,hour:Fa,minute:La,second:Wa,millisecond:Za},C)}static utc(){const [C,P]=Gb(arguments),[Y,la,ta,Fa,La,Wa,Za]=P;C.zone=Ab.utcInstance;return Ha({year:Y,month:la,day:ta,hour:Fa,minute:La,second:Wa,millisecond:Za},C)}static fromJSDate(C,P={}){C="[object Date]"===Object.prototype.toString.call(C)?C.valueOf():NaN;if(Number.isNaN(C))return fb.invalid("invalid input");
const Y=h(P.zone,rb.defaultZone);return Y.isValid?new fb({ts:C,zone:Y,loc:pb.fromObject(P)}):fb.invalid(cb(Y))}static fromMillis(C,P={}){if(B(C))return-864E13>C||864E13<C?fb.invalid("Timestamp out of range"):new fb({ts:C,zone:h(P.zone,rb.defaultZone),loc:pb.fromObject(P)});throw new Ia(`fromMillis requires a numerical input, but received a ${typeof C} with value ${C}`);}static fromSeconds(C,P={}){if(B(C))return new fb({ts:1E3*C,zone:h(P.zone,rb.defaultZone),loc:pb.fromObject(P)});throw new Ia("fromSeconds requires a numerical input");
}static fromObject(C,P={}){C=C||{};var Y=h(P.zone,rb.defaultZone);if(!Y.isValid)return fb.invalid(cb(Y));const la=pb.fromObject(P),ta=qa(C,Ob),{minDaysInFirstWeek:Fa,startOfWeek:La}=u(ta,la);var Wa=rb.now();P=y(P.specificOffset)?Y.offset(Wa):P.specificOffset;var Za=!y(ta.ordinal),jb=!y(ta.year),eb=!y(ta.month)||!y(ta.day);jb=jb||eb;var hb=ta.weekYear||ta.weekNumber;if((jb||Za)&&hb)throw new Z("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(eb&&Za)throw new Z("Can't mix ordinal dates with month/day");
eb=hb||ta.weekday&&!jb;let ob=tb(Wa,P);eb?(Wa=Jd,hb=Hd,ob=e(ob,Fa,La)):Za?(Wa=Kd,hb=Id,ob=p(ob)):(Wa=uc,hb=vc);let xb=!1;for(var yb of Wa)y(ta[yb])?ta[yb]=xb?hb[yb]:ob[yb]:xb=!0;eb?yb=x(ta,Fa,La):Za?(yb=A(ta.year),Wa=L(ta.ordinal,1,V(ta.year)?366:365),yb=yb?Wa?!1:l("ordinal",ta.ordinal):l("year",ta.year)):yb=z(ta);if(yb=yb||t(ta))return fb.invalid(yb);Za=eb?g(ta,Fa,La):Za?v(ta):ta;const [Kb,Xb]=Fb(Za,P,Y);Y=new fb({ts:Kb,zone:Y,o:Xb,loc:la});return ta.weekday&&jb&&C.weekday!==Y.weekday?fb.invalid("mismatched weekday",
`you can't specify both a weekday of ${ta.weekday} and a date of ${Y.toISO()}`):Y}static fromISO(C,P={}){const [Y,la]=W(C,[ud,Sc],[vd,yd],[wd,zd],[xd,Ad]);return zb(Y,la,P,"ISO 8601",C)}static fromRFC2822(C,P={}){const [Y,la]=W(C.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[qd,Ea]);return zb(Y,la,P,"RFC 2822",C)}static fromHTTP(C,P={}){const [Y,la]=W(C,[rd,da],[sd,da],[td,pa]);return zb(Y,la,P,"HTTP",P)}static fromFormat(C,P,Y={}){if(y(C)||y(P))throw new Ia("fromFormat requires an input string and a format");
const {locale:la=null,numberingSystem:ta=null}=Y,Fa=pb.fromOpts({locale:la,numberingSystem:ta,defaultToEN:!0}),{result:La,zone:Wa,specificOffset:Za,invalidReason:jb}=db(Fa,C,P),[eb,hb,ob,xb]=[La,Wa,Za,jb];return xb?fb.invalid(xb):zb(eb,hb,Y,`format ${P}`,C,ob)}static fromString(C,P,Y={}){return fb.fromFormat(C,P,Y)}static fromSQL(C,P={}){const [Y,la]=W(C,[Cd,Sc],[Dd,Ed]);return zb(Y,la,P,"SQL",C)}static invalid(C,P=null){if(!C)throw new Ia("need to specify a reason the DateTime is invalid");C=C instanceof
Hb?C:new Hb(C,P);if(rb.throwOnInvalid)throw new bb(C);return new fb({invalid:C})}static isDateTime(C){return C&&C.isLuxonDateTime||!1}static parseFormatForOpts(C,P={}){return(C=Ya(C,pb.fromObject(P)))?C.map(Y=>Y?Y.val:null).join(""):null}static expandFormat(C,P={}){return Ua(Bb.parseFormat(C),pb.fromObject(P)).map(Y=>Y.val).join("")}get(C){return this[C]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?
this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:
NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ib(this).weekYear:NaN}get weekNumber(){return this.isValid?ib(this).weekNumber:NaN}get weekday(){return this.isValid?ib(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?
nb(this).weekday:NaN}get localWeekNumber(){return this.isValid?nb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?nb(this).weekYear:NaN}get ordinal(){return this.isValid?p(this.c).ordinal:NaN}get monthShort(){return this.isValid?Yb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Yb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Yb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?
Yb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||
this.isOffsetFixed)return[this];var C=ca(this.c),P=this.zone.offset(C-864E5),Y=this.zone.offset(C+864E5);P=this.zone.offset(C-6E4*P);var la=this.zone.offset(C-6E4*Y);if(P===la)return[this];Y=C-6E4*P;C-=6E4*la;P=tb(Y,P);la=tb(C,la);return P.hour===la.hour&&P.minute===la.minute&&P.second===la.second&&P.millisecond===la.millisecond?[lb(this,{ts:Y}),lb(this,{ts:C})]:[this]}get isInLeapYear(){return V(this.year)}get daysInMonth(){return ma(this.year,this.month)}get daysInYear(){return this.isValid?V(this.year)?
366:365:NaN}get weeksInWeekYear(){return this.isValid?ua(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ua(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(C={}){const {locale:P,numberingSystem:Y,calendar:la}=Bb.create(this.loc.clone(C),C).resolvedOptions(this);return{locale:P,numberingSystem:Y,outputCalendar:la}}toUTC(C=0,P={}){return this.setZone(Ab.instance(C),P)}toLocal(){return this.setZone(rb.defaultZone)}setZone(C,{keepLocalTime:P=
!1,keepCalendarTime:Y=!1}={}){C=h(C,rb.defaultZone);if(C.equals(this.zone))return this;if(C.isValid){let la=this.ts;if(P||Y)P=C.offset(this.ts),Y=this.toObject(),[la]=Fb(Y,P,C);return lb(this,{ts:la,zone:C})}return fb.invalid(cb(C))}reconfigure({locale:C,numberingSystem:P,outputCalendar:Y}={}){C=this.loc.clone({locale:C,numberingSystem:P,outputCalendar:Y});return lb(this,{loc:C})}setLocale(C){return this.reconfigure({locale:C})}set(C){if(!this.isValid)return this;C=qa(C,Ob);const {minDaysInFirstWeek:P,
startOfWeek:Y}=u(C,this.loc);var la=!y(C.weekYear)||!y(C.weekNumber)||!y(C.weekday);const ta=!y(C.ordinal),Fa=!y(C.year),La=!y(C.month)||!y(C.day),Wa=C.weekYear||C.weekNumber;if((Fa||La||ta)&&Wa)throw new Z("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(La&&ta)throw new Z("Can't mix ordinal dates with month/day");la?la=g({...e(this.c,P,Y),...C},P,Y):y(C.ordinal)?(la={...this.toObject(),...C},y(C.day)&&(la.day=Math.min(ma(la.year,la.month),la.day))):la=v({...p(this.c),...C});
const [Za,jb]=Fb(la,this.o,this.zone);return lb(this,{ts:Za,o:jb})}plus(C){if(!this.isValid)return this;C=kb.fromDurationLike(C);return lb(this,Nb(this,C))}minus(C){if(!this.isValid)return this;C=kb.fromDurationLike(C).negate();return lb(this,Nb(this,C))}startOf(C,{useLocaleWeeks:P=!1}={}){if(!this.isValid)return this;const Y={};C=kb.normalizeUnit(C);switch(C){case "years":Y.month=1;case "quarters":case "months":Y.day=1;case "weeks":case "days":Y.hour=0;case "hours":Y.minute=0;case "minutes":Y.second=
0;case "seconds":Y.millisecond=0}if("weeks"===C)if(P){P=this.loc.getStartOfWeek();const {weekday:la}=this;la<P&&(Y.weekNumber=this.weekNumber-1);Y.weekday=P}else Y.weekday=1;"quarters"===C&&(Y.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(Y)}endOf(C,P){return this.isValid?this.plus({[C]:1}).startOf(C,P).minus(1):this}toFormat(C,P={}){return this.isValid?Bb.create(this.loc.redefaultToEN(P)).formatDateTimeFromString(this,C):"Invalid DateTime"}toLocaleString(C=Va,P={}){return this.isValid?Bb.create(this.loc.clone(P),
C).formatDateTime(this):"Invalid DateTime"}toLocaleParts(C={}){return this.isValid?Bb.create(this.loc.clone(C),C).formatDateTimeParts(this):[]}toISO({format:C="extended",suppressSeconds:P=!1,suppressMilliseconds:Y=!1,includeOffset:la=!0,extendedZone:ta=!1}={}){if(!this.isValid)return null;C="extended"===C;let Fa=wb(this,C);return Fa=Fa+"T"+Pb(this,C,P,Y,la,ta)}toISODate({format:C="extended"}={}){return this.isValid?wb(this,"extended"===C):null}toISOWeekDate(){return Eb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:C=
!1,suppressSeconds:P=!1,includeOffset:Y=!0,includePrefix:la=!1,extendedZone:ta=!1,format:Fa="extended"}={}){return this.isValid?(la?"T":"")+Pb(this,"extended"===Fa,P,C,Y,ta):null}toRFC2822(){return Eb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Eb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?wb(this,!0):null}toSQLTime({includeOffset:C=!0,includeZone:P=!1,includeOffsetSpace:Y=!0}={}){let la="HH:mm:ss.SSS";if(P||C)Y&&(la+=" "),P?la+="z":C&&(la+="ZZ");
return Eb(this,la,!0)}toSQL(C={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(C)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?
Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(C={}){if(!this.isValid)return{};const P={...this.c};C.includeConfig&&(P.outputCalendar=this.outputCalendar,P.numberingSystem=this.loc.numberingSystem,P.locale=this.loc.locale);return P}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(C,P="milliseconds",Y={}){if(!this.isValid||!C.isValid)return kb.invalid("created by diffing an invalid DateTime");Y={locale:this.locale,numberingSystem:this.numberingSystem,
...Y};const la=(Array.isArray(P)?P:[P]).map(kb.normalizeUnit);P=C.valueOf()>this.valueOf();C=Pa(P?this:C,P?C:this,la,Y);return P?C.negate():C}diffNow(C="milliseconds",P={}){return this.diff(fb.now(),C,P)}until(C){return this.isValid?qb.fromDateTimes(this,C):this}hasSame(C,P,Y){if(!this.isValid)return!1;const la=C.valueOf();C=this.setZone(C.zone,{keepLocalTime:!0});return C.startOf(P,Y)<=la&&la<=C.endOf(P,Y)}equals(C){return this.isValid&&C.isValid&&this.valueOf()===C.valueOf()&&this.zone.equals(C.zone)&&
this.loc.equals(C.loc)}toRelative(C={}){if(!this.isValid)return null;const P=C.base||fb.fromObject({},{zone:this.zone}),Y=C.padding?this<P?-C.padding:C.padding:0;let la="years months days hours minutes seconds".split(" "),ta=C.unit;Array.isArray(C.unit)&&(la=C.unit,ta=void 0);return mb(P,this.plus(Y),{...C,numeric:"always",units:la,unit:ta})}toRelativeCalendar(C={}){return this.isValid?mb(C.base||fb.fromObject({},{zone:this.zone}),this,{...C,numeric:"auto",units:["years","months","days"],calendary:!0}):
null}static min(...C){if(!C.every(fb.isDateTime))throw new Ia("min requires all arguments be DateTimes");return J(C,P=>P.valueOf(),Math.min)}static max(...C){if(!C.every(fb.isDateTime))throw new Ia("max requires all arguments be DateTimes");return J(C,P=>P.valueOf(),Math.max)}static fromFormatExplain(C,P,Y={}){const {locale:la=null,numberingSystem:ta=null}=Y;Y=pb.fromOpts({locale:la,numberingSystem:ta,defaultToEN:!0});return db(Y,C,P)}static fromStringExplain(C,P,Y={}){return fb.fromFormatExplain(C,
P,Y)}static get DATE_SHORT(){return Va}static get DATE_MED(){return $a}static get DATE_MED_WITH_WEEKDAY(){return gb}static get DATE_FULL(){return ub}static get DATE_HUGE(){return Lb}static get TIME_SIMPLE(){return Rb}static get TIME_WITH_SECONDS(){return Ib}static get TIME_WITH_SHORT_OFFSET(){return Vb}static get TIME_WITH_LONG_OFFSET(){return Cb}static get TIME_24_SIMPLE(){return Sb}static get TIME_24_WITH_SECONDS(){return Tb}static get TIME_24_WITH_SHORT_OFFSET(){return Mb}static get TIME_24_WITH_LONG_OFFSET(){return Wb}static get DATETIME_SHORT(){return wc}static get DATETIME_SHORT_WITH_SECONDS(){return xc}static get DATETIME_MED(){return yc}static get DATETIME_MED_WITH_SECONDS(){return zc}static get DATETIME_MED_WITH_WEEKDAY(){return ed}static get DATETIME_FULL(){return Ac}static get DATETIME_FULL_WITH_SECONDS(){return Bc}static get DATETIME_HUGE(){return Cc}static get DATETIME_HUGE_WITH_SECONDS(){return Dc}}
a.DateTime=fb;a.Duration=kb;a.FixedOffsetZone=Ab;a.IANAZone=Jb;a.Info=Yb;a.Interval=qb;a.Zone=Ub})},"esri/support/timeUtils":function(){define("exports ../TimeExtent ../core/arrayUtils ../core/lang ../core/timeUtils ../webmap/utils".split(" "),function(a,b,d,f,c,q){function n(m){return void 0!==m.timeInfo}async function k(m,w){const {fullTimeExtent:r}=m.widgets?.timeSlider??{};return r?r:h(m.allLayers,w)}async function h(m,w){if(0===m.length)return b.allTime;const r=m.filter(n);await Promise.all(r.map(p=>
p.load({signal:w})));m=[];var e=[];for(var g of r)"feature"!==g?.type&&"map-image"!==g?.type||!g.timeInfo?.hasLiveData?e.push(g):m.push(g);g=p=>null==p||p.isAllTime;e=e.map(p=>p.timeInfo?.fullTimeExtent);if(e.some(g))return b.allTime;m=m.map(async p=>{const {timeExtent:v}=await p.fetchRecomputedExtents({signal:w});return v?v:p.timeInfo?.fullTimeExtent});m=(await Promise.allSettled(m)).map(p=>"fulfilled"===p.status?p.value:null);return m.some(g)?b.allTime:[...m,...e].filter(d.isSome).reduce((p,v)=>
p.union(v))}function l(m,w){m=m.currentTimeExtent;if(!m)return null;const {start:r,end:e}=m;m=r??e??null;switch(w){case "time-window":return new b({start:r,end:e});case "cumulative-from-start":return new b({start:null,end:m});case "cumulative-from-end":return new b({start:m,end:null});case "instant":return new b({start:m,end:m})}}a.getTimeExtentFromLayers=h;a.getTimeSliderSettingsFromWebMap=async function(m,w){if(null==m||!q.isWebMap(m))return null;await m.load({signal:w});var r=m?.widgets?.timeSlider;
if(!r)return null;m=await k(m,w);w=r.loop;var e=r.numThumbs??2;var g=r.currentTimeExtent;if(g){const {start:v,end:u}=g;e=null!=v&&null!=u&&v.getTime()===u.getTime()?"instant":2===e?"time-window":null==v||0===v.getTime()?"cumulative-from-start":"cumulative-from-end"}else e=2===e?"time-window":"cumulative-from-start";g=r.stopDelay??2E3;{const {numStops:v,stopInterval:u,stops:x}=r;var p=x?{dates:f.clone(x)}:u?{interval:u.clone()}:{count:v??5}}r=l(r,e);return{fullTimeExtent:m,loop:w,mode:e,playRate:g,
stops:p,timeExtent:r}};a.toLocalTimeExtent=function(m){if(!m)return m;const {start:w,end:r}=m;return new b({start:null!=w?c.offsetDate(w,w.getTimezoneOffset(),"minutes"):w,end:null!=r?c.offsetDate(r,r.getTimezoneOffset(),"minutes"):r})};a.toUTCTimeExtent=function(m){if(!m)return m;const {start:w,end:r}=m;return new b({start:null!=w?c.offsetDate(w,-w.getTimezoneOffset(),"minutes"):w,end:null!=r?c.offsetDate(r,-r.getTimezoneOffset(),"minutes"):r})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/webmap/utils":function(){define(["exports"],function(a){a.isWebMap=function(b){return null!=b&&"object"===typeof b&&"declaredClass"in b&&"esri.WebMap"===b.declaredClass};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r){var e;q=b.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});b=new b.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});d=e=class extends d.JSONSupport{constructor(g){super(g);this.offset=null}readFeatureExpressionInfo(g,p){if(null!=g)return g;if(p.featureExpression&&0===p.featureExpression.value)return{expression:"0"}}writeFeatureExpressionInfo(g,
p,v,u){p[v]=g.write({},u);"0"===g.expression&&(p.featureExpression={value:0})}get mode(){const {offset:g,featureExpressionInfo:p}=this;return this._isOverridden("mode")?this._get("mode"):null!=g||p?"relative-to-ground":"on-the-ground"}set mode(g){this._override("mode",g)}set unit(g){this._set("unit",g)}write(g,p){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(g,p):null}clone(){return new e({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?
this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(g){return this.mode===g.mode&&this.offset===g.offset&&this.unit===g.unit&&f.equalsMaybe(this.featureExpressionInfo,g.featureExpressionInfo)}};a.__decorate([c.property({type:w,json:{write:!0}})],d.prototype,"featureExpressionInfo",void 0);a.__decorate([h.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],d.prototype,"readFeatureExpressionInfo",null);a.__decorate([m.writer("featureExpressionInfo",{featureExpressionInfo:{type:w},
"featureExpression.value":{type:[0]}})],d.prototype,"writeFeatureExpressionInfo",null);a.__decorate([c.property({type:q.apiValues,nonNullable:!0,json:{type:q.jsonValues,read:q.read,write:{writer:q.write,isRequired:!0}}})],d.prototype,"mode",null);a.__decorate([c.property({type:Number,json:{write:!0}})],d.prototype,"offset",void 0);a.__decorate([c.property({type:r.supportedUnits,json:{type:String,read:b.read,write:b.write}})],d.prototype,"unit",null);return d=e=a.__decorate([l.subclass("esri.layers.support.ElevationInfo")],
d)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),function(a,b,d,f,c,q,n,k){var h;b=h=class extends b.JSONSupport{constructor(l){super(l)}async collectRequiredFields(l,m){return k.collectArcadeFieldNames(l,m,this.expression)}clone(){return new h({expression:this.expression,
title:this.title})}equals(l){return this.expression===l.expression&&this.title===l.title}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=h=a.__decorate([n.subclass("esri.layers.support.FeatureExpressionInfo")],b)})},"esri/layers/support/fieldUtils":function(){define("exports ../../core/Error ../../core/object ../../core/SetUtils ../../core/sql ./domainUtils ../../support/arcadeOnDemand".split(" "),
function(a,b,d,f,c,q,n){function k(I,S,X){if(I)for(const na of I)(I=(I=d.getDeepValue(na,S))&&"function"!==typeof I&&X.get(I))&&d.setDeepValue(na,I.name,S)}function h(I,S){if(!I||!S)return[];Aa.clear();l(Aa,I,S);return Array.from(Aa).sort()}function l(I,S,X){if(X)if(S?.fields?.length)if(X.includes("*"))for(const {name:na}of S.fields)I.add(na);else for(const na of X)m(I,S,na);else if(X.includes("*"))I.clear(),I.add("*");else for(const na of X)null!=na&&I.add(na)}function m(I,S,X){"string"===typeof X&&
(S?(S=S.get(X))&&I.add(S.name):I.add(X))}async function w(I,S,X){if(X){var {arcadeUtils:na}=await n.loadArcade();X=na.extractFieldNames(X,S?.fields?.map(va=>va.name));for(const va of X)m(I,S,va)}}async function r(I,S,X){if(X&&"1\x3d1"!==X){const na=await c.parseWhereClause(X,S);if(!na.isStandardized)throw new b("fieldUtils:collectFilterFields","Where clause is not standardized",{where:X});l(I,S,na.fieldNames)}}function e(I,S){for(const X of I)if(X?.valueType&&X.valueType===S)return X.name;return null}
async function g(I,S){if(S){var X=S.elevationInfo?.featureExpressionInfo;if(X)return X.collectRequiredFields(I,S.fieldsIndex)}}async function p(I,S,X){const na=[];X?.expressionInfos&&na.push(...X.expressionInfos.map(va=>w(I,S.fieldsIndex,va.expression)));X=X?.content;if(Array.isArray(X))for(const va of X)"expression"===va.type&&va.expressionInfo&&na.push(w(I,S.fieldsIndex,va.expressionInfo.expression));await Promise.all(na)}async function v(I,S,X){S&&X&&(X.valueExpression?await w(I,S.fieldsIndex,
X.valueExpression):X.field&&m(I,S.fieldsIndex,X.field))}function u(I){if(!I)return[];const S=I.geometryFieldsInfo;return S?h(I.fieldsIndex,[S.shapeAreaField,S.shapeLengthField]):[]}function x(I){const S=new Set;t(I).forEach(X=>S.add(X));u(I).forEach(X=>S.add(X.toLowerCase()));if(I=I&&"infoFor3D"in I?I.infoFor3D:void 0)Object.values(I.assetMapFieldRoles).forEach(X=>S.add(X.toLowerCase())),Object.values(I.transformFieldRoles).forEach(X=>S.add(X.toLowerCase()));return Array.from(S)}function z(I){if(!I)return[];
I="editFieldsInfo"in I&&I.editFieldsInfo;if(!I)return[];const {creationDateField:S,creatorField:X,editDateField:na,editorField:va}=I;return[S,X,na,va].filter(Boolean)}function t(I){return z(I).map(S=>S.toLowerCase())}async function y(I,S){const {labelingInfo:X,fieldsIndex:na}=S;X?.length&&await Promise.all(X.map(va=>B(I,na,va)))}async function B(I,S,X){if(X){var na=X.getLabelExpression();X=X.where;"arcade"===na.type?await w(I,S,na.expression):(na=na.expression.match(/{[^}]*}/g))&&na.forEach(va=>{m(I,
S,va.slice(1,-1))});await r(I,S,X)}}function A(I){return"number"===typeof I&&!isNaN(I)&&isFinite(I)}function D(I){return null===I||A(I)}function E(I){return null===I||Number.isInteger(I)}function J(I){return null!=I&&"string"===typeof I}function F(I){return null===I||J(I)}function G(){return!0}function M(I,S){let X;switch(I.type){case "date":case "integer":case "long":case "small-integer":case "big-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":case "esriFieldTypeBigInteger":X=
I.nullable?E:Number.isInteger;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":X=I.nullable?D:A;break;case "string":case "esriFieldTypeString":X=I.nullable?F:J;break;default:X=G}return 1===arguments.length?X:X(S)}function L(I){return null!=I&&fa.has(I.type)}function T(I){return null!=I&&("string"===I.type||"esriFieldTypeString"===I.type)}function N(I,S){return null==I||I.nullable&&null===S?null:L(I)&&!K(I.type,Number(S))?a.NumericRangeValidationError.OUT_OF_RANGE:
M(I,S)?I.domain?q.validateDomainValue(I,S):null:a.TypeValidationError.INVALID_TYPE}function K(I,S){I="string"===typeof I?O(I):I;if(!I)return!1;const X=I.min,na=I.max;return I.isInteger?Number.isInteger(S)&&S>=X&&S<=na:S>=X&&S<=na}function O(I){switch(I){case "esriFieldTypeSmallInteger":case "small-integer":return ka;case "esriFieldTypeInteger":case "integer":return za;case "esriFieldTypeBigInteger":case "big-integer":return W;case "esriFieldTypeSingle":case "single":return ea;case "esriFieldTypeDouble":case "double":return ia}}
function R(I,S,X){if(!S?.attributes||!I){if(null!=X)for(var na of I??[])X.add(na);return!0}S=new Set(Object.keys(S.attributes));na=!1;for(const va of I)if(!S.has(va))if(na=!0,null!=X)X.add(va);else break;return na}const V=/^([0-9_])/,ma=/[^a-z0-9_\u0080-\uffff]+/gi,ca="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),ua=["field","normalizationField"],Aa=new Set,
Ma=new Set(["oid","global-id","guid"]),Ga=new Set(["oid","global-id"]),Qa=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i],qa=["integer","small-integer","big-integer"],ha=["single","double"],aa=[...qa,...ha],ja=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],sa=["esriFieldTypeSingle","esriFieldTypeDouble"],H=new Set([...qa,...ja]),Q=new Set([...ha,
...sa]),fa=f.union(H,Q);a.NumericRangeValidationError=void 0;(a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";a.TypeValidationError=void 0;(a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const ka={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},za={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},W={min:-Number.MAX_SAFE_INTEGER,
max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},ea={min:-3.4E38,max:1.2E38,isInteger:!1,rawMin:-3.4E38,rawMax:1.2E38},ia={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};a.bigIntegerRange=W;a.collectArcadeFieldNames=w;a.collectElevationFields=g;a.collectFeatureReductionFields=async function(I,S,X){if(S&&X&&"fields"in X){var na=[];na.push(p(I,S,X.popupTemplate));X.fields&&na.push(...X.fields.map(async va=>
{va.onStatisticExpression?w(I,S.fieldsIndex,va.onStatisticExpression.expression):I.add(va.onStatisticField)}));await Promise.all(na)}};a.collectField=m;a.collectFields=l;a.collectFilterFields=async function(I,S,X){S&&(S.timeInfo&&X?.timeExtent&&l(I,S.fieldsIndex,[S.timeInfo.startField,S.timeInfo.endField]),S.floorInfo&&l(I,S.fieldsIndex,[S.floorInfo.floorField]),null!=X?.where&&await r(I,S.fieldsIndex,X.where))};a.collectLabelingFields=y;a.collectOrderByInfos=async function(I,S,X){S&&X&&await Promise.all(X.map(na=>
v(I,S,na)))};a.collectPopupTemplateFields=p;a.doubleRange=ia;a.featureHasFields=function(I,S){return!R(I,S,null)};a.fixFields=h;a.fixRendererFields=function(I,S){if(null!=I&&null!=S)for(const X of Array.isArray(I)?I:[I])if(k(ca,X,S),"visualVariables"in X&&X.visualVariables)for(const na of X.visualVariables)k(ua,na,S)};a.fixTimeInfoFields=function(I,S){if(null!=I&&S?.fields?.length)if("startField"in I){var X=S.get(I.startField);S=S.get(I.endField);I.startField=X?.name??null;I.endField=S?.name??null}else X=
S.get(I.startTimeField),S=S.get(I.endTimeField),I.startTimeField=X?.name??null,I.endTimeField=S?.name??null};a.floatJSONTypes=sa;a.floatTypes=ha;a.getDisplayFieldName=function({displayField:I,fields:S}){if(I)return I;if(!S?.length)return null;if(!(I=e(S,"name-or-title")||e(S,"unique-identifier")||e(S,"type-or-category")))a:{for(const X of S)if(X?.name&&(S=X.name.toLowerCase(),S.includes("name")||S.includes("title"))){I=X.name;break a}I=null}return I};a.getEditTrackingFields=z;a.getElevationFields=
async function(I){if(!I)return[];const S=new Set;await g(S,I);return Array.from(S).sort()};a.getExpressionFields=async function(I,S){const X=new Set;for(const na of S)await w(X,I.fieldsIndex,na);return Array.from(X).sort()};a.getFeatureEditFields=function(I){return I?h(I.fieldsIndex,z(I)):[]};a.getFeatureGeometryFields=u;a.getFieldDefaultLength=function(I){I="string"===typeof I?{type:I}:I;if(T(I))return 255;if("esriFieldTypeDate"===I.type||"date"===I.type)return 8};a.getFieldDefaultValue=function(I){const S=
I.defaultValue;if(void 0!==S&&M(I,S))return S;if(I.nullable)return null};a.getFieldRange=function(I,S){if(S=q.getDomainRange(I,S))return S;if(L(I))return O(I.type)};a.getLabelingFields=async function(I){if(!I)return[];const S=new Set;await y(S,I);return Array.from(S).sort()};a.getLowerCaseDefaultHiddenFields=x;a.getLowerCaseEditTrackingFields=t;a.getNumericTypeForValue=function(I){if(!A(I))return null;if(Number.isInteger(I)){if(I>=ka.min&&I<=ka.max)return"esriFieldTypeSmallInteger";if(I>=za.min&&
I<=za.max)return"esriFieldTypeInteger";if(I>=W.min&&I<=W.max)return"esriFieldTypeBigInteger"}return I>=ea.min&&I<=ea.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.getRendererFields=async function(I,S){const X=new Set;I?.collectRequiredFields&&await I.collectRequiredFields(X,S);return Array.from(X).sort()};a.getTimeFields=async function(I){if(!I)return[];const S="timeInfo"in I&&I.timeInfo;return S?h(I.fieldsIndex,[I.trackIdField,S.startField,S.endField]):[]};a.integerJSONTypes=ja;a.integerRange=
za;a.integerTypes=qa;a.isDateField=function(I){return null!=I&&("date"===I.type||"esriFieldTypeDate"===I.type)};a.isDateOnlyField=function(I){return null!=I&&("date-only"===I.type||"esriFieldTypeDateOnly"===I.type)};a.isFieldEditable=function(I,S){return I.editable&&!Ma.has(I.type)&&!t(S).includes(I.name?.toLowerCase()??"")};a.isFieldVisibleByDefault=function(I,S){const X=I.name?.toLowerCase()??"";return!(null!=S?.objectIdField&&X===S.objectIdField.toLowerCase())&&!(null!=S?.globalIdField&&X===S.globalIdField.toLowerCase())&&
!x(S).includes(X)&&!Ga.has(I.type)&&!Qa.some(na=>na.test(X))};a.isGlobalIDField=function(I){return null!=I&&("global-id"===I.type||"esriFieldTypeGlobalID"===I.type)};a.isIntegerField=function(I){return null!=I&&H.has(I.type)};a.isNumberInRange=K;a.isNumericField=L;a.isObjectIDField=function(I){return null!=I&&("oid"===I.type||"esriFieldTypeOID"===I.type)};a.isRasterPixelValueField=function(I){return I?["raster.itempixelvalue","raster.servicepixelvalue"].some(S=>I.toLowerCase().startsWith(S)):!1};
a.isStringField=T;a.isTimeOnlyField=function(I){return null!=I&&("time-only"===I.type||"esriFieldTypeTimeOnly"===I.type)};a.isTimestampOffsetField=function(I){return null!=I&&("timestamp-offset"===I.type||"esriFieldTypeTimestampOffset"===I.type)};a.isValidFieldValue=function(I,S){return null===N(I,S)};a.isValueMatchingFieldType=M;a.normalizeFieldName=function(I){return null==I?null:I.trim().replaceAll(ma,"_").replace(V,"F$1")||null};a.numericTypes=aa;a.packFields=function(I,S,X=1){if(!S||!I)return[];
if(S.includes("*"))return["*"];S=h(I,S);return S.length/I.fields.length>=X?["*"]:S};a.populateMissingFields=R;a.rendererFields=ca;a.sanitizeNullFieldValue=function(I){return null==I||"number"===typeof I&&isNaN(I)?null:I};a.singleRange=ea;a.smallIntegerRange=ka;a.unpackFieldNames=function(I,S){return null==S||null==I?[]:S.includes("*")?(I.fields??[]).map(X=>X.name):S};a.validateFieldValue=N;a.validationErrorToString=function(I,S,X){switch(I){case q.DomainValidationError.INVALID_CODED_VALUE:return`Value ${X} is not in the coded domain - field: ${S.name}, domain: ${JSON.stringify(S.domain)}`;
case q.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${X} is out of the range of valid values - field: ${S.name}, domain: ${JSON.stringify(S.domain)}`;case a.TypeValidationError.INVALID_TYPE:return`Value ${X} is not a valid value for the field type - field: ${S.name}, type: ${S.type}, nullable: ${S.nullable}`;case a.NumericRangeValidationError.OUT_OF_RANGE:const {min:na,max:va}=O(S.type);return`Value ${X} is out of range for the number type - field: ${S.name}, type: ${S.type}, value range is ${na} to ${va}`}};
a.visualVariableFields=ua;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql":function(){define(["require","exports"],function(a,b){b.parseWhereClause=async function(d,f){const {WhereClause:c}=await new Promise((q,n)=>a(["./sql/WhereClause"],q,n));return c.create(d,f)};b.sqlAnd=function(d,f){return null!=d&&""!==d?null!=f&&""!==f?`(${d}) AND (${f})`:d:f};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports",
"../../widgets/support/dateUtils"],function(a,b){function d(h){return null!=h&&("date-only"===h.type||"esriFieldTypeDateOnly"===h.type)}function f(h){return null!=h&&("timestamp-offset"===h.type||"esriFieldTypeTimestampOffset"===h.type)}function c(h){return null!=h&&("time-only"===h.type||"esriFieldTypeTimeOnly"===h.type)}function q(h,l){var m=l??h?.domain;if(m&&"range"===m.type){l="range"in m?m.range[0]:m.minValue;m="range"in m?m.range[1]:m.maxValue;var w=null!=h&&k.has(h.type);return d(h)||c(h)||
f(h)?{...n(h,m,l),isInteger:w}:{min:null!=l&&"number"===typeof l?l:null,max:null!=m&&"number"===typeof m?m:null,rawMin:l,rawMax:m,isInteger:w}}}function n(h,l,m){return d(h)?{min:b.dateOnlyToDateTime(m)?.toMillis(),max:b.dateOnlyToDateTime(l)?.toMillis(),rawMin:m,rawMax:l}:c(h)?{min:b.timeOnlyToDateTime(m)?.toMillis(),max:b.timeOnlyToDateTime(l)?.toMillis(),rawMin:m,rawMax:l}:f(h)?{min:b.timestampOffsetToDateTime(m)?.toMillis(),max:b.timestampOffsetToDateTime(l)?.toMillis(),rawMin:m,rawMax:l}:{max:null,
min:null}}a.DomainValidationError=void 0;(function(h){h.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";h.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));const k=new Set("integer small-integer big-integer esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeBigInteger".split(" "));a.dateTimeFieldValuesToNumericRange=n;a.getDomainRange=q;a.validateDomainValue=function(h,l){const m=h?.domain;if(!m)return null;
switch(m.type){case "range":const {min:w,max:r}=q(h);if(null!=w&&+l<w||null!=r&&+l>r)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==m.codedValues||m.codedValues.every(e=>null==e||e.code!==l))return a.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==m.codedValues||m.codedValues.every(e=>null==e||e.code!==l))return a.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dateUtils":function(){define("exports ../../intl ../../core/has ../../core/Error ../../core/mathUtils ../../core/maybe ../../intl/date ../../time/timeZoneUtils ./dataUtils ../../chunks/datetime ../../intl/locale".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){function w(D){return{locale:m.getLocale(),numberingSystem:"latn",zone:D??y}}function r(D,E){return null===D?null:l.DateTime.fromMillis(D,w(E))}function e(D,E){if(null==D||!h.isString(D)||""===D)return E?(D=l.DateTime.local().setZone(E),{date:null,time:null,timeZoneOffset:D.isValid?D.offset.toString():null}):B;D=l.DateTime.fromISO(D,{setZone:!0});return{date:D.toFormat("yyyy-MM-dd",w()),time:D.toFormat(a.TimeStampOffsetPattern.HMS_MS,w()),timeZoneOffset:D.offset.toString()}}
function g(D,E){if(null==D?.value||Array.isArray(D.value))return null;let J=null;J="valueAsDate"in D?l.DateTime.fromFormat(D.value,"yyyy-MM-dd",w(E)):z(D.value);return J?.isValid?J:null}function p(D){const {max:E,min:J,value:F}=D;return isNaN(F)||null!=E&&F>E||null!=J&&F<J?!1:!0}function v(D){const {max:E,min:J,value:F}=D;return null!=E&&null!=J?c.clamp(F,J,E):null!=E&&F>E?E:null!=J&&F<J?J:F}function u(D){if(!D)return"";var E=D.split(".").at(0);if(!E||1>E.length)throw new f("invalid time-only field",
`Cannot parse valid time-only field value from ${D}`);D=E.split(":");E=Array(3);for(let J=0;3>J;J++){const F=D.at(J)??"";E[J]=F.padStart(2,"0")}return E.join(":")}function x(D){if(!D||!h.isString(D))return null;D=l.DateTime.fromFormat(D,"yyyy-MM-dd");return D.isValid?D:null}function z(D){return D&&h.isString(D)?q.mappedFind(A,E=>{E=l.DateTime.fromFormat(D,E);return E.isValid?E:null})??null:null}function t(D){if(!D||!h.isString(D))return null;D=l.DateTime.fromISO(D);return D.isValid?D:null}const y=
k.utc,B={date:null,time:null,timeZoneOffset:null};b=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]);a.TimeStampOffsetPattern=void 0;(function(D){D.HM="HH:mm";D.HMS="HH:mm:ss";D.HMS_MS="HH:mm:ss.SSS"})(a.TimeStampOffsetPattern||(a.TimeStampOffsetPattern={}));const A=[a.TimeStampOffsetPattern.HMS_MS,a.TimeStampOffsetPattern.HMS,a.TimeStampOffsetPattern.HM,"TT"];d=new Set(["date-only","time-only","timestamp-offset"]);a.arcadeDateToFieldValue=
function(D,E){switch(E){case "date":return D.getTime();case "date-only":return D.toISODate();case "time-only":return u(D.toISOTime(!0,!1));case "timestamp-offset":return D.toISOString(!1);default:return null}};a.clampValueToRange=v;a.createDateTimeFromFieldValue=r;a.dateFieldsWithStringFieldValue=d;a.dateOnlyToDateTime=x;a.dateTimeIsInRange=function(D){const {type:E,range:J,value:F}=D;if(null==F||!J||F===J.min||F===J.max)return!0;if("date"===E)return p({value:F,min:J.min,max:J.max});const {rawMax:G,
rawMin:M}=J;let L=D=null,T=null;switch(E){case "date-only":D=x(G);L=x(M);T=x(F);break;case "time-only":D=z(G);L=z(M);T=z(F);break;case "timestamp-offset":D=t(G),L=t(M),T=t(F)}return T?p({value:T.valueOf(),min:L?.valueOf(),max:D?.valueOf()}):!0};a.dateTimeToFieldValue=function(D){return D?.isValid?D.toMillis():null};a.defaultDatePattern="yyyy-MM-dd";a.defaultTimePattern="TT";a.getDefaultLocaleOptions=w;a.getISOFieldValueFromDateComponents=function(D){const {dateComponent:E,defaultTimeZone:J,timeComponent:F,
timeZoneComponent:G,oldValue:M}=D;if(!E?.value||!F?.value)return null;const {year:L,month:T,day:N}=l.DateTime.fromFormat(E.value,"yyyy-MM-dd"),{hour:K,minute:O,second:R,millisecond:V}=g(F,k.utc)??l.DateTime.now();D=e(M,J);D=null!=G?.value?parseInt(G.value,10):null!=D.timeZoneOffset?parseInt(D.timeZoneOffset,10):(new Date).getTimezoneOffset();D=l.FixedOffsetZone.instance(D);D=l.DateTime.fromObject({year:L,month:T,day:N,hour:K,minute:O,second:R,millisecond:V},{zone:D});return D.isValid?D.toISO({includeOffset:!0}):
null};a.getIntlOptionsForField=function(D){switch(D.type){case "date":return n.convertDateFormatToIntlOptions("short-date-short-time");case "date-only":return n.convertDateFormatToIntlOptions("short-date");case "time-only":return n.convertDateFormatToIntlOptions("short-time");case "timestamp-offset":return{...n.convertDateFormatToIntlOptions("short-date-short-time"),timeZone:void 0,timeZoneName:"short"};default:return n.convertDateFormatToIntlOptions("short-date-short-time")}};a.getLabelForDateFieldValue=
function(D,E,J){if(!D||null==E)return null;switch(D.type){case "date":return n.formatDate(E,J);case "date-only":return n.formatDateOnly(E,J);case "time-only":return n.formatTimeOnly(E,J);case "timestamp-offset":return n.formatTimestamp(E,J);default:return null}};a.getLocalDateTimeFromComponent=g;a.getUnixFieldValueFromDateComponents=function(D){const {dateComponent:E,timeComponent:J,timeZone:F,max:G,min:M,oldValue:L}=D;var T=g(E,F);D=!!D.applyRange;if(!T)return null;var N=null;if(null!=J?.value){N=
g(J,F);var K=Date.now();K=l.DateTime.fromMillis(null!=G&&G<K?G:K,w(F));T=T||K;const {year:O,month:R,day:V}=T,{hour:ma,minute:ca,second:ua,millisecond:Aa}=N||K;N=T.set({year:O,month:R,day:V,hour:ma,minute:ca,second:ua,millisecond:Aa})}else{D=v({value:L??Date.now(),max:G,min:M});D=r(D,F);const {year:O,month:R,day:V}=T,{hour:ma,minute:ca,second:ua,millisecond:Aa}=D;D=!0;N=T.set({year:O,month:R,day:V,hour:ma,minute:ca,second:ua,millisecond:Aa})}if(!N.isValid)return null;T=N.toMillis();return D?v({value:T,
max:G,min:M}):T};a.isArcadeDate=function(D){return!!D&&"object"===typeof D&&"getTime"in D&&"toISOString"in D&&"timeZone"in D};a.isCalciteDateComponent=D=>"valueAsDate"in D;a.normalizeTimeOnlyString=u;a.numberingSystem="latn";a.prepareISOFieldValueForDateComponents=e;a.prepareUnixFieldValueForDateComponents=function(D,E){return null==D||!h.isNumber(D)||isNaN(D)?B:(D=r(D,E))?{date:D.toFormat("yyyy-MM-dd",w(E)),time:D.toFormat("TT",w(E))}:B};a.supportedTimeFormats=A;a.timeOnlyToDateTime=z;a.timeResolutionToStepMap=
b;a.timestampOffsetToDateTime=t;a.valueIsInRange=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),function(a,b,d,f,c,q,n,k){q.registerMessageBundleLoader(n.createJSONLoader({pattern:"esri/",location:k.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.formatDateOnly=b.formatDateOnly;
a.formatTimeOnly=b.formatTimeOnly;a.formatTimestamp=b.formatTimestamp;a.convertNumberFormatToIntlOptions=d.convertNumberFormatToIntlOptions;a.formatNumber=d.formatNumber;a.substitute=f.substitute;a.getLocale=c.getLocale;a.onLocaleChange=c.onLocaleChange;a.prefersRTL=c.prefersRTL;a.setLocale=c.setLocale;a.fetchMessageBundle=q.fetchMessageBundle;a.normalizeMessageBundleLocale=q.normalizeMessageBundleLocale;a.registerMessageBundleLoader=q.registerMessageBundleLoader;a.createJSONLoader=n.createJSONLoader;
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/number":function(){define(["exports","./locale"],function(a,b){function d(n){const k=n||q;if(!c.has(k)){var h=b.getLocale();h=f[b.getLocale()]||h;c.set(k,new Intl.NumberFormat(h,n))}return c.get(k)}const f={ar:"ar-u-nu-latn"};let c=new WeakMap,q={};b.beforeLocaleChange(()=>{c=new WeakMap;q={}});a.convertNumberFormatToIntlOptions=function(n={}){const k={};null!=n.digitSeparator&&(k.useGrouping=n.digitSeparator);null!=n.places&&
(k.minimumFractionDigits=k.maximumFractionDigits=n.places);return k};a.formatNumber=function(n,k){Object.is(n,-0)&&(n=0);return d(k).format(n)};a.getFormatter=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,d,f,c,q){function n(k){switch(typeof k){case "string":return k;case "number":return q.formatNumber(k);case "boolean":return""+k;default:return k instanceof
Date?c.formatDate(k):""}}a.substitute=function(k,h,l={}){const {format:m={}}=l;return f.replace(k,w=>{{const g=w.indexOf(":");if(-1===g)var r=w.trim();else{r=w.slice(0,g).trim();var e=w.slice(g+1).trim()}if(r)if(w=d.getDeepValue(r,h),null==w)e="";else if(r=(e?m?.[e]:null)??m?.[r])b:switch(r.type){case "date":e=c.formatDate(w,r.intlOptions);break b;case "number":e=q.formatNumber(w,r.intlOptions);break b;default:b.getLogger("esri.intl.substitute").warn("missing format descriptor for key {key}"),e=n(w)}else if(e)b:switch(e.toLowerCase()){case "dateformat":e=
c.formatDate(w);break b;case "numberformat":e=q.formatNumber(w);break b;default:b.getLogger("esri.intl.substitute").warn(`inline format is unsupported since 4.12: ${e}`),e=/^(dateformat|datestring)/i.test(e)?c.formatDate(w):/^numberformat/i.test(e)?q.formatNumber(w):n(w)}else e=n(w);else e=""}return e})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/t9n":function(){define(["exports","../request","../core/Error","./messages"],function(a,b,d,f){async function c(h,l,m,w){var r=
l.exec(m);if(!r)throw new d("esri-intl:invalid-bundle",`Bundle id "${m}" is not compatible with the pattern "${l}"`);l=r[1]?`${r[1]}/`:"";r=r[2];const e=f.normalizeMessageBundleLocale(w);w=`${l}${r}.json`;l=e?`${l}${r}_${e}.json`:w;let g;try{g=await q(h(l))}catch(p){if(l===w)throw new d("intl:unknown-bundle",`Bundle "${m}" cannot be loaded`,{error:p});try{g=await q(h(w))}catch(v){throw new d("intl:unknown-bundle",`Bundle "${m}" cannot be loaded`,{error:v});}}return g}async function q(h){if(null!=
k.fetchBundleAsset)return k.fetchBundleAsset(h);h=await b(h,{responseType:"text"});return JSON.parse(h.data)}class n{constructor({base:h="",pattern:l,location:m=new URL(window.location.href)}){let w;w="string"===typeof m?r=>(new URL(r,new URL(m,window.location.href))).href:m instanceof URL?r=>(new URL(r,m)).href:m;this.pattern="string"===typeof l?new RegExp(`^${l}`):l;this.getAssetUrl=w;h=h?h.endsWith("/")?h:h+"/":"";this.matcher=new RegExp(`^${h}(?:(.*)/)?(.*)$`)}fetchMessageBundle(h,l){return c(this.getAssetUrl,
this.matcher,h,l)}}const k={};a.JSONLoader=n;a.createJSONLoader=function(h){return new n(h)};a.test=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dataUtils":function(){define(["exports"],function(a){a.isNumber=function(b){return"number"===typeof b};a.isString=function(b){return"string"===typeof b||b instanceof String};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../geometry ../core/Error ../core/Logger ../geometry/SpatialReference".split(" "),
function(a,b,d,f,c,q){function n(){k||=(async()=>{const l=await new Promise((m,w)=>a(["./arcadeUtils"],m,w));return{arcade:l.arcade,arcadeUtils:l,Dictionary:l.Dictionary,Feature:l.arcadeFeature}})();return k}let k;d=(l,m,w)=>h.create(l,m,w,null,["$feature","$view"],[]);class h{constructor(l,m,w,r,e,g,p){this.services=null;this.script=l;this.evaluate=r;this.fields=(Array.isArray(g)?g:g?.fields)??[];this._syntaxTree=w;this._arcade=m;this._arcadeFeature=e;this._spatialReference=p;this._referencesGeometry=
m.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(l,m,w,r,e,g){const {arcade:p,Feature:v,Dictionary:u}=await n(),x=q.fromJSON(m);let z;try{z=p.parseScript(l,g)}catch(E){return c.getLogger("esri.support.arcadeOnDemand").error(new f("arcade-bad-expression","Failed to parse arcade script",{script:l,error:E})),null}e=e.reduce((E,J)=>({...E,[J]:null}),{});let t=null;null!=r&&(t=new u(r),t.immutable=!0,e.$config=null);
g=(r=p.scriptUsesGeometryEngine(z))&&p.enableGeometrySupport();const y=p.scriptUsesFeatureSet(z)&&p.enableFeatureSetSupport(),B=(m=p.scriptIsAsync(z))&&p.enableAsyncSupport();e={vars:e,spatialReference:x,useAsync:!!B};await Promise.all([g,y,B]);g=new Set;await p.loadDependentModules(g,z,null,m,r);const A=new u;A.immutable=!1;A.setField("scale",0);const D=p.compileScript(z,e);return new h(l,p,z,(E,J)=>{const F=E.$view?.timeZone;"$view"in E&&E.$view&&(A.setField("scale","object"===typeof E.$view&&"scale"in
E.$view?E.$view.scale:void 0),E.$view=A);t&&(E.$config=t);return D({vars:E,spatialReference:x,services:J,timeZone:F})},new v,w,x)}repurposeFeature(l){l.geometry&&!l.geometry.spatialReference&&(l.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(l.geometry,l.attributes,{fields:this.fields});return this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}b.ArcadeExpression=h;b.createDictionaryExpression=
(l,m,w,r)=>h.create(l,m,w,r,["$feature","$view"],[]);b.createLabelExpression=(l,m,w)=>h.create(l,m,w,null,["$feature","$view"],[]);b.createRendererExpression=d;b.createRendererExpressionWithOptions=(l,m)=>h.create(l,m.spatialReference,m.fields,null,["$feature","$view"],[]);b.createVVExpression=d;b.loadArcade=n;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const d=
function(){const f=Object.keys(b.meterIn);f.sort();return f}();a.getMetersPerUnit=function(f){return 1/(b.meterIn[f]||1)};a.supportedUnits=d;a.supportsUnit=function(f){return!!f&&null!=b.meterIn[f]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,d){b={unknown:1,inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,
"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",d.earth.radius)};a.meterIn=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/tslib.es6 ../../config ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../support/layerUtils ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser ../../portal/support/portalItemUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B){var A=null,D=null;b.PortalLayer=E=>{E=class extends E{constructor(){super(...arguments);this.resourceReferences={portalItem:null,paths:[]};this.userHasEditingPrivileges=!0;this.userHasUpdateItemPrivileges=this.userHasFullEditingPrivileges=!1}destroy(){this.portalItem=l.destroyMaybe(this.portalItem);this.resourceReferences.portalItem=null;this.resourceReferences.paths.length=0}set portalItem(J){J!==this._get("portalItem")&&(this.removeOrigin("portal-item"),
this._set("portalItem",J))}readPortalItem(J,F,G){if(F.itemId)return new t({id:F.itemId,portal:G?.portal})}writePortalItem(J,F){J?.id&&(F.itemId=J.id)}async loadFromPortal(J,F){if(this.portalItem?.id)try{const {load:G}=await new Promise((M,L)=>a(["../../portal/support/layersLoader"],M,L));m.throwIfAborted(F);return await G({instance:this,supportedTypes:J.supportedTypes,validateItem:J.validateItem,supportsData:J.supportsData,layerModuleTypeMap:J.layerModuleTypeMap},F)}catch(G){throw m.isAbortError(G)||
h.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${G}`),G;}}async finishLoadEditablePortalLayer(J){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(J).catch(F=>{m.throwIfAbortError(F);return!0}))}async setUserPrivileges(J,F){if(!f.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(F);if(this.url)try{const {features:{edit:G,fullEdit:M},content:{updateItem:L}}=await this._fetchUserPrivileges(J,
F);this._set("userHasEditingPrivileges",G);this._set("userHasFullEditingPrivileges",M);this._set("userHasUpdateItemPrivileges",L)}catch(G){m.throwIfAbortError(G)}}async _fetchUserPrivileges(J,F){let G=this.portalItem;if(!J||!G||!G.loaded||G.sourceUrl)return this._fetchFallbackUserPrivileges(F);const M=J===G.id;if(M&&G.portal.user)return B.getUserPrivileges(G);let L;if(M)L=G.portal.url;else try{L=await x.getOwningPortalUrl(this.url,F)}catch(N){m.throwIfAbortError(N)}if(!L||!w.hasSameCanonicalPortal(L,
G.portal.url))return this._fetchFallbackUserPrivileges(F);let T;try{const N=null!=F?F.signal:null;T=await c.id?.getCredential(`${L}/sharing`,{prompt:!1,signal:N})}catch(N){m.throwIfAbortError(N)}if(!T)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(M?await G.reload():(G=new t({id:J,portal:{url:L}}),await G.load(F)),G.portal.user)return B.getUserPrivileges(G)}catch(N){m.throwIfAbortError(N)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}}async _fetchFallbackUserPrivileges(J){let F=
!0;try{F=await this._fetchUserHasEditingPrivileges(J)}catch(G){m.throwIfAbortError(G)}return{features:{edit:F,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(J){const F=this.url?c.id?.findCredential(this.url):null;if(!F)return!0;J=A===F?D:await this._fetchEditingUser(J);A=F;D=J;return null==J?.privileges||J.privileges.includes("features:user:edit")}async _fetchEditingUser(J){var F=this.portalItem?.portal?.user;if(F)return F;F=c.id.findServerInfo(this.url??"");if(!F?.owningSystemUrl)return null;
F=`${F.owningSystemUrl}/sharing/rest`;const G=z.getDefault();if(G&&G.loaded&&w.normalize(G.restUrl)===w.normalize(F))return G.user;J=await n.result(q(`${F}/community/self`,{authMode:"no-prompt",query:{f:"json"},signal:null!=J?J.signal:null}));return J.ok?y.fromJSON(J.value.data):null}read(J,F){F&&(F.layer=this);super.read(J,F)}write(J,F){const G=F?.portal,M=this.portalItem?.id&&(this.portalItem.portal||z.getDefault());return G&&M&&!w.hasSamePortal(M.restUrl,G.restUrl)?(F.messages&&F.messages.push(new k("layer:cross-portal",
`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(J,{...F,layer:this})}};d.__decorate([r.property({type:t})],E.prototype,"portalItem",null);d.__decorate([p.reader("web-document","portalItem",["itemId"])],E.prototype,"readPortalItem",null);d.__decorate([u.writer("web-document",
"portalItem",{itemId:{type:String}})],E.prototype,"writePortalItem",null);d.__decorate([r.property({clonable:!1})],E.prototype,"resourceReferences",void 0);d.__decorate([r.property({type:Boolean,readOnly:!0})],E.prototype,"userHasEditingPrivileges",void 0);d.__decorate([r.property({type:Boolean,readOnly:!0})],E.prototype,"userHasFullEditingPrivileges",void 0);d.__decorate([r.property({type:Boolean,readOnly:!0})],E.prototype,"userHasUpdateItemPrivileges",void 0);return E=d.__decorate([v.subclass("esri.layers.mixins.PortalLayer")],
E)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalItemUtils":function(){define(["exports","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(a,b,d,f){async function c(l){const m=l.spatialReference;if(m.isWGS84)return l.clone();if(m.isWebMercator)return f.webMercatorToGeographic(l);const w=d.WGS84;await b.initializeProjection(m,w);return b.project(l,w)}function q(l,m){if(!n(l,m)){const w=l.typeKeywords;
w?w.push(m):l.typeKeywords=[m]}}function n(l,m){return!!l.typeKeywords?.includes(m)}function k(l,m){if(l=l.typeKeywords)m=l.indexOf(m),-1<m&&l.splice(m,1)}const h={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};a.addTypeKeyword=q;a.getUserPrivileges=function(l){const {portal:m,
isOrgItem:w,itemControl:r}=l;var e=m.user?.privileges;l=e?e.includes("features:user:edit"):!0;e=w?!!e?.includes("features:user:fullEdit"):!1;const g="update"===r||"admin"===r;g?e=l=!0:e&&(l=!0);return{features:{edit:l,fullEdit:e},content:{updateItem:g}}};a.getWGS84ExtentForItem=async function(l){l=l.clone().normalize();let m;if(1<l.length)for(const w of l)m?w.width>m.width&&(m=w):m=w;else m=l[0];return c(m)};a.hasTypeKeyword=n;a.isHostedLayer=function(l){return n(l,h.HOSTED_SERVICE)};a.removeTypeKeyword=
k;a.toggleTypeKeyword=function(l,m,w){w?q(l,m):k(l,m)};a.typeKeyword=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../core/Error ../core/promiseUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../core/libs/gl-matrix-2/factories/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./SpatialReference ./projection/projectBuffer ./projection/projectors ./projection/projectXYZToVector ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/zscale".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t){function y(){return!!ca&&m.isLoaded()}function B(){if(y())return!0;c.trackAccess(Ga);A();return!1}function A(ha){null==Aa&&(Aa=Promise.all([m.load(),(new Promise((aa,ja)=>a(["../chunks/geometryEngineBase"],aa,ja))).then(aa=>aa.geometryEngineBase),new Promise((aa,ja)=>a(["./geometryAdapters/hydrated"],aa,ja))]));return Aa.then(([,aa,{hydratedAdapter:ja}])=>{f.throwIfAborted(ha);ua=ja;ca=aa.default;ca._enableProjection(m.pe);Ga.notify()})}function D(ha,
aa,ja=null,sa=null){return Array.isArray(ha)?0===ha.length?[]:E(ua,ha,ha[0].spatialReference,aa,ja,sa):E(ua,[ha],ha.spatialReference,aa,ja,sa)[0]}function E(ha,aa,ja,sa,H=null,Q=null){if(null==ja||null==sa)return aa;if(M(ja,sa,H))return aa.map(fa=>T(fa,ja,sa));if(null==H&&k.isSphericalECEF(ja))return aa.map(fa=>T(fa,ja,g.WGS84)).map(fa=>G(fa,sa));if(null==H&&k.isSphericalECEF(sa))return aa.map(fa=>G(fa,g.WGS84)).map(fa=>T(fa,g.WGS84,sa));if(null==H){const fa=x.cacheKey(ja,sa);void 0!==Ma[fa]?H=Ma[fa]:
(H=F(ja,sa,void 0),null==H&&(H=new x),Ma[fa]=H)}if(null==ca||null==ha)throw new Qa;return null!=Q?ca._project(ha,aa,ja,sa,H,Q):ca._project(ha,aa,ja,sa,H)}function J(ha,aa){if(!y())for(const ja of ha)if(null!=ja&&!z.equals(ja.spatialReference,aa)&&z.isValid(ja.spatialReference)&&z.isValid(aa)&&!M(ja.spatialReference,aa))return c.trackAccess(Ga),{pending:A(),geometries:null};return{pending:null,geometries:ha.map(ja=>null==ja?null:z.equals(ja.spatialReference,aa)?ja:z.isValid(ja.spatialReference)&&z.isValid(aa)?
G(ja,aa):null)}}function F(ha,aa,ja=null){if(null==ha||null==aa)return null;if(null==ca||null==ua)throw new Qa;ha=ca._getTransformation(ua,ha,aa,ja,ja?.spatialReference);return null!==ha?x.fromGE(ha):null}function G(ha,aa){try{const ja=D(ha,aa);if(null==ja)return null;"xmin"in ha&&"xmin"in ja&&(ja.zmin=ha.zmin,ja.zmax=ha.zmax);const sa=t.getGeometryZScaler(ja.type,ha.spatialReference,aa);null!=sa&&sa(ja);return ja}catch(ja){if(!(ja instanceof Qa))throw ja;return null}}function M(ha,aa,ja){return ja?
!1:z.equals(ha,aa)?!0:z.isValid(ha)&&z.isValid(aa)&&!!v.getProjector(ha,aa,v.projectorCache)}async function L(ha,aa,ja,sa){if(y())return f.waitTick(sa);if(Array.isArray(ha))for(const {source:H,dest:Q,geographicTransformation:fa}of ha){if(H&&Q&&!M(H,Q,fa))return A(sa)}else if(ha&&aa&&!M(ha,aa,ja))return A(sa);return f.waitTick(sa)}function T(ha,aa,ja){return ha?"x"in ha?N(ha,aa,new w,ja,0):"xmin"in ha?V(ha,aa,new h,ja,0):"rings"in ha?R(ha,aa,new r,ja,0):"paths"in ha?O(ha,aa,new e,ja,0):"points"in ha?
K(ha,aa,new l,ja,0):null:null}function N(ha,aa,ja,sa,H){qa[0]=ha.x;qa[1]=ha.y;const Q=ha.z;qa[2]=void 0!==Q?Q:H;if(!p.projectBuffer(qa,aa,0,qa,sa,0,1))return null;ja.x=qa[0];ja.y=qa[1];ja.spatialReference=sa;void 0!==Q||k.isSphericalPCPF(sa)?(ja.z=qa[2],ja.hasZ=!0):(ja.z=void 0,ja.hasZ=!1);void 0===ha.m?(ja.m=void 0,ja.hasM=!1):(ja.m=ha.m,ja.hasM=!0);return ja}function K(ha,aa,ja,sa,H){const {points:Q,hasZ:fa,hasM:ka}=ha;ha=[];const za=Q.length,W=[];for(var ea of Q)W.push(ea[0],ea[1],fa?ea[2]:H);
if(!p.projectBuffer(W,aa,0,W,sa,0,za))return null;aa=fa||k.isSphericalPCPF(sa);for(H=0;H<za;++H){ea=3*H;const ia=W[ea],I=W[ea+1];aa&&ka?ha.push([ia,I,W[ea+2],Q[H][3]]):aa?ha.push([ia,I,W[ea+2]]):ka?ha.push([ia,I,Q[H][2]]):ha.push([ia,I])}ja.points=ha;ja.spatialReference=sa;ja.hasZ=fa;ja.hasM=ka;return ja}function O(ha,aa,ja,sa,H){const {paths:Q,hasZ:fa,hasM:ka}=ha;ha=[];if(!ma(Q,fa??!1,ka??!1,aa,ha,sa,H))return null;aa=fa||k.isSphericalPCPF(sa);ja.paths=ha;ja.spatialReference=sa;ja.hasZ=aa;ja.hasM=
ka;return ja}function R(ha,aa,ja,sa,H){const {rings:Q,hasZ:fa,hasM:ka}=ha;ha=[];if(!ma(Q,fa??!1,ka??!1,aa,ha,sa,H))return null;aa=fa||k.isSphericalPCPF(sa);ja.rings=ha;ja.spatialReference=sa;ja.hasZ=aa;ja.hasM=ka;return ja}function V(ha,aa,ja,sa,H){const {xmin:Q,ymin:fa,xmax:ka,ymax:za,hasZ:W,hasM:ea}=ha;if(!u.projectXYZToVector(Q,fa,W?ha.zmin:H,aa,qa,sa))return null;const ia=W||k.isSphericalPCPF(sa);ja.xmin=qa[0];ja.ymin=qa[1];ia&&(ja.zmin=qa[2]);if(!u.projectXYZToVector(ka,za,W?ha.zmax:H,aa,qa,
sa))return null;ja.xmax=qa[0];ja.ymax=qa[1];ia&&(ja.zmax=qa[2]);ea&&(ja.mmin=ha.mmin,ja.mmax=ha.mmax);ja.spatialReference=sa;return ja}function ma(ha,aa,ja,sa,H,Q,fa=0){const ka=[];for(const za of ha)for(const W of za)ka.push(W[0],W[1],aa?W[2]:fa);if(!p.projectBuffer(ka,sa,0,ka,Q,0,ka.length/3))return!1;sa=0;H.length=0;aa=aa||k.isSphericalPCPF(Q);for(const za of ha){ha=[];for(const W of za)aa&&ja?ha.push([ka[sa++],ka[sa++],ka[sa++],W[3]]):aa?ha.push([ka[sa++],ka[sa++],ka[sa++]]):(ja?ha.push([ka[sa++],
ka[sa++],W[2]]):ha.push([ka[sa++],ka[sa++]]),sa++);H.push(ha)}return!0}let ca=null,ua=null,Aa=null,Ma={};const Ga=new q.SimpleObservable;class Qa extends d{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}const qa=n.create();b.canProjectToWGS84ComparableLonLat=function(ha){return null==ha?!1:null!=v.getWGS84ComparableLonLatProjector(ha)};b.canProjectWithoutEngine=M;b.getTransformation=F;b.getTransformations=function(ha,aa,ja=null){if(null==
ca||null==ua)throw new Qa;ha=ca._getTransformationBySuitability(ua,ha,aa,ja,ja?.spatialReference);if(null!==ha){aa=[];for(const sa of ha)aa.push(x.fromGE(sa));return aa}return[]};b.initializeProjection=L;b.isLoaded=y;b.isLoadedOrLoad=B;b.isLoadedOrLoadFor=function(ha,aa){return ha&&aa?M(ha,aa)||B():!0};b.load=A;b.project=D;b.projectExtent=function(ha,aa,ja=aa.spatialReference,sa=0){return null!=ha.spatialReference&&null!=ja&&null!=V(ha,ha.spatialReference,aa,ja,sa)};b.projectMany=E;b.projectMultipoint=
function(ha,aa,ja=aa.spatialReference,sa=0){return null!=ha.spatialReference&&null!=ja&&null!=K(ha,ha.spatialReference,aa,ja,sa)};b.projectOrLoad=function(ha,aa){ha=J([ha],aa);return null!=ha.pending?{pending:ha.pending,geometry:null}:null!=ha.geometries?{pending:null,geometry:ha.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=J;b.projectPoint=function(ha,aa,ja=aa.spatialReference,sa=0){return null!=ja&&null!=ha.spatialReference&&null!=N(ha,ha.spatialReference,aa,ja,sa)};b.projectPolygon=
function(ha,aa,ja=aa.spatialReference,sa=0){return null!=ha.spatialReference&&null!=ja&&null!=R(ha,ha.spatialReference,aa,ja,sa)};b.projectPolyline=function(ha,aa,ja=aa.spatialReference,sa=0){return null!=ha.spatialReference&&null!=ja&&null!=O(ha,ha.spatialReference,aa,ja,sa)};b.projectWithZConversion=async function(ha,aa,ja){const sa=ha.spatialReference;null!=sa&&null!=aa&&await L(sa,aa,null,ja);return G(ha,aa)};b.projectWithoutEngine=T;b.requiresLoad=function(ha,aa){return!M(ha,aa)&&!y()};b.test=
{get loadPromise(){return Aa}};b.tryProjectWithZConversion=G;b.unload=function(){Aa=ua=ca=null;Ma={}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectBuffer":function(){define(["exports","./projectors"],function(a,b){a.projectBuffer=function(d,f,c,q,n,k,h=1){f=b.getProjector(f,n,b.projectorCache);if(null==f)return!1;if(f===b.copy3){if(d===q&&c===k)return!0;h=c+3*h;for(let l=c,m=k;l<h;l++,m++)q[m]=d[l];return!0}h=c+3*h;for(let l=c,m=k;l<h;l+=3,m+=3)f(d,
l,q,m);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectors":function(){define("exports ../../core/mathUtils ../../core/unitUtils ../ellipsoidUtils ../support/Ellipsoid ../support/geodesicConstants ../support/spatialReferenceUtils ../support/SupportedGCSWkids".split(" "),function(a,b,d,f,c,q,n,k){function h(aa,ja,sa=O()){return null==aa||null==ja?null:K(aa,ja,sa).projector}function l(aa,ja){if(!aa)return a.ProjectionID.UNKNOWN;if(ja.spatialReference===
aa)return ja.spatialReferenceId;ja.spatialReference=aa;"metersPerUnit"in ja&&(ja.metersPerUnit=d.getMetersPerUnitForSR(aa,1));return f.isSphericalECEF(aa)?ja.spatialReferenceId=a.ProjectionID.SPHERICAL_ECEF:n.isWGS84(aa)?ja.spatialReferenceId=a.ProjectionID.WGS84:n.isWebMercator(aa)?ja.spatialReferenceId=a.ProjectionID.WEB_MERCATOR:n.isPlateCarree(aa)?ja.spatialReferenceId=a.ProjectionID.PLATE_CARREE:aa.wkt===f.WGS84ECEFSpatialReferenceLike.wkt?ja.spatialReferenceId=a.ProjectionID.WGS84_ECEF:aa.wkid===
k.SupportedGCSWkids.CGCS2000?ja.spatialReferenceId=a.ProjectionID.CGCS2000:aa.wkt===f.SphericalPCPFMarsLike.wkt?ja.spatialReferenceId=a.ProjectionID.SPHERICAL_MARS_PCPF:aa.wkt===f.SphericalPCPFMoonLike.wkt?ja.spatialReferenceId=a.ProjectionID.SPHERICAL_MOON_PCPF:n.isMars(aa)?ja.spatialReferenceId=a.ProjectionID.GCSMARS2000:n.isMoon(aa)?ja.spatialReferenceId=a.ProjectionID.GCSMOON2000:ja.spatialReferenceId=a.ProjectionID.UNKNOWN}function m(aa,ja,sa,H){aa!==sa&&(sa[H++]=aa[ja++],sa[H++]=aa[ja++],sa[H]=
aa[ja])}function w(aa,ja,sa,H){sa[H]=aa[ja]/Qa*Aa;sa[H+1]=Aa*(Ga-2*Math.atan(Math.exp(-aa[ja+1]/Qa)));sa[H+2]=aa[ja+2]}function r(aa,ja,sa,H){const Q=aa[ja]/Qa,fa=Ga-2*Math.atan(Math.exp(-aa[ja+1]/Qa));aa=Qa+aa[ja+2];ja=Math.cos(fa)*aa;sa[H]=Math.cos(Q)*ja;sa[H+1]=Math.sin(Q)*ja;sa[H+2]=Math.sin(fa)*aa}function e(aa,ja,sa,H){w(aa,ja,sa,H);M(sa,H,sa,H)}function g(aa,ja,sa,H,Q){var fa=.4999999*Ma;fa=b.clamp(ua*aa[ja+1],-fa,fa);fa=Math.sin(fa);sa[H++]=ua*aa[ja]*Q.radius;sa[H++]=Q.halfSemiMajorAxis*Math.log((1+
fa)/(1-fa));sa[H]=aa[ja+2]}function p(aa,ja,sa,H){g(aa,ja,sa,H,c.earth)}function v(aa,ja,sa,H){sa[H]=aa[ja]*qa;sa[H+1]=aa[ja+1]*qa;sa[H+2]=aa[ja+2]}function u(aa,ja,sa,H){sa[H]=aa[ja]*ha;sa[H+1]=aa[ja+1]*ha;sa[H+2]=aa[ja+2]}function x(aa,ja,sa,H){w(aa,ja,sa,H);v(sa,H,sa,H)}function z(aa,ja,sa,H,Q){Q+=aa[ja+2];const fa=ua*aa[ja+1];aa=ua*aa[ja];ja=Math.cos(fa)*Q;sa[H]=Math.cos(aa)*ja;sa[H+1]=Math.sin(aa)*ja;sa[H+2]=Math.sin(fa)*Q}function t(aa,ja,sa,H){z(aa,ja,sa,H,c.moon.radius)}function y(aa,ja,sa,
H){z(aa,ja,sa,H,c.mars.radius)}function B(aa,ja,sa,H){z(aa,ja,sa,H,c.earth.radius)}function A(aa,ja,sa,H,Q){var fa=aa[ja];const ka=aa[ja+1];ja=aa[ja+2];aa=Math.sqrt(fa*fa+ka*ka+ja*ja);ja=b.asinClamped(ja/(0===aa?1:aa));fa=Math.atan2(ka,fa);sa[H++]=Aa*fa;sa[H++]=Aa*ja;sa[H]=aa-Q}function D(aa,ja,sa,H){A(aa,ja,sa,H,c.moon.radius)}function E(aa,ja,sa,H){A(aa,ja,sa,H,c.mars.radius)}function J(aa,ja,sa,H){A(aa,ja,sa,H,c.earth.radius)}function F(aa,ja,sa,H){J(aa,ja,sa,H);p(sa,H,sa,H)}function G(aa,ja,sa,
H){J(aa,ja,sa,H);M(sa,H,sa,H)}function M(aa,ja,sa,H){var Q=c.earth;const fa=ua*aa[ja];var ka=ua*aa[ja+1];aa=aa[ja+2];ja=Math.sin(ka);ka=Math.cos(ka);const za=Q.radius/Math.sqrt(1-Q.eccentricitySquared*ja*ja);sa[H++]=(za+aa)*ka*Math.cos(fa);sa[H++]=(za+aa)*ka*Math.sin(fa);sa[H++]=(za*(1-Q.eccentricitySquared)+aa)*ja}function L(aa,ja,sa,H){var Q=q.earthEllipsoidConstants,fa=aa[ja],ka=aa[ja+1];aa=aa[ja+2];let za;ja=Math.abs(aa);var W=fa*fa+ka*ka;var ea=Math.sqrt(W);var ia=W+aa*aa;var I=Math.sqrt(ia);
fa=Math.atan2(ka,fa);var S=aa*aa/ia;ia=W/ia;ka=Q.a2/I;W=Q.a3-Q.a4/I;.3<ia?(S=ja/I*(1+ia*(Q.a1+ka+S*W)/I),I=Math.asin(S),ka=S*S,ia=Math.sqrt(1-ka)):(ia=ea/I*(1-S*(Q.a5-ka-ia*W)/I),I=Math.acos(ia),ka=1-ia*ia,S=Math.sqrt(ka));za=1-c.earth.eccentricitySquared*ka;ka=c.earth.radius/Math.sqrt(za);Q=Q.a6*ka;ka=ea-ka*ia;W=ja-Q*S;ja=ia*ka+S*W;ea=ia*W-S*ka;Q=ea/(Q/za+ja);I+=Q;0>aa&&(I=-I);sa[H++]=Aa*fa;sa[H++]=Aa*I;sa[H]=ja+ea*Q/2}function T(aa,ja,sa,H){L(aa,ja,sa,H);B(sa,H,sa,H)}function N(aa,ja,sa,H){L(aa,
ja,sa,H);p(sa,H,sa,H)}function K(aa,ja,sa){if(null==aa||null==ja||sa.source.spatialReference===aa&&sa.dest.spatialReference===ja)return sa;const H=l(aa,sa.source),Q=l(ja,sa.dest);H===a.ProjectionID.UNKNOWN&&Q===a.ProjectionID.UNKNOWN?n.equals(aa,ja)?sa.projector=m:sa.projector=null:sa.projector=R[H][Q];return sa}function O(){return{source:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},
projector:m}}a.ProjectionID=void 0;(function(aa){aa[aa.UNKNOWN=0]="UNKNOWN";aa[aa.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";aa[aa.WGS84=2]="WGS84";aa[aa.WEB_MERCATOR=3]="WEB_MERCATOR";aa[aa.WGS84_ECEF=4]="WGS84_ECEF";aa[aa.CGCS2000=5]="CGCS2000";aa[aa.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";aa[aa.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";aa[aa.GCSMARS2000=8]="GCSMARS2000";aa[aa.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";aa[aa.GCSMOON2000=10]="GCSMOON2000";aa[aa.LON_LAT=11]="LON_LAT";
aa[aa.PLATE_CARREE=12]="PLATE_CARREE"})(a.ProjectionID||(a.ProjectionID={}));const R={[a.ProjectionID.WGS84]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:m,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:m,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:p,[a.ProjectionID.PLATE_CARREE]:v,[a.ProjectionID.WGS84]:m,
[a.ProjectionID.WGS84_ECEF]:M},[a.ProjectionID.CGCS2000]:{[a.ProjectionID.CGCS2000]:m,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:m,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:m,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:v,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:M},[a.ProjectionID.GCSMARS2000]:{[a.ProjectionID.CGCS2000]:null,
[a.ProjectionID.GCSMARS2000]:m,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:m,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:y,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.GCSMOON2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,
[a.ProjectionID.GCSMOON2000]:m,[a.ProjectionID.LON_LAT]:m,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:t,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.WEB_MERCATOR]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:w,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:w,[a.ProjectionID.SPHERICAL_ECEF]:r,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:m,[a.ProjectionID.PLATE_CARREE]:x,[a.ProjectionID.WGS84]:w,[a.ProjectionID.WGS84_ECEF]:e},[a.ProjectionID.WGS84_ECEF]:{[a.ProjectionID.CGCS2000]:L,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:L,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:L,
[a.ProjectionID.SPHERICAL_ECEF]:T,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:N,[a.ProjectionID.PLATE_CARREE]:function(aa,ja,sa,H){L(aa,ja,sa,H);v(sa,H,sa,H)},[a.ProjectionID.WGS84]:L,[a.ProjectionID.WGS84_ECEF]:m},[a.ProjectionID.SPHERICAL_ECEF]:{[a.ProjectionID.CGCS2000]:J,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:J,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:J,
[a.ProjectionID.SPHERICAL_ECEF]:m,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:F,[a.ProjectionID.PLATE_CARREE]:function(aa,ja,sa,H){J(aa,ja,sa,H);v(sa,H,sa,H)},[a.ProjectionID.WGS84]:J,[a.ProjectionID.WGS84_ECEF]:G},[a.ProjectionID.SPHERICAL_MARS_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:E,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:E,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,
[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:m,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.SPHERICAL_MOON_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:D,[a.ProjectionID.LON_LAT]:D,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,
[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:m,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.UNKNOWN]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:null,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:m,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.LON_LAT]:{[a.ProjectionID.CGCS2000]:m,[a.ProjectionID.GCSMARS2000]:m,[a.ProjectionID.GCSMOON2000]:m,[a.ProjectionID.LON_LAT]:m,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:m,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:y,[a.ProjectionID.SPHERICAL_MOON_PCPF]:t,[a.ProjectionID.UNKNOWN]:null,
[a.ProjectionID.WEB_MERCATOR]:p,[a.ProjectionID.PLATE_CARREE]:v,[a.ProjectionID.WGS84]:m,[a.ProjectionID.WGS84_ECEF]:M},[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:m,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:m,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,
[a.ProjectionID.PLATE_CARREE]:v,[a.ProjectionID.WGS84]:m,[a.ProjectionID.WGS84_ECEF]:M},[a.ProjectionID.PLATE_CARREE]:{[a.ProjectionID.CGCS2000]:u,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:u,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:u,[a.ProjectionID.SPHERICAL_ECEF]:function(aa,ja,sa,H){u(aa,ja,sa,H);B(sa,H,sa,H)},[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:function(aa,
ja,sa,H){u(aa,ja,sa,H);p(sa,H,sa,H)},[a.ProjectionID.PLATE_CARREE]:m,[a.ProjectionID.WGS84]:u,[a.ProjectionID.WGS84_ECEF]:function(aa,ja,sa,H){u(aa,ja,sa,H);M(sa,H,sa,H)}}},V={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},ma={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},ca=O(),ua=b.deg2rad(1),Aa=b.rad2deg(1),Ma=Math.PI,Ga=.5*Ma,Qa=c.earth.radius,qa=Qa*Ma/180,ha=180/(Qa*Ma);a.classifySpatialReference=l;a.copy3=m;a.createEmptyProjectorCache=O;a.destClassificationCache=
ma;a.getProjector=h;a.getProjectorName=function(aa,ja){switch(h(aa,ja,ca)){case m:return"copy3";case B:return"wgs84ToSphericalECEF";case p:return"wgs84ToWebMercator";case v:return"wgs84ToPlateCarree";case M:return"wgs84ToWGS84ECEF";case w:return"webMercatorToWGS84";case r:return"webMercatorToSphericalECEF";case e:return"webMercatorToWGS84ECEF";case x:return"webMercatorToPlateCarree";case L:return"wgs84ECEFToWGS84";case T:return"wgs84ECEFToSphericalECEF";case N:return"wgs84ECEFToWebMercator";case J:return"sphericalECEFToWGS84";
case F:return"sphericalECEFToWebMercator";case E:return"sphericalMarsPCPFToMars2000";case D:return"sphericalMoonPCPFToMoon2000";case G:return"sphericalECEFToWGS84ECEF";case y:return"mars2000ToSphericalPCPF";case t:return"moon2000ToSphericalPCPF";default:return null}};a.getWGS84ComparableLonLatProjector=function(aa){aa=l(aa,V);return R[aa][a.ProjectionID.WGS84_COMPARABLE_LON_LAT]};a.invPlateCarreeScale=ha;a.lonLatToWebMercatorComparable=g;a.populateProjectorCache=K;a.projectionTable=R;a.projectorCache=
ca;a.sourceClassificationCache=V;a.sphericalPCPFtoLonLatElevation=A;a.wgs84ToWebMercator=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const d=Math.PI/180,f=b.earth.radius,c=b.earth.eccentricitySquared;b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051E3,
f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,
f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},
104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,
f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.earthEllipsoidConstants={a1:f*c,a2:f*c*f*c,a3:f*c*c/2,a4:f*c*f*c*2.5,a5:f*c+f*c*c/2,a6:1-c};a.spheroids=b;a.toRadians=d;a.wktSpheroidRegex=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectXYZToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64",
"./projectBuffer"],function(a,b,d){const f=b.create();a.projectXYZToVector=function(c,q,n,k,h,l){f[0]=c;f[1]=q;f[2]=n;return d.projectBuffer(f,k,0,h,l,0,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){class b{static cacheKey(d,f){return[d.wkid?.toString()??"-1",d.wkt?.toString()??"",d.wkt2?.toString()??"",f.wkid?.toString()??"-1",f.wkt?.toString()??"",f.wkt2?.toString()??
""].join()}static fromGE(d){const f=new b;let c="";for(const q of d.steps)d=a.fromGE(q),f.steps.push(d),c+=d.uid.toString()+",";f._cachedProjection={};f._gtlistentry=null;f._chain=c;return f}constructor(d){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(d?.steps)for(const f of d.steps)f instanceof a?this.steps.push(f):this.steps.push(new a({wkid:f.wkid,wkt:f.wkt,isInverse:f.isInverse}))}getInverse(){const d=new b;d.steps=[];for(let f=this.steps.length-1;0<=f;f--)d.steps.push(this.steps[f].getInverse());
return d}getGTListEntry(){let d="";for(const f of this.steps)d+=f.uid.toString()+",";d!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=d);return this._gtlistentry}assignCachedGe(d,f,c){this._cachedProjection[b.cacheKey(d,f)]=c}getCachedGeTransformation(d,f){let c="";for(const q of this.steps)c+=q.uid.toString()+",";c!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=c);d=this._cachedProjection[b.cacheKey(d,f)];return void 0===d?null:d}}return b})},
"esri/geometry/support/GeographicTransformationStep":function(){define(function(){let a=0;class b{static fromGE(d){const f=new b;f._wkt=d.wkt;f._wkid=d.wkid;f._isInverse=d.isInverse;return f}constructor(d){this.uid=a++;d?(this._wkt=null!=d.wkt?d.wkt:null,this._wkid=null!=d.wkid?d.wkid:-1,this._isInverse=null!=d.isInverse?!0===d.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(d){this._wkt=d;this.uid=a++}get wkid(){return this._wkid}set wkid(d){this._wkid=
d;this.uid=a++}get isInverse(){return this._isInverse}set isInverse(d){this._isInverse=d;this.uid=a++}getInverse(){const d=new b;d._wkt=this.wkt;d._wkid=this._wkid;d._isInverse=!this.isInverse;return d}}return b})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","../ellipsoidUtils","./spatialReferenceUtils"],function(a,b,d,f){a.getGeometryZScaler=function(c,q,n){if(null==q||null==n||n.vcsWkid||f.equals(q,n)||d.isSphericalPCPF(q)||d.isSphericalPCPF(n))return null;
q=b.getMetersPerVerticalUnitForSR(q);n=b.getMetersPerVerticalUnitForSR(n);const k=q/n;if(1===k)return null;switch(c){case "point":case "esriGeometryPoint":return h=>{null!=h?.z&&(h.z*=k)};case "polyline":case "esriGeometryPolyline":return h=>{if(h)for(const l of h.paths)for(const m of l)2<m.length&&(m[2]*=k)};case "polygon":case "esriGeometryPolygon":return h=>{if(h)for(const l of h.rings)for(const m of l)2<m.length&&(m[2]*=k)};case "multipoint":case "esriGeometryMultipoint":return h=>{if(h)for(const l of h.points)2<
l.length&&(l[2]*=k)};case "extent":case "esriGeometryEnvelope":return h=>{h&&null!=h.zmin&&null!=h.zmax&&(h.zmin*=k,h.zmax*=k)};default:return null}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){a.ScaleRangeLayer=
k=>{k=class extends k{constructor(){super(...arguments);this.maxScale=this.minScale=0}get effectiveScaleRange(){const h={minScale:this.minScale,maxScale:this.maxScale};var l=this.parent;l&&"effectiveScaleRange"in l&&(l=l.effectiveScaleRange,h.minScale=0<h.minScale?0<l.minScale?Math.min(h.minScale,l.minScale):h.minScale:l.minScale,h.maxScale=0<h.maxScale?0<l.maxScale?Math.max(h.maxScale,l.maxScale):h.maxScale:l.maxScale);return(l=this._get("effectiveScaleRange"))&&l.minScale===h.minScale&&l.maxScale===
h.maxScale?l:h}};b.__decorate([d.property({type:Number,nonNullable:!0,json:{write:!0}})],k.prototype,"minScale",void 0);b.__decorate([d.property({type:Number,nonNullable:!0,json:{write:!0}})],k.prototype,"maxScale",void 0);b.__decorate([d.property({readOnly:!0})],k.prototype,"effectiveScaleRange",null);return k=b.__decorate([n.subclass("esri.layers.mixins.ScaleRangeLayer")],k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ./refresh".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){a.RefreshableLayer=w=>{w=class extends w{constructor(...r){super(...r);this.refreshTimestamp=this.refreshInterval=0;this._debounceHasDataChanged=f.debounce(()=>this.hasDataChanged());this.when().then(()=>{this.destroyed||m.registerLayer(this)},()=>{})}destroy(){m.unregisterLayer(this)}castRefreshInterval(r){return.1<=r?r:0>=r?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){f.ignoreAbortErrors(this._debounceHasDataChanged()).then(e=>
{e&&this._set("refreshTimestamp",r);this.emit("refresh",{dataChanged:e})},e=>{d.getLogger(this).error(e);this.emit("refresh",{dataChanged:!1,error:e})})}async hasDataChanged(){return!0}get test(){const r=this;return{set refreshInterval(e){r._set("refreshInterval",e)}}}};b.__decorate([c.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:l.excludeTables}}}}})],w.prototype,"refreshInterval",void 0);b.__decorate([q.cast("refreshInterval")],w.prototype,"castRefreshInterval",
null);b.__decorate([c.property({readOnly:!0})],w.prototype,"refreshTimestamp",void 0);b.__decorate([c.property({readOnly:!0})],w.prototype,"refreshParameters",null);return w=b.__decorate([h.subclass("esri.layers.mixins.RefreshableLayer")],w)};a.isRefreshableLayer=function(w){return null!=w&&"object"===typeof w&&"refreshTimestamp"in w&&"refresh"in w};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/refresh":function(){define("exports ../../core/Collection ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/accessorSupport/watch ../../core/accessorSupport/trackingUtils".split(" "),
function(a,b,d,f,c,q,n){function k(g){return null!=g&&"object"===typeof g&&"refreshInterval"in g&&"refresh"in g}function h(g,p){return Number.isFinite(g)&&Number.isFinite(p)?0>=p?g:h(p,g%p):0}function l(){var g=Date.now();let p=!1;for(const v of m){const u=v.deref();if(!u)p=!0;else if(u.refreshInterval){const x=w.get(u)??0;g-x+5>=6E4*u.refreshInterval&&(w.set(u,g),u.refresh(g))}}if(p)for(g=m.length-1;0<=g;g--)m.at(g).deref()||m.removeAt(g)}const m=new b,w=new WeakMap;let r=0,e=0;n.autorun(()=>{const g=
Date.now();let p=0;for(const v of m){const u=v.deref();u&&(p=h(Math.round(6E4*u.refreshInterval),p),u.refreshInterval?w.get(u)||w.set(u,g):w.delete(u))}p!==e&&(e=p,clearInterval(r),r=0===e?0:setInterval(l,e))});a.registerLayer=function(g){k(g)&&m.push(new WeakRef(g))};a.test={get hasRefreshTimer(){return 0<r},get tickInterval(){return e},forceRefresh(){l()},hasLayer(g){return k(g)&&m.some(p=>p.deref()===g)},clear(){for(const g of m){const p=g.deref();p&&w.delete(p)}m.removeAll()}};a.unregisterLayer=
function(g){const p=m.find(v=>v.deref()===g);p&&m.remove(p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/Collection ../../core/has ./LayerLoadContext ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),function(a,b,d,f,c,q,n,k,h){async function l(M,L,T){if(L){L=L.map(N=>m(N,T));L=await Promise.allSettled(L);
for(const N of L)"rejected"!==N.status&&N.value&&M.add(N.value)}}async function m(M,L){const T=await r(M,L);return w(T,M,L)}async function w(M,L,T){M=new M;M.read(L,T.context);"group"===M.type&&("GroupLayer"===L.layerType?await p(M,L,T):g(L)?v(M,L,T.context):e(L)&&await u(M,L,T.context));await h.loadStyleRenderer(M,T.context);return M}async function r(M,L){var T=L.context;let N;switch(T.origin){case "web-scene":switch(T.layerContainerType){case "basemap":N=B;break;case "ground":N=t;break;case "tables":N=
y;break;default:N=z}break;case "link-chart":switch(T.layerContainerType){case "basemap":N=G;break;case "tables":N=F;break;default:N=J}break;default:switch(T.layerContainerType){case "basemap":N=E;break;case "tables":N=D;break;default:N=A}}let K=M.layerType||M.type;!K&&L?.defaultLayerType&&(K=L.defaultLayerType);L=(L=N[K])?c.layerLookupMap[L]:c.layerLookupMap.UnknownLayer;g(M)?(T=T?.portal,M.itemId&&(M=new q({id:M.itemId,portal:T}),await M.load(),M=(await k.selectLayerClassPath(M,new f.LayerLoadContext)).className||
"UnknownLayer",L=c.layerLookupMap[M])):"ArcGISFeatureLayer"===K?n.isMapNotesLayer(M)||n.isMarkupLayer(M)?L=c.layerLookupMap.MapNotesLayer:n.isRouteLayer(M)?L=c.layerLookupMap.RouteLayer:e(M)&&(L=c.layerLookupMap.GroupLayer):M.wmtsInfo?.url&&M.wmtsInfo.layerIdentifier?L=c.layerLookupMap.WMTSLayer:"WFS"===K&&"2.0.0"!==M.wfsInfo?.version&&(L=c.layerLookupMap.UnsupportedLayer);return L()}function e(M){return"ArcGISFeatureLayer"!==M.layerType||g(M)?!1:1<(M.featureCollection?.layers?.length??0)}function g(M){return"Feature Collection"===
M.type}async function p(M,L,T){const N=new b;L=l(N,Array.isArray(L.layers)?L.layers:[],T);try{try{if(await L,"group"===M.type)return M.layers.addMany(N),M}catch(K){M.destroy();for(const O of N)O.destroy();throw K;}}catch(K){throw K;}}function v(M,L,T){L.itemId&&(M.portalItem=new q({id:L.itemId,portal:T?.portal}),M.when(()=>{const N=K=>{var O=K.layerId;x(K,M,L,O,T);(O=L.featureCollection?.layers?.[O])&&K.read(O,T)};M.layers?.forEach(N);M.tables?.forEach(N)}))}async function u(M,L,T){const N=await (0,c.layerLookupMap.FeatureLayer)();
var K=L.featureCollection;const O=K?.showLegend;K=K?.layers?.map((R,V)=>{const ma=new N;ma.read(R,T);R={...T,ignoreDefaults:!0};x(ma,M,L,V,R);null!=O&&ma.read({showLegend:O},R);return ma});M.layers.addMany(K??[])}function x(M,L,T,N,K){M.read({id:`${L.id}-sublayer-${N}`,visibility:T.visibleLayers?.includes(N)??!0},K)}const z={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",
ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",
KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},t={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},y={ArcGISFeatureLayer:"FeatureLayer"},B={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",
WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},A={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",
BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"UnsupportedLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},D={ArcGISFeatureLayer:"FeatureLayer",
SubtypeGroupTable:"UnsupportedLayer"},E={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},J={...A,LinkChartLayer:"LinkChartLayer"},
F={...D},G={...E};a.populateGroupLayer=p;a.populateOperationalLayers=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/LayerLoadContext":function(){define(["exports","../../support/requestPresets"],function(a,b){class d{constructor(){this._serviceMetadatas=new Map;this._itemDatas=new Map}async fetchServiceMetadata(f,c){const q=this._serviceMetadatas.get(f);if(q)return q;c=await b.fetchArcGISServiceJSON(f,c);this._serviceMetadatas.set(f,c);return c}async fetchItemData(f){const {id:c}=
f;if(!c)return null;const {_itemDatas:q}=this;if(q.has(c))return q.get(c);f=await f.fetchData();q.set(c,f);return f}async fetchCustomParameters(f,c){return(f=await this.fetchItemData(f))&&"object"===typeof f&&(c?c(f):f.customParameters)||null}}a.LayerLoadContext=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestPresets":function(){define(["exports","../request"],function(a,b){a.fetchArcGISServiceJSON=async function(d,f){({data:d}=await b(d,{responseType:"json",
query:{f:"json",...f?.customParameters,token:f?.apiKey}}));return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports"],function(a,b){const d=f=>Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));b.layerLookupMap={BingMapsLayer:async()=>(await new Promise((f,c)=>a(["../BingMapsLayer"],q=>f(d(q)),c))).default,BuildingSceneLayer:async()=>(await new Promise((f,
c)=>a(["../BuildingSceneLayer"],q=>f(d(q)),c))).default,CatalogLayer:async()=>(await new Promise((f,c)=>a(["../CatalogLayer"],q=>f(d(q)),c))).default,CSVLayer:async()=>(await new Promise((f,c)=>a(["../CSVLayer"],q=>f(d(q)),c))).default,DimensionLayer:async()=>(await new Promise((f,c)=>a(["../DimensionLayer"],q=>f(d(q)),c))).default,ElevationLayer:async()=>(await new Promise((f,c)=>a(["../ElevationLayer"],q=>f(d(q)),c))).default,FeatureLayer:async()=>(await new Promise((f,c)=>a(["../FeatureLayer"],
q=>f(d(q)),c))).default,GeoJSONLayer:async()=>(await new Promise((f,c)=>a(["../GeoJSONLayer"],q=>f(d(q)),c))).default,GeoRSSLayer:async()=>(await new Promise((f,c)=>a(["../GeoRSSLayer"],q=>f(d(q)),c))).default,GroupLayer:async()=>(await new Promise((f,c)=>a(["../GroupLayer"],q=>f(d(q)),c))).default,ImageryLayer:async()=>(await new Promise((f,c)=>a(["../ImageryLayer"],q=>f(d(q)),c))).default,ImageryTileLayer:async()=>(await new Promise((f,c)=>a(["../ImageryTileLayer"],q=>f(d(q)),c))).default,IntegratedMeshLayer:async()=>
(await new Promise((f,c)=>a(["../IntegratedMeshLayer"],q=>f(d(q)),c))).default,KMLLayer:async()=>(await new Promise((f,c)=>a(["../KMLLayer"],q=>f(d(q)),c))).default,LineOfSightLayer:async()=>(await new Promise((f,c)=>a(["../LineOfSightLayer"],q=>f(d(q)),c))).default,LinkChartLayer:async()=>(await new Promise((f,c)=>a(["../LinkChartLayer"],q=>f(d(q)),c))).default,MapImageLayer:async()=>(await new Promise((f,c)=>a(["../MapImageLayer"],q=>f(d(q)),c))).default,MapNotesLayer:async()=>(await new Promise((f,
c)=>a(["../MapNotesLayer"],q=>f(d(q)),c))).default,MediaLayer:async()=>(await new Promise((f,c)=>a(["../MediaLayer"],q=>f(d(q)),c))).default,OGCFeatureLayer:async()=>(await new Promise((f,c)=>a(["../OGCFeatureLayer"],q=>f(d(q)),c))).default,OpenStreetMapLayer:async()=>(await new Promise((f,c)=>a(["../OpenStreetMapLayer"],q=>f(d(q)),c))).default,OrientedImageryLayer:async()=>(await new Promise((f,c)=>a(["../OrientedImageryLayer"],q=>f(d(q)),c))).default,PointCloudLayer:async()=>(await new Promise((f,
c)=>a(["../PointCloudLayer"],q=>f(d(q)),c))).default,RouteLayer:async()=>(await new Promise((f,c)=>a(["../RouteLayer"],q=>f(d(q)),c))).default,SceneLayer:async()=>(await new Promise((f,c)=>a(["../SceneLayer"],q=>f(d(q)),c))).default,StreamLayer:async()=>(await new Promise((f,c)=>a(["../StreamLayer"],q=>f(d(q)),c))).default,SubtypeGroupLayer:async()=>(await new Promise((f,c)=>a(["../SubtypeGroupLayer"],q=>f(d(q)),c))).default,TileLayer:async()=>(await new Promise((f,c)=>a(["../TileLayer"],q=>f(d(q)),
c))).default,IntegratedMesh3DTilesLayer:async()=>(await new Promise((f,c)=>a(["../IntegratedMesh3DTilesLayer"],q=>f(d(q)),c))).default,UnknownLayer:async()=>(await new Promise((f,c)=>a(["../UnknownLayer"],q=>f(d(q)),c))).default,UnsupportedLayer:async()=>(await new Promise((f,c)=>a(["../UnsupportedLayer"],q=>f(d(q)),c))).default,VectorTileLayer:async()=>(await new Promise((f,c)=>a(["../VectorTileLayer"],q=>f(d(q)),c))).default,VoxelLayer:async()=>(await new Promise((f,c)=>a(["../VoxelLayer"],q=>f(d(q)),
c))).default,WFSLayer:async()=>(await new Promise((f,c)=>a(["../WFSLayer"],q=>f(d(q)),c))).default,WMSLayer:async()=>(await new Promise((f,c)=>a(["../WMSLayer"],q=>f(d(q)),c))).default,WMTSLayer:async()=>(await new Promise((f,c)=>a(["../WMTSLayer"],q=>f(d(q)),c))).default,WebTileLayer:async()=>(await new Promise((f,c)=>a(["../WebTileLayer"],q=>f(d(q)),c))).default};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],
function(a){function b(d,f){return d.layerType&&"ArcGISFeatureLayer"===d.layerType?d.featureCollectionType===f?!0:!1:!1}a.isMapNotesLayer=function(d){return b(d,"notes")};a.isMarkupLayer=function(d){return b(d,"markup")};a.isRouteLayer=function(d){return b(d,"route")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/Error ../../layers/support/associatedFeatureServiceUtils ../../layers/support/LayerLoadContext ../../layers/support/layerUtils ../../layers/support/lazyLayerLoader ../PortalItem ./loadUtils ./portalItemUtils".split(" "),
function(a,b,d,f,c,q,n,k,h){async function l(t){await t.load();const y=new f.LayerLoadContext;t=await m(t,y);return w(t)}async function m(t,y){switch(t.type){case "3DTiles Service":return{className:"IntegratedMesh3DTilesLayer"};case "CSV":return{className:"CSVLayer"};case "Feature Collection":return p(t);case "Feature Service":return e(t,y);case "Feed":return{className:"StreamLayer"};case "GeoJson":return{className:"GeoJSONLayer"};case "Group Layer":return{className:"GroupLayer"};case "Image Service":return v(t,
y);case "KML":return{className:"KMLLayer"};case "Map Service":return r(t,y);case "Media Layer":return{className:"MediaLayer"};case "Scene Service":return g(t,y);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "WFS":return{className:"WFSLayer"};case "WMS":return{className:"WMSLayer"};case "WMTS":return{className:"WMTSLayer"};default:throw new b("portal:unknown-item-type","Unknown item type '${type}'",{type:t.type});}}async function w(t){return{constructor:await (0,q.layerLookupMap[t.className])(),
properties:t.properties}}async function r(t,y){return await u(t,y)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function e(t,y){t=await x(t,y);if("object"===typeof t){const {sourceJSON:B,className:A}=t;y={sourceJSON:B};null!=t.id&&(y.layerId=t.id);return{className:A||"FeatureLayer",properties:y}}return{className:"GroupLayer"}}async function g(t,y){var B=await x(t,y,async()=>{try{if(!t.url)return[];const {serverUrl:A}=await d.findAssociatedFeatureService(t.url,{sceneLayerItem:t});return(await y.fetchServiceMetadata(A))?.tables??
[]}catch{return[]}});if("object"===typeof B){const A={};let D=void 0;null!=B.id?(A.layerId=B.id,D=`${t.url}/layers/${B.id}`):D=t.url;if(t.typeKeywords?.length)for(const E of Object.keys(c.sceneServiceLayerTypeToClassName))if(t.typeKeywords.includes(E))return{className:c.sceneServiceLayerTypeToClassName[E]};B=await y.fetchServiceMetadata(D,{customParameters:await y.fetchCustomParameters(t,E=>k.getFirstLayerOrTable(E)?.customParameters)});return{className:c.sceneServiceLayerTypeToClassName[B?.layerType]||
"SceneLayer",properties:A}}return!1===B&&"Voxel"===(await y.fetchServiceMetadata(t.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}async function p(t){await t.load();const y=h.hasTypeKeyword(t,"Map Notes"),B=h.hasTypeKeyword(t,"Markup");if(y||B)return{className:"MapNotesLayer"};if(h.hasTypeKeyword(t,"Route Layer"))return{className:"RouteLayer"};t=await t.fetchData();return 1===k.getNumLayersAndTables(t)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function v(t,y){await t.load();
var B=t.typeKeywords?.map(A=>A.toLowerCase())??[];if(B.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(B.includes("tiled imagery"))return{className:"ImageryTileLayer"};B=(await y.fetchItemData(t))?.layerType;if("ArcGISTiledImageServiceLayer"===B)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===B)return{className:"ImageryLayer"};y=await y.fetchServiceMetadata(t.url,{customParameters:await y.fetchCustomParameters(t)});t=y.cacheType?.toLowerCase();y=y.capabilities?.toLowerCase().includes("tilesonly");
return"map"===t||y?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}async function u(t,y){({tileInfo:t}=await y.fetchServiceMetadata(t.url,{customParameters:await y.fetchCustomParameters(t)}));return t}async function x(t,y,B){const {url:A,type:D}=t;var E="Feature Service"===D;if(!A)return{};if(/\/\d+$/.test(A))return E&&(B=await y.fetchServiceMetadata(A,{customParameters:await y.fetchCustomParameters(t,F=>k.getFirstLayerOrTable(F)?.customParameters)}),"Oriented Imagery Layer"===B.type)?{id:B.id,
className:"OrientedImageryLayer",sourceJSON:B}:{};await t.load();let J=await y.fetchItemData(t);if(E)return E=await k.preprocessFSItemData(J,A,y),B=z(E),"object"===typeof B&&(t=k.getSubtypeGroupLayerIds(E),y=k.getOrientedImageryLayerIds(E),E=k.getCatalogLayerIds(E),B.className=null!=B.id&&t.includes(B.id)?"SubtypeGroupLayer":null!=B.id&&y?.includes(B.id)?"OrientedImageryLayer":null!=B.id&&E?.includes(B.id)?"CatalogLayer":"FeatureLayer"),B;"Scene Service"===D&&(J=await k.populateSceneServiceItemData(t,
J,y));if(0<k.getNumLayersAndTables(J))return z(J);t=await y.fetchServiceMetadata(A);B&&(t.tables=await B());return z(t)}function z(t){return 1===k.getNumLayersAndTables(t)?{id:k.getFirstLayerOrTableId(t)}:!1}a.fromItem=async function(t){!t.portalItem||t.portalItem instanceof n||(t={...t,portalItem:new n(t.portalItem)});const y=await l(t.portalItem);return new y.constructor({portalItem:t.portalItem,...y.properties})};a.selectLayerClassPath=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/associatedFeatureServiceUtils":function(){define("exports ../../kernel ../../request ../../core/Error ../../core/promiseUtils ./arcgisLayerUrl ../../portal/Portal ../../portal/PortalItem".split(" "),function(a,b,d,f,c,q,n,k){async function h(e){var g=(await l(e)).serviceItemId;if(!g)return null;g=new k({id:g,apiKey:e.apiKey});const p=await m(e);null!=p&&(g.portal=new n({url:p}));try{return g.load({signal:e.signal})}catch(v){return c.throwIfAbortError(v),null}}async function l(e){if(e.rootDocument)return e.rootDocument;
const g={query:{f:"json",...e.customParameters,token:e.apiKey},responseType:"json",signal:e.signal};try{const p=await d(e.sceneServerUrl,g);e.rootDocument=p.data}catch{e.rootDocument={}}return e.rootDocument}async function m(e){var g=b.id?.findServerInfo(e.sceneServerUrl);if(g?.owningSystemUrl)return g.owningSystemUrl;g=e.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const p=(await d(g,{query:{f:"json"},responseType:"json",signal:e.signal})).data.owningSystemUrl;if(p)return p}catch(p){c.throwIfAbortError(p)}return null}
async function w(e,g){e=q.parse(e);if(!e)throw new f("invalid-feature-service-url","Invalid feature service url");const p=e.url.path;e=g.layerId;if(null==e)return{serverUrl:p};var v=l(g),u=g.featureServiceItem?await g.featureServiceItem.fetchData("json"):null;const x=(u?.layers?.[0]||u?.tables?.[0])?.customParameters,z=B=>d(p,{query:{f:"json",...x},responseType:"json",authMode:B,signal:g.signal});u=z("anonymous").catch(()=>z("no-prompt"));const [t,y]=await Promise.all([u,v]);v=y?.layers;u=t.data&&
t.data.layers;if(!Array.isArray(u))throw Error("expected layers array");if(!Array.isArray(v)){if(null!=e&&e<u.length)return{serverUrl:p,layerId:u[e].id}}else for(let B=0;B<Math.min(v.length,u.length);B++)if(v[B].id===e)return{serverUrl:p,layerId:u[B].id};throw Error("could not find matching associated sublayer");}async function r({sceneLayerItem:e,signal:g}){if(!e)return null;try{const p=(await e.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:g})).find(u=>"Feature Service"===
u.type)||null;if(!p)return null;const v=new k({portal:p.portal,id:p.id});await v.load();return v}catch(p){return c.throwIfAbortError(p),null}}a.findAssociatedFeatureService=async function(e,g){e=q.parse(e);if(!e)throw new f("invalid-url","Invalid scene service url");e={...g,sceneServerUrl:e.url.path,layerId:e.sublayer??void 0};e.sceneLayerItem??(e.sceneLayerItem=await h(e));if(null==e.sceneLayerItem)return w(e.sceneServerUrl.replace("/SceneServer","/FeatureServer"),e);g=await r(e);if(!g?.url)throw new f("related-service-not-found",
"Could not find feature service through portal item relationship");e.featureServiceItem=g;e=await w(g.url,e);e.portalItem=g;return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,d){function f(w){if(null==w)return null;w=b.urlToObject(w);w=w?.path.match(h)||w?.path.match(l);if(!w)return null;const [,r,e,g,p]=w;w=e.indexOf("/");return{title:q(-1!==
w?e.slice(w+1):e),serverType:n[g.toLowerCase()],sublayer:null!=p&&""!==p?parseInt(p,10):null,url:{path:r}}}function c(w){return(w=b.urlToObject(w).path.match(m))?{serviceUrl:w[1],sublayerId:Number(w[2])}:null}function q(w){w=w.replaceAll(/\s*[/_]+\s*/g," ");return w[0].toUpperCase()+w.slice(1)}const n={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer"},
k=Object.values(n),h=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${k.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${k.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),m=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=q;a.isArcGISUrl=function(w){return!!h.test(w)};a.isHostedAgolService=function(w){if(!w)return!1;w=w.toLowerCase();const r=w.includes(".arcgis.com/");w=w.includes("//services")||w.includes("//tiles")||w.includes("//features");
return r&&w};a.isServerOrServicesAGOLUrl=function(w){if(!w)return!1;w=(new b.Url(b.makeAbsolute(w))).authority?.toLowerCase();return"server.arcgisonline.com"===w||"services.arcgisonline.com"===w};a.isWmsServer=function(w){if(!w)return!1;var r=w.toLowerCase();w=r.includes("/services/");const e=r.includes("/mapserver/wmsserver"),g=r.includes("/imageserver/wmsserver");r=r.includes("/wmsserver");return w&&(e||g||r)};a.parse=f;a.parseNonStandardSublayerUrl=c;a.sanitizeUrl=function(w,r){return w?b.removeTrailingSlash(b.removeQueryParameters(w,
r)):w};a.sanitizeUrlWithLayerId=function(w){let {url:r}=w;if(!r)return{url:r};r=b.removeQueryParameters(r,w.logger);const e=b.urlToObject(r),g=f(e.path);let p=void 0;null!=g?(null!=g.sublayer&&null==w.layer.layerId&&(p=g.sublayer),r=g.url.path):w.nonStandardUrlAllowed&&(w=c(e.path),null!=w&&(r=w.serviceUrl,p=w.sublayerId));return{url:b.removeTrailingSlash(r),layerId:p}};a.serverTypes=k;a.titleFromUrlAndName=function(w,r){const e=[];w&&(w=f(w),null!=w&&w.title&&e.push(w.title));r&&(r=q(r),e.push(r));
if(2===e.length){if(e[0].toLowerCase().includes(e[1].toLowerCase()))return e[0];if(e[1].toLowerCase().includes(e[0].toLowerCase()))return e[1]}return e.join(" - ")};a.writeUrlWithLayerId=function(w,r,e,g,p){d.write(r,g,"url",p);g.url&&null!=w.layerId&&(g.url=b.join(g.url,e,w.layerId.toString()))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/loadUtils":function(){define(["exports","../../layers/support/associatedFeatureServiceUtils"],function(a,b){function d(c){const q=
{id:c.id,name:c.name};"Oriented Imagery Layer"===c.type&&(q.layerType="OrientedImageryLayer");return q}function f(c){if(!c)return null;const {layers:q,tables:n}=c;return q?.length?q[0]:n?.length?n[0]:null}a.createSublayerData=d;a.getCatalogLayerIds=function(c){return c?.layers?.filter(({layerType:q})=>"CatalogLayer"===q).map(({id:q})=>q)};a.getFirstLayerOrTable=f;a.getFirstLayerOrTableId=function(c){const {layers:q,tables:n}=c;return q?.length?q[0].id:n?.length?n[0].id:null};a.getNumLayersAndTables=
function(c){return(c?.layers?.length??0)+(c?.tables?.length??0)};a.getOrientedImageryLayerIds=function(c){return c?.layers?.filter(({layerType:q})=>"OrientedImageryLayer"===q).map(({id:q})=>q)};a.getSubtypeGroupLayerIds=function(c){const q=[];c?.layers?.forEach(n=>{"SubtypeGroupLayer"===n.layerType&&q.push(n.id)});return q};a.populateSceneServiceItemData=async function(c,q,n){if(!c?.url)return q??{};q??={};if(!q.layers){const l=await n.fetchServiceMetadata(c.url);q.layers=l.layers?.map(d)}const {serverUrl:k,
portalItem:h}=await b.findAssociatedFeatureService(c.url,{sceneLayerItem:c,customParameters:f(q)?.customParameters}).catch(()=>({serverUrl:null,portalItem:null}));if(null==k)return q.tables=[],q;!q.tables&&h&&(c=await h.fetchData(),c?.tables?q.tables=c.tables.map(d):(n=await n.fetchServiceMetadata(k,{customParameters:f(c)?.customParameters}),q.tables=n?.tables?.map(d)));if(q.tables)for(const l of q.tables)l.url=`${k}/${l.id}`;return q};a.preprocessFSItemData=async function(c,q,n){if(null==c?.layers||
null==c?.tables)q=await n.fetchServiceMetadata(q,{customParameters:f(c)?.customParameters}),c=c||{},c.layers=c.layers||q?.layers?.map(d),c.tables=c.tables||q?.tables?.map(d);return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,d,f){a.loadStyleRenderer=async function(c,q,n){var k=c&&c.getAtOrigin&&c.getAtOrigin("renderer",q.origin);
k&&"unique-value"===k.type&&k.styleOrigin&&(k=await b.result(k.populateFromStyle()),d.throwIfAborted(n),!1===k.ok&&(n=k.error,q?.messages&&q.messages.push(new f("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:q})),c.clear("renderer",q?.origin)))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/lang ../core/Logger ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/layerContainerType ../form/FormTemplate ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/EditBusLayer ./mixins/FeatureEffectLayer ./mixins/FeatureLayerBase ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/PublishableLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/featureLayerUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/serviceCapabilitiesUtils ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/FeatureSet ../rest/support/Query ../rest/support/TopFeaturesQuery ../support/popupUtils ../webdoc/interfaces ../webdoc/support/opacityUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E,J,F,G,M,L,T,N,K,O,R,V,ma,ca,ua,Aa,Ma,Ga,Qa,qa,ha,aa,ja,sa,H,Q,fa,ka,za,W,ea,ia,I,S,X,na,va,Ea,da,pa,ra,Ca,Da,Na,Oa){function Pa(oa,U){return new u("layer:unsupported",`Layer (${oa.title}, ${oa.id}) of type '${oa.declaredClass}' ${U}`,{layer:oa})}function Ra(oa,U,ba){oa=!!ba?.writeLayerSchema;return{enabled:oa,ignoreOrigin:oa}}f=ea.defineFieldProperties();p=class extends Ma.FeatureLayerBase(Ga.FeatureReductionLayer(Aa.FeatureEffectLayer(aa.PublishableLayer(ua.EditBusLayer(ma.BlendLayer(qa.OrderedLayer(H.TemporalLayer(sa.ScaleRangeLayer(ja.RefreshableLayer(V.ArcGISService(Qa.OperationalLayer(ha.PortalLayer(t.MultiOriginJSONMixin(ca.CustomParametersMixin(R.APIKeyMixin(p.ClonableMixin(K))))))))))))))))){constructor(...oa){super(...oa);
this.geometryType=this.fullExtent=this.formTemplate=this.fieldsIndex=this.fields=this.dynamicDataSource=this.displayField=this.copyright=this.charts=null;this.hasZ=this.hasM=void 0;this.infoFor3D=null;this.isTable=!1;this.labelsVisible=!0;this.labelingInfo=null;this.legendEnabled=!0;this.path=this.outFields=this.objectIdField=null;this.popupEnabled=!0;this.resourceInfo=this.popupTemplate=null;this.screenSizePerspectiveEnabled=!0;this.spatialReference=N.WGS84;this.title=this.timeInfo=this.templates=
this.subtypeCode=null;this.sublayerTitleMode="item-title";this.type="feature";this.types=this.typeIdField=null;this.visible=!0;this._debouncedSaveOperations=B.debounce(async(U,ba,ya)=>{const {save:xa,saveAs:Ka}=await new Promise((Sa,Ta)=>a(["./save/featureLayerUtils"],Sa,Ta));switch(U){case Na.SaveOperationType.SAVE:return xa(this,ba);case Na.SaveOperationType.SAVE_AS:return Ka(this,ya,ba)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(oa,U){return"string"===typeof oa?{url:oa,...U}:oa}load(oa){const U=
null!=oa?oa.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(U).then(ya=>this.initLayerProperties(ya))),Promise.resolve(this);const ba=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},oa).catch(B.throwIfAbortError).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const ya=await this._fetchFirstValidLayerId(U);null!=ya&&(this.layerId=ya)}if(!this.url&&
!this._hasMemorySource())throw new u("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(U))}).then(()=>ka.ensureLayerCredential(this,"load",oa));this.addResolvingPromise(ba);return Promise.resolve(this)}readCapabilities(oa,U){U=U.layerDefinition||U;return X.getFeatureLayerCapabilities(U,this.url)}get createQueryVersion(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");
this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&!this.capabilities?.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges}set editingEnabled(oa){this._overrideIfSome("editingEnabled",
oa)}readEditingEnabled(oa,U){return this._readEditingEnabled(U,!1)}readEditingEnabledFromWebMap(oa,U,ba){return this._readEditingEnabled(U,!0,ba)}writeEditingEnabled(oa,U){this._writeEditingEnabled(oa,U,!1)}writeEditingEnabledToWebMap(oa,U,ba,ya){this._writeEditingEnabled(oa,U,!0,ya)}get effectiveEditingEnabled(){return ka.computeEffectiveEditingEnabled(this)}readIsTable(oa,U){U=U?.layerDefinition??U;return"Table"===U.type||!U.geometryType}writeIsTable(oa,U,ba,ya){ya?.writeLayerSchema&&y.setDeepValue(ba,
oa?"Table":"Feature Layer",U)}readGlobalIdField(oa,U){return ka.readGlobalIdField(U.layerDefinition||U)}readObjectIdField(oa,U){return ka.readObjectIdField(U.layerDefinition||U)}get parsedUrl(){const oa=D.urlToObject(this.url);null!=oa&&(null!=this.dynamicDataSource?oa.path=D.join(oa.path,"dynamicLayer"):null!=this.layerId&&(oa.path=D.join(oa.path,this.layerId.toString())));return oa}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(oa){ia.fixRendererFields(oa,this.fieldsIndex);
this._set("renderer",oa)}readRenderer(oa,U,ba){U=U.layerDefinition||U;return(oa=U.drawingInfo?.renderer)?((oa=w.read(oa,U,ba)??void 0)||z.getLogger(this).error("Failed to create renderer",{rendererDefinition:U.drawingInfo.renderer,layer:this,context:ba}),oa):ka.createDefaultRenderer(U,ba)}set source(oa){const U=this._get("source");U!==oa&&(U&&U instanceof v&&this._resetMemorySource(U),oa&&oa instanceof v&&this._initMemorySource(oa),this._set("source",oa))}castSource(oa){return oa?Array.isArray(oa)||
oa instanceof v?new O.MemorySource({layer:this,items:oa}):oa:null}readSource(oa,U){oa=pa.fromJSON(U.featureSet);return new O.MemorySource({layer:this,items:oa?.features??[]})}readTemplates(oa,U){U=U.editFieldsInfo;const ba=U?.editorField;oa=oa?.map(ya=>za.fromJSON(ya));this._fixTemplates(oa,U?.creatorField);this._fixTemplates(oa,ba);return oa}readTitle(oa,U){oa=U.layerDefinition?.name??U.name;U=U.title||U.layerDefinition?.title;if(oa){U=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return this.url?
Q.titleFromUrlAndName(this.url,oa):oa;if(!oa&&this.url){const ba=Q.parse(this.url);null!=ba&&(oa=ba.title)}if(!oa)return;"item-title-and-service-name"===this.sublayerTitleMode&&U&&U!==oa&&(oa=U+" - "+oa);return Q.cleanTitle(oa)}if("item-title"===this.sublayerTitleMode&&U)return U}readTitleFromWebMap(oa,U){return U.title||U.layerDefinition?.name}readTypeIdField(oa,U){U=U.layerDefinition||U;let ba=U.typeIdField;ba&&U.fields&&(ba=ba.toLowerCase(),oa=U.fields.find(ya=>ya.name.toLowerCase()===ba))&&(ba=
oa.name);return ba}readTypes(oa,U){U=U.layerDefinition||U;oa=U.types;U=U.editFieldsInfo;const ba=U?.creatorField,ya=U?.editorField;return oa?.map(xa=>{xa=W.fromJSON(xa);this._fixTemplates(xa.templates,ba);this._fixTemplates(xa.templates,ya);return xa})}readVisible(oa,U){if(null!=U.layerDefinition?.defaultVisibility)return!!U.layerDefinition.defaultVisibility;if(null!=U.visibility)return!!U.visibility}async addAttachment(oa,U){return ka.addAttachment(this,oa,U,"FeatureLayer")}async updateAttachment(oa,
U,ba){return ka.updateAttachment(this,oa,U,ba,"FeatureLayer")}async applyEdits(oa,U){return ka.applyEdits(this,oa,U)}async uploadAssets(oa,U){return ka.uploadAssets(this,oa,U)}on(oa,U){return super.on(oa,U)}createPopupTemplate(oa){return Da.createPopupTemplate(this,oa)}async createGraphicsSource(oa){if(this._hasMemorySource()&&this.source)return this.source.load({signal:oa});const {default:U}=await B.whenOrAbort(new Promise((ba,ya)=>a(["./graphics/sources/FeatureLayerSource"],xa=>ba(Object.freeze(Object.defineProperty({__proto__:null,
default:xa},Symbol.toStringTag,{value:"Module"}))),ya)),oa);return(new U({layer:this})).load({signal:oa})}createQuery(){const oa=ka.createQuery(this);oa.dynamicDataSource=this.dynamicDataSource;const U=A.sqlAnd(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null);oa.where=U||"1\x3d1";return oa}async deleteAttachments(oa,U){return ka.deleteAttachments(this,oa,U,"FeatureLayer")}async fetchRecomputedExtents(oa){return ka.fetchRecomputedExtents(this,oa,"FeatureLayer")}getFeatureType(oa){const {typeIdField:U,
types:ba}=this;if(!U||!oa)return null;const ya=oa.attributes?oa.attributes[U]:void 0;if(null==ya)return null;let xa=null;ba?.some(Ka=>{const {id:Sa}=Ka;if(null==Sa)return!1;Sa.toString()===ya.toString()&&(xa=Ka);return!!xa});return xa}getFieldDomain(oa,U){return(U=this.getFeatureType(U?.feature))&&(U=U.domains&&U.domains[oa])&&"inherited"!==U.type?U:this._getLayerDomain(oa)}getField(oa){return this.fieldsIndex.get(oa)}async queryAttachments(oa,U){return ka.queryAttachments(this,oa,U,"FeatureLayer")}async queryFeatures(oa,
U){const ba=await this.load();oa=await ba.source.queryFeatures(ra.from(oa)??ba.createQuery(),U);if(oa?.features)for(const ya of oa.features)ya.layer=ya.sourceLayer=ba;return oa}async queryObjectIds(oa,U){return ka.queryObjectIds(this,oa,U,"FeatureLayer")}async queryFeatureCount(oa,U){return ka.queryFeatureCount(this,oa,U,"FeatureLayer")}async queryExtent(oa,U){return ka.queryExtent(this,oa,U,"FeatureLayer")}async queryRelatedFeatures(oa,U){return ka.queryRelatedFeatures(this,oa,U,"FeatureLayer")}async queryRelatedFeaturesCount(oa,
U){return ka.queryRelatedFeaturesCount(this,oa,U,"FeatureLayer")}async queryTopFeatures(oa,U){const {source:ba,capabilities:ya}=await this.load();if(!ba.queryTopFeatures||!ya?.query?.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryTopFeatures capability");oa=await ba.queryTopFeatures(Ca.from(oa),U);if(oa?.features)for(const xa of oa.features)xa.layer=xa.sourceLayer=this;return oa}async queryTopObjectIds(oa,U){const {source:ba,capabilities:ya}=await this.load();
if(!ba.queryTopObjectIds||!ya?.query.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryTopObjectIds capability");return ba.queryTopObjectIds(Ca.from(oa),U)}async queryTopFeaturesExtent(oa,U){const {source:ba,capabilities:ya}=await this.load();if(!ba.queryTopExtents||!ya?.query?.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryTopExtents capability");return ba.queryTopExtents(Ca.from(oa),U)}async queryTopFeatureCount(oa,U){const {source:ba,
capabilities:ya}=await this.load();if(!ba.queryTopCount||!ya?.query?.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryFeatureCount capability");return ba.queryTopCount(Ca.from(oa),U)}read(oa,U){const ba=oa.featureCollection;if(ba||"Feature Collection"===oa.type)this.resourceInfo=oa;if(ba){const ya=ba.layers;ya&&1===ya.length&&(super.read(ya[0],U),null!=ba.showLegend&&super.read({showLegend:ba.showLegend},U))}super.read(oa,U);U&&"service"===U.origin&&(this.revert(["objectIdField",
"fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(oa,U){U={...U,origin:U?.origin??void 0,writeLayerSchema:U?.writeLayerSchema??this._hasMemorySource()};const {origin:ba,layerContainerType:ya,messages:xa}=U;if(this.dynamicDataSource)return xa?.push(Pa(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===ba||"web-scene"===ba)&&"tables"!==
ya)return xa?.push(Pa(this,`a table source can only be written to tables, not ${ya}`)),null;if(this._hasMemorySource())return xa?.push(Pa(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===ba||"web-scene"===ba)&&"tables"===ya)return xa?.push(Pa(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(oa,U)}clone(){if(this._hasMemorySource())throw new u("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);
return super.clone()}serviceSupportsSpatialReference(oa){return this.loaded?"memory"===this.source?.type?!0:va.serviceSupportsSpatialReference(this,oa):!1}async save(oa){return this._debouncedSaveOperations(Na.SaveOperationType.SAVE,oa)}async saveAs(oa,U){return this._debouncedSaveOperations(Na.SaveOperationType.SAVE_AS,U,oa)}_readEditingEnabled(oa,U,ba){let ya=oa.layerDefinition?.capabilities;if(ya)return this._hasEditingCapability(ya);ya=oa.capabilities;if(U&&"web-map"===ba?.origin&&!this._hasMemorySource()&&
ya)return this._hasEditingCapability(ya)}_hasEditingCapability(oa){return oa.toLowerCase().split(",").map(U=>U.trim()).includes("editing")}_writeEditingEnabled(oa,U,ba,ya){oa||(oa=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query",y.setDeepValue("layerDefinition.capabilities",oa,U),ba&&!ya?.writeLayerSchema&&(U.capabilities=oa))}_getLayerDomain(oa){return(oa=this.fieldsIndex.get(oa))?oa.domain:null}_fetchFirstValidLayerId(oa){return e(this.url,{query:{f:"json",...this.customParameters,
token:this.apiKey},responseType:"json",signal:oa}).then(U=>{if(U=U.data)return this.findFirstValidLayerId(U)})}async initLayerProperties(oa){this._set("source",oa);oa.sourceJSON&&(this.sourceJSON=oa.sourceJSON,this.read(oa.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}));this._verifySource();this._verifyFields();ia.fixRendererFields(this.renderer,this.fieldsIndex);ia.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return da.loadStyleRenderer(this,
{origin:"service"})}async hasDataChanged(){return ka.hasDataChanged(this)}async fetchPublishingStatus(){const oa=this.source;return oa?.fetchPublishingStatus?oa.fetchPublishingStatus():"unavailable"}_verifyFields(){const oa=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+oa+")");this.isTable||this._hasMemorySource()||-1!==oa.search(/\/FeatureServer\//i)||this.fields?.some(U=>"geometry"===U.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+
oa+")")}_fixTemplates(oa,U){oa&&oa.forEach(ba=>{(ba=ba.prototype?.attributes)&&U&&delete ba[U]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new u("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new u("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");}_initMemorySource(oa){oa.forEach(U=>{U.layer=this;U.sourceLayer=this});this.addHandles([oa.on("after-add",
U=>{U.item.layer=this;U.item.sourceLayer=this}),oa.on("after-remove",U=>{U.item.layer=null;U.item.sourceLayer=null})],"fl-source")}_resetMemorySource(oa){oa.forEach(U=>{U.layer=null;U.sourceLayer=null});this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(oa){if(Array.isArray(oa.layers)&&0<oa.layers.length)return oa.layers[0].id;if(Array.isArray(oa.tables)&&0<oa.tables.length)return oa.tables[0].id}};b.__decorate([F.reader("service","capabilities")],
p.prototype,"readCapabilities",null);b.__decorate([E.property({json:{origins:{"web-scene":{write:!1}},write:!0}})],p.prototype,"charts",void 0);b.__decorate([E.property({readOnly:!0})],p.prototype,"createQueryVersion",null);b.__decorate([E.property({json:{read:{source:"layerDefinition.copyrightText"}}})],p.prototype,"copyright",void 0);b.__decorate([E.property({json:{read:{source:"layerDefinition.displayField"}}})],p.prototype,"displayField",void 0);b.__decorate([E.property({types:g.symbolTypes,readOnly:!0})],
p.prototype,"defaultSymbol",void 0);b.__decorate([E.property({type:Ea.DataLayerSource})],p.prototype,"dynamicDataSource",void 0);b.__decorate([E.property({type:Boolean})],p.prototype,"editingEnabled",null);b.__decorate([F.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],p.prototype,"readEditingEnabled",null);b.__decorate([F.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],p.prototype,"readEditingEnabledFromWebMap",null);b.__decorate([M.writer(["portal-item",
"web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],p.prototype,"writeEditingEnabled",null);b.__decorate([M.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],p.prototype,"writeEditingEnabledToWebMap",null);b.__decorate([E.property({readOnly:!0})],p.prototype,"effectiveEditingEnabled",null);b.__decorate([E.property({...f.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",
overridePolicy:Ra}}}}})],p.prototype,"fields",void 0);b.__decorate([E.property(f.fieldsIndex)],p.prototype,"fieldsIndex",void 0);b.__decorate([E.property({type:T,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],p.prototype,"formTemplate",void 0);b.__decorate([E.property({json:{read:{source:"layerDefinition.extent"}}})],p.prototype,"fullExtent",void 0);b.__decorate([E.property({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ra,writer(oa,
U,ba){(oa=oa?ka.geometryTypeKebabDict.toJSON(oa):null)&&y.setDeepValue(ba,oa,U)}}}},read:{source:"layerDefinition.geometryType",reader:ka.geometryTypeKebabDict.read}}})],p.prototype,"geometryType",void 0);b.__decorate([E.property({json:{read:{source:"layerDefinition.hasM"}}})],p.prototype,"hasM",void 0);b.__decorate([E.property({json:{read:{source:"layerDefinition.hasZ"}}})],p.prototype,"hasZ",void 0);b.__decorate([E.property(fa.id)],p.prototype,"id",void 0);b.__decorate([E.property({readOnly:!0,
json:{origins:{service:{read:!0}},read:!1}})],p.prototype,"infoFor3D",void 0);b.__decorate([E.property({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],p.prototype,"isTable",void 0);b.__decorate([F.reader("service","isTable",["type","geometryType"]),F.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],p.prototype,"readIsTable",null);b.__decorate([M.writer("web-map","isTable")],p.prototype,"writeIsTable",null);b.__decorate([E.property(fa.labelsVisible)],
p.prototype,"labelsVisible",void 0);b.__decorate([E.property({type:[I],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:S.reader,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:S.reader,write:{enabled:!0,layerContainerTypes:L.excludeTables}}},name:"layerDefinition.drawingInfo.labelingInfo",read:S.reader,write:!0}})],p.prototype,"labelingInfo",void 0);b.__decorate([E.property((()=>{const oa=x.clone(fa.opacityDrawingInfo);oa.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",
writer(U,ba,ya){y.setDeepValue(ya,Oa.opacityToTransparency(U),ba)}}};return oa})())],p.prototype,"opacity",void 0);b.__decorate([E.property(fa.legendEnabled)],p.prototype,"legendEnabled",void 0);b.__decorate([E.property({type:["show","hide"],json:(()=>{const oa=x.clone(fa.listMode.json);oa.origins["portal-item"]={read:!1,write:!1};return oa})()})],p.prototype,"listMode",void 0);b.__decorate([F.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],p.prototype,"readGlobalIdField",
null);b.__decorate([E.property({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ra}}}}})],p.prototype,"objectIdField",void 0);b.__decorate([F.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],p.prototype,"readObjectIdField",null);b.__decorate([E.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],p.prototype,"operationalLayerType",void 0);b.__decorate([E.property(f.outFields)],p.prototype,"outFields",void 0);
b.__decorate([E.property({readOnly:!0})],p.prototype,"parsedUrl",null);b.__decorate([E.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],p.prototype,"path",void 0);b.__decorate([E.property(fa.popupEnabled)],p.prototype,"popupEnabled",void 0);b.__decorate([E.property({type:d,json:{name:"popupInfo",write:!0}})],p.prototype,"popupTemplate",void 0);b.__decorate([E.property({readOnly:!0})],p.prototype,"defaultPopupTemplate",null);b.__decorate([E.property({types:r.rendererTypes,
json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:r.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:L.excludeTables,overridePolicy(oa,U,ba){return{ignoreOrigin:ba?.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(oa,U,ba){return{ignoreOrigin:ba?.writeLayerSchema}}}}})],p.prototype,"renderer",null);b.__decorate([F.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),
F.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],p.prototype,"readRenderer",null);b.__decorate([E.property()],p.prototype,"resourceInfo",void 0);b.__decorate([E.property((()=>{const oa=x.clone(fa.screenSizePerspectiveEnabled);oa.json.origins["portal-item"]={read:!1,write:!1};return oa})())],p.prototype,"screenSizePerspectiveEnabled",void 0);b.__decorate([E.property({clonable:!1})],p.prototype,"source",null);b.__decorate([J.cast("source")],p.prototype,
"castSource",null);b.__decorate([F.reader("portal-item","source",["featureSet"]),F.reader("web-map","source",["featureSet"])],p.prototype,"readSource",null);b.__decorate([E.property({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],p.prototype,"spatialReference",void 0);b.__decorate([E.property({type:Number})],p.prototype,"subtypeCode",void 0);b.__decorate([E.property({type:[za]})],p.prototype,"templates",void 0);b.__decorate([F.reader("templates",["editFieldsInfo","creatorField",
"editorField","templates"])],p.prototype,"readTemplates",null);b.__decorate([E.property({type:na})],p.prototype,"timeInfo",void 0);b.__decorate([E.property()],p.prototype,"title",void 0);b.__decorate([F.reader("service","title",["name"]),F.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],p.prototype,"readTitle",null);b.__decorate([F.reader("web-map","title",["layerDefinition.name","title"])],p.prototype,"readTitleFromWebMap",null);b.__decorate([E.property({type:String})],
p.prototype,"sublayerTitleMode",void 0);b.__decorate([E.property({json:{read:!1}})],p.prototype,"type",void 0);b.__decorate([E.property({type:String})],p.prototype,"typeIdField",void 0);b.__decorate([F.reader("service","typeIdField"),F.reader("typeIdField",["layerDefinition.typeIdField"])],p.prototype,"readTypeIdField",null);b.__decorate([E.property({type:[W]})],p.prototype,"types",void 0);b.__decorate([F.reader("service","types",["types"]),F.reader("types",["layerDefinition.types"])],p.prototype,
"readTypes",null);b.__decorate([E.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],p.prototype,"visible",void 0);b.__decorate([F.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],p.prototype,"readVisible",null);return p=b.__decorate([G.subclass("esri.layers.FeatureLayer")],p)})},"esri/PopupTemplate":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/RelationshipContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E,J,F,G,M,L){t=d.ofType({key:"type",defaultKeyValue:"button",base:t,typeMap:{button:y,toggle:B}});const T={base:M,key:"type",typeMap:{media:A,custom:L,text:D,attachments:E,fields:J,expression:F,relationship:G}},N=new Set("attachments fields media text expression relationship".split(" "));b=class extends b.ClonableMixin(f.JSONSupport){constructor(){super(...arguments);this.actions=null;this.content="";this.layerOptions=this.fieldInfos=this.expressionInfos=
null;this.lastEditInfoEnabled=!0;this.outFields=null;this.returnGeometry=this.overwriteActions=!1;this.title=""}castContent(K){if(Array.isArray(K))return K.map(O=>r.ensureOneOfType(T,O));if("string"===typeof K||"function"===typeof K||K instanceof HTMLElement||n.isPromiseLike(K))return K;q.getLogger(this).error("content error","unsupported content value",{value:K});return null}readContent(K,O){({popupElements:K}=O);return Array.isArray(K)&&0<K.length?this._readPopupInfoElements(O.description,O.mediaInfos,
K):this._readPopupInfo(O)}writeContent(K,O,R,V){"string"===typeof K?O.description=K:Array.isArray(K)&&(O.popupElements=K.filter(ma=>N.has(ma.type)).map(ma=>ma?.toJSON(V)),O.popupElements.forEach(ma=>{"attachments"===ma.type?this._writeAttachmentContent(O):"media"===ma.type?this._writeMediaContent(ma,O):"text"===ma.type?this._writeTextContent(ma,O):"relationship"===ma.type&&this._writeRelationshipContent(ma,O)}))}writeFieldInfos(K,O,R,V){({content:R}=this);R=Array.isArray(R)?R:null;if(K){const ma=
R?R.filter(ua=>"fields"===ua.type):[],ca=ma.length&&ma.every(ua=>ua.fieldInfos?.length);O.fieldInfos=K.filter(Boolean).map(ua=>{ua=ua.toJSON(V);ca&&(ua.visible=!1);return ua})}if(R)for(const ma of R)"fields"===ma.type&&this._writeFieldsContent(ma,O)}writeLayerOptions(K,O,R,V){O[R]=!K||null===K.showNoDataRecords&&null===K.returnTopmostRaster?null:K.toJSON(V)}writeTitle(K,O){O.title=K||""}async collectRequiredFields(K,O){const R=this.expressionInfos||[];await this._collectExpressionInfoFields(K,O,[...R,
...this._getContentExpressionInfos(this.content,R)]);e.collectFields(K,O,[...(this.outFields||[]),...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(K){const O=new Set;await this.collectRequiredFields(O,K);return[...O].sort()}_writeFieldsContent(K,O){Array.isArray(K.fieldInfos)&&K.fieldInfos.length&&(K=c.clone(K.fieldInfos),Array.isArray(O.fieldInfos)?K.forEach(R=>{const V=O.fieldInfos.find(ma=>ma.fieldName.toLowerCase()===
R.fieldName.toLowerCase());V?V.visible=!0:O.fieldInfos.push(R)}):O.fieldInfos=K)}_writeAttachmentContent(K){K.showAttachments||(K.showAttachments=!0)}_writeRelationshipContent(K,O){var R=K.orderByFields?.map(V=>this._toFieldOrderJSON(V,K.relationshipId))||[];R=[...(O.relatedRecordsInfo?.orderByFields||[]),...R];O.relatedRecordsInfo={showRelatedRecords:!0,...(R?.length&&{orderByFields:R})}}_writeTextContent(K,O){!O.description&&K.text&&(O.description=K.text)}_writeMediaContent(K,O){Array.isArray(K.mediaInfos)&&
K.mediaInfos.length&&(K=c.clone(K.mediaInfos),Array.isArray(O.mediaInfos)?O.mediaInfos=[...O.mediaInfos,...K]:O.mediaInfos=K)}_readPopupInfoElements(K,O,R){var V=!1,ma=!1;return R.map(ca=>{if("media"===ca.type)return ca.mediaInfos||!O||ma||(ca.mediaInfos=O,ma=!0),A.fromJSON(ca);if("text"===ca.type)return ca.text||!K||V||(ca.text=K,V=!0),D.fromJSON(ca);if("attachments"===ca.type)return E.fromJSON(ca);if("fields"===ca.type)return J.fromJSON(ca);if("expression"===ca.type)return F.fromJSON(ca);if("relationship"===
ca.type)return G.fromJSON(ca)}).filter(Boolean)}_toRelationshipContent(K){const {field:O,order:R}=K;if(!O?.startsWith("relationships/"))return null;var V=O.replace("relationships/","").split("/");if(2!==V.length)return null;K=parseInt(V[0],10);V=V[1];return"number"===typeof K&&V?G.fromJSON({relationshipId:K,orderByFields:[{field:V,order:R}]}):null}_toFieldOrderJSON(K,O){const {order:R,field:V}=K;return{field:`${"relationships/"}${O}/${V}`,order:R}}_readPopupInfo({description:K,mediaInfos:O,showAttachments:R,
relatedRecordsInfo:V={showRelatedRecords:!1}}){const ma=[];K?ma.push(new D({text:K})):ma.push(new J);Array.isArray(O)&&O.length&&ma.push(A.fromJSON({mediaInfos:O}));R&&ma.push(E.fromJSON({displayType:"auto"}));const {showRelatedRecords:ca,orderByFields:ua}=V;ca&&ua?.length&&ua.forEach(Aa=>{(Aa=this._toRelationshipContent(Aa))&&ma.push(Aa)});return ma.length?ma:K}_getContentElementFields(K){var O=K?.type;return"attachments"===O?[...this._extractFieldNames(K.title),...this._extractFieldNames(K.description)]:
"custom"===O?K.outFields||[]:"fields"===O?[...this._extractFieldNames(K.title),...this._extractFieldNames(K.description),...this._getFieldInfoFields(K.fieldInfos??this.fieldInfos)]:"media"===O?(O=K.mediaInfos||[],[...this._extractFieldNames(K.title),...this._extractFieldNames(K.description),...O.reduce((R,V)=>[...R,...this._getMediaInfoFields(V)],[])]):"text"===O?this._extractFieldNames(K.text):[]}_getMediaInfoFields(K){const {caption:O,title:R,value:V}=K,{fields:ma,normalizeField:ca,tooltipField:ua,
sourceURL:Aa,linkURL:Ma}=V||{};K=[...this._extractFieldNames(R),...this._extractFieldNames(O),...this._extractFieldNames(Aa),...this._extractFieldNames(Ma),...(ma??[])];ca&&K.push(ca);ua&&K.push(ua);return K}_getContentExpressionInfos(K,O){return Array.isArray(K)?K.reduce((R,V)=>[...R,...("expression"===V.type&&V.expressionInfo?[V.expressionInfo]:[])],O):[]}_getContentFields(K){return"string"===typeof K?this._extractFieldNames(K):Array.isArray(K)?K.reduce((O,R)=>[...O,...this._getContentElementFields(R)],
[]):[]}async _collectExpressionInfoFields(K,O,R){R&&await Promise.all(R.map(V=>e.collectArcadeFieldNames(K,O,V.expression)))}_getFieldInfoFields(K){return K?K.filter(O=>void 0===O.visible||!!O.visible).map(O=>O.fieldName).filter(O=>!O.startsWith("relationships/")&&!O.startsWith("expression/")):[]}_getActionsFields(K){return K?K.toArray().reduce((O,R)=>[...O,...this._getActionFields(R)],[]):[]}_getActionFields(K){const {className:O,title:R,type:V}=K;K="button"===V||"toggle"===V?K.image:"";return[...this._extractFieldNames(R),
...this._extractFieldNames(O),...this._extractFieldNames(K)]}_getTitleFields(K){return"string"===typeof K?this._extractFieldNames(K):[]}_extractFieldNames(K){if(!K||"string"!==typeof K)return[];K=K.match(/{[^}]*}/g);if(!K)return[];const O=/\{(\w+):.+\}/;return(K=K.filter(R=>!(0===R.indexOf("{relationships/")||0===R.indexOf("{expression/"))).map(R=>R.replace(O,"{$1}")))?K.map(R=>R.slice(1,-1)):[]}};a.__decorate([k.property({type:t})],b.prototype,"actions",void 0);a.__decorate([k.property()],b.prototype,
"content",void 0);a.__decorate([h.cast("content")],b.prototype,"castContent",null);a.__decorate([l.reader("content","description fieldInfos popupElements mediaInfos showAttachments relatedRecordsInfo".split(" "))],b.prototype,"readContent",null);a.__decorate([w.writer("content",{popupElements:{type:d.ofType(g.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:d.ofType(z.types)},description:{type:String},relatedRecordsInfo:{type:x}})],b.prototype,"writeContent",null);a.__decorate([k.property({type:[p],
json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([k.property({type:[v]})],b.prototype,"fieldInfos",void 0);a.__decorate([w.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);a.__decorate([k.property({type:u})],b.prototype,"layerOptions",void 0);a.__decorate([w.writer("layerOptions")],b.prototype,"writeLayerOptions",null);a.__decorate([k.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",
void 0);a.__decorate([k.property()],b.prototype,"outFields",void 0);a.__decorate([k.property()],b.prototype,"overwriteActions",void 0);a.__decorate([k.property()],b.prototype,"returnGeometry",void 0);a.__decorate([k.property({json:{type:String}})],b.prototype,"title",void 0);a.__decorate([w.writer("title")],b.prototype,"writeTitle",null);return b=a.__decorate([m.subclass("esri.PopupTemplate")],b)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/RelationshipContent ./content/TextContent".split(" "),
function(a,b,d,f,c,q,n,k,h){const l={base:null,key:"type",typeMap:{attachment:b,media:n,text:h,expression:c,field:q,relationship:k}};a.AttachmentsContent=b;a.BaseContent=d;a.CustomContent=f;a.ExpressionContent=c;a.FieldsContent=q;a.MediaContent=n;a.RelationshipContent=k;a.TextContent=h;a.isContent=function(m){return m instanceof d};a.persistableTypes=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.description=null;this.displayType="auto";this.title=null;this.type="attachments"}clone(){return new k({description:this.description,displayType:this.displayType,title:this.title})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);a.__decorate([b.property({type:["auto","preview","list"],json:{write:!0}})],d.prototype,"displayType",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],
d.prototype,"title",void 0);a.__decorate([b.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.popup.content.AttachmentsContent")],d)})},"esri/popup/content/Content":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){b=
class extends b.JSONSupport{constructor(k){super(k);this.type=null}};a.__decorate([d.property({type:"attachments custom fields media text expression relationship".split(" "),readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.popup.content.Content")],b)})},"esri/popup/content/CustomContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,d,f,c,q,n){var k;f=k=class extends n{constructor(h){super(h);this.outFields=this.destroyer=this.creator=null;this.type="custom"}clone(){return new k({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?b.clone(this.outFields):null})}};a.__decorate([d.property()],f.prototype,"creator",void 0);a.__decorate([d.property()],f.prototype,"destroyer",void 0);a.__decorate([d.property()],f.prototype,"outFields",void 0);a.__decorate([d.property({type:["custom"],
readOnly:!0})],f.prototype,"type",void 0);return f=k=a.__decorate([q.subclass("esri.popup.content.CustomContent")],f)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),function(a,b,d,f,c,q,n,k){var h;d=h=class extends k{constructor(l){super(l);this.expressionInfo=null;this.type=
"expression"}clone(){return new h({expressionInfo:this.expressionInfo?.clone()})}};a.__decorate([b.property({type:n,json:{write:!0}})],d.prototype,"expressionInfo",void 0);a.__decorate([b.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=h=a.__decorate([q.subclass("esri.popup.content.ExpressionContent")],d)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(h){super(h);this.expression=this.title=null;this.returnType="dictionary"}clone(){return new k({title:this.title,expression:this.expression})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([d.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"returnType",
void 0);return b=k=a.__decorate([n.subclass("esri.popup.ElementExpressionInfo")],b)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),function(a,b,d,f,c,q,n,k,h){var l;f=l=class extends h{constructor(m){super(m);this.title=this.fieldInfos=this.description=
this.attributes=null;this.type="fields"}writeFieldInfos(m,w){w.fieldInfos=m&&m.map(r=>r.toJSON())}clone(){return new l(b.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};a.__decorate([d.property({type:Object,json:{write:!0}})],f.prototype,"attributes",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"description",void 0);a.__decorate([d.property({type:[k]})],f.prototype,"fieldInfos",void 0);a.__decorate([n.writer("fieldInfos")],
f.prototype,"writeFieldInfos",null);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);a.__decorate([d.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=l=a.__decorate([q.subclass("esri.popup.content.FieldsContent")],f)})},"esri/popup/FieldInfo":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),
function(a,b,d,f,c,q,n,k,h,l){var m;d=m=class extends d.JSONSupport{constructor(w){super(w);this.format=this.fieldName=null;this.isEditable=!0;this.label=null;this.stringFieldOption="text-box";this.tooltip=this.statisticType=null;this.visible=!0}clone(){return new m({fieldName:this.fieldName,format:this.format?f.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};
a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"fieldName",void 0);a.__decorate([c.property({type:l,json:{write:!0}})],d.prototype,"format",void 0);a.__decorate([c.property({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],d.prototype,"isEditable",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([k.enumeration(new b.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],
d.prototype,"stringFieldOption",void 0);a.__decorate([c.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],d.prototype,"statisticType",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"tooltip",void 0);a.__decorate([c.property({type:Boolean,json:{write:!0}})],d.prototype,"visible",void 0);return d=m=a.__decorate([h.subclass("esri.popup.FieldInfo")],d)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date".split(" "),
function(a,b,d,f,c,q,n,k,h,l){b=class extends b.ClonableMixin(d.JSONSupport){constructor(m){super(m);this.dateFormat=null;this.digitSeparator=!1;this.places=null}};a.__decorate([k.enumeration(l.dateFormatJSONMap)],b.prototype,"dateFormat",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);a.__decorate([f.property({type:c.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=a.__decorate([h.subclass("esri.popup.support.FieldInfoFormat")],
b)})},"esri/popup/content/MediaContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){var p;
f=p=class extends m{constructor(v){super(v);this.title=this.mediaInfos=this.description=this.attributes=this.activeMediaInfoIndex=null;this.type="media"}readMediaInfos(v){return v&&v.map(u=>{if("image"===u.type)return w.fromJSON(u);if("barchart"===u.type)return h.fromJSON(u);if("columnchart"===u.type)return l.fromJSON(u);if("linechart"===u.type)return r.fromJSON(u);if("piechart"===u.type)return e.fromJSON(u)}).filter(Boolean)}writeMediaInfos(v,u){u.mediaInfos=v&&v.map(x=>x.toJSON())}clone(){return new p(b.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,
attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};a.__decorate([d.property()],f.prototype,"activeMediaInfoIndex",void 0);a.__decorate([d.property({type:Object,json:{write:!0}})],f.prototype,"attributes",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"description",void 0);a.__decorate([d.property({types:[g.types]})],f.prototype,"mediaInfos",void 0);a.__decorate([q.reader("mediaInfos")],f.prototype,"readMediaInfos",
null);a.__decorate([k.writer("mediaInfos")],f.prototype,"writeMediaInfos",null);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);a.__decorate([d.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=p=a.__decorate([n.subclass("esri.popup.content.MediaContent")],f)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends n{constructor(l){super(l);this.type="bar-chart"}clone(){return new h({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:k.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=h=a.__decorate([q.subclass("esri.popup.content.BarChartMediaInfo")],d)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,d,f,c,q,n,k){d=class extends n{constructor(h){super(h);this.value=this.type=null}};a.__decorate([b.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);a.__decorate([b.property({type:k,json:{write:!0}})],d.prototype,"value",void 0);return d=a.__decorate([q.subclass("esri.popup.content.mixins.ChartMediaInfo")],d)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){b=class extends b.JSONSupport{constructor(k){super(k);this.altText=null;this.title=this.caption="";this.type=null}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"altText",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([d.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,
json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.popup.content.mixins.MediaInfo")],b)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),function(a,b,d,f,c,q,n,k){var h;
d=h=class extends d.JSONSupport{constructor(l){super(l);this.colors=null;this.fields=[];this.normalizeField=null;this.series=[];this.tooltipField=null}clone(){return new h({colors:f.clone(this.colors),fields:f.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};a.__decorate([c.property({type:[b],json:{type:[[q.Integer]],write:!0}})],d.prototype,"colors",void 0);a.__decorate([c.property({type:[String],json:{write:!0}})],d.prototype,"fields",void 0);a.__decorate([c.property({type:String,
json:{write:!0}})],d.prototype,"normalizeField",void 0);a.__decorate([c.property({type:[k],json:{read:!1}})],d.prototype,"series",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"tooltipField",void 0);return d=h=a.__decorate([n.subclass("esri.popup.content.support.ChartMediaInfoValue")],d)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){var k;b=k=class extends b{constructor(h){super(h);this.value=this.tooltip=this.fieldName=this.color=null}clone(){return new k({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};a.__decorate([d.property()],b.prototype,"color",void 0);a.__decorate([d.property()],b.prototype,"fieldName",void 0);a.__decorate([d.property()],b.prototype,"tooltip",void 0);a.__decorate([d.property()],b.prototype,"value",void 0);return b=k=a.__decorate([n.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
b)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends n{constructor(l){super(l);this.type="column-chart"}clone(){return new h({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:k.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=h=a.__decorate([q.subclass("esri.popup.content.ColumnChartMediaInfo")],d)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends n{constructor(l){super(l);this.refreshInterval=null;this.type="image";this.value=null}clone(){return new h({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"refreshInterval",void 0);a.__decorate([b.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);
a.__decorate([b.property({type:k,json:{write:!0}})],d.prototype,"value",void 0);return d=h=a.__decorate([q.subclass("esri.popup.content.ImageMediaInfo")],d)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(h){super(h);
this.sourceURL=this.linkURL=null}clone(){return new k({linkURL:this.linkURL,sourceURL:this.sourceURL})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=k=a.__decorate([n.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends n{constructor(l){super(l);this.type="line-chart"}clone(){return new h({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:k.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=h=a.__decorate([q.subclass("esri.popup.content.LineChartMediaInfo")],d)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends n{constructor(l){super(l);this.type="pie-chart"}clone(){return new h({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:k.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=h=a.__decorate([q.subclass("esri.popup.content.PieChartMediaInfo")],d)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,d,f,c,q,n){a.types={base:n,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":d,"line-chart":c,"pie-chart":q,image:f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/RelationshipContent":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ./Content ../support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,d,f,c,q,n,k,h){b=class extends b.ClonableMixin(k){constructor(l){super(l);this.displayCount=this.description=null;this.displayType="list";this.title=this.relationshipId=this.orderByFields=null;this.type="relationship"}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({type:Number,json:{type:f.Integer,write:!0}})],b.prototype,"displayCount",void 0);a.__decorate([d.property({type:["list"],json:{write:!0}})],b.prototype,
"displayType",void 0);a.__decorate([d.property({type:[h],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([d.property({type:Number,json:{type:f.Integer,write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([d.property({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.popup.content.RelationshipContent")],b)})},
"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(h){super(h);this.order=this.field=null}clone(){return new k({field:this.field,order:this.order})}};a.__decorate([d.property({type:String,json:{write:!0}})],
b.prototype,"field",void 0);a.__decorate([d.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=k=a.__decorate([n.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)})},"esri/popup/content/TextContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content".split(" "),function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);
this.text=null;this.type="text"}clone(){return new k({text:this.text})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"text",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.popup.content.TextContent")],d)})},"esri/popup/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(h){super(h);this.returnType=this.expression=this.title=this.name=null}clone(){return new k({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"expression",
void 0);a.__decorate([d.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=k=a.__decorate([n.subclass("esri.popup.ExpressionInfo")],b)})},"esri/popup/LayerOptions":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(h){super(h);this.showNoDataRecords=
this.returnTopmostRaster=null}clone(){return new k({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};a.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=k=a.__decorate([n.subclass("esri.popup.LayerOptions")],b)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,d,f,c,q,n,k){var h;b=h=class extends b.JSONSupport{constructor(l){super(l);this.orderByFields=this.showRelatedRecords=null}clone(){return new h({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?d.clone(this.orderByFields):null})}};a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);a.__decorate([f.property({type:[k],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=h=a.__decorate([n.subclass("esri.popup.RelatedRecordsInfo")],
b)})},"esri/support/actions/ActionBase":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k){var h;b=h=class extends d.IdentifiableMixin(b){constructor(l){super(l);this.active=!1;this.className=null;this.disabled=!1;this.id=this.icon=null;this.indicator=!1;this.type=this.title=null;
this.visible=!0}clone(){return new h({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};a.__decorate([f.property()],b.prototype,"active",void 0);a.__decorate([f.property()],b.prototype,"className",void 0);a.__decorate([f.property()],b.prototype,"disabled",void 0);a.__decorate([f.property()],b.prototype,"icon",void 0);a.__decorate([f.property()],b.prototype,"id",void 0);a.__decorate([f.property()],
b.prototype,"indicator",void 0);a.__decorate([f.property()],b.prototype,"title",void 0);a.__decorate([f.property()],b.prototype,"type",void 0);a.__decorate([f.property()],b.prototype,"visible",void 0);return b=h=a.__decorate([k.subclass("esri.support.actions.ActionBase")],b)})},"esri/support/actions/ActionButton":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.image=null;this.type="button"}clone(){return new k({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};a.__decorate([b.property()],d.prototype,"image",void 0);return d=k=a.__decorate([q.subclass("esri.support.Action.ActionButton")],d)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.image=null;this.type="toggle";this.value=!1}clone(){return new k({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};a.__decorate([b.property()],d.prototype,"image",void 0);a.__decorate([b.property()],d.prototype,"value",void 0);return d=k=a.__decorate([q.subclass("esri.support.Action.ActionToggle")],
d)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x){var z;d=new d.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const t=w.ensureType(p);e=z=class extends g.VisualVariablesMixin(e){constructor(y){super(y);this._compiledValueExpression={valueExpression:null,compiledFunction:null};this.field=this.defaultSymbol=this.defaultLabel=this.classBreakInfos=this.backgroundFillSymbol=null;this.isMaxInclusive=!0;this.normalizationTotal=this.normalizationField=
this.legendOptions=null;this.type="class-breaks";this.valueExpressionTitle=this.valueExpression=null;this._set("classBreakInfos",[])}readClassBreakInfos(y,B,A){if(Array.isArray(y)){var D=B.minValue;return y.map(E=>{const J=new p;J.read(E,A);null==J.minValue&&(J.minValue=D);null==J.maxValue&&(J.maxValue=J.minValue);D=J.maxValue;return J})}}writeClassBreakInfos(y,B,A,D){y=y.map(E=>E.write({},D));this._areClassBreaksConsecutive()&&y.forEach(E=>delete E.classMinValue);B[A]=y}castField(y){return null==
y?y:"function"===typeof y?(c.getLogger(this).error(".field: field must be a string value"),null):w.ensureString(y)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let y=this._get("normalizationType");const B=!!this.normalizationField,A=null!=this.normalizationTotal;if(B||A)y=B&&"field"||A&&"percent-of-total"||null,B&&A&&c.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===
y||"percent-of-total"===y)y=null;return y}set normalizationType(y){this._set("normalizationType",y)}addClassBreakInfo(y,B,A){let D=null;D="number"===typeof y?new p({minValue:y,maxValue:B,symbol:b.ensureType(A)}):t(f.clone(y));this.classBreakInfos.push(D);1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(y,B){const A=this.classBreakInfos.length;for(let D=0;D<A;D++){const E=[this.classBreakInfos[D].minValue,this.classBreakInfos[D].maxValue];if(E[0]===y&&E[1]===B){this.classBreakInfos.splice(D,
1);break}}}getBreakIndex(y,B){this.valueExpression&&null==B?.arcade&&c.getLogger(this).warn("");return this.valueExpression?this._getBreakIndexForExpression(y,B):this._getBreakIndexForField(y)}async getClassBreakInfo(y,B){let A=B;this.valueExpression&&null==B?.arcade&&(A={...A,arcade:await x.loadArcade()});y=this.getBreakIndex(y,A);return-1!==y?this.classBreakInfos[y]:null}getSymbol(y,B){if(this.valueExpression&&null==B?.arcade)c.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");
else return y=this.getBreakIndex(y,B),-1<y?this.classBreakInfos[y].symbol:this.defaultSymbol}async getSymbolAsync(y,B){let A=B;if(this.valueExpression&&null==B?.arcade){B=await x.loadArcade();const {arcadeUtils:D}=B;D.hasGeometryOperations(this.valueExpression)&&await D.enableGeometryOperations();A={...A,arcade:B}}y=this.getBreakIndex(y,A);return-1<y?this.classBreakInfos[y].symbol:this.defaultSymbol}getSymbols(){const y=[];this.classBreakInfos.forEach(B=>{B.symbol&&y.push(B.symbol)});this.defaultSymbol&&
y.push(this.defaultSymbol);return y}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((y,B)=>y+B.getAttributeHash(),"")}getMeshHash(){const y=JSON.stringify(this.backgroundFillSymbol),B=JSON.stringify(this.defaultSymbol),A=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,D=this.classBreakInfos.reduce((E,J)=>E+J.getMeshHash(),"");return`${y}.${B}.${D}.${A}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||
!!this.valueExpression}clone(){return new z({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:f.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:f.clone(this.visualVariables),
legendOptions:f.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(y,B){y=[this.collectVVRequiredFields(y,B),this.collectSymbolFields(y,B)];await Promise.all(y)}async collectSymbolFields(y,B){const A=[...this.getSymbols().map(D=>D.collectRequiredFields(y,B)),r.collectArcadeFieldNames(y,B,this.valueExpression)];r.collectField(y,B,this.field);r.collectField(y,B,this.normalizationField);await Promise.all(A)}_getBreakIndexForExpression(y,
B){const {viewingMode:A,scale:D,spatialReference:E,arcade:J,timeZone:F}=B??{};({valueExpression:B}=this);var G=this._compiledValueExpression.valueExpression===B?this._compiledValueExpression.compiledFunction:null;const M=J.arcadeUtils;G||(G=M.createSyntaxTree(B),G=M.createFunction(G),this._compiledValueExpression.compiledFunction=G);this._compiledValueExpression.valueExpression=B;y=M.executeFunction(G,M.createExecContext(y,M.getViewInfo({viewingMode:A,scale:D,spatialReference:E}),F));return this._getBreakIndexfromInfos(y)}_getBreakIndexForField(y){var B=
y.attributes;y=this.normalizationType;let A=parseFloat(B[this.field]);if(y){const D=this.normalizationTotal;B=parseFloat(this.normalizationField?B[this.normalizationField]:void 0);if("log"===y)A=Math.log(A)*Math.LOG10E;else if("percent-of-total"===y&&null!=D&&!isNaN(D))A=A/D*100;else if("field"===y&&!isNaN(B)){if(isNaN(A)||isNaN(B))return-1;A/=B}}return this._getBreakIndexfromInfos(A)}_getBreakIndexfromInfos(y){const B=this.isMaxInclusive;if(null!=y&&"number"===typeof y&&!isNaN(y))for(let A=0;A<this.classBreakInfos.length;A++){const D=
[this.classBreakInfos[A].minValue,this.classBreakInfos[A].maxValue];if(D[0]<=y&&(B?y<=D[1]:y<D[1]))return A}return-1}_areClassBreaksConsecutive(){const y=this.classBreakInfos,B=y.length;for(let A=1;A<B;A++)if(y[A-1].maxValue!==y[A].minValue)return!1;return!0}};a.__decorate([q.property(v.rendererBackgroundFillSymbolProperty)],e.prototype,"backgroundFillSymbol",void 0);a.__decorate([q.property({type:[p]})],e.prototype,"classBreakInfos",void 0);a.__decorate([h.reader("classBreakInfos")],e.prototype,
"readClassBreakInfos",null);a.__decorate([m.writer("classBreakInfos")],e.prototype,"writeClassBreakInfos",null);a.__decorate([q.property({type:String,json:{write:!0}})],e.prototype,"defaultLabel",void 0);a.__decorate([q.property(v.rendererSymbolProperty)],e.prototype,"defaultSymbol",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);a.__decorate([n.cast("field")],e.prototype,"castField",null);a.__decorate([q.property({type:Boolean})],e.prototype,"isMaxInclusive",
void 0);a.__decorate([q.property({type:u.LegendOptions,json:{write:!0}})],e.prototype,"legendOptions",void 0);a.__decorate([q.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],e.prototype,"minValue",null);a.__decorate([q.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);a.__decorate([q.property({type:Number,cast:y=>w.ensureNumber(y),
json:{write:!0}})],e.prototype,"normalizationTotal",void 0);a.__decorate([q.property({type:d.apiValues,value:null,json:{type:d.jsonValues,read:d.read,write:d.write}})],e.prototype,"normalizationType",null);a.__decorate([k.enumeration({classBreaks:"class-breaks"})],e.prototype,"type",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);return e=z=a.__decorate([l.subclass("esri.renderers.ClassBreaksRenderer")],
e)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E,J,F,G,M,L,T){const N={base:A,key:"type",typeMap:{"simple-fill":t,"picture-fill":v,"picture-marker":u,"simple-line":y,"simple-marker":B,text:J,"label-3d":l,"line-3d":m,"mesh-3d":e,"point-3d":x,"polygon-3d":z,"web-style":M,cim:f},errorContext:"symbol"},K={base:A,key:"type",typeMap:{"picture-marker":u,"simple-marker":B,text:J,"web-style":M,cim:f},errorContext:"symbol"};d=d.createTypeReader({types:N});const O={base:A,key:"type",typeMap:{"simple-fill":t,
"picture-fill":v,"picture-marker":u,"simple-line":y,"simple-marker":B,text:J,"line-3d":m,"mesh-3d":e,"point-3d":x,"polygon-3d":z,"web-style":M,cim:f},errorContext:"symbol"},R={base:A,key:"type",typeMap:{text:J,"label-3d":l},errorContext:"symbol"},V={base:A,key:"type",typeMap:{"label-3d":l,"line-3d":m,"mesh-3d":e,"point-3d":x,"polygon-3d":z,"web-style":M},errorContext:"symbol"},ma={base:A,key:"type",typeMap:{"line-3d":m,"mesh-3d":e,"point-3d":x,"polygon-3d":z,"web-style":M,cim:f},errorContext:"symbol"},
ca={base:A,key:"type",typeMap:{"label-3d":l},errorContext:"symbol"};b=b.ensureOneOfType(N);a.CIMSymbol=f;a.ExtrudeSymbol3DLayer=c;a.BaseFillSymbol=q;a.FillSymbol3DLayer=n;a.Font=k;a.IconSymbol3DLayer=h;a.LabelSymbol3D=l;a.LineSymbol3D=m;a.LineSymbol3DLayer=w;a.BaseMarkerSymbol=r;a.MeshSymbol3D=e;a.ObjectSymbol3DLayer=g;a.PathSymbol3DLayer=p;a.PictureFillSymbol=v;a.PictureMarkerSymbol=u;a.PointSymbol3D=x;a.PolygonSymbol3D=z;a.SimpleFillSymbol=t;a.SimpleLineSymbol=y;a.SimpleMarkerSymbol=B;a.BaseSymbol=
A;a.BaseSymbol3D=D;a.BaseSymbol3DLayer=E;a.TextSymbol=J;a.TextSymbol3DLayer=F;a.WaterSymbol3DLayer=G;a.WebStyleSymbol=M;a.LineCallout3D=L;a.LineCallout3DBorder=T;a.ensureType=b;a.isSymbol=function(ua){return ua instanceof A};a.isSymbol2D=function(ua){if(!ua)return!1;switch(ua.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(ua){if(!ua)return!1;switch(ua.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;
default:return!1}};a.readSymbol=d;a.symbolTypes=N;a.symbolTypes3D=V;a.symbolTypesCluster=K;a.symbolTypesLabel=R;a.symbolTypesLabel3D=ca;a.symbolTypesRenderer=O;a.symbolTypesRenderer3D=ma;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/CIMSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){var r;c=r=class extends w{constructor(e){super(e);this.data=null;this.type="cim"}readData(e,g){return g}writeData(e,g){Object.assign(g,e)}async collectRequiredFields(e,g){if("CIMSymbolReference"===this.data?.type){var p=this.data.primitiveOverrides;p&&(p=p.map(v=>(v=v.valueExpressionInfo)?m.collectArcadeFieldNames(e,g,v.expression):null),await Promise.all(p))}}clone(){return new r({data:b.clone(this.data)})}hash(){return d.numericHash(JSON.stringify(this.data)).toString()}};
a.__decorate([f.property({json:{write:!1}})],c.prototype,"color",void 0);a.__decorate([f.property({json:{write:!0}})],c.prototype,"data",void 0);a.__decorate([k.reader("data",["symbol"])],c.prototype,"readData",null);a.__decorate([l.writer("data",{})],c.prototype,"writeData",null);a.__decorate([n.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],c.prototype,"type",void 0);return c=r=a.__decorate([h.subclass("esri.symbols.CIMSymbol")],c)})},"esri/symbols/Symbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h,l){d=new d.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let m=0;f=class extends f.JSONSupport{constructor(w){super(w);this.id=`sym${m++}`;this.type=null;this.color=new b([0,
0,0,1])}readColor(w){return null!=w?.[0]?[w[0],w[1],w[2],w[3]/255]:w}async collectRequiredFields(w,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};a.__decorate([c.property({type:d.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:d.write}}})],f.prototype,"type",void 0);a.__decorate([c.property({type:b,json:{write:{allowNull:!0}}})],f.prototype,"color",void 0);a.__decorate([h.reader("color")],f.prototype,"readColor",null);return f=a.__decorate([l.subclass("esri.symbols.Symbol")],
f)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,b,d,f,c,q,n,k,h,l){var m;d=m=class extends k{constructor(w){super(w);this.type="extrude";this.size=1;this.material=null;this.castShadows=!0;this.edges=null}clone(){return new m({edges:this.edges&&
this.edges.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};a.__decorate([q.enumeration({Extrude:"extrude"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],d.prototype,"size",void 0);a.__decorate([b.property({type:l.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,
json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);a.__decorate([b.property(h.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=m=a.__decorate([n.subclass("esri.symbols.ExtrudeSymbol3DLayer")],d)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),function(a,
b,d,f,c,q,n,k){b=class extends b.JSONSupport{constructor(h){super(h);this.enabled=!0;this.type=null;this.ignoreDrivers=!1}writeEnabled(h,l,m){h||(l[m]=h)}};a.__decorate([d.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);a.__decorate([k.writer("enabled")],b.prototype,"writeEnabled",null);a.__decorate([d.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.symbols.Symbol3DLayer")],
b)})},"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,d,f){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:f,sketch:d}},json:{write:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l){d=class extends d.JSONSupport{constructor(m){super(m);this.color=new b([0,0,0,1]);this.extensionLength=0;this.size=c.px2pt(1)}clone(){}cloneProperties(){return{color:f.clone(this.color),size:this.size,extensionLength:this.extensionLength}}};a.__decorate([q.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);a.__decorate([q.property(l.colorAndTransparencyProperty)],d.prototype,"color",void 0);a.__decorate([q.property({...l.screenSizeProperty,
json:{write:{overridePolicy(m){return{enabled:!!m}}}}})],d.prototype,"extensionLength",void 0);a.__decorate([q.property(l.screenSizeProperty)],d.prototype,"size",void 0);return d=a.__decorate([h.subclass("esri.symbols.edges.Edges3D")],d)})},"esri/symbols/support/materialUtils":function(){define(["exports","../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,d,f,c){d={type:Number,cast:d.toPt,json:{write:!0}};a.colorAndTransparencyProperty=
{type:b,json:{type:[f.Integer],default:null,read:{source:["color","transparency"],reader:function(q,n){q=null!=n.transparency?c.transparencyToOpacity(n.transparency):1;return(n=n.color)&&Array.isArray(n)?new b([n[0]||0,n[1]||0,n[2]||0,q]):null}},write:{target:{color:{type:[f.Integer]},transparency:{type:f.Integer}},writer:function(q,n){n.color=q.toJSON().slice(0,3);q=c.opacityToTransparency(q.a);0!==q&&(n.transparency=q)}}}};a.screenSizeProperty=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,d,f,c,q,n,k){var h;b=h=class extends k{constructor(l){super(l);this.type="sketch"}clone(){return new h(this.cloneProperties())}};a.__decorate([q.enumeration({sketch:"sketch"},{readOnly:!0})],b.prototype,"type",void 0);return b=
h=a.__decorate([n.subclass("esri.symbols.edges.SketchEdges3D")],b)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,d,f,c,q,n,k){var h;b=h=class extends k{constructor(l){super(l);this.type="solid"}clone(){return new h(this.cloneProperties())}};a.__decorate([q.enumeration({solid:"solid"},
{readOnly:!0})],b.prototype,"type",void 0);return b=h=a.__decorate([n.subclass("esri.symbols.support.SolidEdges3D")],b)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,d,f,c,q,n,k,h){var l;a.Symbol3DMaterial=l=class extends d.JSONSupport{constructor(m){super(m);
this.color=null}clone(){const m={color:null!=this.color?this.color.clone():null};return new l(m)}};b.__decorate([f.property(h.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=l=b.__decorate([k.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),
function(a,b,d,f,c,q,n,k){d=class extends k{constructor(h){super(h);this.type=this.outline=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};a.__decorate([b.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":n}},json:{default:null,write:!0}})],d.prototype,"outline",void 0);a.__decorate([b.property({type:["simple-fill","picture-fill"],readOnly:!0})],d.prototype,"type",void 0);return d=a.__decorate([q.subclass("esri.symbols.FillSymbol")],
d)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),function(a,b,d,f,c,q,n,k,h,l,m){var w;b=new b.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",
esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});l=w=class extends l{constructor(...r){super(...r);this.type="simple-line";this.style="solid";this.join=this.cap="round";this.marker=null;this.miterLimit=2}normalizeCtorArgs(r,e,g,p,v,u){if(r&&"string"!==typeof r)return r;const x={};null!=r&&(x.style=
r);null!=e&&(x.color=e);null!=g&&(x.width=f.toPt(g));null!=p&&(x.cap=p);null!=v&&(x.join=v);null!=u&&(x.miterLimit=f.toPt(u));return x}clone(){return new w({color:d.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};a.__decorate([k.enumeration({esriSLS:"simple-line"},{readOnly:!0})],
l.prototype,"type",void 0);a.__decorate([c.property({type:b.apiValues,json:{read:b.read,write:b.write}})],l.prototype,"style",void 0);a.__decorate([c.property({type:["butt","round","square"],json:{write:{overridePolicy:(r,e,g)=>({enabled:"round"!==r&&null==g?.origin})}}})],l.prototype,"cap",void 0);a.__decorate([c.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(r,e,g)=>({enabled:"round"!==r&&null==g?.origin})}}})],l.prototype,"join",void 0);a.__decorate([c.property({types:{key:"type",
base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":m}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],l.prototype,"marker",void 0);a.__decorate([c.property({type:Number,json:{read:!1,write:!1}})],l.prototype,"miterLimit",void 0);return l=w=a.__decorate([h.subclass("esri.symbols.SimpleLineSymbol")],l)})},"esri/symbols/LineSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,d,f,c,q,n,k,h){f=class extends h{constructor(l){super(l);this.type="simple-line";this.width=.75}hash(){return`${this.type}.${this.width}`}};a.__decorate([n.enumeration({esriSLS:"simple-line"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property({type:Number,cast:b.toPt,json:{write:!0}})],f.prototype,"width",void 0);return f=a.__decorate([k.subclass("esri.symbols.LineSymbol")],f)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){var r;d=r=class extends d.JSONSupport{constructor(e){super(e);this.placement="begin-end";this.type="line-marker";this.style="arrow"}writeStyle(e,g,p,v){g[p]="web-map"===v?.origin?"arrow":e}set color(e){this._set("color",e)}readColor(e){return null!=e?.[0]?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,g,p,v){"web-map"!==v?.origin&&(g[p]=e)}clone(){return new r({color:f.clone(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};
a.__decorate([c.property({type:["begin","end","begin-end"],json:{write:!0}})],d.prototype,"placement",void 0);a.__decorate([k.enumeration({"line-marker":"line-marker"},{readOnly:!0}),c.property({json:{origins:{"web-map":{write:!1}}}})],d.prototype,"type",void 0);a.__decorate([c.property({type:w.lineMarkerStyles})],d.prototype,"style",void 0);a.__decorate([m.writer("style")],d.prototype,"writeStyle",null);a.__decorate([c.property({type:b,value:null,json:{write:{allowNull:!0}}})],d.prototype,"color",
null);a.__decorate([h.reader("color")],d.prototype,"readColor",null);a.__decorate([m.writer("color")],d.prototype,"writeColor",null);return d=r=a.__decorate([l.subclass("esri.symbols.LineSymbolMarker")],d)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],function(a){a.lineMarkerPlacements=["begin","end","begin-end"];a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){var p;d=p=class extends k{constructor(v){super(v);this.type="fill";this.pattern=this.material=null;this.castShadows=!0;this.edges=this.outline=null}clone(){const v={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new p(v)}static fromSimpleFillSymbol(v){const u=
v.outline&&v.outline.style&&"inside-frame"!==v.outline.style&&"solid"!==v.outline.style?new l({style:v.outline.style}):null,x={size:v.outline?.width??0,color:(v.outline?.color??r.white).clone(),pattern:u};u&&v.outline?.cap&&(x.patternCap=v.outline.cap);return new p({material:new e.Symbol3DFillMaterial({color:(v.color??r.transparentWhite).clone()}),pattern:v.style&&"solid"!==v.style?new m({style:v.style}):null,outline:x})}};a.__decorate([q.enumeration({Fill:"fill"},{readOnly:!0})],d.prototype,"type",
void 0);a.__decorate([b.property({type:e.Symbol3DFillMaterial,json:{write:!0}})],d.prototype,"material",void 0);a.__decorate([b.property(w.symbol3dPatternProperty)],d.prototype,"pattern",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);a.__decorate([b.property({type:g.Symbol3DOutline,json:{write:!0}})],d.prototype,"outline",void 0);a.__decorate([b.property(h.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=p=
a.__decorate([n.subclass("esri.symbols.FillSymbol3DLayer")],d)})},"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),function(a,b,d,f,c,q,n,k,h,l){var m;b=b.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",
dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});h=m=class extends h{constructor(w){super(w);this.type="style";this.style="solid"}clone(){return new m({style:this.style})}};a.__decorate([d.property({type:["style"]})],h.prototype,"type",void 0);a.__decorate([n.enumeration(b),d.property({type:l.lineStyles})],h.prototype,"style",void 0);
return h=m=a.__decorate([k.subclass("esri.symbols.patterns.LineStylePattern3D")],h)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){b=class extends b.JSONSupport{constructor(k){super(k)}clone(){}};a.__decorate([d.property({type:["style"],readOnly:!0,json:{read:!0,
write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.symbols.patterns.LinePattern3D")],b)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends n{constructor(l){super(l);this.type="style";this.style="solid"}clone(){return new h({style:this.style})}};a.__decorate([b.property({type:["style"]})],d.prototype,"type",void 0);a.__decorate([b.property({type:k,json:{read:!0,write:!0}})],d.prototype,"style",void 0);return d=h=a.__decorate([q.subclass("esri.symbols.patterns.StylePattern3D")],d)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){b=class extends b.JSONSupport{constructor(k){super(k)}clone(){}};a.__decorate([d.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.symbols.patterns.Pattern3D")],b)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},"esri/symbols/patterns/utils":function(){define(["exports",
"./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,d,f,c){f={types:{key:"type",base:f,typeMap:{style:c}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:d}},json:{write:!0}};a.symbol3dPatternProperty=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const d=new b("white"),f=new b("black");b=new b([255,255,255,0]);a.black=
f;a.isBlack=function(c){return 0===c.r&&0===c.g&&0===c.b};a.transparentWhite=b;a.white=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),function(a,b,d,f,c,q,n,k,h){var l;a.Symbol3DFillMaterial=
l=class extends h.Symbol3DMaterial{constructor(m){super(m);this.colorMixMode=null}clone(){const m={color:null!=this.color?this.color.clone():null,colorMixMode:this.colorMixMode};return new l(m)}};b.__decorate([n.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=l=b.__decorate([k.subclass("esri.symbols.support.Symbol3DFillMaterial")],a.Symbol3DFillMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),function(a,b,d,f,c,q,n,k,h,l,m,w,r){var e;a.Symbol3DOutline=e=class extends f.JSONSupport{constructor(g){super(g);this.color=new d([0,0,0,1]);
this.size=c.px2pt(1);this.pattern=null;this.patternCap="butt"}clone(){const g={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new e(g)}};b.__decorate([q.property(w.colorAndTransparencyProperty)],a.Symbol3DOutline.prototype,"color",void 0);b.__decorate([q.property(w.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);b.__decorate([q.property(m.symbol3dLinePatternProperty)],a.Symbol3DOutline.prototype,
"pattern",void 0);b.__decorate([q.property({type:r.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=e=b.__decorate([l.subclass("esri.symbols.support.Symbol3DOutline")],a.Symbol3DOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has","../../core/libs/gl-matrix-2/factories/vec3f64","../../geometry/support/aaBoundingBox"],
function(a,b,d,f){const c=f.fromValues(-.5,-.5,-.5,.5,.5,.5),q=f.fromValues(-.5,-.5,0,.5,.5,1),n=f.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];f=[...b,"none"];a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerBoundingBoxTetrahedron=n;a.objectSymbolLayerBoundingBoxUnitCube=c;a.objectSymbolLayerBoundingBoxUnitCylinder=q;a.objectSymbolLayerPrimitiveBoundingBox=function(k){switch(k){case "sphere":case "cube":case "diamond":return c;case "cylinder":case "cone":case "inverted-cone":return q;
case "tetrahedron":return n}};a.objectSymbolLayerSizeWithResourceSize=function(k,{isPrimitive:h,width:l,depth:m,height:w}){h=h?10:1;if(null==l&&null==w&&null==m)return[h*k[0],h*k[1],h*k[2]];l=d.fromValues(l,m,w);let r;for(m=0;3>m;m++)if(w=l[m],null!=w){r=w/k[m];break}for(m=0;3>m;m++)null==l[m]&&(l[m]=k[m]*r);return l};a.pathCaps=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../Extent","./aaBoundingRect"],function(a,
b,d){function f(g=r){return[g[0],g[1],g[2],g[3],g[4],g[5]]}function c(g,p,v,u,x,z,t=f()){t[0]=g;t[1]=p;t[2]=v;t[3]=u;t[4]=x;t[5]=z;return t}function q(g){return g[0]>=g[3]?0:g[3]-g[0]}function n(g){return g[1]>=g[4]?0:g[4]-g[1]}function k(g){return g[2]>=g[5]?0:g[5]-g[2]}function h(g,p){return Math.max(p[0],g[0])<=Math.min(p[3],g[3])&&Math.max(p[1],g[1])<=Math.min(p[4],g[4])&&Math.max(p[2],g[2])<=Math.min(p[5],g[5])}function l(g,p){g[0]=p[0];g[1]=p[1];g[2]=p[2];g[3]=p[3];g[4]=p[4];g[5]=p[5];return g}
function m(g){return 6===g.length}const w=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],r=[0,0,0,0,0,0],e=f();a.allFinite=function(g){for(let p=0;6>p;p++)if(!isFinite(g[p]))return!1;return!0};a.center=function(g,p=[0,0,0]){p[0]=g[0]+q(g)/2;p[1]=g[1]+n(g)/2;p[2]=g[2]+k(g)/2;return p};a.contains=function(g,p){return p[0]>=g[0]&&p[1]>=g[1]&&p[2]>=g[2]&&p[3]<=g[3]&&p[4]<=g[4]&&p[5]<=g[5]};a.containsPoint=function(g,p){return p[0]>=g[0]&&p[1]>=g[1]&&p[2]>=g[2]&&p[0]<=g[3]&&p[1]<=g[4]&&p[2]<=
g[5]};a.containsPointWithMargin=function(g,p,v){return p[0]>=g[0]-v&&p[1]>=g[1]-v&&p[2]>=g[2]-v&&p[0]<=g[3]+v&&p[1]<=g[4]+v&&p[2]<=g[5]+v};a.create=f;a.depth=n;a.diameter=function(g){const p=q(g),v=k(g);g=n(g);return Math.sqrt(p*p+v*v+g*g)};a.empty=function(g){return g?l(g,w):f(w)};a.equals=function(g,p,v){if(null==g||null==p)return g===p;if(!m(g)||!m(p))return!1;if(v)for(let u=0;u<g.length;u++){if(!v(g[u],p[u]))return!1}else for(v=0;v<g.length;v++)if(g[v]!==p[v])return!1;return!0};a.expandWithAABB=
function(g,p){g[0]=Math.min(g[0],p[0]);g[1]=Math.min(g[1],p[1]);g[2]=Math.min(g[2],p[2]);g[3]=Math.max(g[3],p[3]);g[4]=Math.max(g[4],p[4]);g[5]=Math.max(g[5],p[5])};a.expandWithBuffer=function(g,p,v=0,u=p.length/3){let x=g[0],z=g[1],t=g[2],y=g[3],B=g[4],A=g[5];for(let D=0;D<u;D++)x=Math.min(x,p[v+3*D]),z=Math.min(z,p[v+3*D+1]),t=Math.min(t,p[v+3*D+2]),y=Math.max(y,p[v+3*D]),B=Math.max(B,p[v+3*D+1]),A=Math.max(A,p[v+3*D+2]);g[0]=x;g[1]=z;g[2]=t;g[3]=y;g[4]=B;g[5]=A};a.expandWithNestedArray=function(g,
p,v){const u=p.length;let x=g[0],z=g[1],t=g[2],y=g[3],B=g[4],A=g[5];if(v)for(v=0;v<u;v++){var D=p[v];x=Math.min(x,D[0]);z=Math.min(z,D[1]);t=Math.min(t,D[2]);y=Math.max(y,D[0]);B=Math.max(B,D[1]);A=Math.max(A,D[2])}else for(v=0;v<u;v++)D=p[v],x=Math.min(x,D[0]),z=Math.min(z,D[1]),y=Math.max(y,D[0]),B=Math.max(B,D[1]);g[0]=x;g[1]=z;g[2]=t;g[3]=y;g[4]=B;g[5]=A};a.expandWithOffset=function(g,p,v,u){g[0]=Math.min(g[0],g[0]+p);g[3]=Math.max(g[3],g[3]+p);g[1]=Math.min(g[1],g[1]+v);g[4]=Math.max(g[4],g[4]+
v);g[2]=Math.min(g[2],g[2]+u);g[5]=Math.max(g[5],g[5]+u)};a.expandWithRect=function(g,p){g[0]=Math.min(g[0],p[0]);g[1]=Math.min(g[1],p[1]);g[3]=Math.max(g[3],p[2]);g[4]=Math.max(g[4],p[3])};a.expandWithVec3=function(g,p){g[0]=Math.min(g[0],p[0]);g[1]=Math.min(g[1],p[1]);g[2]=Math.min(g[2],p[2]);g[3]=Math.max(g[3],p[0]);g[4]=Math.max(g[4],p[1]);g[5]=Math.max(g[5],p[2])};a.fromExtent=function(g,p=f()){p[0]=g.xmin;p[1]=g.ymin;p[2]=g.hasZ?g.zmin:-Infinity;p[3]=g.xmax;p[4]=g.ymax;p[5]=g.hasZ?g.zmax:Infinity;
return p};a.fromMinMax=function(g,p,v=f()){v[0]=g[0];v[1]=g[1];v[2]=g[2];v[3]=p[0];v[4]=p[1];v[5]=p[2];return v};a.fromRect=function(g,p){g[0]=p[0];g[1]=p[1];g[2]=Number.NEGATIVE_INFINITY;g[3]=p[2];g[4]=p[3];g[5]=Number.POSITIVE_INFINITY;return g};a.fromRectValues=function(g,p,v,u,x){g[0]=p;g[1]=v;g[2]=Number.NEGATIVE_INFINITY;g[3]=u;g[4]=x;g[5]=Number.POSITIVE_INFINITY;return g};a.fromValues=c;a.getMax=function(g,p){p[0]=g[3];p[1]=g[4];p[2]=g[5];return p};a.getMin=function(g,p){p[0]=g[0];p[1]=g[1];
p[2]=g[2];return p};a.height=k;a.intersects=h;a.intersectsClippingArea=function(g,p){return null==p?!0:h(g,p)};a.is=m;a.isPoint=function(g){return 0===q(g)&&0===n(g)&&0===k(g)};a.maximumDimension=function(g){return Math.max(q(g),k(g),n(g))};a.negativeInfinity=w;a.offset=function(g,p,v,u,x=g){x[0]=g[0]+p;x[1]=g[1]+v;x[2]=g[2]+u;x[3]=g[3]+p;x[4]=g[4]+v;x[5]=g[5]+u;return x};a.positiveInfinity=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.scale=function(g,p,v=g){const u=g[0]+q(g)/2,x=
g[1]+n(g)/2,z=g[2]+k(g)/2;v[0]=u+(g[0]-u)*p;v[1]=x+(g[1]-x)*p;v[2]=z+(g[2]-z)*p;v[3]=u+(g[3]-u)*p;v[4]=x+(g[4]-x)*p;v[5]=z+(g[5]-z)*p;return v};a.set=l;a.setMax=function(g,p,v=g){v[3]=p[0];v[4]=p[1];v[5]=p[2];v!==g&&(v[0]=g[0],v[1]=g[1],v[2]=g[2]);return g};a.setMin=function(g,p,v=g){v[0]=p[0];v[1]=p[1];v[2]=p[2];v!==g&&(v[3]=g[3],v[4]=g[4],v[5]=g[5]);return v};a.size=function(g,p=[0,0,0]){p[0]=q(g);p[1]=n(g);p[2]=k(g);return p};a.toExtent=function(g,p){return isFinite(g[2])||isFinite(g[5])?new b({xmin:g[0],
xmax:g[3],ymin:g[1],ymax:g[4],zmin:g[2],zmax:g[5],spatialReference:p}):new b({xmin:g[0],xmax:g[3],ymin:g[1],ymax:g[4],spatialReference:p})};a.toRect=function(g,p){p||=d.create();p[0]=g[0];p[1]=g[1];p[2]=g[3];p[3]=g[4];return p};a.width=q;a.wrap=function(g,p,v,u,x,z){return c(g,p,v,u,x,z,e)};a.zero=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/Font":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;b=l=class extends b.JSONSupport{constructor(m){super(m);this.decoration="none";this.family="sans-serif";this.size=9;this.weight=this.style="normal"}castSize(m){return d.toPt(m)}clone(){return new l({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};a.__decorate([f.property({type:h.fontDecorations,json:{default:"none",write:!0}})],
b.prototype,"decoration",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);a.__decorate([f.property({type:Number,json:{write:{overridePolicy(m,w,r){return{enabled:!r||!r.textSymbol3D}}}}})],b.prototype,"size",void 0);a.__decorate([c.cast("size")],b.prototype,"castSize",null);a.__decorate([f.property({type:h.fontStyles,json:{default:"normal",write:!0}})],b.prototype,"style",void 0);a.__decorate([f.property({type:h.fontWeights,json:{default:"normal",write:!0}})],
b.prototype,"weight",void 0);return b=l=a.__decorate([k.subclass("esri.symbols.Font")],b)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,d){const f={type:Number,cast:h=>{h=d.ensureNumber(h);return 0===h?1:b.clamp(h,.1,4)},nonNullable:!0},c=["left","right","center"],q=["baseline","top","middle","bottom"],n={type:c,nonNullable:!0},k={type:q,nonNullable:!0};a.backgroundPadding=8;a.fontDecorations=["none","underline",
"line-through"];a.fontStyles=["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=n;a.horizontalAlignments=c;a.lineHeightProperty=f;a.verticalAlignmentProperty=k;a.verticalAlignments=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){function p(z){const t="width"in z?z.width:z.size,y="height"in z?z.height:z.size,B=v(z.xoffset);z=v(z.yoffset);return(B||z)&&t&&y?{x:-B/t,y:z/y}:null}function v(z){return isFinite(z)?z:0}var u;c=u=class extends h{constructor(z){super(z);this.resource=this.material=null;this.type="icon";this.size=12;this.anchor="center";this.outline=this.anchorPosition=null}clone(){return new u({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),
enabled:this.enabled,material:null!=this.material?this.material.clone():null,outline:null!=this.outline?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(z){const t=z.color||l.white,y=p(z),B=z.outline&&0<z.outline.width?{size:z.outline.width,color:(z.outline.color||l.white).clone()}:null;var A=u,D=z.size;{z=z.style;const E=x[z];E?z=E:(b.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${z} cannot be mapped to Icon symbol. Fallback to "circle"`),
z="circle")}return new A({size:D,resource:{primitive:z},material:{color:t},outline:B,anchor:y?"relative":void 0,anchorPosition:y})}static fromPictureMarkerSymbol(z){const t=!z.color||l.isBlack(z.color)?l.white:z.color,y=p(z);return new u({size:z.width<=z.height?z.height:z.width,resource:{href:z.url},material:{color:t.clone()},anchor:y?"relative":void 0,anchorPosition:y})}static fromCIMSymbol(z){return new u({resource:{href:d.makeData({mediaType:"application/json",data:JSON.stringify(z.data)})}})}};
a.__decorate([f.property({type:g.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([f.property({type:m.IconSymbol3DLayerResource,json:{write:!0}})],c.prototype,"resource",void 0);a.__decorate([n.enumeration({Icon:"icon"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([f.property(w.screenSizeProperty)],c.prototype,"size",void 0);a.__decorate([n.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",
bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),f.property({json:{default:"center"}})],c.prototype,"anchor",void 0);a.__decorate([f.property({type:r.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:z=>new r.Symbol3DAnchorPosition2D({x:z[0],y:z[1]})},write:{writer:(z,t)=>{t.anchorPosition=[z.x,z.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);a.__decorate([f.property({type:e.Symbol3DIconOutline,json:{write:!0}})],
c.prototype,"outline",void 0);c=u=a.__decorate([k.subclass("esri.symbols.IconSymbol3DLayer")],c);const x={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return c})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e){var g;d=d.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=g=class extends f.JSONSupport{constructor(p){super(p)}readHref(p,v,u){return p?e.fromJSON(p,u):v.dataURI}writeHref(p,v,u,x){p&&(c.isDataProtocol(p)?v.dataURI=p:(v.href=e.toJSON(p,x),c.isAbsolute(v.href)&&(v.href=c.normalize(v.href))))}clone(){return new g({href:this.href,primitive:this.primitive})}};b.__decorate([q.property({type:String,
json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([m.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);b.__decorate([r.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);b.__decorate([l.enumeration(d)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);a.IconSymbol3DLayerResource=g=b.__decorate([w.subclass("esri.symbols.support.IconSymbol3DLayerResource")],
a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k){var h;a.Symbol3DAnchorPosition2D=h=class extends d{constructor(){super(...arguments);
this.y=this.x=0}clone(){return new h({x:this.x,y:this.y})}};b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=h=b.__decorate([k.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],a.Symbol3DAnchorPosition2D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;a.Symbol3DIconOutline=w=class extends f.JSONSupport{constructor(r){super(r);this.color=new d([0,0,0,1]);this.size=c.px2pt(1)}clone(){const r={color:null!=this.color?this.color.clone():null,size:this.size};return new w(r)}};b.__decorate([q.property(m.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);b.__decorate([q.property(m.screenSizeProperty)],a.Symbol3DIconOutline.prototype,"size",void 0);a.Symbol3DIconOutline=w=b.__decorate([l.subclass("esri.symbols.support.Symbol3DIconOutline")],
a.Symbol3DIconOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,d,f,c,q,n,k,h,l,m,w){var r;const e=b.ofType({base:null,
key:"type",typeMap:{text:l}});c=r=class extends h{constructor(g){super(g);this.styleOrigin=this.callout=this.verticalOffset=null;this.symbolLayers=new e;this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return m.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return m.hasVisibleVerticalOffset(this)}clone(){return new r({styleOrigin:d.clone(this.styleOrigin),symbolLayers:d.clone(this.symbolLayers),thumbnail:d.clone(this.thumbnail),callout:d.clone(this.callout),verticalOffset:d.clone(this.verticalOffset)})}static fromTextSymbol(g){return new r({symbolLayers:new b([l.fromTextSymbol(g)])})}};
a.__decorate([f.property({type:w,json:{write:!0}})],c.prototype,"verticalOffset",void 0);a.__decorate([f.property(m.calloutProperty)],c.prototype,"callout",void 0);a.__decorate([f.property({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",void 0);a.__decorate([f.property({type:e})],c.prototype,"symbolLayers",void 0);a.__decorate([n.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=r=a.__decorate([k.subclass("esri.symbols.LabelSymbol3D")],c)})},"esri/symbols/Symbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E,J){const F={icon:u,object:z,line:x,path:t,fill:v,extrude:p,text:A,water:D};h=b.ofType({base:B,key:"type",typeMap:F,errorContext:"symbol-layer"});y=class extends y{constructor(G){super(G);this.type=this.thumbnail=this.styleOrigin=null;this._set("symbolLayers",new ((this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers)?.type||b))}get color(){return null}set color(G){this.constructed&&f.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(G){d.referenceSetter(G,
this._get("symbolLayers"))}readStyleOrigin(G,M,L){if(G.styleUrl&&G.name)return M=g.fromJSON(G.styleUrl,L),new E({styleUrl:M,name:G.name});if(G.styleName&&G.name)return new E({portal:L?.portal||e.getDefault(),styleName:G.styleName,name:G.name});L?.messages&&L.messages.push(new q("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:L,definition:G}))}writeStyleOrigin(G,M,L,T){G.styleUrl&&G.name?(L=g.toJSON(G.styleUrl,T),c.isAbsolute(L)&&
(L=c.normalize(L)),M.styleOrigin={styleUrl:L,name:G.name}):G.styleName&&G.name&&(G.portal&&T?.portal&&!c.hasSamePortal(G.portal.restUrl,T.portal.restUrl)?T?.messages&&T.messages.push(new q("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):M.styleOrigin={styleName:G.styleName,name:G.name})}normalizeCtorArgs(G){return G instanceof B||G&&F[G.type]?{symbolLayers:[G]}:Array.isArray(G)?{symbolLayers:G}:
G}};a.__decorate([n.property({json:{read:!1,write:!1}})],y.prototype,"color",null);a.__decorate([n.property({type:h,nonNullable:!0,json:{write:!0}}),k.cast(d.castForReferenceSetter)],y.prototype,"symbolLayers",null);a.__decorate([n.property({type:E})],y.prototype,"styleOrigin",void 0);a.__decorate([m.reader("styleOrigin")],y.prototype,"readStyleOrigin",null);a.__decorate([r.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],
y.prototype,"writeStyleOrigin",null);a.__decorate([n.property({type:J.Thumbnail,json:{read:!1}})],y.prototype,"thumbnail",void 0);a.__decorate([n.property({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],y.prototype,"type",void 0);return y=a.__decorate([w.subclass("esri.symbols.Symbol3D")],y)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p){var v;f=v=class extends l{constructor(u){super(u);this.material=null;this.type="line";this.join="miter";this.cap="butt";this.size=b.px2pt(1);this.marker=this.pattern=null}clone(){const u={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new v(u)}static fromSimpleLineSymbol(u){u=
{enabled:!0,size:u.width??b.px2pt(1),cap:u.cap||"butt",join:u.join||"miter",pattern:u.style&&"inside-frame"!==u.style?new m({style:u.style}):null,material:new g.Symbol3DMaterial({color:(u.color||r.white).clone()}),marker:u.marker?new h({placement:u.marker.placement,style:u.marker.style,color:u.marker.color?.clone()??null}):null};return new v(u)}};a.__decorate([d.property({type:g.Symbol3DMaterial,json:{write:!0}})],f.prototype,"material",void 0);a.__decorate([n.enumeration({Line:"line"},{readOnly:!0})],
f.prototype,"type",void 0);a.__decorate([d.property({type:p.lineJoins,json:{write:!0,default:"miter"}})],f.prototype,"join",void 0);a.__decorate([d.property({type:p.lineCaps,json:{write:!0,default:"butt"}})],f.prototype,"cap",void 0);a.__decorate([d.property(e.screenSizeProperty)],f.prototype,"size",void 0);a.__decorate([d.property(w.symbol3dLinePatternProperty)],f.prototype,"pattern",void 0);a.__decorate([d.property({types:{key:"type",base:h,typeMap:{style:h}},json:{write:!0}})],f.prototype,"marker",
void 0);return f=v=a.__decorate([k.subclass("esri.symbols.LineSymbol3DLayer")],f)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),function(a,b,d,f,c,q,n,k,h,l){d=class extends d.ClonableMixin(f.JSONSupport){constructor(m){super(m);this.type=
"style";this.placement="begin-end";this.style="arrow";this.color=null}equals(m){return null!=m&&m.placement===this.placement&&m.style===this.style&&(null==this.color&&null==m.color||null!=this.color&&null!=m.color&&this.color.toJSON()===m.color.toJSON())}};a.__decorate([c.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);a.__decorate([c.property({type:l.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],d.prototype,"placement",void 0);
a.__decorate([c.property({type:l.lineMarkerStyles,json:{default:"arrow",write:!0}})],d.prototype,"style",void 0);a.__decorate([c.property({type:b,json:{type:[q.Integer],default:null,write:!0}})],d.prototype,"color",void 0);return d=a.__decorate([h.subclass("esri.symbols.LineStyleMarker3D")],d)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;d=w=class extends k{constructor(r){super(r);this.material=null;this.castShadows=!0;this.resource=null;this.type="object";this.roll=this.tilt=this.heading=this.anchorPosition=this.anchor=this.depth=this.height=this.width=void 0}clone(){return new w({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,
resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!==typeof this.resource.href}};a.__decorate([b.property({type:m.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);a.__decorate([b.property({type:h.ObjectSymbol3DLayerResource,json:{write:!0}})],d.prototype,"resource",void 0);a.__decorate([q.enumeration({Object:"object"},
{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"width",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"depth",void 0);a.__decorate([q.enumeration({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),b.property({json:{default:"origin"}})],d.prototype,"anchor",void 0);a.__decorate([b.property({type:l.Symbol3DAnchorPosition3D,
json:{type:[Number],read:{reader:r=>new l.Symbol3DAnchorPosition3D({x:r[0],y:r[1],z:r[2]})},write:{writer:(r,e)=>{e.anchorPosition=[r.x,r.y,r.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],d.prototype,"anchorPosition",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"heading",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"tilt",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"roll",void 0);
a.__decorate([b.property({readOnly:!0})],d.prototype,"isPrimitive",null);return d=w=a.__decorate([n.subclass("esri.symbols.ObjectSymbol3DLayer")],d)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;d=d.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=w=class extends f.JSONSupport{clone(){return new w({href:this.href,primitive:this.primitive})}};b.__decorate([c.property({type:String,json:{read:m.read,write:m.write}})],a.ObjectSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([h.enumeration(d)],a.ObjectSymbol3DLayerResource.prototype,
"primitive",void 0);a.ObjectSymbol3DLayerResource=w=b.__decorate([l.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){var h;a.Symbol3DAnchorPosition3D=h=class extends d{constructor(){super(...arguments);this.z=this.y=this.x=0}clone(){return new h({x:this.x,y:this.y,z:this.z})}};b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"z",void 0);a.Symbol3DAnchorPosition3D=h=b.__decorate([k.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],
a.Symbol3DAnchorPosition3D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),function(a,b,d,f,c,q,n,k,h,l,m){var w;
d=w=class extends h{constructor(r){super(r);this.material=null;this.castShadows=!0;this.type="path";this.profile="circle";this.join="miter";this.cap="butt";this.height=this.width=void 0;this.anchor="center";this.profileRotation="all"}readWidth(r,e){return null!=r?r:null==e.height&&null!=e.size?e.size:void 0}readHeight(r,e){return null!=r?r:null==e.width&&null!=e.size?e.size:void 0}clone(){return new w({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,
profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};a.__decorate([b.property({type:l.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);a.__decorate([q.enumeration({Path:"path"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([b.property({type:["circle","quad"],json:{write:!0,
default:"circle"}})],d.prototype,"profile",void 0);a.__decorate([b.property({type:m.lineJoins,json:{write:!0,default:"miter"}})],d.prototype,"join",void 0);a.__decorate([b.property({type:m.pathCaps,json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],d.prototype,"width",void 0);a.__decorate([n.reader("width",["width","size","height"])],d.prototype,"readWidth",null);a.__decorate([b.property({type:Number,
json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([n.reader("height",["height","size","width"])],d.prototype,"readHeight",null);a.__decorate([b.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],d.prototype,"anchor",void 0);a.__decorate([b.property({type:["heading","all"],json:{write:!0,default:"all"}})],d.prototype,"profileRotation",void 0);return d=w=a.__decorate([k.subclass("esri.symbols.PathSymbol3DLayer")],d)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){var p;f=p=class extends l{constructor(v){super(v);this._userSize=void 0;this.halo=null;this.horizontalAlignment="center";this.lineHeight=1;this.text=this.background=this.material=null;this.type="text";this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(v){null!=v&&null!=this._userSize&&(v.size=this._userSize);this._set("font",v)}writeFont(v,u,x,z){u.font=v.write({},{...z,textSymbol3D:!0});delete u.font.size}get size(){return null!=
this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(v){this._userSize=v;null!=this.font&&(this.font.size=this._userSize);this.notifyChange("size")}clone(){const v=new p({enabled:this.enabled,font:this.font&&b.clone(this.font),halo:this.halo&&b.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:b.clone(this.background)});
v._userSize=this._userSize;return v}static fromTextSymbol(v){var u=p,x=null!=v.font?v.font.clone():new h;var z=v.haloColor;var t=v.haloSize;z=z&&null!=t&&0<t?new w.Symbol3DHalo({color:b.clone(z),size:t}):null;return new u({font:x,halo:z,horizontalAlignment:v.horizontalAlignment,lineHeight:v.lineHeight,material:v.color?new r.Symbol3DMaterial({color:v.color.clone()}):null,text:v.text,verticalAlignment:v.verticalAlignment,background:v.backgroundColor?new e.Symbol3DTextBackground({color:v.backgroundColor.clone()}):
null})}};a.__decorate([d.property({type:h,json:{write:!0}})],f.prototype,"font",null);a.__decorate([k.writer("font")],f.prototype,"writeFont",null);a.__decorate([d.property({type:w.Symbol3DHalo,json:{write:!0}})],f.prototype,"halo",void 0);a.__decorate([d.property({...g.horizontalAlignmentProperty,json:{default:"center",write:!0}})],f.prototype,"horizontalAlignment",void 0);a.__decorate([d.property({...g.lineHeightProperty,json:{default:1,write:!0}})],f.prototype,"lineHeight",void 0);a.__decorate([d.property({type:r.Symbol3DMaterial,
json:{write:!0}})],f.prototype,"material",void 0);a.__decorate([d.property({type:e.Symbol3DTextBackground,json:{write:!0}})],f.prototype,"background",void 0);a.__decorate([d.property(m.screenSizeProperty)],f.prototype,"size",null);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"text",void 0);a.__decorate([q.enumeration({Text:"text"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property({...g.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],f.prototype,
"verticalAlignment",void 0);return f=p=a.__decorate([n.subclass("esri.symbols.TextSymbol3DLayer")],f)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,d,f,c,q,n,k,h,l){var m;a.Symbol3DHalo=m=class extends f.JSONSupport{constructor(){super(...arguments);
this.color=new d([0,0,0,1]);this.size=0}clone(){const w={color:c.clone(this.color),size:this.size};return new m(w)}};b.__decorate([q.property(l.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);b.__decorate([q.property(l.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=m=b.__decorate([h.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l){a.Symbol3DTextBackground=class extends d.ClonableMixin(f.JSONSupport){constructor(m){super(m);this.color=null}};b.__decorate([c.property(l.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=b.__decorate([h.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),
function(a,b,d,f,c,q,n,k){var h;k=h=class extends k{constructor(m){super(m);this.color=l.clone();this.type="water";this.waterbodySize="medium";this.waveDirection=null;this.waveStrength="moderate"}clone(){return new h({color:d.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};a.__decorate([f.property({type:b,nonNullable:!0,json:{type:[c.Integer],write:(m,w,r)=>w[r]=m.toArray(b.AlphaMode.UNLESS_OPAQUE),default:()=>l.clone(),defaultEquals:m=>
m.toCss(!0)===l.toCss(!0)}})],k.prototype,"color",void 0);a.__decorate([q.enumeration({Water:"water"},{readOnly:!0})],k.prototype,"type",void 0);a.__decorate([f.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],k.prototype,"waterbodySize",void 0);a.__decorate([f.property({type:Number,json:{write:!0,default:null}})],k.prototype,"waveDirection",void 0);a.__decorate([f.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],k.prototype,
"waveStrength",void 0);k=h=a.__decorate([n.subclass("esri.symbols.WaterSymbol3DLayer")],k);const l=new b([0,119,190]);return k})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,d,f,c,q,n,k){var h;b=h=class extends b{constructor(l){super(l);this.portal=this.styleName=
this.styleUrl=this.name=null}clone(){return new h({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};a.__decorate([d.property({type:String})],b.prototype,"name",void 0);a.__decorate([d.property({type:String})],b.prototype,"styleUrl",void 0);a.__decorate([d.property({type:String})],b.prototype,"styleName",void 0);a.__decorate([d.property({type:k})],b.prototype,"portal",void 0);return b=h=a.__decorate([n.subclass("esri.symbols.support.StyleOrigin")],b)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){var h;a.Thumbnail=h=class extends d{constructor(){super(...arguments);this.url=""}clone(){return new h({url:this.url})}};b.__decorate([f.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=h=b.__decorate([k.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,b,d){function f(c){if(!c)return!1;
c=c.verticalOffset;return!c||0>=c.screenLength||null!=c.maxWorldLength&&0>=c.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:b,typeMap:{line:d}},json:{write:!0}};a.hasCalloutSupport=function(c){return"point-3d"===c.type||"label-3d"===c.type};a.hasVisibleCallout=function(c){if(!c||!c.supportsCallout||!c.supportsCallout())return!1;const q=c.callout;return q&&q.visible?f(c)?!0:!1:!1};a.hasVisibleVerticalOffset=f;a.textSymbolLayerSupportsVerticalOffset=function(c){return"center"===c.horizontalAlignment};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){b=class extends b.JSONSupport{constructor(k){super(k);this.visible=!0}clone(){}};a.__decorate([d.property({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],
b.prototype,"type",void 0);a.__decorate([d.property({readOnly:!0})],b.prototype,"visible",void 0);return b=a.__decorate([n.subclass("esri.symbols.callouts.Callout3D")],b)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){var r;q=r=class extends l{constructor(e){super(e);this.type="line";this.color=new b([0,0,0,1]);this.size=f.px2pt(1);this.border=null}get visible(){return 0<this.size&&null!=this.color&&0<this.color.a}clone(){return new r({color:d.clone(this.color),size:this.size,border:d.clone(this.border)})}};a.__decorate([k.enumeration({line:"line"})],q.prototype,"type",void 0);a.__decorate([c.property(w.colorAndTransparencyProperty)],q.prototype,"color",void 0);a.__decorate([c.property(w.screenSizeProperty)],
q.prototype,"size",void 0);a.__decorate([c.property({type:m,json:{write:!0}})],q.prototype,"border",void 0);a.__decorate([c.property({readOnly:!0})],q.prototype,"visible",null);return q=r=a.__decorate([h.subclass("esri.symbols.callouts.LineCallout3D")],q)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;d=l=class extends d.JSONSupport{constructor(m){super(m);this.color=new b("white")}clone(){return new l({color:f.clone(this.color)})}};a.__decorate([c.property(h.colorAndTransparencyProperty)],d.prototype,"color",void 0);return d=l=a.__decorate([k.subclass("esri.symbols.callouts.LineCallout3DBorder")],d)})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,d,f,c,q,n,k){var h;b=h=class extends b.JSONSupport{constructor(l){super(l);this.minWorldLength=this.screenLength=0;this.maxWorldLength=null}clone(){return new h({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};a.__decorate([d.property(k.screenSizeProperty)],b.prototype,"screenLength",void 0);a.__decorate([d.property({type:Number,nonNullable:!0,json:{write:!0,default:0}})],b.prototype,"minWorldLength",void 0);a.__decorate([d.property({type:Number,
json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=h=a.__decorate([n.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)})},"esri/symbols/LineSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(a,b,d,f,c,q,n,k,h,l,m){var w;
const r=b.ofType({base:null,key:"type",typeMap:{line:h,path:l}});c=b.ofType({base:null,key:"type",typeMap:{line:h,path:l}});m=w=class extends m{constructor(e){super(e);this.symbolLayers=new r;this.type="line-3d"}clone(){return new w({styleOrigin:d.clone(this.styleOrigin),symbolLayers:d.clone(this.symbolLayers),thumbnail:d.clone(this.thumbnail)})}static fromSimpleLineSymbol(e){return new w({symbolLayers:new b([h.fromSimpleLineSymbol(e)])})}};a.__decorate([f.property({type:r,json:{type:c}})],m.prototype,
"symbolLayers",void 0);a.__decorate([n.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],m.prototype,"type",void 0);return m=w=a.__decorate([k.subclass("esri.symbols.LineSymbol3D")],m)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),function(a,b,d,f,c,q,n,k){f=class extends k{constructor(h){super(h);this.angle=
0;this.type=null;this.yoffset=this.xoffset=0;this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};a.__decorate([d.property({type:Number,json:{read:h=>h&&-1*h,write:(h,l)=>l.angle=h&&-1*h}})],f.prototype,"angle",void 0);a.__decorate([d.property({type:["simple-marker","picture-marker"],readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property({type:Number,cast:b.toPt,json:{write:!0}})],f.prototype,"xoffset",void 0);a.__decorate([d.property({type:Number,
cast:b.toPt,json:{write:!0}})],f.prototype,"yoffset",void 0);a.__decorate([d.property({type:Number,cast:h=>"auto"===h?h:b.toPt(h),json:{write:!0}})],f.prototype,"size",void 0);return f=a.__decorate([n.subclass("esri.symbols.MarkerSymbol")],f)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,d,f,c,q,n,k,h,l){var m;const w=b.ofType({base:null,key:"type",typeMap:{fill:h}});c=m=class extends l{constructor(r){super(r);this.symbolLayers=new w;this.type="mesh-3d"}clone(){return new m({styleOrigin:d.clone(this.styleOrigin),symbolLayers:d.clone(this.symbolLayers),thumbnail:d.clone(this.thumbnail)})}static fromSimpleFillSymbol(r){return new m({symbolLayers:new b([h.fromSimpleFillSymbol(r)])})}};a.__decorate([f.property({type:w})],c.prototype,"symbolLayers",void 0);a.__decorate([n.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],c.prototype,"type",void 0);return c=m=a.__decorate([k.subclass("esri.symbols.MeshSymbol3D")],c)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),function(a,b,d,f,c,q,n,k,h,l){var m;c=m=class extends h{constructor(...w){super(...w);
this.type="picture-fill";this.url=null;this.yscale=this.xscale=1;this.height=this.width=12;this.yoffset=this.xoffset=0;this.source=null}normalizeCtorArgs(w,r,e,g){if(w&&"string"!==typeof w&&null==w.imageData)return w;const p={};w&&(p.url=w);r&&(p.outline=r);null!=e&&(p.width=d.toPt(e));null!=g&&(p.height=d.toPt(g));return p}clone(){const w=new m({color:b.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,
yoffset:this.yoffset,yscale:this.yscale});w._set("source",b.clone(this.source));return w}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};a.__decorate([n.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([f.property(l.urlPropertyDefinition)],c.prototype,"url",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"xscale",void 0);
a.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"yscale",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],c.prototype,"width",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],c.prototype,"height",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],c.prototype,"xoffset",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],c.prototype,"yoffset",void 0);a.__decorate([f.property(l.sourcePropertyDefinition)],
c.prototype,"source",void 0);return c=m=a.__decorate([k.subclass("esri.symbols.PictureFillSymbol")],c)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,d){function f(k,h,l){return h.imageData?b.makeData({mediaType:h.contentType||"image/png",isBase64:!0,data:h.imageData}):c(h.url,l)}function c(k,h){if(!b.isAbsolute(k)){if(h){var {origin:l,layer:m}=h;if("service"!==l&&"portal-item"!==l)var w=null;else w=m?.type,w=
"feature"===w||"stream"===w?m.parsedUrl?.path:"map-image"===w||"tile"===w?h.url?.path:null}else w=null;if(w)return b.join(w,"images",k)}return d.fromJSON(k,h)}function q(k,h,l,m){if(b.isDataProtocol(k)){if(k=b.dataComponents(k))h.contentType=k.mediaType,h.imageData=k.data,l&&l.imageData===h.imageData&&l.url&&d.write(l.url,h,"url",m)}else d.write(k,h,"url",m)}const n={json:{read:{source:["imageData","url"],reader:f},write:{writer(k,h,l,m){q(k,h,this.source,m)}}}};a.read=c;a.readImageDataOrUrl=f;a.sourcePropertyDefinition=
{readOnly:!0,json:{read:{source:["imageData","url"],reader(k,h,l){k={};h.imageData&&(k.imageData=h.imageData);h.contentType&&(k.contentType=h.contentType);h.url&&(k.url=c(h.url,l));return k}}}};a.urlPropertyDefinition=n;a.writeImageDataAndUrl=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;c=w=class extends l{constructor(...r){super(...r);this.color=null;this.type="picture-marker";this.source=this.url=null;this.width=this.height=12;this.size=null}normalizeCtorArgs(r,e,g){if(r&&"string"!==typeof r&&null==r.imageData)return r;const p={};r&&(p.url=r);null!=e&&(p.width=d.toPt(e));null!=g&&(p.height=d.toPt(g));return p}readHeight(r,e){return e.size||r}readWidth(r,e){return e.size||r}clone(){const r=new w({angle:this.angle,height:this.height,url:this.url,
width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});r._set("source",b.clone(this.source));return r}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};a.__decorate([f.property({json:{write:!1}})],c.prototype,"color",void 0);a.__decorate([n.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([f.property(m.urlPropertyDefinition)],c.prototype,"url",void 0);a.__decorate([f.property(m.sourcePropertyDefinition)],c.prototype,"source",
void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],c.prototype,"height",void 0);a.__decorate([k.reader("height",["height","size"])],c.prototype,"readHeight",null);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],c.prototype,"width",void 0);a.__decorate([f.property({json:{write:!1}})],c.prototype,"size",void 0);return c=w=a.__decorate([h.subclass("esri.symbols.PictureMarkerSymbol")],c)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/tslib.es6 ../Color ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./callouts/LineCallout3D ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p){var v;const u=d.ofType({base:null,key:"type",typeMap:{icon:l,object:m,text:r}});q=v=class extends w{constructor(x){super(x);this.callout=this.verticalOffset=null;this.symbolLayers=new u;this.type="point-3d"}supportsCallout(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const x of this.symbolLayers.items)switch(x.type){case "icon":case "text":case "object":continue;default:return!1}return!0}hasVisibleCallout(){return e.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return e.hasVisibleVerticalOffset(this)}clone(){return new v({verticalOffset:f.clone(this.verticalOffset),
callout:f.clone(this.callout),styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})}static fromSimpleMarkerSymbol(x){return new v({symbolLayers:new d([l.fromSimpleMarkerSymbol(x)])})}static fromPictureMarkerSymbol(x){return new v({symbolLayers:new d([l.fromPictureMarkerSymbol(x)])})}static fromCIMSymbol(x){return"CIMPointSymbol"!==x.data?.symbol?.type?null:x.data.symbol?.callout?new v({symbolLayers:new d([l.fromCIMSymbol(x)]),callout:new g({size:.5,
color:new b([0,0,0])}),verticalOffset:new p({screenLength:40})}):new v({symbolLayers:new d([l.fromCIMSymbol(x)])})}static fromTextSymbol(x){return new v({symbolLayers:new d([r.fromTextSymbol(x)])})}};a.__decorate([c.property({type:p,json:{write:!0}})],q.prototype,"verticalOffset",void 0);a.__decorate([c.property(e.calloutProperty)],q.prototype,"callout",void 0);a.__decorate([c.property({type:u,json:{origins:{"web-scene":{write:!0}}}})],q.prototype,"symbolLayers",void 0);a.__decorate([k.enumeration({PointSymbol3D:"point-3d"},
{readOnly:!0})],q.prototype,"type",void 0);return q=v=a.__decorate([h.subclass("esri.symbols.PointSymbol3D")],q)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/deprecate ../core/lang ../core/Logger ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u){var x;const z=b.ofType({base:null,key:"type",typeMap:{extrude:m,fill:w,icon:r,line:e,object:g,text:v,water:u}});k=x=class extends p{constructor(t){super(t);this.symbolLayers=new z;this.type="polygon-3d"}initialize(){const t=y=>{"line"===y.type&&d.deprecated(c.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"});"text"===y.type&&
d.deprecated(c.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const y of this.symbolLayers)t(y);this.addHandles(q.on(()=>this.symbolLayers,"after-add",({item:y})=>t(y),q.sync))}clone(){return new x({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})}static fromJSON(t){const y=new x;y.read(t);if(2===y.symbolLayers.length&&
"fill"===y.symbolLayers.at(0).type&&"line"===y.symbolLayers.at(1).type){const B=y.symbolLayers.at(0),A=y.symbolLayers.at(1);!A.enabled||t.symbolLayers?.[1]&&!1===t.symbolLayers[1].enable||(B.outline={size:A.size,color:null!=A.material?A.material.color:null});y.symbolLayers.removeAt(1)}return y}static fromSimpleFillSymbol(t){return new x({symbolLayers:new b([w.fromSimpleFillSymbol(t)])})}};a.__decorate([n.property({type:z,json:{write:!0}})],k.prototype,"symbolLayers",void 0);a.__decorate([h.enumeration({PolygonSymbol3D:"polygon-3d"},
{readOnly:!0})],k.prototype,"type",void 0);return k=x=a.__decorate([l.subclass("esri.symbols.PolygonSymbol3D")],k)})},"esri/core/reactiveUtils":function(){define("exports ./asyncUtils ./Collection ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,d,f,c,q,n,k,h){function l(v,u,x={}){return m(v,u,x,e)}function m(v,u,x={},z){let t=null;const y=x.once?(B,A)=>{z(B)&&(q.removeMaybe(t),u(B,A))}:(B,A)=>{z(B)&&u(B,A)};t=k.watchTracked(v,
y,x.sync,x.equals);x.initial&&(v=v(),y(v,v));return t}function w(v,u,x,z={}){function t(){B&&A&&(A.remove(),z.onListenerRemove?.(B),A=B=null)}function y(J){z.once&&z.once&&q.removeMaybe(D);x(J)}let B=null,A=null,D=null;const E=l(v,(J,F)=>{t();f.isEventedOrEventTarget(J)&&(B=J,A=f.on(J,u,y),z.onListenerAdd?.(J))},{sync:z.sync,initial:!0});return D=c.makeHandle(()=>{E.remove();t()})}function r(v,u,x){if(n.isAborted(x))return Promise.reject(n.createAbortError());const z=v();if(u?.(z))return Promise.resolve(z);
let t=null;return new Promise((y,B)=>{t=c.handlesGroup([n.onAbort(x,()=>{t=q.removeMaybe(t);B(n.createAbortError())}),m(v,A=>{t=q.removeMaybe(t);y(A)},{sync:!1,once:!0},u??e)])})}function e(v){return!0}function g(v){return!!v}function p(v,u){const x=new d;v=w(v,"after-splice",({added:z,start:t,deleteCount:y})=>{y=x.splice(t,y);for(const B of y)B.remove();z?.length&&(z=z.map(u),x.addMany(z,t))},{sync:!0,onListenerRemove:()=>x.drain(z=>z.remove()),onListenerAdd:z=>x.addMany(z.items.map(u))});x.addHandles(v);
return x}a.autorun=h.autorun;a.initial={initial:!0};a.mapCollection=p;a.mapCollectionAsync=function(v,u){const x=new d,z=p(v,B=>b.createTask(async A=>{const D=await u(B,A);if(n.isAborted(A))throw D.remove(),n.createAbortError();return D})),t=()=>null,y=async B=>{const A=await B.promise;B=z.indexOf(B);0>B||x.splice(B,1,A)};x.addMany(z.items.map(t));for(const B of z)n.ignoreAbortErrors(y(B));v=z.on("after-splice",({added:B,start:A,deleteCount:D})=>{D=x.splice(A,D);for(const E of D)E?.remove();if(B?.length){x.addMany(B.map(t),
A);for(const E of B)n.ignoreAbortErrors(y(E))}});x.addHandles([c.destroyHandle(z),v]);return x};a.on=w;a.once=function(v,u){return r(v,null,u)};a.pausable=function(v,u,x={}){let z=!1;const t=l(v,(y,B)=>{z||u(y,B)},x);return{remove(){t.remove()},pause(){z=!0},resume(){z=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=l;a.when=function(v,u,x={}){return m(v,u,x,g)};a.whenOnce=function(v,u){return r(v,g,u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;d=new d.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});l=w=class extends l{constructor(...r){super(...r);this.color=new b([0,0,0,.25]);this.outline=new m;this.type="simple-fill";this.style="solid"}normalizeCtorArgs(r,e,g){if(r&&"string"!==typeof r)return r;
const p={};r&&(p.style=r);e&&(p.outline=e);g&&(p.color=g);return p}clone(){return new w({color:f.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};a.__decorate([c.property()],l.prototype,"color",void 0);a.__decorate([c.property()],l.prototype,"outline",void 0);a.__decorate([k.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],l.prototype,"type",void 0);a.__decorate([c.property({type:d.apiValues,
json:{read:d.read,write:d.write}})],l.prototype,"style",void 0);return l=w=a.__decorate([h.subclass("esri.symbols.SimpleFillSymbol")],l)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r){var e;d=new d.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});w=e=class extends w{constructor(...g){super(...g);this.color=new b([255,255,255,.25]);this.type="simple-marker";this.size=12;this.style="circle";this.outline=new r}normalizeCtorArgs(g,p,v,u){if(g&&"string"!==typeof g)return g;const x={};g&&(x.style=g);null!=p&&(x.size=c.toPt(p));v&&(x.outline=
v);u&&(x.color=u);return x}writeColor(g,p){g&&"x"!==this.style&&"cross"!==this.style&&(p.color=g.toJSON());null===g&&(p.color=null)}set path(g){this.style="path";this._set("path",g)}clone(){return new e({angle:this.angle,color:f.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};a.__decorate([q.property()],
w.prototype,"color",void 0);a.__decorate([m.writer("color")],w.prototype,"writeColor",null);a.__decorate([h.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],w.prototype,"type",void 0);a.__decorate([q.property()],w.prototype,"size",void 0);a.__decorate([q.property({type:d.apiValues,json:{read:d.read,write:d.write}})],w.prototype,"style",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],w.prototype,"path",null);a.__decorate([q.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",
typeMap:{"simple-line":r}},json:{default:null,write:!0}})],w.prototype,"outline",void 0);return w=e=a.__decorate([l.subclass("esri.symbols.SimpleMarkerSymbol")],w)})},"esri/symbols/TextSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){var r;m=r=class extends m{constructor(...e){super(...e);this.borderLineSize=this.borderLineColor=this.backgroundColor=null;this.font=new l;this.horizontalAlignment="center";this.kerning=!0;this.rightToLeft=this.haloSize=this.haloColor=null;this.rotated=!1;this.text="";this.type="text";this.verticalAlignment="baseline";this.angle=this.yoffset=this.xoffset=0;this.width=null;this.lineWidth=192;this.lineHeight=1}normalizeCtorArgs(e,g,p){if(e&&"string"!==typeof e)return e;
const v={};e&&(v.text=e);g&&(v.font=g);p&&(v.color=p);return v}writeLineWidth(e,g,p,v){v&&"string"!==typeof v||(g[p]=e)}castLineWidth(e){return f.toPt(e)}writeLineHeight(e,g,p,v){v&&"string"!==typeof v||(g[p]=e)}clone(){return new r({angle:this.angle,backgroundColor:d.clone(this.backgroundColor),borderLineColor:d.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:d.clone(this.color),font:this.font&&this.font.clone(),haloColor:d.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,
kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};
a.__decorate([c.property({type:b,json:{write:!0}})],m.prototype,"backgroundColor",void 0);a.__decorate([c.property({type:b,json:{write:!0}})],m.prototype,"borderLineColor",void 0);a.__decorate([c.property({type:Number,json:{write:!0},cast:f.toPt})],m.prototype,"borderLineSize",void 0);a.__decorate([c.property({type:l,json:{write:!0}})],m.prototype,"font",void 0);a.__decorate([c.property({...w.horizontalAlignmentProperty,json:{write:!0}})],m.prototype,"horizontalAlignment",void 0);a.__decorate([c.property({type:Boolean,
json:{write:!0}})],m.prototype,"kerning",void 0);a.__decorate([c.property({type:b,json:{write:!0}})],m.prototype,"haloColor",void 0);a.__decorate([c.property({type:Number,cast:f.toPt,json:{write:!0}})],m.prototype,"haloSize",void 0);a.__decorate([c.property({type:Boolean,json:{write:!0}})],m.prototype,"rightToLeft",void 0);a.__decorate([c.property({type:Boolean,json:{write:!0}})],m.prototype,"rotated",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],m.prototype,"text",void 0);a.__decorate([n.enumeration({esriTS:"text"},
{readOnly:!0})],m.prototype,"type",void 0);a.__decorate([c.property({...w.verticalAlignmentProperty,json:{write:!0}})],m.prototype,"verticalAlignment",void 0);a.__decorate([c.property({type:Number,cast:f.toPt,json:{write:!0}})],m.prototype,"xoffset",void 0);a.__decorate([c.property({type:Number,cast:f.toPt,json:{write:!0}})],m.prototype,"yoffset",void 0);a.__decorate([c.property({type:Number,json:{read:e=>e&&-1*e,write:(e,g)=>g.angle=e&&-1*e}})],m.prototype,"angle",void 0);a.__decorate([c.property({type:Number,
json:{write:!0}})],m.prototype,"width",void 0);a.__decorate([c.property({type:Number})],m.prototype,"lineWidth",void 0);a.__decorate([h.writer("lineWidth")],m.prototype,"writeLineWidth",null);a.__decorate([q.cast("lineWidth")],m.prototype,"castLineWidth",null);a.__decorate([c.property(w.lineHeightProperty)],m.prototype,"lineHeight",void 0);a.__decorate([h.writer("lineHeight")],m.prototype,"writeLineHeight",null);return m=r=a.__decorate([k.subclass("esri.symbols.TextSymbol")],m)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/tslib.es6 ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r){var e;q=e=class extends w{constructor(g){super(g);this.name=this.thumbnail=this.styleUrl=this.portal=this.styleName=this.color=null;this.type="web-style"}get _fetchCacheKey(){const g=null!=this.portal?this.portal:l.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${g.user?g.user.username:null}:${g.url}`}read(g,p){this.portal=p?.portal;super.read(g,p)}clone(){return new e({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(g){return this._fetchSymbol("webRef",
g)}fetchCIMSymbol(g){return this._fetchSymbol("cimRef",g)}async _fetchSymbol(g,p){const v=null!=p?p.cache:null,u=v?this._fetchCacheKey:null;if(null!=v){var x=u&&v.get(u);if(x)return x.clone()}({resolveWebStyleSymbol:x}=await new Promise((z,t)=>a(["./support/webStyleSymbolUtils"],z,t)));f.throwIfAborted(p);p=x(this,{portal:this.portal},g,p);p.catch(z=>{d.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",z)});p=await p;if(!("webRef"===g&&"point-3d"===p.type||"cimRef"===g&&
"cim"===p.type))return null;null!=v&&v.set(u,p.clone());return p}};b.__decorate([c.property({json:{write:!1}})],q.prototype,"color",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],q.prototype,"styleName",void 0);b.__decorate([c.property({type:l,json:{write:!1}})],q.prototype,"portal",void 0);b.__decorate([c.property({type:String,json:{read:m.read,write:m.write}})],q.prototype,"styleUrl",void 0);b.__decorate([c.property({type:r.Thumbnail,json:{read:!1}})],q.prototype,"thumbnail",void 0);
b.__decorate([c.property({type:String,json:{write:!0}})],q.prototype,"name",void 0);b.__decorate([k.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],q.prototype,"type",void 0);b.__decorate([c.property()],q.prototype,"_fetchCacheKey",null);return q=e=b.__decorate([h.subclass("esri.symbols.WebStyleSymbol")],q)})},"esri/renderers/Renderer":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),
function(a,b,d,f,c,q,n,k,h){b=new b.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});d=class extends d.JSONSupport{constructor(l){super(l);this.type=this.authoringInfo=null}async getRequiredFields(l){if(!this.collectRequiredFields)return[];const m=new Set;await this.collectRequiredFields(m,l);return Array.from(m).sort()}getSymbol(l,m){}async getSymbolAsync(l,m){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};
a.__decorate([f.property({type:h,json:{write:!0}})],d.prototype,"authoringInfo",void 0);a.__decorate([f.property({type:b.apiValues,readOnly:!0,json:{type:b.jsonValues,read:!1,write:{writer:b.write,ignoreOrigin:!0}}})],d.prototype,"type",void 0);return d=a.__decorate([k.subclass("esri.renderers.Renderer")],d)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;const r=new b.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),e=new b.JSONMap({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",
dotDensity:"dot-density",flow:"flow"});b=new b.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const g="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");d=w=class extends d.JSONSupport{constructor(p){super(p);this.fadeRatio=this.colorRamp=null;this.isAutoGenerated=!1;this.visualVariables=
this.minSliderValue=this.maxSliderValue=this.lengthUnit=null}get classificationMethod(){const p=this._get("classificationMethod"),v=this.type;return v&&"relationship"!==v?"class-breaks-size"===v||"class-breaks-color"===v?p||"manual":null:p}set classificationMethod(p){this._set("classificationMethod",p)}readColorRamp(p){return p?m.fromJSON(p):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(p){this._set("fields",p)}get field1(){return this.type&&
"relationship"!==this.type?null:this._get("field1")}set field1(p){this._set("field1",p)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(p){this._set("field2",p)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(p){this._set("flowTheme",p)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(p){this._set("focus",p)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(p){this._set("numClasses",
p)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(p){this._set("statistics",p)}get standardDeviationInterval(){const p=this.type;return p&&"relationship"!==p&&"class-breaks-size"!==p&&"class-breaks-color"!==p?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(p){this._set("standardDeviationInterval",
p)}get type(){return this._get("type")}set type(p){let v=p;"classed-size"===p?v="class-breaks-size":"classed-color"===p&&(v="class-breaks-color");this._set("type",v)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(p){this._set("univariateSymbolStyle",p)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(p){this._set("univariateTheme",
p)}clone(){return new w({classificationMethod:this.classificationMethod,colorRamp:f.clone(this.colorRamp),fadeRatio:f.clone(this.fadeRatio),fields:this.fields?.slice(0),field1:f.clone(this.field1),field2:f.clone(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,
visualVariables:this.visualVariables&&this.visualVariables.map(p=>p.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};a.__decorate([c.property({type:r.apiValues,value:null,json:{type:r.jsonValues,read:r.read,write:r.write,origins:{"web-document":{default:"manual",type:r.jsonValues,read:r.read,write:r.write}}}})],d.prototype,"classificationMethod",null);a.__decorate([c.property({types:m.types,json:{write:!0}})],d.prototype,"colorRamp",
void 0);a.__decorate([n.reader("colorRamp")],d.prototype,"readColorRamp",null);a.__decorate([c.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"fadeRatio",void 0);a.__decorate([c.property({type:[String],value:null,json:{write:!0}})],d.prototype,"fields",null);a.__decorate([c.property({type:h.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],d.prototype,"field1",null);a.__decorate([c.property({type:h.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],d.prototype,
"field2",null);a.__decorate([c.property({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"flowTheme",null);a.__decorate([c.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],d.prototype,"focus",null);a.__decorate([c.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],d.prototype,"isAutoGenerated",void 0);a.__decorate([c.property({type:Number,value:null,json:{type:q.Integer,write:!0}})],d.prototype,
"numClasses",null);a.__decorate([c.property({type:g,json:{type:g,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],d.prototype,"lengthUnit",void 0);a.__decorate([c.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"maxSliderValue",void 0);a.__decorate([c.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"minSliderValue",void 0);a.__decorate([c.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,
read:!1}}}})],d.prototype,"statistics",null);a.__decorate([c.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],d.prototype,"standardDeviationInterval",null);a.__decorate([c.property({type:e.apiValues,value:null,json:{type:e.jsonValues,read:e.read,write:e.write,origins:{"web-scene":{type:b.jsonValues,write:{writer:b.write,overridePolicy(p){return{enabled:"flow"!==p}}}}}}})],d.prototype,"type",null);a.__decorate([c.property({type:[l],json:{write:!0}})],d.prototype,"visualVariables",
void 0);a.__decorate([c.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"univariateSymbolStyle",null);a.__decorate([c.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"univariateTheme",null);return d=w=a.__decorate([k.subclass("esri.renderers.support.AuthoringInfo")],
d)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),function(a,b,d,f,c,q,n,k,h){var l;a.AuthoringInfoFieldInfo=l=class extends d.JSONSupport{constructor(m){super(m);this.label=this.normalizationField=this.field="";this.classBreakInfos=[]}clone(){return new l({field:this.field,
normalizationField:this.normalizationField,label:this.label,classBreakInfos:f.clone(this.classBreakInfos)})}};b.__decorate([c.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);b.__decorate([c.property({type:[h.AuthoringInfoClassBreakInfo],
json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=l=b.__decorate([k.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){var h;a.AuthoringInfoClassBreakInfo=h=class extends d.JSONSupport{constructor(l){super(l);this.maxValue=this.minValue=0}clone(){return new h({minValue:this.minValue,maxValue:this.maxValue})}};b.__decorate([f.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=h=b.__decorate([k.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q){var n;const k=new b.JSONMap({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"});b=new b.JSONMap({sizeInfo:"size",
colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});const h={key(r){return"number"===typeof r?"number":"string"},typeMap:{number:Number,string:String},base:null},l=["high-to-low","above-and-below","centered-on","extremes"],m=[...(new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" ")))],w="seconds minutes hours days months years".split(" ");d=n=class extends d.JSONSupport{constructor(r){super(r);this.units=
this.type=this.startTime=this.minSliderValue=this.maxSliderValue=this.field=this.endTime=null}castEndTime(r){return"string"===typeof r||"number"===typeof r?r:null}castStartTime(r){return"string"===typeof r||"number"===typeof r?r:null}get style(){return"color"===this.type?this._get("style"):null}set style(r){this._set("style",r)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(r){this._set("theme",r)}clone(){return new n({endTime:this.endTime,
field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};a.__decorate([f.property({types:h,json:{write:!0}})],d.prototype,"endTime",void 0);a.__decorate([c.cast("endTime")],d.prototype,"castEndTime",null);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"maxSliderValue",
void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"minSliderValue",void 0);a.__decorate([f.property({types:h,json:{write:!0}})],d.prototype,"startTime",void 0);a.__decorate([c.cast("startTime")],d.prototype,"castStartTime",null);a.__decorate([f.property({type:k.apiValues,value:null,json:{type:k.jsonValues,read:k.read,write:k.write}})],d.prototype,"style",null);a.__decorate([f.property({type:m,value:null,json:{type:m,origins:{"web-scene":{type:l,write:{writer:(r,e)=>{l.includes(r)&&
(e.theme=r)}}}},write:!0}})],d.prototype,"theme",null);a.__decorate([f.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],d.prototype,"type",void 0);a.__decorate([f.property({type:w,json:{type:w,write:!0}})],d.prototype,"units",void 0);return d=n=a.__decorate([q.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],d)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,d,
f){d={key:"type",base:d,typeMap:{algorithmic:b,multipart:f}};a.fromJSON=function(c){return c?.type?"algorithmic"===c.type?b.fromJSON(c):"multipart"===c.type?f.fromJSON(c):null:null};a.types=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),
function(a,b,d,f,c,q,n,k){var h;k=h=class extends k{constructor(l){super(l);this.toColor=this.fromColor=this.algorithm=null;this.type="algorithmic"}clone(){return new h({fromColor:d.clone(this.fromColor),toColor:d.clone(this.toColor),algorithm:this.algorithm})}};a.__decorate([q.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],k.prototype,"algorithm",void 0);a.__decorate([f.property({type:b,json:{type:[c.Integer],write:!0}})],k.prototype,"fromColor",
void 0);a.__decorate([f.property({type:b,json:{type:[c.Integer],write:!0}})],k.prototype,"toColor",void 0);a.__decorate([f.property({type:["algorithmic"]})],k.prototype,"type",void 0);return k=h=a.__decorate([n.subclass("esri.rest.support.AlgorithmicColorRamp")],k)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){b=class extends b.JSONSupport{constructor(k){super(k);this.type=null}};a.__decorate([d.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.rest.support.ColorRamp")],b)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,d,f,c,q,n,k){var h;f=h=class extends k{constructor(l){super(l);this.colorRamps=null;this.type="multipart"}clone(){return new h({colorRamps:b.clone(this.colorRamps)})}};a.__decorate([d.property({type:[n],json:{write:!0}})],f.prototype,"colorRamps",void 0);a.__decorate([d.property({type:["multipart"]})],f.prototype,"type",void 0);return f=h=a.__decorate([q.subclass("esri.rest.support.MultipartColorRamp")],f)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../support/randomRotationExpression ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v){const u={base:p,key:"type",typeMap:{opacity:r,color:w,rotation:e,size:g}};a.VisualVariablesMixin=x=>{x=class extends x{constructor(){super(...arguments);this._vvFactory=new v}set visualVariables(z){this._vvFactory.visualVariables=z;this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(z,t,y){return this._vvFactory.readVariables(z,t,y)}writeVisualVariables(z,t,y,B){t[y]=this._vvFactory.writeVariables(z,B)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;
for(const z of this.visualVariables)if(z.arcadeRequired)return!0;return!1}hasVisualVariables(z,t){return z?0<this.getVisualVariablesForType(z,t).length:0<this.getVisualVariablesForType("size",t).length||0<this.getVisualVariablesForType("color",t).length||0<this.getVisualVariablesForType("opacity",t).length||0<this.getVisualVariablesForType("rotation",t).length}getVisualVariablesForType(z,t){const y=this.visualVariables;return y?y.filter(B=>B.type===z&&("string"===typeof t?B.target===t:!1===t?!B.target:
!0)):[]}async collectVVRequiredFields(z,t){var y=[];this.visualVariables&&(y=y.concat(this.visualVariables));for(const A of y)if(A&&(A.field&&l.collectField(z,t,A.field),A.normalizationField&&l.collectField(z,t,A.normalizationField),A.valueExpression)){{y=z;var B=t;const D=m.matchRandomRotationExpression(A.valueExpression);null!=D?(l.collectField(y,B,D),y=!0):y=!1}y||await l.collectArcadeFieldNames(z,t,A.valueExpression)}}};b.__decorate([d.property({types:[u],value:null,json:{write:!0}})],x.prototype,
"visualVariables",null);b.__decorate([n.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],x.prototype,"readVisualVariables",null);b.__decorate([h.writer("visualVariables")],x.prototype,"writeVisualVariables",null);return x=b.__decorate([k.subclass("esri.renderers.mixins.VisualVariablesMixin")],x)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/randomRotationExpression":function(){define(["exports"],function(a){const b=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;
a.matchRandomRotationExpression=function(d){return d.match(b)?.[1]?.replace(/\\'/g,"'")??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),function(a,b,d,f,c,q,n,k){var h;d=h=class extends n{constructor(l){super(l);
this.type="color";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(l){l&&Array.isArray(l)&&(l=l.filter(m=>!!m),l.sort((m,w)=>m.value-w.value));this._set("stops",l)}clone(){return new h({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(l=>l.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&
this.stops.map(l=>l.value||0)}};a.__decorate([b.property({readOnly:!0})],d.prototype,"cache",null);a.__decorate([b.property({type:["color"],json:{type:["colorInfo"]}})],d.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[k],json:{write:!0}})],d.prototype,"stops",null);return d=h=a.__decorate([q.subclass("esri.renderers.visualVariables.ColorVariable")],d)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,d,f,c,q,n,k,h){b=new b.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});d=class extends d.JSONSupport{constructor(l){super(l);this.legendOptions=this.valueExpressionTitle=this.valueExpression=this.field=this.type=this.index=null}castField(l){return null==l?l:"function"===typeof l?(f.getLogger(this).error(".field: field must be a string value"),null):k.ensureString(l)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};
a.__decorate([c.property()],d.prototype,"index",void 0);a.__decorate([c.property({type:b.apiValues,readOnly:!0,json:{read:b.read,write:b.write}})],d.prototype,"type",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([q.cast("field")],d.prototype,"castField",null);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"valueExpressionTitle",
void 0);a.__decorate([c.property({readOnly:!0})],d.prototype,"arcadeRequired",null);a.__decorate([c.property({type:h,json:{write:!0}})],d.prototype,"legendOptions",void 0);return d=a.__decorate([n.subclass("esri.renderers.visualVariables.VisualVariable")],d)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),
function(a,b,d,f,c,q,n){var k;d=k=class extends n.LegendOptions{constructor(){super(...arguments);this.showLegend=null}clone(){return new k({title:this.title,showLegend:this.showLegend})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"showLegend",void 0);return d=k=a.__decorate([q.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],d)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){var h;a.LegendOptions=h=class extends d.JSONSupport{constructor(){super(...arguments);this.title=null}clone(){return new h({title:this.title})}};b.__decorate([f.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=h=b.__decorate([k.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;d=l=class extends d.JSONSupport{constructor(m){super(m);this.value=this.label=this.color=null}writeValue(m,w,r){w[r]=null==m?0:m}clone(){return new l({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};a.__decorate([f.property({type:b,json:{type:[c.Integer],write:!0}})],d.prototype,"color",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([f.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],
d.prototype,"value",void 0);a.__decorate([h.writer("value")],d.prototype,"writeValue",null);return d=l=a.__decorate([k.subclass("esri.renderers.visualVariables.support.ColorStop")],d)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),function(a,b,d,f,c,q,n,k){var h;
d=h=class extends n{constructor(l){super(l);this.type="opacity";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(l){l&&Array.isArray(l)&&(l=l.filter(m=>!!m),l.sort((m,w)=>m.value-w.value));this._set("stops",l)}clone(){return new h({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(l=>
l.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(l=>l.value||0)}};a.__decorate([b.property({readOnly:!0})],d.prototype,"cache",null);a.__decorate([b.property({type:["opacity"],json:{type:["transparencyInfo"]}})],d.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[k],
json:{write:!0}})],d.prototype,"stops",null);return d=h=a.__decorate([q.subclass("esri.renderers.visualVariables.OpacityVariable")],d)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l){var m;b=m=class extends b.JSONSupport{constructor(w){super(w);this.value=this.opacity=this.label=null}readOpacity(w,r){return l.transparencyToOpacity(r.transparency)}writeOpacity(w,r,e){r[e]=l.opacityToTransparency(w)}clone(){return new m({label:this.label,opacity:this.opacity,value:this.value})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([d.property({type:Number,json:{type:f.Integer,write:{target:"transparency"}}})],
b.prototype,"opacity",void 0);a.__decorate([n.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);a.__decorate([h.writer("opacity")],b.prototype,"writeOpacity",null);a.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=m=a.__decorate([k.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;f=l=class extends h{constructor(m){super(m);this.axis=null;this.type="rotation";this.rotationType="geographic";this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(m,w,r,e){e?.messages&&e.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:e}))}clone(){return new l({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};a.__decorate([d.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([d.property({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],f.prototype,"axis",void 0);a.__decorate([d.property({type:["rotation"],
json:{type:["rotationInfo"]}})],f.prototype,"type",void 0);a.__decorate([d.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],f.prototype,"rotationType",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0);a.__decorate([k.writer("web-scene","valueExpressionTitle")],f.prototype,"writeValueExpressionTitleWebScene",null);return f=l=a.__decorate([n.subclass("esri.renderers.visualVariables.RotationVariable")],
f)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){function p(y){if(null!=y){if("string"===typeof y||"number"===typeof y)return c.toPt(y);if("size"===y.type){if(e.isSizeVariable(y))return y;y={...y};delete y.type;return new t(y)}}}function v(y,B,A){if("object"!==typeof y)return y;B=new t;B.read(y,A);return B}var u;const x=new d.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),z=new d.JSONMap({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles",
"nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let t=u=class extends m{constructor(y){super(y);this.target=this.scaleBy=this.normalizationField=this.legendOptions=this.axis=null;this.type="size";this.valueUnit=this.valueRepresentation=this.valueExpression=this.useSymbolValue=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,
compiledFunc:null,isScaleDriven:null!=this.valueExpression&&g.viewScaleRE.test(this.valueExpression)}}set expression(y){f.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===y?(this.valueExpression="$view.scale",this._set("expression",y)):this._set("expression",null)}set index(y){e.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${y}].maxSize`);e.isSizeVariable(this.minSize)&&
(this.minSize.index=`visualVariables[${y}].minSize`);this._set("index",y)}get inputValueType(){return e.getInputValueType(this)}set maxDataValue(y){y&&this.stops&&(f.getLogger(this).warn("cannot set maxDataValue when stops is not null."),y=null);this._set("maxDataValue",y)}set maxSize(y){y&&this.stops&&(f.getLogger(this).warn("cannot set maxSize when stops is not null."),y=null);this._set("maxSize",y)}castMaxSize(y){return p(y)}readMaxSize(y,B,A){return v(y,B,A)}set minDataValue(y){y&&this.stops&&
(f.getLogger(this).warn("cannot set minDataValue when stops is not null."),y=null);this._set("minDataValue",y)}set minSize(y){y&&this.stops&&(f.getLogger(this).warn("cannot set minSize when stops is not null."),y=null);this._set("minSize",y)}castMinSize(y){return p(y)}readMinSize(y,B,A){return v(y,B,A)}get arcadeRequired(){return this.valueExpression?!0:null!=this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(y){null==
this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?y&&Array.isArray(y)&&(y=y.filter(B=>!!B),y.sort((B,A)=>B.value-A.value)):y&&(f.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),y=null);this._set("stops",y)}get transformationType(){return e.getTransformationType(this,this.inputValueType)}readValueExpression(y,B){return y||B.expression&&"$view.scale"}writeValueExpressionWebScene(y,B,A,D){"$view.scale"===
y?D?.messages&&(y=this.index,D.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof y?y:`visualVariables[${y}]`)+".valueExpression",context:D}))):B[A]=y}readValueUnit(y){return y?z.read(y):null}clone(){return new u({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
maxDataValue:this.maxDataValue,maxSize:e.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:e.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(y=>y.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===e.TransformationType.ClampedLinear){const {minSize:y,
maxSize:B}=this;this.minSize=B;this.maxSize=y;return this}if(this.transformationType===e.TransformationType.Stops){const y=this.stops;if(!y)return this;const B=y.map(D=>D.size).reverse(),A=y.length;for(let D=0;D<A;D++)y[D].size=B[D]}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(y=>y.value||0)}};a.__decorate([q.property({readOnly:!0})],t.prototype,"cache",null);a.__decorate([q.property({type:x.apiValues,
json:{type:x.jsonValues,origins:{"web-map":{read:!1}},read:x.read,write:x.write}})],t.prototype,"axis",void 0);a.__decorate([q.property({type:String,value:null,json:{read:!1}})],t.prototype,"expression",null);a.__decorate([q.property()],t.prototype,"index",null);a.__decorate([q.property({type:String,readOnly:!0})],t.prototype,"inputValueType",null);a.__decorate([q.property({type:r,json:{write:!0}})],t.prototype,"legendOptions",void 0);a.__decorate([q.property({type:Number,value:null,json:{write:!0}})],
t.prototype,"maxDataValue",null);a.__decorate([q.property({type:Number,value:null,json:{write:!0}})],t.prototype,"maxSize",null);a.__decorate([n.cast("maxSize")],t.prototype,"castMaxSize",null);a.__decorate([k.reader("maxSize")],t.prototype,"readMaxSize",null);a.__decorate([q.property({type:Number,value:null,json:{write:!0}})],t.prototype,"minDataValue",null);a.__decorate([q.property({type:Number,value:null,json:{write:!0}})],t.prototype,"minSize",null);a.__decorate([n.cast("minSize")],t.prototype,
"castMinSize",null);a.__decorate([k.reader("minSize")],t.prototype,"readMinSize",null);a.__decorate([q.property({type:String,json:{write:!0}})],t.prototype,"normalizationField",void 0);a.__decorate([q.property({readOnly:!0})],t.prototype,"arcadeRequired",null);a.__decorate([q.property({type:String})],t.prototype,"scaleBy",void 0);a.__decorate([q.property({type:[w],value:null,json:{write:!0}})],t.prototype,"stops",null);a.__decorate([q.property({type:["outline"],json:{write:!0}})],t.prototype,"target",
void 0);a.__decorate([q.property({type:String,readOnly:!0})],t.prototype,"transformationType",null);a.__decorate([q.property({type:["size"],json:{type:["sizeInfo"]}})],t.prototype,"type",void 0);a.__decorate([q.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],t.prototype,"useSymbolValue",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],t.prototype,"valueExpression",void 0);a.__decorate([k.reader("valueExpression",["valueExpression","expression"])],t.prototype,
"readValueExpression",null);a.__decorate([l.writer("web-scene","valueExpression")],t.prototype,"writeValueExpressionWebScene",null);a.__decorate([q.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],t.prototype,"valueRepresentation",void 0);a.__decorate([q.property({type:z.apiValues,json:{write:z.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],t.prototype,"valueUnit",void 0);a.__decorate([k.reader("valueUnit")],t.prototype,"readValueUnit",
null);return t=u=a.__decorate([h.subclass("esri.renderers.visualVariables.SizeVariable")],t)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k){var h;b=h=class extends b.JSONSupport{constructor(l){super(l);
this.useMaxValue=this.useMinValue=this.value=this.size=this.label=null}clone(){return new h({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);a.__decorate([f.property({type:Boolean,
json:{write:!1}})],b.prototype,"useMinValue",void 0);a.__decorate([f.property({type:Boolean,json:{write:!1}})],b.prototype,"useMaxValue",void 0);return b=h=a.__decorate([k.subclass("esri.renderers.visualVariables.support.SizeStop")],b)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(){super(...arguments);this.customValues=null}clone(){return new k({title:this.title,showLegend:this.showLegend,customValues:this.customValues?.slice(0)})}};a.__decorate([b.property({type:[Number],json:{write:!0}})],d.prototype,"customValues",void 0);return d=k=a.__decorate([q.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],d)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],
function(a){function b(d){return d.valueExpression?a.InputValueType.Expression:d.field&&"string"===typeof d.field?a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(d){d.Unknown="unknown";d.Expression="expression";d.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(d){d.Unknown="unknown";d.Stops="stops";d.ClampedLinear="clamped-linear";d.Proportional="proportional";d.Additive="additive";d.Constant="constant";d.Identity="identity";
d.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=b;a.getTransformationType=function(d,f){return(f||b(d))===a.InputValueType.Unknown?a.TransformationType.Constant:d.stops?a.TransformationType.Stops:null!=d.minSize&&null!=d.maxSize&&null!=d.minDataValue&&null!=d.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(d.valueUnit||"unknown")?null!=d.minSize&&null!=d.minDataValue?d.minSize&&d.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:
a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=function(d){return d&&"esri.renderers.visualVariables.SizeVariable"===d.declaredClass};a.isValidNumber=function(d){return null!=d&&!isNaN(d)&&isFinite(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,d,f,c,q,n){function k(z,t,y){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(M=>"color"===M.type):z)if("esri.renderers.visualVariables.ColorVariable"!==z.declaredClass)v().warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var B="number"===typeof t,A=B?null:t,D=A?.attributes,E=B?t:null,J=z.field,{ipData:F,hasExpression:G}=z.cache;t=z.cache.compiledFunc;if(!J&&!G)return(y=z.stops)&&y[0]&&y[0].color;if("number"!==typeof E)if(G){if(null==
y?.arcade){v().error("Use of arcade expressions requires an arcade context");return}E=y.arcade.arcadeUtils;J=E.getViewInfo({viewingMode:y.viewingMode,scale:y.scale,spatialReference:y.spatialReference});A=E.createExecContext(A,J,y.timeZone);t||(t=E.createSyntaxTree(z.valueExpression),t=E.createFunction(t),z.cache.compiledFunc=t);E=E.executeFunction(t,A)}else D&&(E=D[J]);A=z.normalizationField;D=null!=D&&null!=A?parseFloat(D[A]):void 0;if(null!=E&&(!A||B||!isNaN(D)&&0!==D)&&(isNaN(D)||B||(E/=D),B=p(E,
F)))return D=B[0],A=B[1],y=D===A?z.stops[D].color:b.blendColors(z.stops[D].color,z.stops[A].color,B[2],null!=y?y.color:void 0),new b(y)}}function h(z,t,y){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(M=>"opacity"===M.type):z)if("esri.renderers.visualVariables.OpacityVariable"!==z.declaredClass)v().warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var B="number"===typeof t,A=B?null:t,D=A?.attributes,E=B?t:null,J=z.field,
{ipData:F,hasExpression:G}=z.cache;t=z.cache.compiledFunc;if(!J&&!G)return(z=z.stops)&&z[0]&&z[0].opacity;if("number"!==typeof E)if(G){if(null==y?.arcade){v().error("Use of arcade expressions requires an arcade context");return}E=y.arcade.arcadeUtils;J=E.getViewInfo({viewingMode:y.viewingMode,scale:y.scale,spatialReference:y.spatialReference});y=E.createExecContext(A,J,y.timeZone);t||(A=E.createSyntaxTree(z.valueExpression),t=E.createFunction(A),z.cache.compiledFunc=t);E=E.executeFunction(t,y)}else D&&
(E=D[J]);y=z.normalizationField;D=null!=D&&null!=y?parseFloat(D[y]):void 0;if(null!=E&&(!y||B||!isNaN(D)&&0!==D)&&(isNaN(D)||B||(E/=D),B=p(E,F))){y=B[0];D=B[1];if(y===D)return z.stops[y].opacity;y=z.stops[y].opacity;return y+(z.stops[D].opacity-y)*B[2]}}}function l(z,t,y){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(M=>"rotation"===M.type):z)if("esri.renderers.visualVariables.RotationVariable"!==z.declaredClass)v().warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var B=z.axis||"heading",A="heading"===B&&"arithmetic"===z.rotationType?90:0;B="heading"===B&&"arithmetic"===z.rotationType?-1:1;var D="number"===typeof t?null:t,E=D?.attributes,J=z.field,{hasExpression:F}=z.cache;t=z.cache.compiledFunc;var G=0;if(!J&&!F)return G;if(F){if(null==y?.arcade){v().error("Use of arcade expressions requires an arcade context");return}E=y.arcade.arcadeUtils;J=E.getViewInfo({viewingMode:y.viewingMode,scale:y.scale,spatialReference:y.spatialReference});y=E.createExecContext(D,
J,y.timeZone);t||(t=E.createSyntaxTree(z.valueExpression),t=E.createFunction(t),z.cache.compiledFunc=t);G=E.executeFunction(t,y)}else E&&(G=E[J]||0);return G="number"!==typeof G||isNaN(G)?null:A+B*G}}function m(z,t,y){const B="number"===typeof t;var A=B?null:t;const D=A?.attributes;var E=B?t:null,{isScaleDriven:J}=z.cache;t=z.cache.compiledFunc;if(J)A=null!=y?y.scale:void 0,y=null!=y?y.view:void 0,null==A||"3d"===y?(A=y=null,(A=z.stops)?(y=A[0].value,A=A[A.length-1].value):(y=z.minDataValue||0,A=
z.maxDataValue||0),y=(y+A)/2):y=A,E=y;else if(!B)switch(z.inputValueType){case n.InputValueType.Expression:if(null==y?.arcade){v().error("Use of arcade expressions requires an arcade context");return}E=y.arcade.arcadeUtils;J=E.getViewInfo({viewingMode:y.viewingMode,scale:y.scale,spatialReference:y.spatialReference});y=E.createExecContext(A,J,y.timeZone);t||(A=E.createSyntaxTree(z.valueExpression),t=E.createFunction(A),z.cache.compiledFunc=t);E=E.executeFunction(t,y);break;case n.InputValueType.Field:D&&
(E=D[z.field]);break;case n.InputValueType.Unknown:E=null}if(!n.isValidNumber(E))return null;if(B||!z.normalizationField)return E;z=D?parseFloat(D[z.normalizationField]):null;return n.isValidNumber(z)&&0!==z?E/z:null}function w(z,t,y){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(A=>"size"===A.type):z)if("esri.renderers.visualVariables.SizeVariable"!==z.declaredClass)v().warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var B=
m(z,t,y);t=g(B,z,t,y,z.cache.ipData);return null===t||void 0===t||isNaN(t)?0:t}}function r(z,t,y){return null==z?null:n.isSizeVariable(z)?w(z,t,y):n.isValidNumber(z)?z:null}function e(z,t,y){return n.isValidNumber(y)&&z>y?y:n.isValidNumber(t)&&z<t?t:z}function g(z,t,y,B,A){switch(t.transformationType){case n.TransformationType.Additive:return B=r(t.minSize,y,B),z+((B||t.minDataValue)??0);case n.TransformationType.Constant:return z=t.stops,z=z?.length&&z[0].size,null==z&&(z=t.minSize),r(z,y,B);case n.TransformationType.ClampedLinear:A=
(z-t.minDataValue)/(t.maxDataValue-t.minDataValue);var D=r(t.minSize,y,B);y=r(t.maxSize,y,B);B=null!=B?B.shape:void 0;z<=t.minDataValue?t=D:z>=t.maxDataValue?t=y:null==D||null==y?t=null:"area"===t.scaleBy&&B?(z=(t="circle"===B)?x*(D/2)**2:D*D,z+=A*((t?x*(y/2)**2:y*y)-z),t=t?2*Math.sqrt(z/x):Math.sqrt(z)):t=D+A*(y-D);return t;case n.TransformationType.Proportional:return A=null!=B?B.shape:void 0,z/=t.minDataValue,D=r(t.minSize,y,B),t=r(t.maxSize,y,B),B=null,B="circle"===A?2*Math.sqrt(z*(D/2)**2):"square"===
A||"diamond"===A||"image"===A?Math.sqrt(z*D**2):z*D,e(B,D,t);case n.TransformationType.Stops:{const [E,J,F]=p(z,A);E===J?t=r(t.stops?.[E].size,y,B):(z=r(t.stops?.[E].size,y,B),t=r(t.stops?.[J].size,y,B),t=z+(t-z)*F)}return t;case n.TransformationType.RealWorldSize:return A=(B?.resolution??1)*q.meterIn[t.valueUnit],D=r(t.minSize,y,B),B=r(t.maxSize,y,B),{valueRepresentation:t}=t,y=null,y="area"===t?2*Math.sqrt(z/x)/A:"radius"===t||"distance"===t?2*z/A:z/A,e(y,D,B);case n.TransformationType.Identity:return z;
case n.TransformationType.Unknown:return null}}function p(z,t){if(t){var y=0,B=t.length-1;t.some((A,D)=>{if(z<A)return B=D,!0;y=D;return!1});return[y,B,(z-t[y])/(t[B]-t[y])]}}const v=()=>c.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),u=new d,x=Math.PI;a.getAllSizes=function(z,t,y){const B=["proportional","proportional","proportional"];for(const A of z)switch(z=A.useSymbolValue?"symbol-value":w(A,t,y),A.axis){case "width":B[0]=z;break;case "depth":B[1]=z;break;case "height":B[2]=
z;break;case "width-and-depth":B[0]=z;B[1]=z;break;case "all":case void 0:case null:B[0]=z;B[1]=z;B[2]=z;break;default:f.neverReached(A.axis)}return B};a.getColor=k;a.getOpacity=h;a.getRotationAngle=l;a.getSize=w;a.getSizeForValue=g;a.getSizeFromNumberOrVariable=r;a.getSizeRangeAtScale=function(z,t,y){const {isScaleDriven:B}=z.cache;if(!(B&&"3d"===y||t))return null;y={scale:t,view:y};t=r(z.minSize,u,y);z=r(z.maxSize,u,y);if(null!=t||null!=z)return t>z&&(y=z,z=t,t=y),{minSize:t,maxSize:z}};a.getVisualVariableValues=
function(z,t,y){if(z.visualVariables){var B=[],A=[],D=[],E=[],J=[];for(const F of z.visualVariables)switch(F.type){case "color":A.push(F);break;case "opacity":D.push(F);break;case "rotation":J.push(F);break;case "size":E.push(F)}A.forEach(F=>{const G=k(F,t,y);B.push({variable:F,value:G})});D.forEach(F=>{const G=h(F,t,y);B.push({variable:F,value:G})});J.forEach(F=>{const G=l(F,t,y);B.push({variable:F,value:G})});E.forEach(F=>{const G=w(F,t,y);B.push({variable:F,value:G})});return B.filter(F=>null!=
F.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Graphic":function(){define("./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/JSONSupport ./core/uid ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,d,f,c,q,n,k,h,l,m,w,r){var e;c=e=class extends c.ClonableMixin(q.JSONSupport){constructor(...g){super(...g);
this.isAggregate=!1;this.sourceLayer=this.popupTemplate=this.origin=this.layer=null;Object.defineProperty(this,"uid",{value:n.generateUID(),configurable:!0})}normalizeCtorArgs(g,p,v,u){return g&&!g.declaredClass?g:{geometry:g,symbol:p,attributes:v,popupTemplate:u}}set aggregateGeometries(g){const p=this._get("aggregateGeometries");JSON.stringify(p)!==JSON.stringify(g)&&this._set("aggregateGeometries",g)}set attributes(g){const p=this._get("attributes");p!==g&&(this._set("attributes",g),this._notifyLayer("attributes",
p,g))}set geometry(g){const p=this._get("geometry");p!==g&&(this._set("geometry",g),this._notifyLayer("geometry",p,g))}set symbol(g){const p=this._get("symbol");p!==g&&(this._set("symbol",g),this._notifyLayer("symbol",p,g))}set visible(g){const p=this._get("visible");p!==g&&(this._set("visible",g),this._notifyLayer("visible",p,g))}cloneShallow(){return new e({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,
popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(g=!1){if(this.popupTemplate)return this.popupTemplate;const p=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const v of[p,this.sourceLayer,this.layer])if(v){if("popupTemplate"in v&&v.popupTemplate)return v.popupTemplate;if(g&&"defaultPopupTemplate"in v&&null!=v.defaultPopupTemplate)return v.defaultPopupTemplate}return null}getAttribute(g){return this.attributes?.[g]}setAttribute(g,
p){if(this.attributes){const v=this.getAttribute(g);this.attributes[g]=p;this._notifyLayer("attributes",v,p,g)}else this.attributes={[g]:p},this._notifyLayer("attributes",void 0,p,g)}getObjectId(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null}toJSON(){var g=this.aggregateGeometries;if(null==g)g=null;else{var p={};for(const v in g){const u=g[v];u&&(p[v]=u.toJSON())}g=0!==Object.keys(p).length?p:
null}return{aggregateGeometries:g,geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:q.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(g={}){var {geometry:p}=this;"mesh"===p?.type&&(p={origin:p.origin,transform:p.transform},this._notifyLayer("origin-transform",
p,p,g.action))}_notifyLayer(g,p,v,u){this.layer&&"graphicChanged"in this.layer&&(p={graphic:this,property:g,oldValue:p,newValue:v},"origin-transform"===g&&(p.action=u),"attributes"===g&&(p.attributeName=u),this.layer.graphicChanged(p))}};a.__decorate([k.property({value:null,json:{read:function(g){if(!g)return null;const p={};for(const v in g){const u=r.fromJSON(g[v]);u&&(p[v]=u)}return 0!==Object.keys(p).length?p:null}}})],c.prototype,"aggregateGeometries",null);a.__decorate([k.property({value:null})],
c.prototype,"attributes",null);a.__decorate([k.property({value:null,types:b.geometryTypes,json:{read:r.fromJSON}})],c.prototype,"geometry",null);a.__decorate([k.property({type:Boolean})],c.prototype,"isAggregate",void 0);a.__decorate([k.property({clonable:"reference"})],c.prototype,"layer",void 0);a.__decorate([k.property({clonable:"reference"})],c.prototype,"origin",void 0);a.__decorate([k.property({type:d})],c.prototype,"popupTemplate",void 0);a.__decorate([k.property({clonable:"reference"})],c.prototype,
"sourceLayer",void 0);a.__decorate([k.property({value:null,types:f.symbolTypes})],c.prototype,"symbol",null);a.__decorate([k.property({type:Boolean,value:!0})],c.prototype,"visible",null);c=e=a.__decorate([w.subclass("esri.Graphic")],c);(c||={}).generateUID=n.generateUID;return c})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r){const e={color:l,size:r,opacity:m,rotation:w},g=new d.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),p=/^\[([^\]]+)\]$/i;b=class extends b{constructor(){super(...arguments);this.sizeVariables=this.rotationVariables=this.opacityVariables=this.colorVariables=null}set visualVariables(v){this._resetVariables();v=v&&v.filter(x=>!!x);if(v?.length){for(var u of v)switch(u.type){case "color":this.colorVariables.push(u);break;
case "opacity":this.opacityVariables.push(u);break;case "rotation":this.rotationVariables.push(u);break;case "size":this.sizeVariables.push(u)}this.sizeVariables.length&&this.sizeVariables.some(x=>!!x.target)&&v.sort((x,z)=>{let t=null;return t=x.target===z.target?0:x.target?1:-1});for(u=0;u<v.length;u++)v[u].index=u}this._set("visualVariables",v)}readVariables(v,u,x){const {rotationExpression:z,rotationType:t}=u;if(u=z?.match(p)?.[1])v||=[],v.push({type:"rotationInfo",rotationType:t,field:u});if(v)return v.map(y=>
{var B=g.read(y.type);const A=e[B];A||(f.getLogger(this).warn(`Unknown variable type: ${B}`),x?.messages&&x.messages.push(new c("visual-variable:unsupported",`visualVariable of type '${B}' is not supported`,{definition:y,context:x})));B=new A;B.read(y,x);return B})}writeVariables(v,u){const x=[];for(const z of v)(v=z.toJSON(u))&&x.push(v);return x}_resetVariables(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]}};a.__decorate([q.property()],b.prototype,
"visualVariables",null);return b=a.__decorate([h.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,d,f,c,q,n,k){var h;b=h=class extends b.JSONSupport{constructor(l){super(l);this.minValue=
this.label=this.description=null;this.maxValue=0;this.symbol=null}clone(){return new h({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const l=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${l}`}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);
a.__decorate([d.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);a.__decorate([d.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);a.__decorate([d.property(k.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);return b=h=a.__decorate([n.subclass("esri.renderers.support.ClassBreakInfo")],b)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/object ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),
function(a,b,d,f,c,q,n){f={types:b.symbolTypesRenderer,json:{write:{writer:c.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:c.write},read:{reader:f.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};d=d.deepMerge({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},f);const k={cast:h=>null==h||"string"===typeof h||"number"===typeof h?h:`${h}`,json:{type:String,write:{writer:(h,l)=>{l.value=h?.toString()}}}};a.rendererBackgroundFillSymbolProperty={types:{base:q,key:"type",
typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:c.write},origins:{"web-scene":{type:n,write:{writer:c.write}}}}};a.rendererSymbolProperty=f;a.requiredRendererSymbolProperty=d;a.uniqueValueProperty=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../layers/support/layerUtils ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),
function(a,b,d,f,c,q,n){function k(h,l,m){if(null==h)return null;const {context:w,isLabelSymbol:r}=m;var e=w?.origin;m=w?.messages;if("web-scene"===e&&!(h instanceof c||h instanceof n)){e=q.to3D(h,{retainCIM:!0,hasLabelingContext:r});if(null!=e.symbol)return e.symbol.write(l,w);m?.push(new d("symbol:unsupported",`Symbols of type '${h.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:h,context:w,error:e.error}));return null}return("web-map"===
e||"portal-item"===e&&!f.isSceneServiceLayer(w?.layer))&&(h instanceof c||h instanceof n)?(m?.push(new d("symbol:unsupported",`Symbols of type '${h.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:h,context:w})),null):h.write(l,w)}a.fromJSON=function(h,l){return b.readSymbol(h,null,l)};a.write=function(h,l,m,w){h=k(h,{},{context:w,isLabelSymbol:!1});null!=h&&(l[m]=h)};a.writeLabelSymbol=function(h,l,m,w){h=k(h,
{},{context:w,isLabelSymbol:!0});null!=h&&(l[m]=h)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../MeshSymbol3D ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),function(a,b,d,f,c,q,n,k,h,l,m,w,r,e){const g={retainId:!1,ignoreDrivers:!1,
hasLabelingContext:!0};a.defaultTo3DOptions=g;a.to3D=function(p,v=g){if(!p)return{symbol:null};const {retainId:u=g.retainId,ignoreDrivers:x=g.ignoreDrivers,hasLabelingContext:z=g.hasLabelingContext,retainCIM:t=g.retainCIM}=v;let y=null;if(b.isSymbol3D(p)||p instanceof f)y=p.clone();else if("cim"===p.type){v=p.data?.symbol?.type;if("CIMPointSymbol"!==v)return{error:new d("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${v||"unknown"}' is unsupported in 3D`,{symbol:p})};y=t?p.clone():
c.fromCIMSymbol(p)}else if(p instanceof q)y=n.fromSimpleLineSymbol(p);else if(p instanceof k)y=c.fromSimpleMarkerSymbol(p);else if(p instanceof h)y=c.fromPictureMarkerSymbol(p);else if(p instanceof l)y=v.geometryType&&"mesh"===v.geometryType?m.fromSimpleFillSymbol(p):w.fromSimpleFillSymbol(p);else if(p instanceof r)y=z?e.fromTextSymbol(p):c.fromTextSymbol(p);else return{error:new d("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${p.type||p.declaredClass}' is unsupported in 3D`,{symbol:p})};
u&&y&&"cim"!==y.type&&(y.id=p.id);x&&b.isSymbol3D(y)&&y.symbolLayers.forEach(B=>B.ignoreDrivers=!0);return{symbol:y}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;f=w=class extends l.VisualVariablesMixin(h){constructor(r){super(r);this.url=this.scaleExpressionTitle=this.scaleExpression=this.fieldMap=this.config=null;this.type="dictionary"}get _loader(){return new m.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(r,e){r&&(e.scalingExpressionInfo={expression:r,returnType:"number"})}writeVisualVariables(r,e,g,p){p?.origin||super.writeVisualVariables(r,e,g,p)}clone(){return new w({config:b.clone(this.config),
scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:b.clone(this.fieldMap),url:b.clone(this.url),visualVariables:b.clone(this.visualVariables)})}async getSymbolAsync(r,e){return this._loader.getSymbolAsync(r,e)}async collectRequiredFields(r,e){await this.collectVVRequiredFields(r,e);this.scaleExpression&&await k.collectArcadeFieldNames(r,e,this.scaleExpression);for(const g in this.fieldMap){const p=this.fieldMap[g];e.has(p)&&r.add(p)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&
this.visualVariables.reduce((r,e)=>r+e.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};a.__decorate([d.property({type:m.DictionaryLoader})],f.prototype,"_loader",null);a.__decorate([d.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],f.prototype,"config",void 0);a.__decorate([d.property({type:Object,json:{write:!0}})],f.prototype,"fieldMap",void 0);a.__decorate([d.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],f.prototype,"scaleExpression",void 0);a.__decorate([n.writer("scaleExpression")],f.prototype,"writeData",null);a.__decorate([d.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(r){return{enabled:!!r&&!!this.scaleExpression}}}}})],f.prototype,"scaleExpressionTitle",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"url",void 0);
a.__decorate([n.writer("visualVariables")],f.prototype,"writeVisualVariables",null);return f=w=a.__decorate([q.subclass("esri.renderers.DictionaryRenderer")],f)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../Color ../../request ../../core/Error ../../core/has ../../core/lang ../../core/Logger ../../core/LRUCache ../../core/promiseUtils ../../core/Version ../../layers/support/FieldsIndex ../../support/arcadeOnDemand ../../symbols/CIMSymbol ../../symbols/cim/OverrideHelper ../../symbols/cim/utils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){const p={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class v{constructor(u,x,z){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new k.LRUCache(100);this._dictionaryPromise=this._fieldIndex=this._dictionaryVersion=null;this.url=u;this.config=x;this.fieldMap=z}getSymbolFields(){return this._symbolFields}async getSymbolAsync(u,x){this._dictionaryPromise||
(this._dictionaryPromise=this.fetchResources(x));try{var z=await this._dictionaryPromise}catch(D){if(h.isAbortError(D))return this._dictionaryPromise=null}var t=this._dictionaryVersion&&this._dictionaryVersion.since(4,0),y={};if(this.fieldMap)for(var B of this._symbolFields){var A=g.getFieldName(this.fieldMap[B],this._fieldIndex);if(A){const D=u.attributes[A];y[B]=t?D:null!=D?""+u.attributes[A]:""}else y[B]=""}t=null;try{t=z?.(y,x)}catch(D){return null}if(!t||"string"!==typeof t||"invalid"===t)return null;
t=t.split(";");z=[];y=[];for(const D of t)if(D)if(D.includes("po:"))A=D.substr(3).split("|"),3===A.length&&(t=A[0],B=A[1],A=A[2],"DashTemplate"===B?A=A.split(" ").map(E=>Number(E)):"Color"===B?(A=(new b(A)).toRgba(),A=[A[0],A[1],A[2],255*A[3]]):A=Number(A),y.push({primitiveName:t,propertyName:B,value:A,defaultValue:null}));else if(D.includes("|"))for(const E of D.split("|")){if(this._itemNames.has(E)){z.push(E);break}}else this._itemNames.has(D)&&z.push(D);return this._cimPartsToCIMSymbol(u,z,y,null==
u.geometry||!u.geometry.hasZ&&"point"===u.geometry.type?!0:!1,x)}async fetchResources(u){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var x=d(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=u?u.signal:null}),[{data:z}]=await Promise.all([x,w.loadArcade()]);if(!z)throw this._dictionaryPromise=null,new f("esri.renderers.DictionaryRenderer","Bad dictionary data!");var {authoringInfo:t,dictionary_version:y,expression:B,itemsNames:A}=
z;x=!1;y&&(this._dictionaryVersion=l.Version.parse(y),x=this._dictionaryVersion.since(4,0));this._refSymbolUrlTemplate=this.url+"/"+z.cimRefTemplateUrl;this._itemNames=new Set(A);this._symbolFields=t.symbol;z={};if(this.config){const J=this.config;for(var D in J)z[D]=J[D]}if(t.configuration)for(var E of t.configuration)z.hasOwnProperty(E.name)||(z[E.name]=E.value);D=[];if(u?.fields&&this.fieldMap)for(const J in this.fieldMap){const F=this.fieldMap[J];E=u.fields.filter(G=>G.name.toLowerCase()===F?.toLowerCase());
0<E.length&&D.push({...E[0],type:x?E[0].type:"esriFieldTypeString"})}0<D.length&&(this._fieldIndex=new m(D));return this._dictionaryPromise=u=w.createDictionaryExpression(B,null!=u?u.spatialReference:null,D,z).then(J=>{const F={scale:0};return(G,M)=>{if(null==J)return null;G=J.repurposeFeature({geometry:null,attributes:G});F.scale=null!=M?M.scale??void 0:void 0;return J.evaluate({$feature:G,$view:F},J.services)}}).catch(J=>{n.getLogger("esri.renderers.support.DictionaryLoader").error("Creating dictinoary expression failed:",
J);return null})}n.getLogger("esri.renderers.support.DictionaryLoader").error("no valid URL!")}async _cimPartsToCIMSymbol(u,x,z,t,y){const B=Array(x.length);for(let A=0;A<x.length;A++)B[A]=this._getSymbolPart(x[A],y);x=await Promise.all(B);if(y=this.fieldMap){x=q.clone(x);for(const A of x)e.OverrideHelper.applyDictionaryTextOverrides(A,u,y,this._fieldIndex,g.getTextCasing(A))}return new r({data:this._combineSymbolParts(x,z,t)})}async _getSymbolPart(u,x){var z=this._symbolCache.get(u);if(z)return z;
if(this._ongoingRequests.has(u))return this._ongoingRequests.get(u).then(t=>t.data);z=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,u);x=d(z,{responseType:"json",query:{f:"json"},...x});this._ongoingRequests.set(u,x);x.finally(()=>this._ongoingRequests.delete(u));try{const t=await x;this._symbolCache.put(u,t.data);return t.data}catch(t){throw t;}}_combineSymbolParts(u,x,z){if(!u||0===u.length)return null;const t={...u[0]};if(1<u.length){t.symbolLayers=[];for(const y of u)t.symbolLayers.unshift(...y.symbolLayers)}z&&
(t.callout=p);return{type:"CIMSymbolReference",symbol:t,primitiveOverrides:x}}}a.DictionaryLoader=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/LRUCache":function(){define(["exports","./MemCache"],function(a,b){class d{constructor(f,c){this._storage=new b.MemCacheStorage;this.name=this.id="";this.size=0;this._storage.maxSize=f;this._storage.register(this);c&&this._storage.registerRemoveFunc("",c)}destroy(){this._storage.deregister(this);this._storage.destroy()}put(f,
c,q=1){this._storage.put(this,f,c,q,1)}pop(f){return this._storage.pop(this,f)}get(f){return this._storage.get(this,f)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(f){this._storage.maxSize=f}resetHitRate(){}}a.LRUCache=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MemCache":function(){define(["exports","./PooledArray"],function(a,b){a.RemoveMode=void 0;(function(n){n[n.ALL=0]="ALL";n[n.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode=
{}));class d{constructor(n,k,h){this.name=n;this._storage=k;this.id=`${c++}:`;this.size=0;this.maxSize=-1;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);h&&(this._storage.registerRemoveFunc(this.id,h),this._removeFunc=!0)}destroy(){this._storage.clear(this);this._removeFunc&&this._storage.deregisterRemoveFunc(this.id);this._storage.deregister(this);this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(n){return this._storage.getSize(this,
n)}resetHitRate(){this._hit=this._miss=0}put(n,k,h,l=0){this._storage.put(this,n,k,h,l)}pop(n){n=this._storage.pop(this,n);void 0===n?++this._miss:++this._hit;return n}get(n){n=this._storage.get(this,n);void 0===n?++this._miss:++this._hit;return n}peek(n){return this._storage.peek(this,n)}updateSize(n,k,h){this._storage.updateSize(this,n,k,h)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}
class f{get size(){return this._size}constructor(n=10485760){this._maxSize=n;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new b;this._users=new b}destroy(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null}register(n){this._users.push(n)}deregister(n){this._users.removeUnordered(n)}registerRemoveFunc(n,k){this._removeFuncs.push([n,k])}deregisterRemoveFunc(n){this._removeFuncs.filterInPlace(k=>k[0]!==n)}get maxSize(){return this._maxSize}set maxSize(n){this._maxSize=
Math.max(n,-1);this._checkSize()}getSize(n,k){return this._db.get(n.id+k)?.size??0}put(n,k,h,l,m){k=n.id+k;const w=this._db.get(k);w&&(this._size-=w.size,n.size-=w.size,this._db.delete(k),w.entry!==h&&this._notifyRemove(k,w.entry,w.size,a.RemoveMode.ALL));l>this._maxSize?this._notifyRemove(k,h,l,a.RemoveMode.ALL):void 0===h?console.warn("Refusing to cache undefined entry "):!l||0>l?(console.warn(`Refusing to cache entry with size ${l} for key ${k}`),this._notifyRemove(k,h,0,a.RemoveMode.ALL)):(this._db.set(k,
new q(h,l,1+Math.max(m,-4)- -3)),this._size+=l,n.size+=l,this._checkSize())}updateSize(n,k,h,l){k=n.id+k;const m=this._db.get(k);if(m&&m.entry===h){this._size-=m.size;for(n.size-=m.size;l>this._maxSize;)if(l=this._notifyRemove(k,h,l,a.RemoveMode.SOME),!(null!=l&&0<l)){this._db.delete(k);return}m.size=l;this._size+=l;n.size+=l;this._checkSize()}}pop(n,k){k=n.id+k;const h=this._db.get(k);if(h)return this._size-=h.size,n.size-=h.size,this._db.delete(k),++this._hit,h.entry;++this._miss}get(n,k){k=n.id+
k;n=this._db.get(k);if(void 0===n)++this._miss;else return this._db.delete(k),n.lives=n.lifetime,this._db.set(k,n),++this._hit,n.entry}peek(n,k){(n=this._db.get(n.id+k))?++this._hit:++this._miss;return n?.entry}get performanceInfo(){const n={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},k={},h=[];this._db.forEach((w,r)=>{const e=w.lifetime;h[e]=(h[e]||0)+w.size;this._users.forAll(g=>
{const {id:p,name:v}=g;r.startsWith(p)&&(k[v]=(k[v]||0)+w.size)})});const l={};this._users.forAll(w=>{const r=w.name;"hitRate"in w&&"number"===typeof w.hitRate&&!isNaN(w.hitRate)&&0<w.hitRate?(k[r]=k[r]||0,l[r]=Math.round(100*w.hitRate)+"%"):l[r]="0%"});var m=Object.keys(k);m.sort((w,r)=>k[r]-k[w]);m.forEach(w=>n[w]=Math.round(k[w]/2**20)+"MB / "+l[w]);for(m=h.length-1;0<=m;--m){const w=h[m];w&&(n["Priority "+(m+-3-1)]=Math.round(w/this._size*100)+"%")}return n}resetStats(){this._hit=this._miss=0;
this._users.forAll(n=>n.resetHitRate())}clear(n){const k=n.id;this._db.forEach((h,l)=>{l.startsWith(k)&&(this._size-=h.size,this._db.delete(l),this._notifyRemove(l,h.entry,h.size,a.RemoveMode.ALL))});n.size=0}clearAll(){this._db.forEach((n,k)=>this._notifyRemove(k,n.entry,n.size,a.RemoveMode.ALL));this._users.forAll(n=>n.size=0);this._size=0;this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(n,k,h,l){let m;this._removeFuncs.some(w=>n.startsWith(w[0])?(w=w[1](k,l,
h),"number"===typeof w&&(m=w),!0):!1);return m}_checkSize(){this._users.forAll(n=>this._checkSizeLimits(n));this._checkSizeLimits()}_checkSizeLimits(n){const k=n??this;if(!(0>k.maxSize||k.size<=k.maxSize)){for(var h=n?.id,l=!0;l;){l=!1;for(const [m,w]of this._db)if(0===w.lifetime&&(!h||m.startsWith(h))){this._purgeItem(m,w,n);if(k.size<=.9*k.maxSize)return;l||=this._db.has(m)}}for(const [m,w]of this._db)if(!h||m.startsWith(h))if(this._purgeItem(m,w,n),k.size<=.9*k.maxSize)break}}_purgeItem(n,k,h=
this._users.find(l=>n.startsWith(l.id))){this._db.delete(n);if(1>=k.lives){this._size-=k.size;h&&(h.size-=k.size);const l=this._notifyRemove(n,k.entry,k.size,a.RemoveMode.SOME);null!=l&&0<l&&(this._size+=l,h&&(h.size+=l),k.lives=k.lifetime,k.size=l,this._db.set(n,k))}else--k.lives,this._db.set(n,k)}}let c=0;class q{constructor(n,k,h){this.entry=n;this.size=k;this.lives=this.lifetime=h}}a.MemCache=d;a.MemCacheStorage=f;a.MinPriority=-3;a.NoPriority=-4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/Version":function(){define(["exports","./Error"],function(a,b){a.Version=class d{constructor(f,c,q=""){this.major=f;this.minor=c;this._context=q}lessThan(f,c){return this.major<f||f===this.major&&this.minor<c}since(f,c){return!this.lessThan(f,c)}validate(f){if(this.major!==f.major)throw new b((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:f});
}clone(){return new d(this.major,this.minor,this._context)}static parse(f,c=""){const [q,n]=f.split(".");var k=/^\s*\d+\s*$/;if(!q?.match||!k.test(q))throw new b((c&&c+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:f});if(!n?.match||!k.test(n))throw new b((c&&c+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:f});f=parseInt(q,10);k=parseInt(n,10);return new d(f,k,c)}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/FieldsIndex":function(){define("../../core/Error ../../core/JSONSupport ../../core/Logger ../../core/MapUtils ../../core/sql/UnknownTimeZone ./fieldUtils ../../time/timeZoneUtils ../../chunks/datetime".split(" "),function(a,b,d,f,c,q,n,k){function h(e){return e.trim().toLowerCase()}function l(e){const g=new Map;if(!e.fields)return g;const p=!0===e.datesInUnknownTimezone,{timeInfo:v,editFieldsInfo:u}=e;var x=(v?"startField"in v?v.startField:v.startTimeField:
"")??"";const z=(v?"endField"in v?v.endField:v.endTimeField:"")??"",t="dateFieldsTimeZone"in e?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?n.fromTimeReference(e.dateFieldsTimeReference):null,y=u?"timeZone"in u?u.timeZone??t:u.dateFieldsTimeReference?n.fromTimeReference(u.dateFieldsTimeReference):t??n.utc:null,B=v?"timeZone"in v?v.timeZone??t:v.timeReference?n.fromTimeReference(v.timeReference):t:null;x=new Map([[h(u?.creationDateField??""),y],[h(u?.editDateField??""),y],[h(x),B],[h(z),B]]);
for(const {name:A,type:D}of e.fields)r.has(D)?g.set(A,n.unknown):"date"!==D&&"esriFieldTypeDate"!==D?g.set(A,null):p?g.set(A,n.unknown):(e=x.get(h(A??""))??t,g.set(A,e));return g}const m=new Map;class w{static fromJSON(e){return new w(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new w(e.fields??[],l(e))}static fromLayerJSON(e){return new w(e.fields??[],l(e))}constructor(e=[],g){this._fieldsMap=new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=
new Set;this._requiredFields=null;this.dateFields=[];this.numericFields=[];this.fields=e||[];this._timeZoneByFieldName=g?new Map(g):null;e=[];for(const p of this.fields){g=p?.name;const v=q.normalizeFieldName(g)?.toLowerCase()??"";if(g&&v){const u=h(g);this._fieldsMap.set(g,p);this._fieldsMap.set(u,p);this._normalizedFieldsMap.set(v,p);e.push(`${u}:${p.type}:${this._timeZoneByFieldName?.get(g)}`);q.isDateField(p)?(this.dateFields.push(p),this._dateFieldsSet.add(p)):q.isNumericField(p)&&(this._numericFieldsSet.add(p),
this.numericFields.push(p));q.isObjectIDField(p)||q.isGlobalIDField(p)||(p.editable=null==p.editable||!!p.editable,p.nullable=null==p.nullable||!!p.nullable)}}e.sort();this.uid=e.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)q.isObjectIDField(e)||q.isGlobalIDField(e)||e.nullable||void 0!==q.getFieldDefaultValue(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(e){var g=
this._fieldsMap.get(e);if(g)return g;(g=this._fieldsMap.get(h(e))??this._normalizedFieldsMap.get(q.normalizeFieldName(e)?.toLowerCase()??""))&&this._fieldsMap.set(e,g);return g}}getTimeZone(e){e=this.get(e&&"string"!==typeof e?e.name:e);return e?this._timeZoneByFieldName?this._timeZoneByFieldName.get(e.name):"date"===e.type||"esriFieldTypeDate"===e.type?(d.getLogger("esri.layers.support.FieldsIndex").error(new a("getTimeZone:no-timezone-information",`no time zone information for field '${e.name}'`)),
n.utc):r.has(e.type)?n.unknown:null:null}getLuxonTimeZone(e){const g=this.getTimeZone(e);return g?g===n.unknown?c.UnknownTimeZone.instance:g===n.utc?k.FixedOffsetZone.utcInstance:f.getOrCreateMapValue(m,g,()=>k.IANAZone.create(g)):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return q.isTimeOnlyField(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map(e=>
b.isSerializable(e)?e.toJSON():e),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}const r=new Set("time-only date-only timestamp-offset esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "));return w})},"esri/core/sql/UnknownTimeZone":function(){define(["exports","../../chunks/datetime"],function(a,b){function d(c){return c instanceof b.Zone?c===f.instance?!0:!1:"unknown"===c?.toString().toLowerCase()?!0:!1}class f{}
f.instance=new b.IANAZone("Etc/UTC");a.UnknownTimeZone=f;a.adoptTimeZone=function(c,q){return b.DateTime.fromObject({day:c.day,year:c.year,month:c.month,hour:c.hour,minute:c.minute,second:c.second,millisecond:c.millisecond},{zone:q})};a.isUnknownTimeZone=d;a.substituteUnknownTimezone=function(c){return d(c)?f.instance:c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/OverrideHelper":function(){define("exports ../../Color ../../core/colorUtils ../../core/lang ../../support/arcadeOnDemand ./utils ../../views/2d/arcade/callExpressionWithFeature".split(" "),
function(a,b,d,f,c,q,n){class k{static findApplicableOverrides(h,l,m){if(h&&l){if(h.primitiveName){let w=!1;for(const r of m)if(r.primitiveName===h.primitiveName){w=!0;break}if(!w)for(const r of l)r.primitiveName===h.primitiveName&&m.push(r)}switch(h.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(h.effects)for(const w of h.effects)k.findApplicableOverrides(w,l,m);if(h.symbolLayers)for(const w of h.symbolLayers)k.findApplicableOverrides(w,l,m);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(h.effects)for(const w of h.effects)k.findApplicableOverrides(w,
l,m);h.markerPlacement&&k.findApplicableOverrides(h.markerPlacement,l,m);if("CIMVectorMarker"===h.type){if(h.markerGraphics)for(const w of h.markerGraphics)k.findApplicableOverrides(w,l,m),k.findApplicableOverrides(w.symbol,l,m)}else"CIMCharacterMarker"===h.type?k.findApplicableOverrides(h.symbol,l,m):"CIMHatchFill"===h.type?k.findApplicableOverrides(h.lineSymbol,l,m):"CIMPictureMarker"===h.type&&k.findApplicableOverrides(h.animatedSymbolProperties,l,m)}}}static findEffectOverrides(h,l){if(!h)return null;
"CIMGeometricEffectDashes"===h.type&&q.normalizeDashTemplate(h);if(!l||!h.primitiveName)return{type:"cim-effect-info",effect:h,overrides:[]};const m=h.primitiveName,w=[];for(const r of l)r.primitiveName===m&&w.push({...r,propertyName:q.uncapitalize(r.propertyName)});return{type:"cim-effect-info",effect:h,overrides:w}}static async resolveSymbolOverrides(h,l,m,w,r,e,g){if(!h?.symbol)return null;let {symbol:p,primitiveOverrides:v}=h;h=!!v;if(!h&&!w)return p;p=f.clone(p);v=f.clone(v);let u=!0;l||(l={attributes:{}},
u=!1);h&&(u||(v=v.filter(x=>!x.valueExpressionInfo?.expression.includes("$feature"))),g||(v=v.filter(x=>!x.valueExpressionInfo?.expression.includes("$view"))),0<v.length&&(h=q.attributesToFields(l.attributes),await k.createRenderExpressions(v,{spatialReference:m,fields:h,geometryType:r}),k.evaluateOverrides(v,l,r??"esriGeometryPoint",e,g)),k.applyOverrides(p,v));w&&k.applyDictionaryTextOverrides(p,l,w,null);return p}static async createRenderExpressions(h,l){const m=[];for(const w of h){const r=w.valueExpressionInfo;
r&&!k._expressionToRenderExpression.has(r.expression)&&(h=c.createRendererExpression(r.expression,l.spatialReference,l.fields),m.push(h),h.then(e=>k._expressionToRenderExpression.set(r.expression,e)))}0<m.length&&await Promise.all(m)}static evaluateOverrides(h,l,m,w,r){r={$view:{scale:r?.scale}};for(const e of h){if(e.value&&"object"===typeof e.value&&d.isRGB(e.value)&&("Color"===e.propertyName||"StrokeColor"===e.propertyName)){a:{h=e.value;if(!h){h=[0,0,0,0];break a}const {r:g,g:p,b:v,a:u}=h;h=[g,
p,v,255*u]}e.value=h}if(h=e.valueExpressionInfo)if(h=k._expressionToRenderExpression.get(h.expression))e.value=n(h,l,r,m,w)}}static applyDictionaryTextOverrides(h,l,m,w,r="Normal"){if(h?.type)switch(h.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":case "CIMTextSymbol":var e=h.symbolLayers;if(!e)break;for(var g of e)g&&"CIMVectorMarker"===g.type&&k.applyDictionaryTextOverrides(g,l,m,w,"CIMTextSymbol"===h.type?h.textCase:r);break;case "CIMVectorMarker":h=h.markerGraphics;if(!h)break;
for(e of h)e&&k.applyDictionaryTextOverrides(e,l,m,w);break;case "CIMMarkerGraphic":(g=h.textString)&&g.includes("[")&&(m=q.analyzeTextParts(g,m),h.textString=q.assignTextValuesFromFeature(l,m,w,r))}}static applyOverrides(h,l,m,w){if(h.primitiveName)for(const r of l)if(r.primitiveName===h.primitiveName){const e=q.uncapitalize(r.propertyName);w&&w.push({cim:h,nocapPropertyName:e,value:h[e]});if(m){let g=!1;for(const p of m)p.primitiveName===h.primitiveName&&(g=!0);g||m.push(r)}null!=r.value&&(h[e]=
r.value)}switch(h.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(h.effects)for(const r of h.effects)k.applyOverrides(r,l,m,w);if(h.symbolLayers)for(const r of h.symbolLayers)k.applyOverrides(r,l,m,w);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(h.effects)for(const r of h.effects)k.applyOverrides(r,l,m,w);if("CIMVectorMarker"===h.type&&h.markerGraphics)for(const r of h.markerGraphics)k.applyOverrides(r,l,m,w),k.applyOverrides(r.symbol,l,m,w)}}static restoreOverrides(h){for(const l of h)l.cim[l.nocapPropertyName]=
l.value}static buildOverrideKey(h){let l="";for(const m of h)void 0!==m.value&&(l+=`${m.primitiveName}${m.propertyName}${JSON.stringify(m.value)}`);return l}static toValue(h,l){return"DashTemplate"===h?l.split(" ").map(m=>Number(m)):"Color"===h?(h=(new b(l)).toRgba(),h[3]*=255,h):l}}k._expressionToRenderExpression=new Map;a.OverrideHelper=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/colorUtils":function(){define(["exports","../Color","../chunks/vec42","./libs/gl-matrix-2/factories/vec4f64"],
function(a,b,d,f){function c(u){return"r"in u&&"g"in u&&"b"in u}function q(u,x){const z=[];let t,y;if(u[0].length!==x.length)throw Error("dimensions do not match");const B=u.length,A=u[0].length;let D=0;for(t=0;t<B;t++){for(y=D=0;y<A;y++)D+=u[t][y]*x[y];z.push(D)}return z}function n(u){u=[u.r/255,u.g/255,u.b/255].map(x=>.04045>=x?x/12.92:((x+.055)/1.055)**2.4);u=q(p,u);return{x:100*u[0],y:100*u[1],z:100*u[2]}}function k(u){u=q(v,[u.x/100,u.y/100,u.z/100]).map(x=>Math.min(1,Math.max(.0031308>=x?12.92*
x:1.055*x**(1/2.4)-.055,0)));return{r:Math.round(255*u[0]),g:Math.round(255*u[1]),b:Math.round(255*u[2])}}function h(u){u=[u.x/95.047,u.y/100,u.z/108.883].map(x=>x>(6/29)**3?x**(1/3):1/3*(29/6)**2*x+4/29);return{l:116*u[1]-16,a:500*(u[0]-u[1]),b:200*(u[1]-u[2])}}function l(u){const x=u.l;u=[(x+16)/116+u.a/500,(x+16)/116,(x+16)/116-u.b/200].map(z=>z>6/29?z**3:3*(6/29)**2*(z-4/29));return{x:95.047*u[0],y:100*u[1],z:108.883*u[2]}}function m(u){if(c(u))return u;if("l"in u&&"c"in u&&"h"in u){var x=u.c,
z=u.h;return k(l({l:u.l,a:x*Math.cos(z),b:x*Math.sin(z)}))}if("l"in u&&"a"in u&&"b"in u)return k(l(u));if("x"in u&&"y"in u&&"z"in u)return k(u);if("h"in u&&"s"in u&&"v"in u){z=(u.h+360)%360/60;x=u.v/100*255;u=u.s/100*x;const t=u*(1-Math.abs(z%2-1));switch(Math.floor(z)){case 0:z={r:u,g:t,b:0};break;case 1:z={r:t,g:u,b:0};break;case 2:z={r:0,g:u,b:t};break;case 3:z={r:0,g:t,b:u};break;case 4:z={r:t,g:0,b:u};break;case 5:case 6:z={r:u,g:0,b:t};break;default:z={r:0,g:0,b:0}}z.r=Math.round(z.r+x-u);z.g=
Math.round(z.g+x-u);z.b=Math.round(z.b+x-u);return z}return u}function w(u){if("h"in u&&"s"in u&&"v"in u)return u;var x=m(u);u=x.r;const z=x.g,t=x.b;x=Math.max(u,z,t);const y=x-Math.min(u,z,t);u=0===y?0:x===u?(z-t)/y%6:x===z?(t-u)/y+2:(u-z)/y+4;0>u&&(u+=6);return{h:60*u,s:100*(0===y?0:y/x),v:100/255*x}}function r(u){return"l"in u&&"a"in u&&"b"in u?u:h(n(m(u)))}function e(u){let {r:x,g:z,b:t,a:y}=u;1>y&&(x=Math.round(y*x+255*(1-y)),z=Math.round(y*z+255*(1-y)),t=Math.round(y*t+255*(1-y)));return new b({r:x,
g:z,b:t})}function g(u,x){const {r:z,g:t,b:y}=x?.ignoreAlpha?u:e(u);return.2126*z+.7152*t+.0722*y}const p=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],v=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];a.BrightnessThreshold=void 0;(function(u){u[u.Low=160]="Low";u[u.High=225]="High"})(a.BrightnessThreshold||(a.BrightnessThreshold={}));a.colorEquals=function(u,x){return u===x||null!=u&&u.equals(x)};a.colorVectorEquals=function(u,x){return u===x||null!=u&&null!=x&&
d.equals(u,x)};a.colorVectorToColorAndOpacity=function(u){return f.fromValues(u[0],u[1],u[2],3<u.length?u[3]:1)};a.darken=function(u,x){var z=r(u);z.l*=1-x;x=m(z);z=u.clone();z.setColor(x);z.a=u.a;return z};a.desaturate=function(u,x){var z=w(u);z.s*=x;x=m(z);z=u.clone();z.setColor(x);z.a=u.a;return z};a.getColorLuminance=g;a.getColorTheme=function(u){return e(u).isBright?"light":"dark"};a.getContrast=function(u,x=a.BrightnessThreshold.High){return g(u,{ignoreAlpha:!0})>x?new b([0,0,0,u.a]):new b([255,
255,255,u.a])};a.isRGB=c;a.multiplyOpacity=function(u,x){u=u.clone();u.a*=x;return u};a.multiplyOpacityToUnitRGBA=function(u,x){u=b.toUnitRGBA(u);u[3]*=x;return u};a.toHSV=w;a.toLAB=r;a.toLCH=function(u){if(!("l"in u&&"c"in u&&"h"in u)){var x=h(n(m(u)));u=x.l;var z=x.a;const t=x.b;x=Math.sqrt(z*z+t*t);z=Math.atan2(t,z);z=0<z?z:z+2*Math.PI;u={l:u,c:x,h:z}}return u};a.toRGB=m;a.unitRGBAFromColor=function(u){return b.toUnitRGBA(u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec42":function(){define(["exports",
"../core/libs/gl-matrix-2/math/common"],function(a,b){function d(N,K){N[0]=K[0];N[1]=K[1];N[2]=K[2];N[3]=K[3];return N}function f(N,K){N[0]=K[0];N[1]=K[1];N[2]=K[2];return N}function c(N,K,O,R,V){N[0]=K;N[1]=O;N[2]=R;N[3]=V;return N}function q(N,K,O){N[0]=K[0]+O[0];N[1]=K[1]+O[1];N[2]=K[2]+O[2];N[3]=K[3]+O[3];return N}function n(N,K,O){N[0]=K[0]-O[0];N[1]=K[1]-O[1];N[2]=K[2]-O[2];N[3]=K[3]-O[3];return N}function k(N,K,O){N[0]=K[0]*O[0];N[1]=K[1]*O[1];N[2]=K[2]*O[2];N[3]=K[3]*O[3];return N}function h(N,
K,O){N[0]=K[0]/O[0];N[1]=K[1]/O[1];N[2]=K[2]/O[2];N[3]=K[3]/O[3];return N}function l(N,K){N[0]=Math.ceil(K[0]);N[1]=Math.ceil(K[1]);N[2]=Math.ceil(K[2]);N[3]=Math.ceil(K[3]);return N}function m(N,K){N[0]=Math.floor(K[0]);N[1]=Math.floor(K[1]);N[2]=Math.floor(K[2]);N[3]=Math.floor(K[3]);return N}function w(N,K,O){N[0]=Math.min(K[0],O[0]);N[1]=Math.min(K[1],O[1]);N[2]=Math.min(K[2],O[2]);N[3]=Math.min(K[3],O[3]);return N}function r(N,K,O){N[0]=Math.max(K[0],O[0]);N[1]=Math.max(K[1],O[1]);N[2]=Math.max(K[2],
O[2]);N[3]=Math.max(K[3],O[3]);return N}function e(N,K){N[0]=Math.round(K[0]);N[1]=Math.round(K[1]);N[2]=Math.round(K[2]);N[3]=Math.round(K[3]);return N}function g(N,K,O){N[0]=K[0]*O;N[1]=K[1]*O;N[2]=K[2]*O;N[3]=K[3]*O;return N}function p(N,K,O,R){N[0]=K[0]+O[0]*R;N[1]=K[1]+O[1]*R;N[2]=K[2]+O[2]*R;N[3]=K[3]+O[3]*R;return N}function v(N,K){const O=K[0]-N[0],R=K[1]-N[1],V=K[2]-N[2];N=K[3]-N[3];return Math.sqrt(O*O+R*R+V*V+N*N)}function u(N,K){const O=K[0]-N[0],R=K[1]-N[1],V=K[2]-N[2];N=K[3]-N[3];return O*
O+R*R+V*V+N*N}function x(N){const K=N[0],O=N[1],R=N[2];N=N[3];return Math.sqrt(K*K+O*O+R*R+N*N)}function z(N){const K=N[0],O=N[1],R=N[2];N=N[3];return K*K+O*O+R*R+N*N}function t(N,K){N[0]=-K[0];N[1]=-K[1];N[2]=-K[2];N[3]=-K[3];return N}function y(N,K){N[0]=1/K[0];N[1]=1/K[1];N[2]=1/K[2];N[3]=1/K[3];return N}function B(N,K){const O=K[0],R=K[1],V=K[2];K=K[3];let ma=O*O+R*R+V*V+K*K;0<ma&&(ma=1/Math.sqrt(ma),N[0]=O*ma,N[1]=R*ma,N[2]=V*ma,N[3]=K*ma);return N}function A(N,K){return N[0]*K[0]+N[1]*K[1]+
N[2]*K[2]+N[3]*K[3]}function D(N,K,O,R){const V=K[0],ma=K[1],ca=K[2];K=K[3];N[0]=V+R*(O[0]-V);N[1]=ma+R*(O[1]-ma);N[2]=ca+R*(O[2]-ca);N[3]=K+R*(O[3]-K);return N}function E(N,K){var O=b.RANDOM;K=K||1;let R,V,ma,ca,ua,Aa;do R=2*O()-1,V=2*O()-1,ua=R*R+V*V;while(1<=ua);do ma=2*O()-1,ca=2*O()-1,Aa=ma*ma+ca*ca;while(1<=Aa);O=Math.sqrt((1-ua)/Aa);N[0]=K*R;N[1]=K*V;N[2]=K*ma*O;N[3]=K*ca*O;return N}function J(N,K,O){const R=K[0],V=K[1],ma=K[2];K=K[3];N[0]=O[0]*R+O[4]*V+O[8]*ma+O[12]*K;N[1]=O[1]*R+O[5]*V+O[9]*
ma+O[13]*K;N[2]=O[2]*R+O[6]*V+O[10]*ma+O[14]*K;N[3]=O[3]*R+O[7]*V+O[11]*ma+O[15]*K;return N}function F(N,K,O){var R=K[0];const V=K[1],ma=K[2],ca=O[0],ua=O[1],Aa=O[2];O=O[3];const Ma=O*R+ua*ma-Aa*V,Ga=O*V+Aa*R-ca*ma,Qa=O*ma+ca*V-ua*R;R=-ca*R-ua*V-Aa*ma;N[0]=Ma*O+R*-ca+Ga*-Aa-Qa*-ua;N[1]=Ga*O+R*-ua+Qa*-ca-Ma*-Aa;N[2]=Qa*O+R*-Aa+Ma*-ua-Ga*-ca;N[3]=K[3];return N}function G(N){return"vec4("+N[0]+", "+N[1]+", "+N[2]+", "+N[3]+")"}function M(N,K){return N[0]===K[0]&&N[1]===K[1]&&N[2]===K[2]&&N[3]===K[3]}
function L(N,K){const O=N[0],R=N[1],V=N[2];N=N[3];const ma=K[0],ca=K[1],ua=K[2];K=K[3];const Aa=b.getEpsilon();return Math.abs(O-ma)<=Aa*Math.max(1,Math.abs(O),Math.abs(ma))&&Math.abs(R-ca)<=Aa*Math.max(1,Math.abs(R),Math.abs(ca))&&Math.abs(V-ua)<=Aa*Math.max(1,Math.abs(V),Math.abs(ua))&&Math.abs(N-K)<=Aa*Math.max(1,Math.abs(N),Math.abs(K))}const T=Object.freeze(Object.defineProperty({__proto__:null,add:q,ceil:l,copy:d,copyVec3:f,dist:v,distance:v,div:h,divide:h,dot:A,equals:L,exactEquals:M,floor:m,
inverse:y,len:x,length:x,lerp:D,max:r,min:w,mul:k,multiply:k,negate:t,normalize:B,random:E,round:e,scale:g,scaleAndAdd:p,set:c,sqrDist:u,sqrLen:z,squaredDistance:u,squaredLength:z,str:G,sub:n,subtract:n,transformMat4:J,transformQuat:F},Symbol.toStringTag,{value:"Module"}));a.add=q;a.ceil=l;a.copy=d;a.copyVec3=f;a.dist=v;a.distance=v;a.div=h;a.divide=h;a.dot=A;a.equals=L;a.exactEquals=M;a.floor=m;a.inverse=y;a.len=x;a.length=x;a.lerp=D;a.max=r;a.min=w;a.mul=k;a.multiply=k;a.negate=t;a.normalize=B;
a.random=E;a.round=e;a.scale=g;a.scaleAndAdd=p;a.set=c;a.sqrDist=u;a.sqrLen=z;a.squaredDistance=u;a.squaredLength=z;a.str=G;a.sub=n;a.subtract=n;a.transformMat4=J;a.transformQuat=F;a.vec4=T})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function d(z){return[z[0],z[1],z[2],z[3]]}function f(z,t,y,B){return[z,t,y,B]}function c(z,t=b()){const y=Math.min(4,z.length);for(let B=0;B<y;++B)t[B]=z[B];return t}function q(z,t){return new Float64Array(z,
t,4)}function n(){return b()}function k(){return[1,1,1,1]}function h(){return[1,0,0,0]}function l(){return[0,1,0,0]}function m(){return[0,0,1,0]}function w(){return[0,0,0,1]}const r=b(),e=k(),g=h(),p=l(),v=m(),u=w(),x=Object.freeze(Object.defineProperty({__proto__:null,ONES:e,UNIT_W:u,UNIT_X:g,UNIT_Y:p,UNIT_Z:v,ZEROS:r,clone:d,create:b,createView:q,fromArray:c,fromValues:f,ones:k,unitW:w,unitX:h,unitY:l,unitZ:m,zeros:n},Symbol.toStringTag,{value:"Module"}));a.ONES=e;a.UNIT_W=u;a.UNIT_X=g;a.UNIT_Y=
p;a.UNIT_Z=v;a.ZEROS=r;a.clone=d;a.create=b;a.createView=q;a.fromArray=c;a.fromValues=f;a.ones=k;a.unitW=w;a.unitX=h;a.unitY=l;a.unitZ=m;a.vec4f64=x;a.zeros=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/utils":function(){define(["require","exports","./defaultCIMValues"],function(a,b,d){function f(v){return"function"===typeof v}function c(v){let u=v.length;for(;u--;)if(!" /-,\n".includes(v.charAt(u)))return!1;return!0}function q(v,u){"string"!==typeof v&&(v=String(v));
switch(u){case "LowerCase":return v.toLowerCase();case "Allcaps":return v.toUpperCase();default:return v}}function n(v){return v?[v[0],v[1],v[2],v[3]/255]:[0,0,0,0]}function k(v){return null!=v&&("CIMMarkerPlacementAlongLineRandomSize"===v.type||"CIMMarkerPlacementAlongLineSameSize"===v.type||"CIMMarkerPlacementAlongLineVariableSize"===v.type||"CIMMarkerPlacementAtExtremities"===v.type||"CIMMarkerPlacementAtMeasuredUnits"===v.type||"CIMMarkerPlacementAtRatioPositions"===v.type||"CIMMarkerPlacementOnLine"===
v.type||"CIMMarkerPlacementOnVertices"===v.type)}function h(v){if(!v)return null;switch(v.type){case "CIMPolygonSymbol":if(v.symbolLayers)for(const u of v.symbolLayers)if(v=h(u),null!=v)return v;break;case "CIMTextSymbol":return h(v.symbol);case "CIMSolidFill":return v.color}return null}function l(v){if(v)switch(v.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(v=v.symbolLayers)for(const u of v)if(v=l(u),null!=v)return v;break;case "CIMTextSymbol":return l(v.symbol);case "CIMSolidStroke":return v.color}}
function m(v){if(v)switch(v.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(v.symbolLayers)for(const u of v.symbolLayers)if(v=m(u),void 0!==v)return v;break;case "CIMTextSymbol":return m(v.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return v.width}}function w(v){if(null==v)return!1;if(Array.isArray(v))return v.every(u=>w(u));switch(typeof v){case "string":return!!v;case "number":return!isNaN(v)}}function r(v){if(null==v)return"Normal";switch(v.type){case "CIMTextSymbol":return v.textCase??
"Normal";case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var u=v.symbolLayers;if(!u)break;for(var x of u)if("CIMVectorMarker"===x.type)return r(x);break;case "CIMVectorMarker":if(x=v.markerGraphics)for(u of x)if(u.symbol)return r(u.symbol)}return"Normal"}function e(v,u){return null!==u?(u=u.get(v))?u.name:v:v}function g(v,u,x,z,t){return(x=x*Math.PI/180)?(Math.sin(x)*v+Math.cos(x)*u)*z+t:u*z+t}function p(v,u,x,z,t){return(x=x*Math.PI/180)?(Math.cos(x)*v-Math.sin(x)*u)*z+t:v*z+t}
b.adjustTextCase=q;b.analyzeTextParts=function(v,u){const x=[];var z=0;let t=-1;do t=v.indexOf("[",z),t>=z&&(t>z&&(z=v.substr(z,t-z),x.push([z,null,c(z)])),z=t+1,t=v.indexOf("]",z),t>=z&&(t>z&&(z=v.substr(z,t-z),(z=u[z])&&x.push([null,z,!1])),z=t+1));while(-1!==t);z<v.length-1&&(v=v.substr(z),x.push([v,null,c(v)]));return x};b.applyParentTransform=function(v,u,x,z,t,y){const {infos:B}=y;y=1;let A=0;var D=0,E=0;for(const {offsetX:J,offsetY:F,rotation:G,size:M,frameHeight:L,rotateClockWise:T}of B)D=
p(J,F,A,y,D),E=g(J,F,A,y,E),L&&(y*=M/L),A=T?A-G:A+G;D=p(z,t,A,y,D);z=g(z,t,A,y,E);return{size:v*y,rotation:x?A-u:A+u,offsetX:D,offsetY:z}};b.assignTextValuesFromFeature=function(v,u,x,z){let t="",y=null;for(const B of u){const [A,D,E]=B;if(A)E?y=A:(y&&(t+=y,y=null),t+=A);else if(u=D,null!=x&&(u=e(D,x)),u=v.attributes[u])y&&(t+=y,y=null),t+=u}return q(t,z)};b.attributesToFields=function(v){return(v?Object.keys(v):[]).map(u=>({name:u,alias:u,type:"string"===typeof v[u]?"esriFieldTypeString":"esriFieldTypeDouble"}))};
b.colorToArray=function(v){return[v.r,v.g,v.b,v.a]};b.evaluateValueOrFunction=function(v,u,x,z){return f(v)?v(u,x,z):v};b.fromCIMFontDecoration=function(v){return v.underline?"underline":v.strikethrough?"line-through":"none"};b.fromCIMFontStyle=function(v){let u="normal",x="normal";v&&(v=v.toLowerCase(),v.includes("italic")?u="italic":v.includes("oblique")&&(u="oblique"),v.includes("bold")?x="bold":v.includes("light")&&(x="lighter"));return{style:u,weight:x}};b.fromCIMHorizontalAlignment=function(v){switch(v){default:return"left";
case "Right":return"right";case "Center":return"center";case "Justify":return"center"}};b.fromCIMVerticalAlignment=function(v){switch(v){default:return"top";case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}};b.getDefaultCIMValue=function(v,u){if("color"===u||"outlinecolor"===u||"backgroundcolor"===u||"borderLineColor"===u)return[...d.defaultCIMColor[u]];const x=d.defaultCIMValues[v];if(!x||"boolean"===typeof x[u])throw Error(`InternalError: default value for type ${v}.`);
return x[u]};b.getEnum=(v,u)=>null==v?u:v;b.getFieldName=e;b.getFillColor=h;b.getFontStyle=function(v){if(!v)return"normal";switch(v.toLowerCase()){case "italic":return"italic";case "oblique":return"oblique";default:return"normal"}};b.getFontWeight=function(v){if(!v)return"normal";switch(v.toLowerCase()){case "bold":return"bold";case "bolder":return"bolder";case "lighter":return"lighter";default:return"normal"}};b.getSize=function(v){if(v)switch(v.type){case "CIMTextSymbol":return v.height;case "CIMPointSymbol":var u=
0;if(v.symbolLayers)for(var x of v.symbolLayers)if(x)switch(x.type){case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":v=x.size??d.defaultCIMValues.CIMVectorMarker.size,v>u&&(u=v)}return u;case "CIMLineSymbol":case "CIMPolygonSymbol":x=0;if(v.symbolLayers)for(u of v.symbolLayers)if(u)switch(u.type){case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":v=u.width;null!=v&&v>x&&(x=v);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":u.markerPlacement&&
k(u.markerPlacement)&&(v=u.size??d.defaultCIMValues.CIMVectorMarker.size,v>x&&(x=v));break;case "CIMPictureFill":v=u.height,null!=v&&v>x&&(x=v)}return x}};b.getStrokeColor=l;b.getStrokeWidth=m;b.getTextCasing=r;b.getTintColor=v=>v.tintColor?n(v.tintColor):[255,255,255,1];b.getValue=(v,u=0)=>null==v||isNaN(v)?u:v;b.importGeometryEngine=function(){return new Promise((v,u)=>a(["../../geometry/geometryEngineJSON"],v,u))};b.isCIMFill=function(v){return null!=v&&("CIMGradientFill"===v.type||"CIMHatchFill"===
v.type||"CIMPictureFill"===v.type||"CIMSolidFill"===v.type||"CIMWaterFill"===v.type)};b.isCIMMarker=function(v){return"CIMVectorMarker"===v.type||"CIMPictureMarker"===v.type||"CIMBarChartMarker"===v.type||"CIMCharacterMarker"===v.type||"CIMPieChartMarker"===v.type||"CIMStackedBarChartMarker"===v.type};b.isCIMMarkerStrokePlacement=k;b.isCIMStroke=function(v){return"CIMGradientStroke"===v.type||"CIMPictureStroke"===v.type||"CIMSolidStroke"===v.type};b.isFeatureValueFn=f;b.isGeometryEngineRequired=v=>
{if(!v)return!1;for(const u of v)switch(u.type){case "CIMGeometricEffectBuffer":case "CIMGeometricEffectOffset":case "CIMGeometricEffectDonut":return!0}return!1};b.isSVGImage=v=>v.includes("data:image/svg+xml");b.isValidCIMValue=w;b.mapCIMSymbolToGeometryType=function(v){if(!v)return null;switch(v.type){case "CIMPointSymbol":case "CIMTextSymbol":return"esriGeometryPoint";case "CIMLineSymbol":return"esriGeometryPolyline";case "CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}};b.normalizeAlpha=
n;b.normalizeDashTemplate=function(v){v?.dashTemplate&&"string"===typeof v.dashTemplate&&(v.dashTemplate=v.dashTemplate.split(" ").map(Number));return v};b.resampleHermite=function(v,u,x,z,t,y,B=!0){const A=u/t;x/=y;const D=Math.ceil(A/2),E=Math.ceil(x/2);for(let G=0;G<y;G++)for(let M=0;M<t;M++){const L=4*(M+(B?y-G-1:G)*t);var J=0;let T=0,N=0,K=0,O=0,R=0,V=0;const ma=(G+.5)*x;for(let ca=Math.floor(G*x);ca<(G+1)*x;ca++){var F=Math.abs(ma-(ca+.5))/E;const ua=(M+.5)*A;F*=F;for(let Aa=Math.floor(M*A);Aa<
(M+1)*A;Aa++){let Ma=Math.abs(ua-(Aa+.5))/D;J=Math.sqrt(F+Ma*Ma);-1<=J&&1>=J&&(J=2*J*J*J-3*J*J+1,0<J&&(Ma=4*(Aa+ca*u),V+=J*v[Ma+3],N+=J,255>v[Ma+3]&&(J=J*v[Ma+3]/250),K+=J*v[Ma],O+=J*v[Ma+1],R+=J*v[Ma+2],T+=J))}}z[L]=K/T;z[L+1]=O/T;z[L+2]=R/T;z[L+3]=V/N}};b.toCIMSymbolJSON=function(v){return v.data?.symbol??null};b.uncapitalize=function(v){return v?v.charAt(0).toLowerCase()+v.substring(1):v};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/defaultCIMValues":function(){define(["exports"],
function(a){a.defaultCIMColor={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderLineColor:[0,0,0,1]};a.defaultCIMValues={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetX:0,offsetY:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,
anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",
joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,
invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},
CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,
seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,
starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/arcade/callExpressionWithFeature":function(){define(["../../../core/Error","../../../core/Logger","../../../geometry/support/quantizationUtils"],function(a,b,d){function f(q){const n={};switch(q){case "esriGeometryPoint":return(k,h,l,m)=>d.unquantizePoint(h,n,k,l,m);case "esriGeometryPolygon":return(k,h,l,m)=>d.unquantizePolygon(h,
n,k,l,m);case "esriGeometryPolyline":return(k,h,l,m)=>d.unquantizePolyline(h,n,k,l,m);case "esriGeometryMultipoint":return(k,h,l,m)=>d.unquantizeMultipoint(h,n,k,l,m);default:return b.getLogger("esri.views.2d.support.arcadeOnDemand").error(new a("mapview-arcade",`Unable to handle geometryType: ${q}`)),k=>k}}const c=new Map;return function(q,n,k,h,l){if(null==q)return null;if(q.referencesGeometry()&&l){const {transform:m,hasZ:w,hasM:r}=l;c.has(h)||c.set(h,f(h));h=c.get(h)(n.geometry,m,w,r);n={...n,
geometry:h}}n=q.repurposeFeature(n);try{return q.evaluate({...k,$feature:n},q.services)}catch(m){return b.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",m),null}}})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(a,b){function d({scale:E,translate:J},F){return Math.round((F-J[0])/E[0])}function f({scale:E,translate:J},F){return Math.round((J[1]-F)/E[1])}function c(E,J,F){const G=[];let M,L,T,N;for(let K=0;K<
F.length;K++){const O=F[K];if(0<K){if(T=d(E,O[0]),N=f(E,O[1]),T!==M||N!==L)G.push(J(O,T-M,N-L)),M=T,L=N}else M=d(E,O[0]),L=f(E,O[1]),G.push(J(O,M,L))}return 0<G.length?G:null}function q(E,J,F,G){return c(E,F?G?D:A:G?A:B,J)}function n(E,J,F,G){const M=[];F=F?G?D:A:G?A:B;for(G=0;G<J.length;G++){const L=c(E,F,J[G]);L&&3<=L.length&&M.push(L)}return M.length?M:null}function k(E,J,F,G){const M=[];F=F?G?D:A:G?A:B;for(G=0;G<J.length;G++){const L=c(E,F,J[G]);L&&2<=L.length&&M.push(L)}return M.length?M:null}
function h({scale:E,translate:J},F){return F*E[0]+J[0]}function l({scale:E,translate:J},F){return J[1]-F*E[1]}function m(E,J,F){const G=Array(F.length);if(!F.length)return G;const [M,L]=E.scale;let T=h(E,F[0][0]);E=l(E,F[0][1]);G[0]=J(F[0],T,E);for(let N=1;N<F.length;N++){const K=F[N];T+=K[0]*M;E-=K[1]*L;G[N]=J(K,T,E)}return G}function w(E,J,F){const G=Array(F.length);for(let M=0;M<F.length;M++)G[M]=m(E,J,F[M]);return G}function r(E,J,F,G){return m(E,F?G?D:A:G?A:B,J)}function e(E,J,F,G){return w(E,
F?G?D:A:G?A:B,J)}function g(E,J,F,G){return w(E,F?G?D:A:G?A:B,J)}function p(E,J,F){let [G,M]=F[0],L=Math.min(G,J[0]),T=Math.min(M,J[1]),N=Math.max(G,J[2]);J=Math.max(M,J[3]);for(let K=1;K<F.length;K++){const [O,R]=F[K];G+=O;M+=R;0>O&&(L=Math.min(L,G));0<O&&(N=Math.max(N,G));0>R?T=Math.min(T,M):0<R&&(J=Math.max(J,M))}E[0]=L;E[1]=T;E[2]=N;E[3]=J;return E}function v(E,J){if(!J.length)return null;E[0]=E[1]=Number.POSITIVE_INFINITY;E[2]=E[3]=Number.NEGATIVE_INFINITY;for(let F=0;F<J.length;F++)p(E,E,J[F]);
return E}function u(E,J,F,G,M){J.xmin=d(E,F.xmin);J.ymin=f(E,F.ymin);J.xmax=d(E,F.xmax);J.ymax=f(E,F.ymax);J!==F&&(G&&(J.zmin=F.zmin,J.zmax=F.zmax),M&&(J.mmin=F.mmin,J.mmax=F.mmax));return J}function x(E,J,F,G,M){J.points=q(E,F.points,G,M)??[];return J}function z(E,J,F,G,M){J.x=d(E,F.x);J.y=f(E,F.y);J!==F&&(G&&(J.z=F.z),M&&(J.m=F.m));return J}function t(E,J,F,G,M){E=n(E,F.rings,G,M);if(!E)return null;J.rings=E;return J}function y(E,J,F,G,M){E=k(E,F.paths,G,M);if(!E)return null;J.paths=E;return J}
const B=(E,J,F)=>[J,F],A=(E,J,F)=>[J,F,E[2]],D=(E,J,F)=>[J,F,E[2],E[3]];a.equals=function(E,J){if(E===J||null==E&&null==J)return!0;if(null==E||null==J)return!1;let F,G,M,L;E&&"upperLeft"===E.originPosition?(F=E.translate[0],G=E.translate[1],E=E.scale[0]):(F=null!=E.extent?E.extent.xmin:0,G=null!=E.extent?E.extent.ymax:0,E=E.tolerance);J&&"upperLeft"===J.originPosition?(M=J.translate[0],L=J.translate[1],J=J.scale[0]):(M=null!=J.extent?J.extent.xmin:0,L=null!=J.extent?J.extent.ymax:0,J=J.tolerance);
return F===M&&G===L&&E===J};a.getQuantizedBoundsCoordsArray=p;a.getQuantizedBoundsCoordsArrayArray=v;a.getQuantizedBoundsPaths=function(E){return v([0,0,0,0],E)};a.getQuantizedBoundsPoints=function(E){const J=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return p(J,J,E)};a.getQuantizedBoundsRings=function(E){return v([0,0,0,0],E)};a.quantizeBounds=function(E,J,F){J[0]=d(E,F[0]);J[3]=f(E,F[1]);J[2]=d(E,F[2]);J[1]=f(E,F[3]);return J};a.quantizeExtent=
u;a.quantizeGeometry=function(E,J){return E&&J?b.isPoint(J)?z(E,{},J,!1,!1):b.isPolyline(J)?y(E,{},J,!1,!1):b.isPolygon(J)?t(E,{},J,!1,!1):b.isMultipoint(J)?x(E,{},J,!1,!1):b.isExtent(J)?u(E,{},J,!1,!1):null:null};a.quantizeMultipoint=x;a.quantizePaths=k;a.quantizePoint=z;a.quantizePoints=q;a.quantizePolygon=t;a.quantizePolyline=y;a.quantizeRings=n;a.quantizeX=d;a.quantizeY=f;a.toQuantizationTransform=function(E){return E?{originPosition:"upper-left"===E.originPosition?"upperLeft":"lower-left"===
E.originPosition?"lowerLeft":E.originPosition,scale:E.tolerance?[E.tolerance,E.tolerance]:[1,1],translate:null!=E.extent?[E.extent.xmin,E.extent.ymax]:[0,0]}:null};a.unquantizeBounds=function(E,J,F){return F?(J[0]=h(E,F[0]),J[1]=l(E,F[3]),J[2]=h(E,F[2]),J[3]=l(E,F[1]),J):[h(E,J[0]),l(E,J[3]),h(E,J[2]),l(E,J[1])]};a.unquantizeCoordsArray=m;a.unquantizeCoordsArrayArray=w;a.unquantizeExtent=function(E,J,F,G,M){J.xmin=h(E,F.xmin);J.ymin=l(E,F.ymin);J.xmax=h(E,F.xmax);J.ymax=l(E,F.ymax);J!==F&&(G&&(J.zmin=
F.zmin,J.zmax=F.zmax),M&&(J.mmin=F.mmin,J.mmax=F.mmax));return J};a.unquantizeMultipoint=function(E,J,F,G,M){null!=F&&(J.points=r(E,F.points,G,M));return J};a.unquantizePaths=e;a.unquantizePoint=function(E,J,F,G,M){if(null==F)return J;J.x=h(E,F.x);J.y=l(E,F.y);J!==F&&(G&&(J.z=F.z),M&&(J.m=F.m));return J};a.unquantizePoints=r;a.unquantizePolygon=function(E,J,F,G,M){null!=F&&(J.rings=g(E,F.rings,G,M));return J};a.unquantizePolyline=function(E,J,F,G,M){null!=F&&(J.paths=e(E,F.paths,G,M));return J};a.unquantizeRings=
g;a.unquantizeX=h;a.unquantizeY=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){var p;c=p=class extends m.VisualVariablesMixin(l){constructor(v){super(v);this.attributes=null;this.backgroundColor=new b([0,0,0,0]);this.dotBlendingEnabled=!0;this.dotShape="square";this.dotSize=1;this.legendOptions=null;this.outline=new g;this.referenceScale=this.dotValue=null;this.seed=1;this.type="dot-density"}calculateDotValue(v){if(null==this.referenceScale)return this.dotValue;v=v/this.referenceScale*this.dotValue;return 1>v?1:v}getSymbol(){return new e({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((v,
u)=>v+u.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new p({attributes:d.clone(this.attributes),backgroundColor:d.clone(this.backgroundColor),dotBlendingEnabled:d.clone(this.dotBlendingEnabled),dotShape:d.clone(this.dotShape),dotSize:d.clone(this.dotSize),dotValue:d.clone(this.dotValue),legendOptions:d.clone(this.legendOptions),outline:d.clone(this.outline),referenceScale:d.clone(this.referenceScale),seed:d.clone(this.seed),visualVariables:d.clone(this.visualVariables),
authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){const v=this.attributes?.map(x=>x.field||x.valueExpression||""),u=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${v}-${u}`}async collectRequiredFields(v,u){await this.collectVVRequiredFields(v,u);for(const x of this.attributes??[])x.valueExpression&&await h.collectArcadeFieldNames(v,u,x.valueExpression),x.field&&v.add(x.field)}};a.__decorate([f.property({type:[w],json:{write:!0}})],c.prototype,"attributes",
void 0);a.__decorate([f.property({type:b,json:{write:!0}})],c.prototype,"backgroundColor",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,"dotBlendingEnabled",void 0);a.__decorate([f.property({type:String,json:{write:!1}})],c.prototype,"dotShape",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"dotSize",void 0);a.__decorate([f.property({type:r,json:{write:!0}})],c.prototype,"legendOptions",void 0);a.__decorate([f.property({type:g,json:{default:null,
write:!0}})],c.prototype,"outline",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"dotValue",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"referenceScale",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"seed",void 0);a.__decorate([n.enumeration({dotDensity:"dot-density"})],c.prototype,"type",void 0);return c=p=a.__decorate([k.subclass("esri.renderers.DotDensityRenderer")],c)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,d,f,c,q,n,k,h,l){var m;d=m=class extends d.JSONSupport{constructor(w){super(w);this.valueExpressionTitle=this.valueExpression=this.label=this.field=this.color=null}castField(w){return null==w?w:"function"===typeof w?(f.getLogger(this).error(".field: field must be a string value"),null):l.ensureString(w)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new m({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,
valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([c.property({type:b,json:{type:[Number],write:!0}})],d.prototype,"color",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([q.cast("field")],d.prototype,"castField",null);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0);a.__decorate([c.property({type:String,
json:{write:!0}})],d.prototype,"valueExpressionTitle",void 0);return d=m=a.__decorate([h.subclass("esri.renderers.support.AttributeColorInfo")],d)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(){super(...arguments);
this.unit=null}clone(){return new k({unit:this.unit})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"unit",void 0);return b=k=a.__decorate([n.subclass("esri.renderers.support.DotDensityLegendOptions")],b)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/deprecate ../core/lang ../core/Logger ../core/scheduling ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/utils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z){function t(B){if(null!=B){const {maxDensity:A,minDensity:D,radius:E}=B;if(null!=A||null!=D||null!=E){const {blurRadius:J,maxPixelIntensity:F,minPixelIntensity:G,...M}=B;return M}}return B}var y;d=y=class extends g{constructor(B){super(B);this.authoringInfo=null;this.colorStops=[new v({ratio:0,color:new b("rgba(255, 140, 0, 0)")}),new v({ratio:.75,color:new b("rgba(255, 140, 0, 1)")}),new v({ratio:.9,color:new b("rgba(255, 0,   0, 1)")})];this.legendOptions=
this.field=null;this.maxDensity=.04;this.minDensity=0;this.radius=18;this.referenceScale=0;this.type="heatmap";this.valueExpressionTitle=this.valueExpression=null;this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(B){return t(B)}get blurRadius(){return x.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)}set blurRadius(B){const A=this.maxPixelIntensity,D=this.minPixelIntensity;this._set("radius",x.gaussianBlurRadiusPxToKernelDensityRadiusPt(B));this._warnAboutDeprecatedGaussianBlurProp("blurRadius",
"radius");this._set("maxDensity",A*this._pixelIntensityToDensity);this._set("minDensity",D*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(B){this._set("maxDensity",B*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(B){this._set("minDensity",B*this._pixelIntensityToDensity);
this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(x.magicKernelDensityRadiusInflationFactor**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(B,A){this._warnedProps[B]||"user"!==m.getProperties(this).getDefaultOrigin()||(this._warnedProps[B]=!0,n.schedule(()=>{f.deprecatedProperty(q.getLogger(this),B,{replacement:`${String(A)} (suggested value: ${this._get(A)})`,version:"4.24"})}))}read(B,A){B=t(B);super.read(B,A)}getSymbol(){return new z}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(B,
A){const D=this.field,E=this.valueExpression;D&&"string"===typeof D&&e.collectField(B,A,D);E&&"string"===typeof E&&await e.collectArcadeFieldNames(B,A,E)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new y({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:c.clone(this.colorStops),field:this.field,legendOptions:c.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,
radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([h.property({type:p,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"authoringInfo",void 0);a.__decorate([h.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],d.prototype,"blurRadius",null);a.__decorate([h.property({type:[v],json:{write:!0}})],d.prototype,"colorStops",void 0);a.__decorate([h.property({type:String,
json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([h.property({type:u.HeatmapLegendOptions,json:{write:!0}})],d.prototype,"legendOptions",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"maxDensity",void 0);a.__decorate([h.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],d.prototype,"maxPixelIntensity",null);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"minDensity",void 0);a.__decorate([h.property({type:Number,
json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],d.prototype,"minPixelIntensity",null);a.__decorate([h.property({type:Number,cast:k.toPt,json:{write:!0}})],d.prototype,"radius",void 0);a.__decorate([h.property({type:Number,range:{min:0},json:{default:0,write:!0}})],d.prototype,"referenceScale",void 0);a.__decorate([w.enumeration({heatmap:"heatmap"})],d.prototype,"type",void 0);a.__decorate([h.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],
d.prototype,"valueExpression",void 0);a.__decorate([h.property({type:String})],d.prototype,"valueExpressionTitle",void 0);a.__decorate([h.property({readOnly:!0})],d.prototype,"_pixelIntensityToDensity",null);return d=y=a.__decorate([r.subclass("esri.renderers.HeatmapRenderer")],d)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends d.JSONSupport{constructor(l){super(l);this.ratio=this.color=null}clone(){return new h({color:this.color&&this.color.clone(),ratio:this.ratio})}};a.__decorate([f.property({type:b,json:{type:[c.Integer],default:null,write:!0}})],d.prototype,"color",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"ratio",void 0);return d=h=a.__decorate([k.subclass("esri.renderers.support.HeatmapColorStop")],d)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h){a.HeatmapLegendOptions=class extends d.ClonableMixin(f.JSONSupport){constructor(){super(...arguments);this.title=this.maxLabel=this.minLabel=null}};b.__decorate([c.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=
b.__decorate([h.subclass("esri.renderers.support.HeatmapLegendOptions")],a.HeatmapLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec42","../../core/libs/gl-matrix-2/factories/vec4f64"],function(a,b,d,f,c){function q(n,k,h,l){let {color:m,ratio:w}=k,{color:r,ratio:e}=h;e===w&&(1===e?w-=1E-6:e+=1E-6);k=b.clamp((l-w)/(e-w),0,1);f.lerp(n,m.toArray(),
r.toArray(),k)}a.createValueFunction=function(n){return"function"===typeof n?n:n?k=>+k[n]:()=>1};a.evaluateDensityKernel=function(n,k,h){n=Math.sqrt(n**2+k**2)/h;return 1<n?0:3/(Math.PI*h**2)*(1-n**2)**2};a.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(n){return d.px2pt(2.4*n)};a.generateGradient=function(n){const k=new Uint8ClampedArray(2048);n=n.filter(({ratio:r})=>0<=r&&1>=r).sort((r,e)=>r.ratio-e.ratio).map(({color:r,ratio:e})=>({color:r,ratio:Math.max(e,.001)}));if(1>n.length)return k;
let h=n[0],l=n[0],m=1;const w=c.create();for(let r=0;512>r;r++){const e=(r+.5)/512;for(;e>l.ratio&&m<n.length;)h=l,l=n[m++];q(w,h,l,e);k.set(w,4*r)}return k};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(n){return d.pt2px(n)/2.4};a.magicKernelDensityRadiusInflationFactor=2.4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PieChartRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/arrayUtils ../core/Clonable ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/OthersCategory ./support/PieChartLegendOptions ../symbols/SimpleMarkerSymbol ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z){d=class extends e.VisualVariablesMixin(c.ClonableMixin(r)){constructor(t){super(t);this.backgroundFillSymbol=this.attributes=null;this.defaultColor=new b([0,0,0,0]);this.defaultLabel=null;this.holePercentage=0;this.othersCategory=new p.OthersCategory;this.outline=this.legendOptions=null;this.size=12;this.type="pie-chart"}getSymbol(){return new u({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),
this.backgroundFillSymbol].filter(f.isSome)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,y)=>t+y.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((t,y)=>t+=JSON.stringify(y),"")}async collectRequiredFields(t,y){await this.collectVVRequiredFields(t,y);for(const B of this.attributes)B.valueExpression&&await w.collectArcadeFieldNames(t,y,B.valueExpression),B.field&&t.add(B.field)}};a.__decorate([n.property({type:[g],json:{write:!0}})],d.prototype,
"attributes",void 0);a.__decorate([n.property({type:x,json:{default:null,write:!0}})],d.prototype,"backgroundFillSymbol",void 0);a.__decorate([n.property({type:b,json:{write:!0}})],d.prototype,"defaultColor",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],d.prototype,"defaultLabel",void 0);a.__decorate([n.property({type:Number,range:{min:0,max:1},json:{write:!0}})],d.prototype,"holePercentage",void 0);a.__decorate([n.property({type:p.OthersCategory,json:{write:!0}})],d.prototype,
"othersCategory",void 0);a.__decorate([n.property({type:v.PieChartLegendOptions,json:{write:!0}})],d.prototype,"legendOptions",void 0);a.__decorate([n.property({type:z,json:{default:null,write:!0}})],d.prototype,"outline",void 0);a.__decorate([n.property({type:Number,cast:q.toPt,json:{write:!0}})],d.prototype,"size",void 0);a.__decorate([l.enumeration({pieChart:"pie-chart"})],d.prototype,"type",void 0);return d=a.__decorate([m.subclass("esri.renderers.PieChartRenderer")],d)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h,l){a.OthersCategory=class extends f.ClonableMixin(c.JSONSupport){constructor(){super(...arguments);this.color=new d([0,0,0,0]);this.label=null;this.threshold=0}};b.__decorate([q.property({type:d,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);b.__decorate([q.property({type:Number,range:{min:0,max:1},json:{write:!0}})],a.OthersCategory.prototype,"threshold",void 0);
a.OthersCategory=b.__decorate([l.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/PieChartLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){a.PieChartLegendOptions=
class extends d.ClonableMixin(f.JSONSupport){constructor(){super(...arguments);this.title=null}};b.__decorate([c.property({type:String,json:{write:!0}})],a.PieChartLegendOptions.prototype,"title",void 0);a.PieChartLegendOptions=b.__decorate([h.subclass("esri.renderers.support.PieChartLegendOptions")],a.PieChartLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/SimpleRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),
function(a,b,d,f,c,q,n,k,h,l){var m;f=m=class extends h.VisualVariablesMixin(k){constructor(w){super(w);this.symbol=this.label=this.description=null;this.type="simple"}async collectRequiredFields(w,r){await Promise.all([this.collectSymbolFields(w,r),this.collectVVRequiredFields(w,r)])}async collectSymbolFields(w,r){await Promise.all(this.getSymbols().map(e=>e.collectRequiredFields(w,r)))}getSymbol(w,r){return this.symbol}async getSymbolAsync(w,r){return this.symbol}getSymbols(){return this.symbol?
[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((w,r)=>w+r.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((w,r)=>w+=JSON.stringify(r),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new m({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:b.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};a.__decorate([d.property({type:String,
json:{write:!0}})],f.prototype,"description",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);a.__decorate([d.property(l.requiredRendererSymbolProperty)],f.prototype,"symbol",void 0);a.__decorate([q.enumeration({simple:"simple"})],f.prototype,"type",void 0);return f=m=a.__decorate([n.subclass("esri.renderers.SimpleRenderer")],f)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/object ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValue ./support/UniqueValueClass ./support/UniqueValueGroup ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E,J,F,G){function M(N){const {field1:K,field2:O,field3:R,fieldDelimiter:V,uniqueValueInfos:ma,valueExpression:ca}=N,ua=!(!K||!O);return[{classes:(ma??[]).map(Aa=>{const {symbol:Ma,label:Ga,value:Qa,description:qa}=Aa,[ha,aa,ja]=ua?Qa?.toString()?.split(V||"")||[]:[Qa];Aa=[];(K||ca)&&Aa.push(ha);O&&Aa.push(aa);R&&Aa.push(ja);return{symbol:Ma,label:Ga,values:[Aa],description:qa}})}]}var L;const T=g.ensureType(D);u=L=class extends x.VisualVariablesMixin(u){constructor(N){super(N);
this._valueInfoMap={};this._isDefaultSymbolDerived=!1;this._isInfosSource=null;this.type="unique-value";this.backgroundFillSymbol=null;this.orderByClassesEnabled=!1;this.styleOrigin=this.portal=this.defaultLabel=this.legendOptions=this.valueExpressionTitle=null;this.diff={uniqueValueInfos(K,O){if(K||O){if(!K||!O)return{type:"complete",oldValue:K,newValue:O};var R=!1,V={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let ma=0;ma<O.length;ma++){const ca=K.find(ua=>ua.value===O[ma].value);
ca?e.diff(ca,O[ma])?(V.changed.push({type:"complete",oldValue:ca,newValue:O[ma]}),R=!0):V.unchanged.push({oldValue:ca,newValue:O[ma]}):(V.added.push(O[ma]),R=!0)}for(let ma=0;ma<K.length;ma++)O.find(ca=>ca.value===K[ma].value)||(V.removed.push(K[ma]),R=!0);return R?V:void 0}}};this._set("uniqueValueInfos",[]);this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(N){this._set("field",N);this._updateFieldDelimiter();this._updateUniqueValues()}castField(N){return null==N||
"function"===typeof N?N:g.ensureString(N)}writeField(N,K,O,R){"string"===typeof N?K[O]=N:R?.messages?R.messages.push(new d("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):c.getLogger("esri.renderers.UniqueValueRenderer").error(".field: cannot write field to JSON since it's not a string value")}set field2(N){this._set("field2",N);this._updateFieldDelimiter();this._updateUniqueValues()}set field3(N){this._set("field3",N);this._updateUniqueValues()}set valueExpression(N){this._set("valueExpression",
N);this._updateUniqueValues()}set defaultSymbol(N){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",N)}set fieldDelimiter(N){this._set("fieldDelimiter",N);this._updateUniqueValues()}readPortal(N,K,O){return O.portal||v.getDefault()}readStyleOrigin(N,K,O){if(K.styleName)return Object.freeze({styleName:K.styleName});if(K.styleUrl)return N=J.fromJSON(K.styleUrl,O),Object.freeze({styleUrl:N})}writeStyleOrigin(N,K,O,R){N.styleName?K.styleName=N.styleName:N.styleUrl&&(K.styleUrl=J.toJSON(N.styleUrl,
R))}set uniqueValueGroups(N){this.styleOrigin?c.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueGroups\x3d","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",N),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(N){this.styleOrigin?c.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):
(this._set("uniqueValueInfos",N),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(N,K){this.styleOrigin?c.getLogger("esri.renderers.UniqueValueRenderer").error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(N="object"===typeof N?T(N):new D({value:N,symbol:b.ensureType(K)}),this.uniqueValueInfos?.push(N),this._valueInfoMap[N.value]=N,this._updateGroupsFromInfos(),
this._isInfosSource=!0,this._watchUniqueValueInfos())}removeUniqueValueInfo(N){if(this.styleOrigin)c.getLogger("esri.renderers.UniqueValueRenderer").error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else{var K=this.uniqueValueInfos;if(K)for(let O=0;O<K.length;O++)if(String(K[O].value)===String(N)){delete this._valueInfoMap[N];K.splice(O,1);break}this._updateGroupsFromInfos();this._isInfosSource=!0;this._watchUniqueValueInfos()}}async getUniqueValueInfo(N,
K){let O=K;this.valueExpression&&null==K?.arcade&&(O={...O,arcade:await E.loadArcade()});return this._getUniqueValueInfo(N,O)}getSymbol(N,K){if(this.valueExpression&&null==K?.arcade)c.getLogger("esri.renderers.UniqueValueRenderer").error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return this._getUniqueValueInfo(N,K)?.symbol||this.defaultSymbol}async getSymbolAsync(N,K){if(this.valueExpression&&null==K?.arcade){const O=await E.loadArcade(),{arcadeUtils:R}=O;R.hasGeometryOperations(this.valueExpression)&&
await R.enableGeometryOperations();K={...K,arcade:O}}return this._getUniqueValueInfo(N,K)?.symbol||this.defaultSymbol}getSymbols(){const N=[];for(const K of this.uniqueValueInfos??[])K.symbol&&N.push(K.symbol);this.defaultSymbol&&N.push(this.defaultSymbol);return N}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((N,K)=>N+K.getAttributeHash(),"")}getMeshHash(){const N=JSON.stringify(this.backgroundFillSymbol),K=JSON.stringify(this.defaultSymbol),O=this.uniqueValueInfos?.reduce((R,
V)=>R+V.getMeshHash(),"");return`${N}.${K}.${O}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const N=new L({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:f.clone(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:f.clone(this.visualVariables),
legendOptions:f.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:f.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(N._isDefaultSymbolDerived=!0);N._set("portal",this.portal);const K=f.clone(this.uniqueValueInfos),O=f.clone(this.uniqueValueGroups);this.styleOrigin&&(N._set("styleOrigin",Object.freeze(f.clone(this.styleOrigin))),Object.freeze(K),Object.freeze(O));N._set("uniqueValueInfos",K);N._updateValueInfoMap();N._set("uniqueValueGroups",
O);N._isInfosSource=this._isInfosSource;N._watchUniqueValueInfosAndGroups();return N}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(N,K){N=[this.collectVVRequiredFields(N,K),this.collectSymbolFields(N,K)];await Promise.all(N)}async collectSymbolFields(N,K){const O=[...this.getSymbols().map(R=>R.collectRequiredFields(N,K)),p.collectArcadeFieldNames(N,K,this.valueExpression)];p.collectField(N,K,this.field);p.collectField(N,K,this.field2);
p.collectField(N,K,this.field3);await Promise.all(O)}populateFromStyle(){return F.fetchStyle(this.styleOrigin,{portal:this.portal}).then(N=>{const K=[];this._valueInfoMap={};N&&N.data&&Array.isArray(N.data.items)&&N.data.items.forEach(O=>{var R=new G({styleUrl:N.styleUrl,styleName:N.styleName,portal:this.portal,name:O.name});this.defaultSymbol||O.name!==N.data.defaultItem||(this.defaultSymbol=R,this._isDefaultSymbolDerived=!0);R=new D({value:O.name,symbol:R});K.push(R);this._valueInfoMap[O.name]=
R});this._set("uniqueValueInfos",Object.freeze(K));this._updateGroupsFromInfos(!0);this._isInfosSource=null;this._watchUniqueValueInfos();!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap=
{};const {uniqueValueInfos:N}=this;if(N)for(const K of N)this._valueInfoMap[K.value+""]=K}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos();this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles("uvInfos-watcher");const {uniqueValueInfos:N}=this;if(N){const K=[];for(const O of N)K.push(n.watch(()=>({symbol:O.symbol,value:O.value,label:O.label,description:O.description}),(R,V)=>{R!==V&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(K,
"uvInfos-watcher")}}_watchUniqueValueGroups(){this.removeHandles("uvGroups-watcher");const {uniqueValueGroups:N}=this;if(N){const K=[];for(const O of N){K.push(n.watch(()=>({classes:O.classes}),(R,V)=>{R!==V&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const R of O.classes??[])K.push(n.watch(()=>({symbol:R.symbol,values:R.values,label:R.label,description:R.description}),(V,ma)=>{V!==ma&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(K,
"uvGroups-watcher")}}_updateInfosFromGroups(){if(this.uniqueValueGroups){var N=[],{field:K,field2:O,field3:R,fieldDelimiter:V,uniqueValueGroups:ma,valueExpression:ca}=this;if(K||ca){var ua=!(!K||!O);for(const Ma of ma)for(const Ga of Ma.classes??[]){const {symbol:Qa,label:qa,values:ha,description:aa}=Ga;for(const ja of ha??[]){const {value:sa,value2:H,value3:Q}=ja;var Aa=[sa];O&&Aa.push(H);R&&Aa.push(Q);Aa=ua?Aa.join(V||""):Aa[0];N.push(new D({symbol:Qa,label:qa,value:Aa,description:aa}))}}}this._set("uniqueValueInfos",
N)}else this._set("uniqueValueInfos",null);this._updateValueInfoMap();this._watchUniqueValueInfos()}_updateGroupsFromInfos(N=!1){if(this.uniqueValueInfos){var {field:K,field2:O,valueExpression:R,fieldDelimiter:V,uniqueValueInfos:ma}=this;if((K||R)&&ma.length){var ca=!(!K||!O),ua=ma.map(Aa=>{const {symbol:Ma,label:Ga,value:Qa,description:qa}=Aa,[ha,aa,ja]=ca?Qa?.toString()?.split(V||"")||[]:[Qa];return new B({symbol:Ma,label:Ga,description:qa,values:[new y({value:ha,value2:aa,value3:ja})]})});ua=[new A({classes:ua})];
N&&Object.freeze(ua);this._set("uniqueValueGroups",ua)}else this._set("uniqueValueGroups",[])}else this._set("uniqueValueGroups",null);this._watchUniqueValueGroups()}_getUniqueValueInfo(N,K){return this.valueExpression?this._getUnqiueValueInfoForExpression(N,K):this._getUnqiueValueInfoForFields(N)}_getUnqiueValueInfoForExpression(N,K){const {viewingMode:O,scale:R,spatialReference:V,arcade:ma,timeZone:ca}=K??{};var ua=this._cache.compiledFunc;K=ma.arcadeUtils;ua||(ua=K.createSyntaxTree(this.valueExpression),
ua=K.createFunction(ua),this._cache.compiledFunc=ua);N=K.executeFunction(ua,K.createExecContext(N,K.getViewInfo({viewingMode:O,scale:R,spatialReference:V}),ca));return this._valueInfoMap[N+""]}_getUnqiueValueInfoForFields(N){const K=this.field,O=N.attributes;if("function"!==typeof K&&this.field2){N=this.field2;var R=this.field3;const V=[];K&&V.push(O[K]);N&&V.push(O[N]);R&&V.push(O[R]);R=V.join(this.fieldDelimiter||"")}else"function"===typeof K?R=K(N):K&&(R=O[K]);return this._valueInfoMap[R+""]}static fromPortalStyle(N,
K){const O=new L(K?.properties);O._set("styleOrigin",Object.freeze({styleName:N}));O._set("portal",K?.portal||v.getDefault());K=O.populateFromStyle();K.catch(R=>{c.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromPortalStyle('${N}'[, ...])`,"Failed to create unique value renderer from style name",R)});return K}static fromStyleUrl(N,K){K=new L(K?.properties);K._set("styleOrigin",Object.freeze({styleUrl:N}));K=K.populateFromStyle();K.catch(O=>{c.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromStyleUrl('${N}'[, ...])`,
"Failed to create unique value renderer from style URL",O)});return K}};a.__decorate([k.property({readOnly:!0})],u.prototype,"_cache",null);a.__decorate([l.enumeration({uniqueValue:"unique-value"})],u.prototype,"type",void 0);a.__decorate([k.property(z.rendererBackgroundFillSymbolProperty)],u.prototype,"backgroundFillSymbol",void 0);a.__decorate([k.property({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],u.prototype,"field",null);a.__decorate([h.cast("field")],u.prototype,
"castField",null);a.__decorate([r.writer("field")],u.prototype,"writeField",null);a.__decorate([k.property({type:String,value:null,json:{write:!0}})],u.prototype,"field2",null);a.__decorate([k.property({type:String,value:null,json:{write:!0}})],u.prototype,"field3",null);a.__decorate([k.property({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],u.prototype,"orderByClassesEnabled",void 0);a.__decorate([k.property({type:String,value:null,json:{write:!0}})],
u.prototype,"valueExpression",null);a.__decorate([k.property({type:String,json:{write:!0}})],u.prototype,"valueExpressionTitle",void 0);a.__decorate([k.property({type:t.LegendOptions,json:{write:!0}})],u.prototype,"legendOptions",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],u.prototype,"defaultLabel",void 0);a.__decorate([k.property(q.deepMerge({...z.rendererSymbolProperty},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],
u.prototype,"defaultSymbol",null);a.__decorate([k.property({type:String,value:null,json:{write:!0}})],u.prototype,"fieldDelimiter",null);a.__decorate([k.property({type:v,readOnly:!0})],u.prototype,"portal",void 0);a.__decorate([m.reader("portal",["styleName"])],u.prototype,"readPortal",null);a.__decorate([k.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],u.prototype,"styleOrigin",void 0);a.__decorate([m.reader("styleOrigin",["styleName","styleUrl"])],u.prototype,
"readStyleOrigin",null);a.__decorate([r.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],u.prototype,"writeStyleOrigin",null);a.__decorate([k.property({type:[A],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(N,K,O)=>(K.uniqueValueGroups||M(K)).map(R=>A.fromJSON(R,O))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],u.prototype,"uniqueValueGroups",null);a.__decorate([k.property({type:[D],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?
{enabled:!1}:{enabled:!0}}}}})],u.prototype,"uniqueValueInfos",null);return u=L=a.__decorate([w.subclass("esri.renderers.UniqueValueRenderer")],u)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","./utils"],function(a,b,d,f){function c(e){return e instanceof d?Object.keys(e.items):e instanceof b?f.getProperties(e).keys():e?Object.keys(e):[]}function q(e,g){return e instanceof d?e.items[g]:e[g]}function n(e,g){return Array.isArray(e)&&Array.isArray(g)?
e.length!==g.length:!1}function k(e){return e?e.declaredClass:null}function h(e,g){const p=e.diff;if(p&&"function"===typeof p)return p(e,g);const v=c(e),u=c(g);if(0!==v.length||0!==u.length){if(!v.length||!u.length||n(e,g))return{type:"complete",oldValue:e,newValue:g};var x=u.filter(y=>!v.includes(y)),z=v.filter(y=>!u.includes(y));z=v.filter(y=>u.includes(y)&&q(e,y)!==q(g,y)).concat(x,z).sort();if((x=k(e))&&r.has(x)&&z.length)return{type:"complete",oldValue:e,newValue:g};var t;x=e instanceof b&&g instanceof
b;for(const y of z){z=q(e,y);const B=q(g,y);if((x||"function"!==typeof z&&"function"!==typeof B)&&z!==B&&(null!=z||null!=B)){if(p&&p[y]&&"function"===typeof p[y])z=p[y]?.(z,B);else if(z instanceof Date&&B instanceof Date){if(z.getTime()===B.getTime())continue;z={type:"complete",oldValue:z,newValue:B}}else z="object"===typeof z&&"object"===typeof B&&k(z)===k(B)?h(z,B):{type:"complete",oldValue:z,newValue:B};null!=z&&(null!=t?t.diff[y]=z:t={type:"partial",diff:{[y]:z}})}}return t}}function l(e,g){if(null==
e)return!1;g=g.split(".");for(const p of g){if("complete"===e.type)break;if("partial"===e.type){if(e=e.diff[p],!e)return!1}else return!1}return!0}function m(e,g){for(const p of g)if(l(e,p))return!0;return!1}function w(e){if(null==e)return!0;switch(e.type){case "complete":return!1;case "collection":for(const g of e.added)if(!w(g))return!1;for(const g of e.removed)if(!w(g))return!1;for(const g of e.changed)if(!w(g))return!1;return!0;case "partial":for(const g in e.diff)if(!w(e.diff[g]))return!1;return!0}}
const r=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);a.diff=function(e,g){if("function"!==typeof e&&"function"!==typeof g&&(null!=e||null!=g))return null==e||null==g||"object"===typeof e&&"object"===typeof g&&k(e)!==k(g)?{type:"complete",oldValue:e,newValue:g}:h(e,g)};a.hasDiff=l;a.hasDiffAny=m;a.hasRootDiff=function(e,g){return l(e,g)};a.hasRootDiffAny=function(e,g){return m(e,g)};a.hasRootDiffOnly=function(e,
g){return e?"partial"===e.type?(e=Object.keys(e.diff),1===e.length&&e[0]===g):!1:!1};a.isEmpty=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/UniqueValue":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,d,f,c,q,n,k,h){b=class extends b.ClonableMixin(d.JSONSupport){constructor(l){super(l);
this.value3=this.value2=this.value=null}};a.__decorate([f.property(h.uniqueValueProperty)],b.prototype,"value",void 0);a.__decorate([f.property(h.uniqueValueProperty)],b.prototype,"value2",void 0);a.__decorate([f.property(h.uniqueValueProperty)],b.prototype,"value3",void 0);return b=a.__decorate([k.subclass("esri.renderers.support.UniqueValue")],b)})},"esri/renderers/support/UniqueValueClass":function(){define("../../chunks/tslib.es6 ../../core/arrayUtils ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties ./UniqueValue".split(" "),
function(a,b,d,f,c,q,n,k,h,l){d=class extends d.ClonableMixin(f.JSONSupport){constructor(m){super(m);this.values=this.symbol=this.label=this.description=null}castValues(m){if(null==m)return null;m=Array.isArray(m)?m:[m];const w=typeof m[0];return"string"===w||"number"===w?m.map(r=>new l({value:r})):"object"===w?m[0]instanceof l?m:m.map(r=>new l(r)):null}};a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],
d.prototype,"label",void 0);a.__decorate([c.property(h.rendererSymbolProperty)],d.prototype,"symbol",void 0);a.__decorate([c.property({type:[l],json:{type:[[String]],read:{reader:m=>m?m.map(w=>new l({value:w[0],value2:w[1],value3:w[2]})):null},write:{writer:(m,w)=>{const r=[];for(const e of m)m=[e.value,e.value2,e.value3].filter(b.isSome).map(g=>g.toString()),r.push(m);w.values=r}}}})],d.prototype,"values",void 0);a.__decorate([q.cast("values")],d.prototype,"castValues",null);return d=a.__decorate([k.subclass("esri.renderers.support.UniqueValueClass")],
d)})},"esri/renderers/support/UniqueValueGroup":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./UniqueValueClass".split(" "),function(a,b,d,f,c,q,n,k,h){b=class extends b.ClonableMixin(d.JSONSupport){constructor(l){super(l);this.classes=this.heading=null}};a.__decorate([f.property({type:String,json:{write:!0}})],
b.prototype,"heading",void 0);a.__decorate([f.property({type:[h],json:{write:!0}})],b.prototype,"classes",void 0);return b=a.__decorate([k.subclass("esri.renderers.support.UniqueValueGroup")],b)})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,d,f,c,
q,n,k){var h;b=h=class extends b.JSONSupport{constructor(l){super(l);this.value=this.symbol=this.label=this.description=null}clone(){return new h({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const l=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${l}`}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,
"label",void 0);a.__decorate([d.property(k.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);a.__decorate([d.property(k.uniqueValueProperty)],b.prototype,"value",void 0);return b=h=a.__decorate([n.subclass("esri.renderers.support.UniqueValueInfo")],b)})},"esri/symbols/support/styleUtils":function(){define("exports ../../request ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),function(a,
b,d,f,c,q,n,k){async function h(r,e){try{return{data:(await w(r,e)).data,baseUrl:c.removeFile(r),styleUrl:r}}catch(g){return f.throwIfAbortError(g),null}}function l(r,e,g){e=null!=e.portal?e.portal:q.getDefault();let p;const v=`${e.url} - ${e.user&&e.user.username} - ${r}`;a.cachedStyles[v]||(a.cachedStyles[v]=m(r,e,g).then(u=>{p=u;return u.fetchData()}).then(u=>({data:u,baseUrl:p.itemUrl??"",styleName:r})));return a.cachedStyles[v]}function m(r,e,g){return e.load(g).then(()=>{const p=new n({disableExtraQuery:!0,
query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${r}"`});return e.queryItems(p,g)}).then(({results:p})=>{let v=null;const u=r.toLowerCase();if(p&&Array.isArray(p))for(const x of p)if(x.typeKeywords?.some(z=>z.toLowerCase()===u)&&"Style"===x.type&&"esri_en"===x.owner){v=x;break}if(!v)throw new d("symbolstyleutils:style-not-found",`The style '${r}' could not be found`,{styleName:r});return v.load(g)})}function w(r,e){e={responseType:"json",query:{f:"json"},...e};return b(c.normalize(r),
e)}a.cachedStyles={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.cleanupStyleUtilsCache=function(){a.cachedStyles&&(a.cachedStyles={})};a.fetchStyle=function(r,e,g){return null!=r?.styleUrl?h(r.styleUrl,g):null!=r?.styleName?l(r.styleName,e,g):Promise.reject(new d("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};a.makeCIMSymbolRef=
function(r){return null===r||"CIMSymbolReference"===r.type?r:{type:"CIMSymbolReference",symbol:r}};a.requestJSON=w;a.symbolUrlFromStyleItem=function(r,e,g=["gltf"]){if("cimRef"===e)return r.cimRef;if(r.formatInfos&&!k.enableWebStyleForceWOSR())for(const p of g)if(e=r.formatInfos.find(v=>v.type===p))return e.href;return r.webRef};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,b){const d=()=>b.add("enable-feature:direct-3d-object-feature-layer-display",
!0,!0,!0),f=()=>b.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),c=()=>b.add("enable-i3s-patching",!0,!0,!0),q=()=>b.add("enable-i3s-patching",!1,!0,!0),n=(k="i3s-patching")=>{q();f();b.add("enable-feature:SceneLayer-editing",!0,!0,!0);switch(k){case "feature-layer-view":d();break;case "i3s-patching":c()}};n("i3s-patching");a.direct3DObjectFeatureLayerDisplayEnabled=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");a.disableDirect3DObjectFeatureLayerDisplay=f;
a.disableI3SPatching=q;a.disableIDBCache=()=>b.add("disable-feature:idb-cache",!0,!0,!0);a.disableSceneLayerEditing=()=>{q();f();b.add("enable-feature:SceneLayer-editing",!1,!0,!0)};a.enableDirect3DObjectFeatureLayerDisplay=d;a.enableI3SPatching=c;a.enableSceneLayerEditing=n;a.enableWebStyleForceWOSR=()=>!!b("enable-feature:force-wosr");a.i3sPatchingEnabled=()=>!!b("enable-i3s-patching");a.sceneLayerEditingEnabled=()=>!!b("enable-feature:SceneLayer-editing");Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,d,f){function c(n,k,h){return n?n&&(n.styleName||n.styleUrl)&&"uniqueValue"!==n.type?(h?.messages&&h.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+n.type+"'",{definition:n,context:h})),null):q(n,k,h):null}const q=d.createTypeReader({types:f.rendererTypes});
a.fromJSON=function(n,k){return c(n,null,k)};a.read=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/types":function(){define("exports ../../core/Logger ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,d,f,c,q,n,k,h,l){function m(e){const g=e.uniqueValueInfos,p=g?.filter(({symbol:v,label:u},x)=>{v||b.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${x}] ${u}) without a symbol from web scene.`);
return!!v});p?.length!==g?.length&&(e.uniqueValueInfos=p);return e}function w(e){const g=e.classBreakInfos,p=g?.filter(({symbol:v,label:u},x)=>{v||b.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${x}] ${u}) without a symbol from web scene.`);return!!v});p?.length!==g?.length&&(e.classBreakInfos=p);return e}const r={key:"type",base:k,typeMap:{simple:h,"unique-value":l,"class-breaks":d,heatmap:q},errorContext:"renderer",validate:function(e){switch(e.type){case "simple":return e.symbol||
(b.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene."),e=void 0),e;case "unique-value":return m(e);case "class-breaks":return w(e);case "heatmap":return e}}};a.rendererTypes={key:"type",base:k,typeMap:{heatmap:q,simple:h,"unique-value":l,"class-breaks":d,"dot-density":c,dictionary:f,"pie-chart":n},errorContext:"renderer"};a.webSceneRendererTypes=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/get ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h){const l=w=>{w=class extends w{constructor(...r){super(...r)}clear(r,e="user"){return n.getProperties(this).store.delete(r,q.nameToId(e))}write(r,e){r=r||{};k.write(this,r,e);return r}setAtOrigin(r,e,g){n.getProperties(this).setAtOrigin(r,e,q.nameToId(g))}removeOrigin(r){const e=n.getProperties(this).store;r=q.nameToId(r);const g=e.keys(r);for(const p of g)e.originOf(p)===r&&e.set(p,e.get(p,r),q.OriginId.USER)}updateOrigin(r,e){const g=n.getProperties(this).store;e=q.nameToId(e);
const p=c.get(this,r);for(let v=e+1;v<q.originIdNum;++v)g.delete(r,v);g.set(r,p,e)}toJSON(r){return this.write({},r)}};w=b.__decorate([h.subclass("esri.core.WriteableMultiOriginJSONSupport")],w);w.prototype.toJSON.isDefaultToJSON=!0;return w},m=w=>{w=class extends l(f.ReadOnlyMultiOriginJSONMixin(w)){constructor(...r){super(...r)}};return w=b.__decorate([h.subclass("esri.core.MultiOriginJSONSupport")],w)};a.MultiOriginJSONSupport=class extends m(d){};a.MultiOriginJSONSupport=b.__decorate([h.subclass("esri.core.MultiOriginJSONSupport")],
a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){const l=m=>{m=class extends m{constructor(...w){super(...w);
w=k.getProperties(this);const r=w.store,e=new c;w.store=e;f.setupConstructedDefaults(w,r,e)}read(w,r){n.read(this,w,r)}getAtOrigin(w,r){const e=k.getProperties(this).store,g=q.nameToId(r);if("string"===typeof w)return e.get(w,g);const p={};w.forEach(v=>{p[v]=e.get(v,g)});return p}originOf(w){return q.idToName(this.originIdOf(w))}originIdOf(w){return k.getProperties(this).store.originOf(w)}revert(w,r){const e=k.getProperties(this).store,g=q.nameToId(r),p=k.getProperties(this);("string"===typeof w?
"*"===w?e.keys(g):[w]:w).forEach(v=>{p.invalidate(v);e.revert(v,g);p.commit(v)})}};return m=b.__decorate([h.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],m)};a.ReadOnlyMultiOriginJSONSupport=class extends l(d){};a.ReadOnlyMultiOriginJSONSupport=b.__decorate([h.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang",
"./PropertyOrigin"],function(a,b){class d{constructor(){this._propertyOriginMap=new Map;this._originStores=Array(b.originIdNum);this._values=new Map;this.multipleOriginsSupported=!0}clone(f){const c=new d;var q=this._originStores[b.OriginId.DEFAULTS];q&&q.forEach((n,k)=>{c.set(k,a.clone(n),b.OriginId.DEFAULTS)});for(let n=b.OriginId.SERVICE;n<b.originIdNum;n++)(q=this._originStores[n])&&q.forEach((k,h)=>{f&&f.has(h)||c.set(h,a.clone(k),n)});return c}get(f,c){return(c=void 0===c?this._values:this._originStores[c])?
c.get(f):void 0}keys(f){return(f=null==f?this._values:this._originStores[f])?[...f.keys()]:[]}set(f,c,q=b.OriginId.USER){var n=this._originStores[q];n||(n=new Map,this._originStores[q]=n);n.set(f,c);return!this._values.has(f)||this._propertyOriginMap.get(f)<=q?(n=this._values.get(f),this._values.set(f,c),this._propertyOriginMap.set(f,q),n!==c):!1}delete(f,c=b.OriginId.USER){var q=this._originStores[c];if(q){var n=q.get(f);q.delete(f);if(this._values.has(f)&&this._propertyOriginMap.get(f)===c)for(this._values.delete(f),
--c;0<=c;c--)if((q=this._originStores[c])&&q.has(f)){this._values.set(f,q.get(f));this._propertyOriginMap.set(f,c);break}return n}}has(f,c){return(c=void 0===c?this._values:this._originStores[c])?c.has(f):!1}revert(f,c){for(;0<c&&!this.has(f,c);)--c;const q=this._originStores[c]?.get(f),n=this._values.get(f);this._values.set(f,q);this._propertyOriginMap.set(f,c);return n!==q}originOf(f){return this._propertyOriginMap.get(f)||b.OriginId.DEFAULTS}forEach(f){this._values.forEach(f)}}return d})},"esri/form/FormTemplate":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;const r=m.buildTypeMaps(l);b=w=class extends b.JSONSupport{constructor(e){super(e);this.expressionInfos=this.elements=this.description=null;this.preserveFieldValuesWhenHidden=!1;this.title=null}castElements(e){return m.ensureType(e,r)}readElements(e,g){return m.fromJSON(g.formElements,r)}writeElements(e,g){g.formElements=m.toJSON(e,r)}clone(){return new w({description:this.description,expressionInfos:d.clone(this.expressionInfos),elements:d.clone(this.elements),
title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"elements",void 0);a.__decorate([c.cast("elements")],b.prototype,"castElements",null);a.__decorate([q.reader("elements",["formElements"])],b.prototype,"readElements",null);a.__decorate([k.writer("elements")],b.prototype,"writeElements",null);a.__decorate([f.property({type:[h],
json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"preserveFieldValuesWhenHidden",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=w=a.__decorate([n.subclass("esri.form.FormTemplate")],b)})},"esri/form/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(h){super(h);this.name=this.expression=null;this.returnType="boolean";this.title=null}clone(){return new k({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({type:["boolean","date","number",
"string"],json:{write:!0}})],b.prototype,"returnType",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=k=a.__decorate([n.subclass("esri.form.ExpressionInfo")],b)})},"esri/form/elements/GroupElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;k=l=class extends k{constructor(w){super(w);this.elements=null;this.initialState="expanded";this.type="group"}castElements(w){return h.ensureType(w,m,!1)}readElements(w,r){return h.fromJSON(r.formElements,m,!1)}writeElements(w,r){r.formElements=h.toJSON(w,m,!1)}clone(){return new l({description:this.description,elements:b.clone(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};a.__decorate([d.property({json:{write:!0}})],
k.prototype,"elements",void 0);a.__decorate([f.cast("elements")],k.prototype,"castElements",null);a.__decorate([c.reader("elements",["formElements"])],k.prototype,"readElements",null);a.__decorate([n.writer("elements")],k.prototype,"writeElements",null);a.__decorate([d.property({type:["collapsed","expanded"],json:{write:!0}})],k.prototype,"initialState",void 0);a.__decorate([d.property({type:String,json:{read:!1,write:!0}})],k.prototype,"type",void 0);k=l=a.__decorate([q.subclass("esri.form.elements.GroupElement")],
k);const m=h.buildTypeMaps(k);return k})},"esri/form/elements/Element":function(){define(["../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,d,f){b=class extends b.JSONSupport{constructor(c){super(c);this.visibilityExpression=this.type=this.label=this.description=null}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({type:String,
json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([d.property()],b.prototype,"type",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"visibilityExpression",void 0);return b=a.__decorate([f.subclass("esri.form.elements.Element")],b)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement ../elements/TextElement".split(" "),
function(a,b,d,f,c,q,n){a.buildTypeMaps=function(k){return{typesWithGroup:{base:f,key:"type",typeMap:{attachment:d,field:c,group:k,relationship:q,text:n}},typesWithoutGroup:{base:f,key:"type",typeMap:{attachment:d,field:c,relationship:q,text:n}}}};a.ensureType=function(k,h,l=!0){return k?k.map(m=>b.ensureOneOfType(l?h.typesWithGroup:h.typesWithoutGroup,m)):null};a.fromJSON=function(k,h,l=!0){if(!k)return null;const m=l?h.typesWithGroup.typeMap:h.typesWithoutGroup.typeMap;return k.filter(w=>m[w.type]).map(w=>
m[w.type].fromJSON(w))};a.toJSON=function(k,h,l=!0){if(!k)return null;const m=l?h.typesWithGroup.typeMap:h.typesWithoutGroup.typeMap;return k.filter(w=>m[w.type]).map(w=>w.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element ./inputs/AttachmentInput".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends n{constructor(l){super(l);this.input=this.editableExpression=this.attachmentKeyword=null;this.type="attachment"}clone(){return new h({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"attachmentKeyword",void 0);a.__decorate([b.property({type:String,
json:{write:!0}})],d.prototype,"editableExpression",void 0);a.__decorate([b.property({type:k,json:{read:{source:"inputType"},write:{target:"inputType"}}})],d.prototype,"input",void 0);a.__decorate([b.property({type:["attachment"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=h=a.__decorate([q.subclass("esri.form.elements.AttachmentElement")],d)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(h){super(h);this.type=null}clone(){return new k({type:this.type})}};a.__decorate([d.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],b.prototype,"type",void 0);return b=k=a.__decorate([n.subclass("esri.form.elements.inputs.AttachmentInput")],b)})},"esri/form/elements/FieldElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;d=l=class extends n{constructor(m){super(m);this.requiredExpression=this.input=this.hint=this.fieldName=this.editableExpression=this.domain=null;this.type="field";this.valueExpression=null}get editable(){return this._get("editable")??!0}set editable(m){this._set("editable",m)}clone(){return new l({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,
label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({types:h.types,json:{read:{reader:h.fromJSON},write:!0}})],d.prototype,"domain",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"editable",null);a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"editableExpression",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],
d.prototype,"fieldName",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"hint",void 0);a.__decorate([b.property({types:k.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],d.prototype,"input",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"requiredExpression",void 0);a.__decorate([b.property({type:String,json:{read:!1,write:!0}})],d.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,
"valueExpression",void 0);return d=l=a.__decorate([q.subclass("esri.form.elements.FieldElement")],d)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DatePickerInput ../inputs/DateTimeOffsetPickerInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput ../inputs/TimePickerInput".split(" "),function(a,b,d,f,c,q,n,k,h,l,m,w){a.types=
{base:n,key:"type",typeMap:{"barcode-scanner":b,"combo-box":d,"date-picker":f,"datetime-picker":q,"datetimeoffset-picker":c,"radio-buttons":k,switch:h,"text-area":l,"text-box":m,"time-picker":w}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.type="barcode-scanner"}clone(){return new k({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.form.elements.inputs.BarcodeScannerInput")],d)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,d,f,c,q,n){d=class extends n{constructor(k){super(k);this.maxLength=null;this.minLength=0}};a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"maxLength",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"minLength",void 0);return d=a.__decorate([q.subclass("esri.form.elements.inputs.TextInput")],d)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){b=class extends b.JSONSupport{constructor(k){super(k);this.type=null}};a.__decorate([d.property()],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.form.elements.inputs.Input")],b)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,
b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="combo-box"}clone(){return new k({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["combo-box"],json:{read:!1,
write:!0}})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.form.elements.inputs.ComboBoxInput")],d)})},"esri/form/elements/inputs/DatePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,
b,d,f,c,q,n,k,h){var l;d=l=class extends h{constructor(m){super(m);this.min=this.max=null;this.type="date-picker"}readMax(m,w){m=w.max;return null!=m?m:null}writeMax(m,w){w.max=null!=m?m:null}readMin(m,w){m=w.min;return null!=m?m:null}writeMin(m,w){w.min=null!=m?m:null}clone(){return new l({max:this.max,min:this.min})}};a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0);a.__decorate([q.reader("max")],d.prototype,"readMax",null);a.__decorate([k.writer("max")],
d.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0);a.__decorate([q.reader("min")],d.prototype,"readMin",null);a.__decorate([k.writer("min")],d.prototype,"writeMin",null);a.__decorate([b.property({type:["date-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=l=a.__decorate([n.subclass("esri.form.elements.inputs.DatePickerInput")],d)})},"esri/form/elements/inputs/DateTimeOffsetPickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,d,f,c,q,n,k,h){function l(w){return null!=w?w:null}var m;d=m=class extends h{constructor(w){super(w);this.includeTimeOffset=!0;this.min=this.max=null;this.timeResolution="minutes";this.type="datetimeoffset-picker"}readMax(w,r){return l(r.max)}writeMax(w,r){r.max=null!=w?w:null}readMin(w,r){return l(r.min)}writeMin(w,r){r.min=null!=w?w:null}readTimeResolution(w,r){return l(r.timeResolution)}writeTimeResolution(w,r){r.timeResolution=null!=w?w:null}clone(){return new m({includeTimeOffset:this.includeTimeOffset,
max:this.max,min:this.min,timeResolution:this.timeResolution})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"includeTimeOffset",void 0);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0);a.__decorate([q.reader("max")],d.prototype,"readMax",null);a.__decorate([k.writer("max")],d.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0);a.__decorate([q.reader("min")],
d.prototype,"readMin",null);a.__decorate([k.writer("min")],d.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"timeResolution",void 0);a.__decorate([q.reader("timeResolution")],d.prototype,"readTimeResolution",null);a.__decorate([k.writer("timeResolution")],d.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=m=a.__decorate([n.subclass("esri.form.elements.inputs.DateTimeOffsetPickerInput")],
d)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,b,d,f,c,q,n,k,h){function l(w){return null!=w?new Date(w):null}var m;d=m=class extends h{constructor(w){super(w);
this.includeTime=!1;this.min=this.max=null;this.type="datetime-picker"}readMax(w,r){return l(r.max)}writeMax(w,r){r.max=w?w.getTime():null}readMin(w,r){return l(r.min)}writeMin(w,r){r.min=w?w.getTime():null}clone(){return new m({includeTime:this.includeTime,max:this.max,min:this.min})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"includeTime",void 0);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],d.prototype,"max",void 0);a.__decorate([q.reader("max")],
d.prototype,"readMax",null);a.__decorate([k.writer("max")],d.prototype,"writeMax",null);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],d.prototype,"min",void 0);a.__decorate([q.reader("min")],d.prototype,"readMin",null);a.__decorate([k.writer("min")],d.prototype,"writeMin",null);a.__decorate([b.property({type:["datetime-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=m=a.__decorate([n.subclass("esri.form.elements.inputs.DateTimePickerInput")],d)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="radio-buttons"}clone(){return new k({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["radio-buttons"],
json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.form.elements.inputs.RadioButtonsInput")],d)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.onValue=this.offValue=
null;this.type="switch"}clone(){return new k({offValue:this.offValue,onValue:this.onValue})}};a.__decorate([b.property({type:[String,Number],json:{write:!0}})],d.prototype,"offValue",void 0);a.__decorate([b.property({type:[String,Number],json:{write:!0}})],d.prototype,"onValue",void 0);a.__decorate([b.property({type:["switch"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.form.elements.inputs.SwitchInput")],d)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.type="text-area"}clone(){return new k({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-area"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.form.elements.inputs.TextAreaInput")],d)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.type="text-box"}clone(){return new k({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-box"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.form.elements.inputs.TextBoxInput")],d)})},"esri/form/elements/inputs/TimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,d,f,c,q,n,k,h){function l(w){return null!=w?w:null}var m;d=m=class extends h{constructor(w){super(w);this.min=this.max=null;this.timeResolution="minutes";this.type="time-picker"}readMax(w,r){return l(r.max)}writeMax(w,r){r.max=null!=w?w:null}readMin(w,r){return l(r.min)}writeMin(w,r){r.min=null!=w?w:null}readTimeResolution(w,r){return l(r.timeResolution)}writeTimeResolution(w,r){r.timeResolution=null!=w?w:null}clone(){return new m({max:this.max,min:this.min,timeResolution:this.timeResolution})}};
a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0);a.__decorate([q.reader("max")],d.prototype,"readMax",null);a.__decorate([k.writer("max")],d.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0);a.__decorate([q.reader("min")],d.prototype,"readMin",null);a.__decorate([k.writer("min")],d.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,
"timeResolution",void 0);a.__decorate([q.reader("timeResolution")],d.prototype,"readTimeResolution",null);a.__decorate([k.writer("timeResolution")],d.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["time-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=m=a.__decorate([n.subclass("esri.form.elements.inputs.TimePickerInput")],d)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,d,f,c,q){b={key:"type",base:f,typeMap:{range:q,"coded-value":d,inherited:c}};a.CodedValueDomain=d;a.DomainBase=f;a.InheritedDomain=c;a.RangeDomain=q;a.fromJSON=function(n){if(!n?.type)return null;switch(n.type){case "range":return q.fromJSON(n);case "codedValue":return d.fromJSON(n);case "inherited":return c.fromJSON(n)}return null};a.types=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;f=l=class extends h{constructor(m){super(m);this.codedValues=null;this.type="coded-value"}getName(m){let w=null;if(this.codedValues){const r=String(m);this.codedValues.some(e=>{String(e.code)===r&&(w=e.name);return!!w})}return w}clone(){return new l({codedValues:b.clone(this.codedValues),name:this.name})}};a.__decorate([d.property({type:[k.CodedValue],json:{write:!0}})],f.prototype,"codedValues",void 0);a.__decorate([q.enumeration({codedValue:"coded-value"})],f.prototype,
"type",void 0);return f=l=a.__decorate([n.subclass("esri.layers.support.CodedValueDomain")],f)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k){var h;a.CodedValue=h=class extends d.JSONSupport{constructor(l){super(l);this.code=this.name=null}clone(){return new h({name:this.name,
code:this.code})}};b.__decorate([f.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);b.__decorate([f.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=h=b.__decorate([k.subclass("esri.layers.support.CodedValue")],a.CodedValue);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h){b=new b.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});d=class extends d.JSONSupport{constructor(l){super(l);this.type=this.name=null}};a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);a.__decorate([k.enumeration(b)],d.prototype,"type",void 0);return d=a.__decorate([h.subclass("esri.layers.support.Domain")],d)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,d,f,c,q,n,k){var h;b=h=class extends k{constructor(l){super(l);this.type="inherited"}clone(){return new h}};a.__decorate([q.enumeration({inherited:"inherited"})],b.prototype,"type",void 0);return b=h=a.__decorate([n.subclass("esri.layers.support.InheritedDomain")],b)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends k{constructor(l){super(l);this.minValue=this.maxValue=null;this.type="range"}clone(){return new h({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};a.__decorate([b.property({json:{type:[Number],read:{source:"range",reader(l,m){return m.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(l,m,w){m[w]=[this.minValue||0,l]}}}})],d.prototype,"maxValue",void 0);a.__decorate([b.property({json:{type:[Number],
read:{source:"range",reader(l,m){return m.range?.[0]}},write:{target:"range",writer(l,m,w){m[w]=[l,this.maxValue||0]}}}})],d.prototype,"minValue",void 0);a.__decorate([q.enumeration({range:"range"})],d.prototype,"type",void 0);return d=h=a.__decorate([n.subclass("esri.layers.support.RangeDomain")],d)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,d,f,c,q,n,k){var h;f=h=class extends n{constructor(l){super(l);this.displayCount=null;this.displayType="list";this.relationshipId=this.orderByFields=this.editableExpression=null;this.type="relationship"}clone(){return new h({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:b.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};
a.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"displayCount",void 0);a.__decorate([d.property({type:["list"],json:{write:!0}})],f.prototype,"displayType",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"editableExpression",void 0);a.__decorate([d.property({type:[k],json:{write:!0}})],f.prototype,"orderByFields",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"relationshipId",void 0);a.__decorate([d.property({type:["relationship"],
json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=h=a.__decorate([q.subclass("esri.form.elements.RelationshipElement")],f)})},"esri/form/elements/TextElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element".split(" "),function(a,b,d,f,c,q,n){var k;d=k=class extends n{constructor(h){super(h);this.text=null;this.textFormat="plain-text";
this.type="text"}clone(){return new k({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"text",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"textFormat",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.form.elements.TextElement")],d)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y){let B=0;a.MemorySource=class extends k.LoadableMixin(l.EsriPromiseMixin(c)){constructor(A){super(A);this._idToClientGraphic=null;this.type="memory"}load(A){this.addResolvingPromise(this._startWorker(null!=A?A.signal:null));return Promise.resolve(this)}destroy(){this._connection?.close();this._connection=null}get _workerGeometryType(){const A=this.layer?.geometryType;return A?this._geometryTypeRequiresClientGraphicMapping(A)?"polygon":A:null}applyEdits(A){return this.load().then(()=>
this._applyEdits(A))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(A,D={}){await this.load(D);D=await this._connection.invoke("queryFeatures",A?A.toJSON():null,D);u.applyFeatureSetZUnitScaling(A,this.layer.spatialReference,D);A=x.fromJSON(D);if(!this._requiresClientGraphicMapping())return A;D=this.layer.objectIdField;for(const E of A.features){const J=this._idToClientGraphic.get(E.attributes[D]);J&&(E.geometry=J.geometry)}A.geometryType=this.layer.geometryType;
return A}async queryFeaturesJSON(A,D={}){if(this._requiresClientGraphicMapping())throw new q("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(D);D=await this._connection.invoke("queryFeatures",A?A.toJSON():null,D);u.applyFeatureSetZUnitScaling(A,this.layer.spatialReference,D);return D}queryFeatureCount(A,D={}){return this.load(D).then(()=>this._connection.invoke("queryFeatureCount",A?A.toJSON():null,D))}queryObjectIds(A,
D={}){return this.load(D).then(()=>this._connection.invoke("queryObjectIds",A?A.toJSON():null,D))}queryExtent(A,D={}){return this.load(D).then(()=>this._connection.invoke("queryExtent",A?A.toJSON():null,D)).then(E=>({count:E.count,extent:z.fromJSON(E.extent)}))}querySnapping(A,D={}){return this.load(D).then(()=>this._connection.invoke("querySnapping",A,D))}async _applyEdits(A){if(!this._connection)throw new q("feature-layer-source:edit-failure","Memory source not loaded");const D=this.layer.objectIdField;
let E=null;const J=[],F=[];await Promise.all([this._prepareClientMapping(A.addFeatures,null),this._prepareClientMapping(A.updateFeatures,null)]);const G=N=>"objectId"in N&&null!=N.objectId?N.objectId:"attributes"in N&&null!=N.attributes[D]?N.attributes[D]:null;A.addFeatures&&(E=this._prepareAddFeatures(A.addFeatures));if(A.deleteFeatures)for(var M of A.deleteFeatures){const N=G(M);null!=N&&J.push(N)}M=A.updateFeatures&&this._idToClientGraphic?new Map:null;if(A.updateFeatures)for(const N of A.updateFeatures)F.push(this._serializeFeature(N)),
M&&(A=G(N),null!=A&&M.set(A,N));v.unapplyEditsZUnitScaling(E?E.features:null,F,this.layer.spatialReference);const {fullExtent:L,featureEditResults:T}=await this._connection.invoke("applyEdits",{adds:E?E.features:[],updates:F,deletes:J});this.fullExtent=L;E&&E.finish(T.uidToObjectId);this._updateClientGraphicIds(M,T);return this._createEditsResult(T)}async _prepareClientMapping(A,D){if("mesh"===this._layerOrSourceGeometryType&&null!=A){var E=[];for(const {geometry:J}of A)null==J||"mesh"!==J.type||
J.hasExtent||J.loaded||E.push(J.load({signal:D}));E.length&&await Promise.all(E)}}_updateClientGraphicIds(A,D){if(this._idToClientGraphic){if(A)for(const E of D.updateResults){if(!E.success)continue;const J=A.get(E.objectId);null!=J&&this._addIdToClientGraphic(J)}for(const E of D.deleteResults)E.success&&this._idToClientGraphic.delete(E.objectId)}}_createEditsResult(A){return{addFeatureResults:A.addResults?A.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:A.updateResults?
A.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:A.deleteResults?A.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(A){const D=!0===A.success?null:A.error||{code:void 0,description:void 0};return{objectId:A.objectId,globalId:A.globalId,error:D?new q("feature-layer-source:edit-failure",D.description,{code:D.code}):null}}_prepareAddFeatures(A){const D=new Map,
E=Array(A.length);let J=null;for(let G=0;G<A.length;G++){const M=A[G],L=this._serializeFeature(M);J||null==M.geometry||(J=M.geometry.type);E[G]=L;D.set(`${L.uid}`,M)}const F=this;return{features:E,inferredGeometryType:J,finish(G){const M=F.sourceJSON.objectIdField;for(const L in G){const T=G[L],N=D.get(L);N&&(N.attributes||(N.attributes={}),-1===T?delete N.attributes[M]:N.attributes[M]=T,F._addIdToClientGraphic(N))}}}}_addIdToClientGraphic(A){if(this._idToClientGraphic){var D=this.sourceJSON.objectIdField;
D=A.attributes?.[D];null!=D&&this._idToClientGraphic.set(D,A)}}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(A){return this._geometryTypeRequiresClientGraphicMapping(A.type)}_geometryTypeRequiresClientGraphicMapping(A){return"mesh"===A||"multipatch"===A||"extent"===A}_serializeFeature(A){const {attributes:D}=
A;A=this._geometryForSerialization(A);const E=(B++).toString();return A?{uid:E,geometry:A.toJSON(),attributes:D}:{uid:E,attributes:D}}_geometryForSerialization(A){({geometry:A}=A);return null==A?null:this._geometryRequiresClientGraphicMapping(A)?A.extent?t.fromExtent(A.extent):null:A}async _startWorker(A){this._connection=await m.open("MemorySourceWorker",{strategy:n("feature-layers-workers")?"dedicated":"local",signal:A,registryTarget:this});const {fields:D,spatialReference:E,objectIdField:J,hasM:F,
hasZ:G,timeInfo:M,dateFieldsTimeZone:L}=this.layer;var T="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,A);const N=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",O=>{h.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");O.preventDefault()}));T={features:N.features,fields:D?.map(O=>O.toJSON()),geometryType:y.typeKebabDictionary.toJSON(this._workerGeometryType),
hasM:"mesh"!==this._layerOrSourceGeometryType&&F,hasZ:"mesh"===this._layerOrSourceGeometryType||G,objectIdField:J,spatialReference:T?null:E&&E.toJSON(),timeInfo:M?.toJSON()??null,dateFieldsTimeZone:L};A=await this._connection.invoke("load",T,{signal:A});for(var K of A.warnings)h.getLogger(this.layer).warn("#load()",`${K.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:K});A.featureErrors.length&&h.getLogger(this.layer).warn("#load()",`Encountered ${A.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||
"no title"}', id: '${this.layer.id??"no id"}')`,{errors:A.featureErrors});K=A.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(N.inferredGeometryType)&&(K.geometryType=y.typeKebabDictionary.toJSON(N.inferredGeometryType));this.sourceJSON=K;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);N.finish(A.assignedObjectIds)}};b.__decorate([g.shared({Type:f,ensureType:r.ensureType(f)})],a.MemorySource.prototype,"itemType",void 0);b.__decorate([w.property()],a.MemorySource.prototype,
"type",void 0);b.__decorate([w.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);b.__decorate([w.property({readOnly:!0})],a.MemorySource.prototype,"_workerGeometryType",null);b.__decorate([w.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=b.__decorate([p.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./connectionRegistry ./RemoteClient ./WorkerOwner".split(" "),
function(a,b,d,f,c,q,n,k,h){function l(x){if(x&&x.__esModule)return x;const z=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(x)for(const t in x)if("default"!==t){const y=Object.getOwnPropertyDescriptor(x,t);Object.defineProperty(z,t,y.get?y:{enumerable:!0,get:()=>x[t]})}z.default=x;return Object.freeze(z)}async function m(x,z){const t=new q,{registryTarget:y,...B}=z;await t.open(x,B);y&&n.register(y,t);return t}async function w(){if(v)return v;u=new AbortController;const x=[];for(let z=
0;z<e;z++){const t=h.create(z).then(y=>p[z]=y);x.push(t)}return v=Promise.all(x)}const r=f("host-browser")?Math.min(navigator.hardwareConcurrency-1,f("workers-pool-size")):0;let e=f("esri-mobile")?Math.min(r,3):r;e||=f("safari")&&f("mac")?7:2;let g=0;const p=[];let v=null,u;b.Connection=q;b.RemoteClient=k;b.initialize=function(){w()};b.open=async function(x,z={}){if("string"!==typeof x)throw new d("workers:undefined-module","modulePath is missing");var t=z.strategy||"distributed";f("host-webworker")&&
!f("esri-workers")&&(t="local");if("local"===t){var y=await k.loadWorker(x);y||=await new Promise((B,A)=>a([x],D=>B(l(D)),A));c.throwIfAborted(z.signal);t=z.client||y;y=k.connect(y);return m([y],{...z,client:t})}await w();c.throwIfAborted(z.signal);if("dedicated"===t)return t=g++%e,t=await p[t].open(x,z),m([t],z);if(z.maxNumWorkers&&0<z.maxNumWorkers&&(t=Math.min(z.maxNumWorkers,e),t<e)){y=Array(t);for(let B=0;B<t;++B){const A=g++%e;y[B]=p[A].open(x,z)}return m(y,z)}t=p.map(B=>B.open(x,z));return m(t,
z)};b.openWithPorts=function(x,z){return m(x,{client:z})};b.terminate=function(){v&&(u.abort(),v=null);for(let x=0;x<p.length;x++)p[x]&&p[x].terminate();p.length=0};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/Connection":function(){define("../handleUtils ../promiseUtils ../Queue ./connectionRegistry ./InvokeHandler ./RemoteClient".split(" "),function(a,b,d,f,c,q){class n{constructor(){this._inUseClients=[];this._clients=[];this._clientPromises=[];this._ongoingJobsQueue=
new d}destroy(){this.close()}get closed(){return!this._clients?.length}open(k,h){return new Promise((l,m)=>{let w=!0;const r=e=>{b.throwIfAborted(h.signal);w&&(w=!1,e())};this._clients.length=k.length;this._clientPromises.length=k.length;this._inUseClients.length=k.length;for(let e=0;e<k.length;++e){const g=k[e];b.isPromiseLike(g)?this._clientPromises[e]=g.then(p=>{this._clients[e]=new q(p,h,this._ongoingJobsQueue);r(l);return this._clients[e]},()=>{r(m);return null}):(this._clients[e]=new q(g,h,
this._ongoingJobsQueue),this._clientPromises[e]=Promise.resolve(this._clients[e]),r(l))}})}broadcast(k,h,l){const m=Array(this._clientPromises.length);for(let w=0;w<this._clientPromises.length;++w)m[w]=this._clientPromises[w].then(r=>r?.invoke(k,h,l));return m}close(){let k;for(;k=this._ongoingJobsQueue.pop();)k.resolver.reject(b.createAbortError(`Worker closing, aborting job calling '${k.methodName}'`));for(const h of this._clientPromises)h.then(l=>l?.close());this._clients.length=0;this._clientPromises.length=
0;this._inUseClients.length=0;f.unregister(this)}invoke(k,h,l){return this.apply(k,[h],l)}apply(k,h,l){const m=b.createResolver();this._ongoingJobsQueue.push({methodName:k,data:h,invokeOptions:l,resolver:m});for(k=0;k<this._clientPromises.length;k++)(h=this._clients[k])?h.jobAdded():this._clientPromises[k].then(w=>w?.jobAdded());return m.promise}createInvokeProxy(k){return c.createInvokeProxy(this,k)}on(k,h){return Promise.all(this._clientPromises).then(()=>a.handlesGroup(this._clients.map(l=>l.on(k,
h))))}openPorts(){return new Promise(k=>{const h=Array(this._clientPromises.length);let l=h.length;for(let m=0;m<this._clientPromises.length;++m)this._clientPromises[m].then(w=>{w&&(h[m]=w.openPort());0===--l&&k(h)})})}get test(){return{numClients:this._clients.length}}}return n})},"esri/core/Queue":function(){define(["./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b){class d{constructor(f=c=>c.values().next().value){this._peeker=f;this._observable=new b.SimpleObservable;
this._items=new Set}get length(){a.trackAccess(this._observable);return this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0!==this.length){for(var f of this._items);return f}}peek(){if(0!==this.length)return this._peeker(this._items)}push(f){this.contains(f)||(this._items.add(f),this._observable.notify())}contains(f){a.trackAccess(this._observable);return this._items.has(f)}pop(){if(0!==this.length){var f=this.peek();this._items.delete(f);this._observable.notify();
return f}}popLast(){if(0!==this.length){var f=this.last();this._items.delete(f);this._observable.notify();return f}}remove(f){this.contains(f)&&(this._items.delete(f),this._observable.notify())}filter(f){const c=this.length;this._items.forEach(q=>{f(q)||this._items.delete(q)});c!==this._items.size&&this._observable.notify();return this}*[Symbol.iterator](){a.trackAccess(this._observable);yield*this._items}}return d})},"esri/core/workers/connectionRegistry":function(){define(["exports"],function(a){const b=
new FinalizationRegistry(d=>{d.close()});a.register=function(d,f){b.register(d,f,f)};a.unregister=function(d){b.unregister(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/InvokeHandler":function(){define(["exports","./utils"],function(a,b){a.createInvokeProxy=function(d,f,c){return new Proxy({},{get(q,n,k){return(...h)=>{let l,m;const w=h[h.length-1];"object"===typeof w&&!Array.isArray(w)&&null!=w&&("signal"in w||"transferList"in w||0===Object.keys(w).length)&&
(l=w.signal,m=w.transferList,h.pop());h=d.apply(f?`${f}.${n.toString()}`:n.toString(),h,{transferList:m,signal:l});return c?.ignoreConnectionErrors?b.ignoreConnectionErrors(h):h}}})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/utils":function(){define(["exports","../has","../promiseUtils"],function(a,b,d){function f(h){return h&&"object"===typeof h&&("result"in h||"transferList"in h)}function c(h){return h?"string"===typeof h?JSON.stringify({name:"message",message:h}):
h.toJSON?JSON.stringify(h):JSON.stringify({name:h.name,message:h.message,details:h.details||{stack:h.stack}}):null}function q(h,l,m,w){if(l.type===a.MessageType.OPEN_PORT)h.postMessage(l,[l.port]);else if(l.type!==a.MessageType.INVOKE&&l.type!==a.MessageType.RESPONSE)h.postMessage(l);else if(f(m)?(w=n(m.transferList),l.data=m.result):(w=n(w),l.data=m),w){if(b("ff"))for(const r of w)if("byteLength"in r&&267386880<r.byteLength)switch(l.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";
case a.MessageType.RESPONSE:q(h,{type:a.MessageType.RESPONSE,jobId:l.jobId,error:c("Worker call with large ArrayBuffer would crash Firefox")});return}h.postMessage(l,w)}else h.postMessage(l)}function n(h){if(!h?.length)return null;if(b("esri-workers-arraybuffer-transfer"))return h;h=h.filter(l=>!(l instanceof ArrayBuffer||"ArrayBuffer"===l?.constructor?.name));return h.length?h:null}a.MessageType=void 0;(function(h){h[h.HANDSHAKE=0]="HANDSHAKE";h[h.OPEN=1]="OPEN";h[h.OPENED=2]="OPENED";h[h.RESPONSE=
3]="RESPONSE";h[h.INVOKE=4]="INVOKE";h[h.ABORT=5]="ABORT";h[h.CLOSE=6]="CLOSE";h[h.OPEN_PORT=7]="OPEN_PORT";h[h.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let k=0;a.ignoreConnectionErrors=async function(h){try{return await h}catch(l){if(h="worker:port-closed"===l?.name,!d.isAbortError(l)&&!h)throw l;}};a.isTransferrableResult=f;a.newJobId=function(){return k++};a.portClosedErrorName="worker:port-closed";a.postMessage=q;a.receiveMessage=function(h){return h?(h=h.data)?"string"===typeof h?JSON.parse(h):
h:null:null};a.toInvokeError=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/RemoteClient":function(){define("../../kernel ../Error ../events ../handleUtils ../maybe ../promiseUtils ./InvokeHandler ./registry ./utils ../../support/revision".split(" "),function(a,b,d,f,c,q,n,k,h,l){const {CLOSE:m,ABORT:w,INVOKE:r,RESPONSE:e,OPEN_PORT:g,ON:p}=h.MessageType;class v{constructor(x){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=
x;this._timer=null;this._process=this._process.bind(this)}push(x){x.type===h.MessageType.ABORT?this._cancelledJobIds.add(x.jobId):(this._invokeMessages.push(x),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null}_process(){this._timer=null;for(const x of this._invokeMessages)this._cancelledJobIds.has(x.jobId)||this._invoke(x);this._cancelledJobIds.clear();this._invokeMessages.length=0}}class u{static connect(x){const z=
new MessageChannel;x="function"===typeof x?new x:"default"in x&&"function"===typeof x.default?new x.default:x;const t=new u(z.port1,{channel:z,client:x});"object"===typeof x&&"remoteClient"in x&&(x.remoteClient=t);u.clients.set(t,x);return z.port2}static loadWorker(x){return(x=k.registry[x])?x():Promise.resolve(null)}constructor(x,z,t){this._port=x;this._jobQueue=t;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new v(y=>this._onInvokeMessage(y));this._client=z.client;this._onMessage=
this._onMessage.bind(this);this._channel=z.channel;this._schedule=z.schedule;this._port.addEventListener("message",this._onMessage);this._port.start()}close(){this._post({type:m});this._close()}isBusy(){return 0<this._outJobs.size}invoke(x,z,t){return this.apply(x,[z],t)}apply(x,z,t){const y=t?.signal,B=t?.transferList;if(!this._port)return Promise.reject(new b(h.portClosedErrorName,`Cannot call invoke('${x}'), port is closed`,{methodName:x,data:z}));const A=h.newJobId();return new Promise((D,E)=>
{if(q.isAborted(y))this._processWork(),E(q.createAbortError());else{var J=q.onAbort(y,()=>{const F=this._outJobs.get(A);F&&(this._outJobs.delete(A),this._processWork(),c.removeMaybe(F.abortHandle),this._post({type:w,jobId:A}),E(q.createAbortError()))});this._outJobs.set(A,{resolve:D,reject:E,abortHandle:J,debugInfo:x});this._post({type:r,jobId:A,methodName:x,abortable:null!=y},z,B)}})}createInvokeProxy(x,z){return n.createInvokeProxy(this,x,z)}on(x,z){function t(B){z(B.data)}const y=new MessageChannel;
this._port.postMessage({type:h.MessageType.ON,eventType:x,port:y.port2},[y.port2]);y.port1.addEventListener("message",t);y.port1.start();return f.makeHandle(()=>{y.port1.postMessage({type:h.MessageType.CLOSE});y.port1.close();y.port1.removeEventListener("message",t)})}jobAdded(){this._processWork()}openPort(){const x=new MessageChannel;this._post({type:g,port:x.port2});return x.port1}_processWork(){if(!(2<=this._outJobs.size)){var x=this._jobQueue?.pop();if(x){var {methodName:z,data:t,invokeOptions:y,
resolver:B}=x;this.apply(z,t,y).then(A=>B.resolve(A)).catch(A=>B.reject(A))}}}_close(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(x=>{c.removeMaybe(x.abortHandle);x.reject(q.createAbortError(`Worker closing, aborting job calling '${x.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._schedule=this._client=this._port=null}_onMessage(x){null!=this._schedule?this._schedule(()=>
this._processMessage(x)):this._processMessage(x)}_processMessage(x){if(x=h.receiveMessage(x))switch(x.type){case e:this._onResponseMessage(x);break;case r:this._invokeQueue.push(x);break;case w:this._onAbortMessage(x);break;case m:this._onCloseMessage();break;case g:this._onOpenPortMessage(x);break;case p:this._onOnMessage(x)}}_onAbortMessage(x){const z=this._inJobs,t=x.jobId,y=z.get(t);this._invokeQueue.push(x);y&&(y.controller&&y.controller.abort(),z.delete(t))}_onCloseMessage(){const x=this._client;
this._close();x&&"destroy"in x&&u.clients.get(this)===x&&x.destroy();u.clients.delete(this);x?.remoteClient&&(x.remoteClient=null)}_onInvokeMessage(x){const {methodName:z,jobId:t,data:y=[],abortable:B}=x;x=B?new AbortController:null;const A=this._inJobs;let D=this._client,E=D[z],J;try{if(!E&&z&&z.includes(".")){const F=z.split(".");for(let G=0;G<F.length-1;G++)D=D[F[G]],E=D[F[G+1]]}if("function"!==typeof E)throw new TypeError(`${z} is not a function`);y.push({client:this,signal:x?x.signal:null});
J=E.apply(D,y)}catch(F){this._post({type:e,jobId:t,error:h.toInvokeError(F)});return}q.isPromiseLike(J)?(A.set(t,{controller:x,promise:J}),J.then(F=>{A.has(t)&&(A.delete(t),this._post({type:e,jobId:t},F))},F=>{A.has(t)&&(A.delete(t),q.isAbortError(F)||this._post({type:e,jobId:t,error:h.toInvokeError(F||{message:`Error encountered at method ${z}`})}))})):this._post({type:e,jobId:t},J)}_onOpenPortMessage(x){new u(x.port,{client:this._client})}_onOnMessage(x){const {port:z}=x,t=this._client.on(x.eventType,
B=>{z.postMessage(B)}),y=d.on(x.port,"message",B=>{h.receiveMessage(B)?.type===h.MessageType.CLOSE&&(y.remove(),t.remove(),z.close())})}_onResponseMessage(x){const {jobId:z,error:t,data:y}=x;x=this._outJobs;if(x.has(z)){var B=x.get(z);x.delete(z);this._processWork();c.removeMaybe(B.abortHandle);t?B.reject(b.fromJSON(JSON.parse(t))):B.resolve(y)}}_post(x,z,t){return h.postMessage(this._port,x,z,t)}}u.kernelInfo={buildDate:l.buildDate,fullVersion:a.fullVersion,revision:l.commitHash};u.clients=new Map;
return u})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,b){const d=f=>Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));b.registry={statsWorker:()=>new Promise((f,c)=>a(["../../smartMapping/statistics/support/statsWorker"],f,c)),geometryEngineWorker:()=>new Promise((f,c)=>a(["../../geometry/geometryEngineWorker"],f,c)),CSVSourceWorker:()=>new Promise((f,c)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],
q=>f(d(q)),c)),EdgeProcessingWorker:()=>new Promise((f,c)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],q=>f(d(q)),c)),ElevationSamplerWorker:()=>new Promise((f,c)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],q=>f(d(q)),c)),FeatureServiceSnappingSourceWorker:()=>new Promise((f,c)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],q=>f(d(q)),c)),GeoJSONSourceWorker:()=>new Promise((f,c)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],
q=>f(d(q)),c)),LercWorker:()=>new Promise((f,c)=>a(["../../layers/support/LercWorker"],q=>f(d(q)),c)),MemorySourceWorker:()=>new Promise((f,c)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],q=>f(d(q)),c)),PBFDecoderWorker:()=>new Promise((f,c)=>a(["../../views/3d/support/PBFDecoderWorker"],q=>f(d(q)),c)),FeaturePipelineWorker:()=>new Promise((f,c)=>a(["../../views/2d/layers/features/FeaturePipelineWorker"],q=>f(d(q)),c)),PointCloudWorker:()=>new Promise((f,c)=>a(["../../views/3d/layers/PointCloudWorker"],
q=>f(d(q)),c)),RasterWorker:()=>new Promise((f,c)=>a(["../../layers/support/RasterWorker"],q=>f(d(q)),c)),SceneLayerSnappingSourceWorker:()=>new Promise((f,c)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],q=>f(d(q)),c)),SceneLayerWorker:()=>new Promise((f,c)=>a(["../../views/3d/layers/SceneLayerWorker"],f,c)),WFSSourceWorker:()=>new Promise((f,c)=>a(["../../layers/graphics/sources/WFSSourceWorker"],q=>f(d(q)),c)),WorkerTileHandler:()=>new Promise((f,
c)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],q=>f(d(q)),c)),Lyr3DWorker:()=>new Promise((f,c)=>a(["../../views/3d/layers/Lyr3DWorker"],f,c))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerOwner":function(){define("../Error ../Logger ../maybe ../promiseUtils ./staticWorkerMessages ./utils ./workerFactory".split(" "),function(a,b,d,f,c,q,n){const {ABORT:k,INVOKE:h,OPEN:l,OPENED:m,RESPONSE:w}=q.MessageType;class r{static async create(e){const g=
await n.createWorker();return new r(g,e)}constructor(e,g){this._outJobs=new Map;this._inJobs=new Map;this.worker=e;this.id=g;e.addEventListener("message",this._onMessage.bind(this));e.addEventListener("error",p=>{p.preventDefault();b.getLogger("esri.core.workers.WorkerOwner").error(p)})}terminate(){this.worker.terminate()}async open(e,g={}){const {signal:p}=g,v=q.newJobId();return new Promise((u,x)=>{const z=f.onAbortOrThrow(p,()=>{this._outJobs.delete(v);this._post({type:k,jobId:v})});this._outJobs.set(v,
{resolve:u,reject:x,abortHandle:z});this._post({type:l,jobId:v,modulePath:e})})}_onMessage(e){if(e=q.receiveMessage(e))switch(e.type){case m:this._onOpenedMessage(e);break;case w:this._onResponseMessage(e);break;case k:this._onAbortMessage(e);break;case h:this._onInvokeMessage(e)}}_onAbortMessage(e){const g=this._inJobs;e=e.jobId;const p=g.get(e);p&&(p.controller&&p.controller.abort(),g.delete(e))}_onInvokeMessage(e){const {methodName:g,jobId:p,data:v,abortable:u}=e;e=u?new AbortController:null;const x=
this._inJobs,z=c.staticWorkerMessages[g];let t;try{if("function"!==typeof z)throw new TypeError(`${g} is not a function`);t=z.call(null,v,{signal:e?e.signal:null})}catch(y){this._post({type:w,jobId:p,error:q.toInvokeError(y)});return}f.isPromiseLike(t)?(x.set(p,{controller:e,promise:t}),t.then(y=>{x.has(p)&&(x.delete(p),this._post({type:w,jobId:p},y))},y=>{x.has(p)&&(x.delete(p),y||={message:"Error encountered at method"+g},f.isAbortError(y)||this._post({type:w,jobId:p,error:q.toInvokeError(y||{message:`Error encountered at method ${g}`})}))})):
this._post({type:w,jobId:p},t)}_onOpenedMessage(e){const {jobId:g,data:p}=e;if(e=this._outJobs.get(g))this._outJobs.delete(g),d.removeMaybe(e.abortHandle),e.resolve(p)}_onResponseMessage(e){const {jobId:g,error:p,data:v}=e;if(e=this._outJobs.get(g))this._outJobs.delete(g),d.removeMaybe(e.abortHandle),p?e.reject(a.fromJSON(JSON.parse(p))):e.resolve(v)}_post(e,g,p){return q.postMessage(this.worker,e,g,p)}}return r})},"esri/core/workers/staticWorkerMessages":function(){define(["exports","../../request",
"../urlUtils"],function(a,b,d){a.staticWorkerMessages={async request(f,c){const q=f.options,n=q.responseType;q.signal=c?.signal;q.responseType="native"===n||"native-request-init"===n?"native-request-init":n&&["blob","json","text"].includes(n)&&d.getInterceptor(f.url)?.after?n:"array-buffer";f=await b(f.url,q);c={data:f.data,httpStatus:f.httpStatus,ssl:f.ssl};switch(f.requestOptions?.responseType){case "native-request-init":return delete c.data.signal,c;case "blob":c.data=await c.data.arrayBuffer();
break;case "json":c.data=(new TextEncoder).encode(JSON.stringify(c.data)).buffer;break;case "text":c.data=(new TextEncoder).encode(c.data).buffer}return{result:c,transferList:[c.data]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workerFactory":function(){define("exports ../../config ../../request ../Error ../Logger ../urlUtils ../../intl ../../kernel ../has ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),function(a,
b,d,f,c,q,n,k,h,l,m,w,r,e){async function g(t){return new Promise(y=>{function B(D){(D=m.receiveMessage(D))&&D.type===v&&(t.removeEventListener("message",B),t.removeEventListener("error",A),y(t))}function A(D){D.preventDefault();t.removeEventListener("message",B);t.removeEventListener("error",A);p().warn("Failed to create Worker. Fallback to execute module in main thread",D);t=new w;t.addEventListener("message",B);t.addEventListener("error",A)}t.addEventListener("message",B);t.addEventListener("error",
A)})}const p=()=>c.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:v}=m.MessageType;let u,x,z=0;a.createWorker=async function(){if(!h("esri-workers"))return g(new w);if(!u&&!x)try{var t=["let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse(",');self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,s)\x3d\x3e{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,fullVersion:r}\x3dconfiguration.kernelInfo,{revision:t,fullVersion:n,version:s}\x3de.kernelInfo;esriConfig.assetsPath!\x3d\x3desriConfig.defaultAssetsPath\x26\x26o!\x3d\x3dt\x26\x26console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case OPEN:let n;function t(e){const o\x3dn.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((e\x3d\x3e(n\x3de.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s\x3doutgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'],
y=t.join;let D;if(null!=b["default"]){const G={...b};delete G["default"];D=JSON.parse(JSON.stringify(G))}else D=JSON.parse(JSON.stringify(b));D.assetsPath=q.makeAbsolute(D.assetsPath);D.defaultAssetsPath=D.defaultAssetsPath?q.makeAbsolute(D.defaultAssetsPath):void 0;D.request.interceptors=[];D.log.interceptors=[];D.locale=r.getLocale();D.has={"esri-csp-restrictions":h("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":h("esri-2d-update-debug"),"esri-2d-log-updating":h("esri-2d-log-updating"),
"featurelayer-pbf":h("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":h("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":h("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":h("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":h("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":h("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":h("featurelayer-query-pausing-enabled"),
"featurelayer-snapshot-enabled":h("featurelayer-snapshot-enabled"),"esri-atomics":h("esri-atomics"),"esri-shared-array-buffer":h("esri-shared-array-buffer"),"esri-tiles-debug":h("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":h("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":h("feature-polyline-generalization-factor"),"host-webworker":1};D.workers.loaderUrl?D.workers.loaderUrl=q.makeAbsolute(D.workers.loaderUrl):l.defaultLoaderUrl&&(D.workers.loaderUrl=l.defaultLoaderUrl);
D.workers.workerPath=D.workers.workerPath?q.makeAbsolute(D.workers.workerPath):"esri/core/workers/RemoteClient";D.workers.useDynamicImport=!1;const E=b.workers.loaderConfig,J=l.loaderConfig({baseUrl:E?.baseUrl,locale:r.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...E?.has},map:{...E?.map},paths:{...E?.paths},packages:E?.packages||[]});var B=JSON.stringify({esriConfig:D,loaderConfig:J,kernelInfo:{buildDate:e.buildDate,fullVersion:k.fullVersion,revision:e.commitHash}});
const F=y.call(t,`'${B}'`);u=URL.createObjectURL(new Blob([F],{type:"text/javascript"}))}catch(D){x=D||{}}let A;if(u)try{A=new Worker(u,{name:`esri-worker-${z++}`})}catch(D){p().warn("Failed to create Worker. Fallback to execute module in main thread",x),A=new w}else p().warn("Failed to create Worker. Fallback to execute module in main thread",x),A=new w;return g(A)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/loaderConfig":function(){define(["exports","../../assets",
"../has","../urlUtils"],function(a,b,d,f){a.defaultLoaderUrl=null;a.defaultLoaderUrl=f.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));var c=f.makeAbsolute(b.getAssetUrl("dojo/"));var q=[{name:"esri",location:"../esri"}];a.loaderConfig=function(n){const k={async:n.async,isDebug:n.isDebug,locale:n.locale,baseUrl:n.baseUrl,has:{...n.has},map:{...n.map},packages:n.packages?.concat()||[],paths:{...n.paths}};n.hasOwnProperty("async")||(k.async=!0);n.hasOwnProperty("isDebug")||(k.isDebug=!1);n.baseUrl||
(k.baseUrl=c);q?.forEach(h=>{a:{var l=k.packages??[];for(const m of l)if(m.name===h.name)break a;l.push(h)}});return k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerFallback":function(){define(["require","../nextTick","./RemoteClient","./utils"],function(a,b,d,f){function c(k){if(k&&k.__esModule)return k;const h=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(k)for(const l in k)if("default"!==l){const m=Object.getOwnPropertyDescriptor(k,l);
Object.defineProperty(h,l,m.get?m:{enumerable:!0,get:()=>k[l]})}h.default=k;return Object.freeze(h)}class q{constructor(){const k=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(h=>{this[h]=(...l)=>k[h](...l)})}}class n{constructor(){this._dispatcher=new q;this._workerPostMessage({type:f.MessageType.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(k){this._onmessageHandler&&this.removeEventListener("message",
this._onmessageHandler);(this._onmessageHandler=k)&&this.addEventListener("message",k)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(k){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=k)&&this.addEventListener("messageerror",k)}get onerror(){return this._onerrorHandler}set onerror(k){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=k)&&this.addEventListener("error",
k)}postMessage(k){b.nextTick(()=>{this._workerMessageHandler(new MessageEvent("message",{data:k}))})}dispatchEvent(k){return this._dispatcher.dispatchEvent(k)}addEventListener(k,h,l){this._dispatcher.addEventListener(k,h,l)}removeEventListener(k,h,l){this._dispatcher.removeEventListener(k,h,l)}_workerPostMessage(k){b.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:k}))})}async _workerMessageHandler(k){if((k=f.receiveMessage(k))&&k.type===f.MessageType.OPEN){const {modulePath:h,jobId:l}=
k;(k=await d.loadWorker(h))||(k=await new Promise((m,w)=>a([h],r=>m(c(r)),w)));k=d.connect(k);this._workerPostMessage({type:f.MessageType.OPENED,jobId:l,data:k})}}}return n})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,d){function f(q,n,k){if(null==q.hasM||q.hasZ)for(const h of n)for(const l of h)2<l.length&&(l[2]*=k)}function c(q,n,k){if(q)for(const l of q){q=l.geometry;var h=k;if(q?.spatialReference&&
!d.equals(q.spatialReference,n)&&(h=b.getMetersPerVerticalUnitForSR(q.spatialReference)/h,1!==h))if("x"in q)null!=q.z&&(q.z*=h);else if("rings"in q)f(q,q.rings,h);else if("paths"in q)f(q,q.paths,h);else if("points"in q&&(null==q.hasM||q.hasZ))for(const m of q.points)2<m.length&&(m[2]*=h)}}a.unapplyEditsZUnitScaling=function(q,n,k){if((q||n)&&k){var h=b.getMetersPerVerticalUnitForSR(k);c(q,k,h);c(n,k,h)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/queryZScale":function(){define(["exports",
"../../../geometry/support/zscale"],function(a,b){a.applyFeatureSetZUnitScaling=function(d,f,c){if(c?.features&&c.hasZ&&(d=b.getGeometryZScaler(c.geometryType,f,d.outSpatialReference),null!=d))for(const q of c.features)d(q.geometry)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){var p;const v=new f.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});f=p=class extends c.JSONSupport{constructor(u){super(u);this.displayFieldName=null;this.exceededTransferLimit=!1;this.features=[];this.geometryType=this.fields=null;this.hasZ=this.hasM=!1;this.spatialReference=this.queryGeometry=null}readFeatures(u,x){x=r.fromJSON(x.spatialReference);
const z=[];for(let B=0;B<u.length;B++){var t=u[B];const A=d.fromJSON(t);var y=t.geometry?.spatialReference;null==A.geometry||y||(A.geometry.spatialReference=x);t=t.aggregateGeometries;y=A.aggregateGeometries;if(t&&null!=y)for(const D in y){const E=y[D],J=t[D]?.spatialReference;null==E||J||(E.spatialReference=x)}z.push(A)}return z}writeGeometryType(u,x,z,t){if(u)v.write(u,x,z,t);else if({features:u}=this,u)for(const y of u)if(null!=y?.geometry){v.write(y.geometry.type,x,z,t);break}}readQueryGeometry(u,
x){if(!u)return null;const z=!!u.spatialReference;(u=e.fromJSON(u))&&!z&&x.spatialReference&&(u.spatialReference=r.fromJSON(x.spatialReference));return u}writeSpatialReference(u,x){if(u)x.spatialReference=u.toJSON();else if({features:u}=this,u)for(const z of u)if(z&&null!=z.geometry&&z.geometry.spatialReference){x.spatialReference=z.geometry.spatialReference.toJSON();break}}clone(){return new p(this.cloneProperties())}cloneProperties(){return q.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,
features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(u){const x=this.write();if(x.features&&Array.isArray(u)&&0<u.length)for(let z=0;z<x.features.length;z++){const t=x.features[z];t.geometry&&(t.geometry=u?.[z]?.toJSON()||t.geometry)}return x}quantize(u){const {scale:[x,z],translate:[t,y]}=u,B=this.features,A=this._getQuantizationFunction(this.geometryType,
D=>Math.round((D-t)/x),D=>Math.round((y-D)/z));for(let D=0,E=B.length;D<E;D++)A?.(B[D].geometry)||(B.splice(D,1),D--,E--);this.transform=u;return this}unquantize(){const {geometryType:u,features:x,transform:z}=this;if(!z)return this;const {translate:[t,y],scale:[B,A]}=z;var D=null;let E=null;if(this.hasZ&&null!=z?.scale?.[2]){const {translate:[,,J],scale:[,,F]}=z;D=G=>G*F+J}if(this.hasM&&null!=z?.scale?.[3]){const {translate:[,,,J],scale:[,,,F]}=z;E=G=>null==G?G:G*F+J}D=this._getHydrationFunction(u,
J=>J*B+t,J=>y-J*A,D,E);for(const {geometry:J}of x)null!=J&&D&&D(J);this.transform=null;return this}_quantizePoints(u,x,z){let t,y;const B=[];for(let D=0,E=u.length;D<E;D++){var A=u[D];if(0<D){const J=x(A[0]);A=z(A[1]);if(J!==t||A!==y)B.push([J-t,A-y]),t=J,y=A}else t=x(A[0]),y=z(A[1]),B.push([t,y])}return 0<B.length?B:null}_getQuantizationFunction(u,x,z){return"point"===u?t=>{t.x=x(t.x);t.y=z(t.y);return t}:"polyline"===u||"polygon"===u?t=>{const y=e.isPolygon(t)?t.rings:t.paths,B=[];for(let A=0,D=
y.length;A<D;A++){const E=this._quantizePoints(y[A],x,z);E&&B.push(E)}return 0<B.length?(e.isPolygon(t)?t.rings=B:t.paths=B,t):null}:"multipoint"===u?t=>{const y=this._quantizePoints(t.points,x,z);return y&&0<y.length?(t.points=y,t):null}:"extent"===u?t=>t:null}_getHydrationFunction(u,x,z,t,y){return"point"===u?B=>{B.x=x(B.x);B.y=z(B.y);t&&(B.z=t(B.z))}:"polyline"===u||"polygon"===u?B=>{B=e.isPolygon(B)?B.rings:B.paths;for(let E=0,J=B.length;E<J;E++){const F=B[E];for(let G=0,M=F.length;G<M;G++){const L=
F[G];if(0<G)A+=L[0],D+=L[1];else{var A=L[0];var D=L[1]}L[0]=x(A);L[1]=z(D)}}if(t&&y)for(let E=0,J=B.length;E<J;E++){A=B[E];for(let F=0,G=A.length;F<G;F++)D=A[F],D[2]=t(D[2]),D[3]=y(D[3])}else if(t)for(let E=0,J=B.length;E<J;E++){A=B[E];for(let F=0,G=A.length;F<G;F++)D=A[F],D[2]=t(D[2])}else if(y)for(let E=0,J=B.length;E<J;E++){A=B[E];for(let F=0,G=A.length;F<G;F++)D=A[F],D[2]=y(D[2])}}:"extent"===u?B=>{B.xmin=x(B.xmin);B.ymin=z(B.ymin);B.xmax=x(B.xmax);B.ymax=z(B.ymax);t&&null!=B.zmax&&null!=B.zmin&&
(B.zmax=t(B.zmax),B.zmin=t(B.zmin));y&&null!=B.mmax&&null!=B.mmin&&(B.mmax=y(B.mmax),B.mmin=y(B.mmin))}:"multipoint"===u?B=>{B=B.points;let A;for(let E=0,J=B.length;E<J;E++){const F=B[E];if(0<E)D+=F[0],A+=F[1];else{var D=F[0];A=F[1]}F[0]=x(D);F[1]=z(A)}if(t&&y)for(let E=0,J=B.length;E<J;E++)D=B[E],D[2]=t(D[2]),D[3]=y(D[3]);else if(t)for(let E=0,J=B.length;E<J;E++)D=B[E],D[2]=t(D[2]);else if(y)for(let E=0,J=B.length;E<J;E++)D=B[E],D[2]=y(D[2])}:null}};a.__decorate([n.property({type:String,json:{write:!0}})],
f.prototype,"displayFieldName",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],f.prototype,"exceededTransferLimit",void 0);a.__decorate([n.property({type:[d],json:{write:!0}})],f.prototype,"features",void 0);a.__decorate([l.reader("features")],f.prototype,"readFeatures",null);a.__decorate([n.property({type:[g],json:{write:!0}})],f.prototype,"fields",void 0);a.__decorate([n.property({type:"point multipoint polyline polygon extent mesh".split(" "),
json:{read:{reader:v.read}}})],f.prototype,"geometryType",void 0);a.__decorate([w.writer("geometryType")],f.prototype,"writeGeometryType",null);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],f.prototype,"hasM",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],f.prototype,"hasZ",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{write:!0}})],f.prototype,"queryGeometry",void 0);a.__decorate([l.reader("queryGeometry")],
f.prototype,"readQueryGeometry",null);a.__decorate([n.property({type:r,json:{write:!0}})],f.prototype,"spatialReference",void 0);a.__decorate([w.writer("spatialReference")],f.prototype,"writeSpatialReference",null);a.__decorate([n.property({json:{write:!0}})],f.prototype,"transform",void 0);f=p=a.__decorate([m.subclass("esri.rest.support.FeatureSet")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){var r;const e=new b.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});b=r=class extends d.JSONSupport{constructor(g){super(g);
this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(g,{description:p}){g=null;try{g=p?JSON.parse(p):null}catch(v){}return g?.value??null}readValueType(g,{description:p}){g=null;try{g=p?JSON.parse(p):null}catch(v){}return g?e.fromJSON(g.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);a.__decorate([f.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);a.__decorate([f.property()],b.prototype,"description",void 0);a.__decorate([h.reader("description")],b.prototype,"readDescription",
null);a.__decorate([f.property({types:m.types,json:{read:{reader:m.fromJSON},write:!0}})],b.prototype,"domain",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);a.__decorate([f.property({type:c.Integer,json:{write:{overridePolicy(g){return{enabled:Number.isFinite(g)}}}}})],b.prototype,"length",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,
"nullable",void 0);a.__decorate([k.enumeration(w.kebabDict)],b.prototype,"type",void 0);a.__decorate([f.property()],b.prototype,"valueType",void 0);a.__decorate([h.reader("valueType",["description"])],b.prototype,"readValueType",null);a.__decorate([f.property({type:Boolean,json:{read:!1}})],b.prototype,"visible",void 0);return b=r=a.__decorate([l.subclass("esri.layers.support.Field")],b)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",
esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});
a.kebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){a.APIKeyMixin=k=>{k=class extends k{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(h){null!=
h?this._override("apiKey",h):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};b.__decorate([d.property({type:String})],k.prototype,"apiKey",null);return k=b.__decorate([n.subclass("esri.layers.mixins.APIKeyMixin")],k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),
function(a,b,d,f,c,q,n,k){a.ArcGISService=h=>{h=class extends h{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const l=k.parse(this.url);if(null!=l&&l.title)return l.title}return this._get("title")||""}set title(l){this._set("title",l)}set url(l){this._set("url",k.sanitizeUrl(l,d.getLogger(this)))}};b.__decorate([f.property()],h.prototype,"title",null);b.__decorate([f.property({type:String})],h.prototype,"url",null);return h=b.__decorate([n.subclass("esri.layers.mixins.ArcGISService")],
h)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),function(a,b,d,f,c,q,n,k){const h={read:{reader:k.read},write:{allowNull:!0,writer:k.write}};a.BlendLayer=l=>{l=class extends l{constructor(){super(...arguments);this.blendMode=
"normal";this.effect=null}};b.__decorate([d.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],l.prototype,"blendMode",
void 0);b.__decorate([d.property({json:{read:!1,write:!1,origins:{"web-map":h,"portal-item":h}}})],l.prototype,"effect",void 0);return l=b.__decorate([n.subclass("esri.layers.mixins.BlendLayer")],l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object","./parser","./utils"],function(a,b,d,f,c){function q(l){return(l=f.parse(l))?c.isEffectFunctions(l)?l.map(m=>m.toJSON()):l.map(({scale:m,
effects:w})=>({scale:m,value:w.map(r=>r.toJSON())})):null}function n(l){if(!l||0===l.length)return null;var m=(m=l[0])?"scale"in m:!1;if(m){m=[];for(const w of l)m.push({scale:w.scale,value:k(w.value)});return m}return k(l)}function k(l){if(!l?.length)return"";const m=[];for(const g of l){l=[];switch(g.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":l=[h(g,"amount")];break;case "blur":l=[h(g,"radius","pt")];break;case "hue-rotate":l=
[h(g,"angle","deg")];break;case "drop-shadow":l=h(g,"xoffset","pt");var w=h(g,"yoffset","pt"),r=h(g,"blurRadius","pt"),e=g;if(null==e.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${e.type} effect`,{effect:e});e=e.color;l=[l,w,r,`rgba(${e[0]||0}, ${e[1]||0}, ${e[2]||0}, ${e[3]/255||0})`];break;case "bloom":l=[h(g,"strength"),h(g,"radius","pt"),h(g,"threshold")]}l=`${g.type}(${l.filter(Boolean).join(" ")})`;f.parse(l);m.push(l)}return m.join(" ")}function h(l,m,w){if(null==
l[m])throw new b("effect:missing-parameter",`Missing parameter '${m}' in ${l.type} effect`,{effect:l});return w?l[m]+w:""+l[m]}a.effectFunctionsFromJSON=k;a.fromJSON=n;a.read=function(l,m,w){try{return n(l)}catch(r){w?.messages?.push(r)}return null};a.toJSON=q;a.write=function(l,m,w,r){try{const e=q(l);d.setDeepValue(w,e,m)}catch(e){r.messages&&r.messages.push(e)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),
function(a,b,d,f,c,q){function n(t){let y;if(!t)return[];try{y=p.parse(t)}catch(B){throw new d("effect:invalid-syntax","Invalid effect syntax",{value:t,error:B});}return y.map(B=>k(B))}function k(t){try{switch(t.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var y=1;h(t.parameters,1);1===t.parameters.length&&(y=w(t.parameters[0]));return new f.ColorMatrixEffect(t.name,y);case "opacity":return y=1,h(t.parameters,1),1===t.parameters.length&&(y=w(t.parameters[0])),
new f.OpacityEffect(y);case "hue-rotate":y=0;h(t.parameters,1);if(1===t.parameters.length){var B=t.parameters[0];if("quantity"!==B.type||!(0===B.value&&null===B.unit||B.unit&&null!=v[B.unit]))throw new d("effect:type-error",`Expected <angle>, Actual: ${l(B)}`,{term:B});y=B.value*v[B.unit]||0}return new f.HueRotateEffect(y);case "blur":return y=0,h(t.parameters,1),1===t.parameters.length&&(y=r(t.parameters[0]),m(y,t.parameters[0])),new f.BlurEffect(y);case "drop-shadow":const F=[];let G=null;for(const M of t.parameters)if("color"===
M.type){F.length&&Object.freeze(F);if(G)throw new d("effect:type-error","Accepts only one color",{});a:{B=void 0;var A=M;switch(A.colorType){case "hex":G=b.hex2rgba(A.value);break a;case "named":G=e(A.value);break a;case "function":y=A.value;h(y.parameters,4);if(x.test(y.name))B=[w(y.parameters[0]),w(y.parameters[1]),w(y.parameters[2]),y.parameters[3]?w(y.parameters[3]):1];else if(z.test(y.name)){A=b;var D=A.hsla2rgba,E=y.parameters[0],J=E;if("quantity"!==J.type||null!==J.unit)throw new d("effect:type-error",
`Expected <double>, Actual: ${l(J)}`,{term:J});m(E.value,E);B=D.call(A,E.value,w(y.parameters[1]),w(y.parameters[2]),y.parameters[3]?w(y.parameters[3]):1)}else throw new d("effect:syntax-error",`Invalid color function '${y.name}'`,{colorFunction:y});G=B;break a}G=void 0}}else{const L=r(M);if(Object.isFrozen(F))throw new d("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:F});F.push(L);3===F.length&&m(L,M)}if(2>F.length||3<F.length)throw new d("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${F.length}}`,
{lengths:F});return new f.DropShadowEffect(F[0],F[1],F[2]||0,G||e("black"));case "bloom":return y=1,E=D=0,h(t.parameters,3),t.parameters[0]&&(y=w(t.parameters[0])),t.parameters[1]&&(D=r(t.parameters[1]),m(D,t.parameters[1])),t.parameters[2]&&(E=w(t.parameters[2])),new f.BloomEffect(y,D,E)}}catch(F){throw F.details.filter=t,F;}throw new d("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t});}function h(t,y){if(t.length>y)throw new d("effect:type-error",`Function supports up to ${y} parameters, Actual: ${t.length}`,
{parameters:t});}function l(t){if("color"===t.type)return"\x3ccolor\x3e";if(t.unit){if(t.unit in u)return"\x3clength\x3e";if(t.unit in v)return"\x3cangle\x3e";if("%"===t.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function m(t,y){if(0>t)throw new d("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:y});}function w(t){if("quantity"!==t.type||null!==t.unit&&"%"!==t.unit)throw new d("effect:type-error",`Expected <double> or <percentage>, Actual: ${l(t)}`,{term:t});const y=
t.value;m(y,t);return"%"===t.unit?.01*y:y}function r(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=u[t.unit]))throw new d("effect:type-error",`Expected <length>, Actual: ${l(t)}`,{term:t});return t.value*u[t.unit]||0}function e(t){if(!b.isNamedColor(t))throw new d("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return b.getNamedColorCopy(t)}var g={exports:{}};(function(t){(function(y,B){t.exports&&(t.exports=B())})(c.commonjsGlobal,function(){function y(A,
D,E,J){A=Error.call(this,A);Object.setPrototypeOf&&Object.setPrototypeOf(A,y.prototype);A.expected=D;A.found=E;A.location=J;A.name="SyntaxError";return A}function B(A,D,E){E=E||" ";if(A.length>D)return A;D-=A.length;E+=E.repeat(D);return A+E.slice(0,D)}(function(A,D){function E(){this.constructor=A}E.prototype=D.prototype;A.prototype=new E})(y,Error);y.prototype.format=function(A){var D="Error: "+this.message;if(this.location){var E=null,J;for(J=0;J<A.length;J++)if(A[J].source===this.location.source){E=
A[J].text.split(/\r\n|\n|\r/g);break}A=this.location.start;J=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(A):A;var F=this.location.source+":"+J.line+":"+J.column;if(E){var G=this.location.end,M=B("",J.line.toString().length," ");E=E[A.line-1];G=(A.line===G.line?G.column:E.length+1)-A.column||1;D+="\n --\x3e "+F+"\n"+M+" |\n"+J.line+" | "+E+"\n"+M+" | "+B("",A.column-1," ")+B("",G,"^")}else D+="\n at "+F}return D};y.buildMessage=function(A,D){function E(L){return L.charCodeAt(0).toString(16).toUpperCase()}
function J(L){return L.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(T){return"\\x0"+E(T)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(T){return"\\x"+E(T)})}function F(L){return L.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(T){return"\\x0"+
E(T)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(T){return"\\x"+E(T)})}function G(L){return M[L.type](L)}var M={literal:function(L){return'"'+J(L.text)+'"'},class:function(L){var T=L.parts.map(function(N){return Array.isArray(N)?F(N[0])+"-"+F(N[1]):F(N)});return"["+(L.inverted?"^":"")+T.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(L){return L.description}};return"Expected "+function(L){L=L.map(G);var T,N;L.sort();if(0<L.length){for(N=T=1;T<
L.length;T++)L[T-1]!==L[T]&&(L[N]=L[T],N++);L.length=N}switch(L.length){case 1:return L[0];case 2:return L[0]+" or "+L[1];default:return L.slice(0,-1).join(", ")+", or "+L[L.length-1]}}(A)+" but "+(D?'"'+J(D)+'"':"end of input")+" found."};return{SyntaxError:y,parse:function(A,D){function E(ab,Ba){return{type:"literal",text:ab,ignoreCase:Ba}}function J(ab,Ba,Z){return{type:"class",parts:ab,inverted:Ba,ignoreCase:Z}}function F(ab){return{type:"other",description:ab}}function G(ab){var Ba=Gb[ab],Z;
if(!Ba){for(Z=ab-1;!Gb[Z];)Z--;Ba=Gb[Z];for(Ba={line:Ba.line,column:Ba.column};Z<ab;)10===A.charCodeAt(Z)?(Ba.line++,Ba.column=1):Ba.column++,Z++;Gb[ab]=Ba}return Ba}function M(ab,Ba,Z){var wa=G(ab),Ia=G(Ba);ab={source:ua,start:{offset:ab,line:wa.line,column:wa.column},end:{offset:Ba,line:Ia.line,column:Ia.column}};Z&&ua&&"function"===typeof ua.offset&&(ab.start=ua.offset(ab.start),ab.end=ua.offset(ab.end));return ab}function L(ab){Ha<vb||(Ha>vb&&(vb=Ha,Db=[]),Db.push(ab))}function T(){bb++;var ab=
Ha;O();if(A.substr(Ha,4)===Ga){var Ba=Ga;Ha+=4}else Ba=ca,0===bb&&L(Ca);Ba!==ca?(O(),mb=ab,ab=[]):(Ha=ab,ab=ca);bb--;ab===ca&&0===bb&&L(ra);if(ab===ca)if(ab=[],Ba=N(),Ba!==ca)for(;Ba!==ca;)ab.push(Ba),Ba=N();else ab=ca;return ab}function N(){var ab=Ha;O();bb++;var Ba=Ha;var Z=R();if(Z!==ca){if(40===A.charCodeAt(Ha)){var wa=ha;Ha++}else wa=ca,0===bb&&L(oa);wa!==ca?(mb=Ba,Ba=Z):(Ha=Ba,Ba=ca)}else Ha=Ba,Ba=ca;bb--;Ba===ca&&(Z=ca,0===bb&&L(Ra));if(Ba!==ca){O();Z=Ha;wa=K();if(wa!==ca){var Ia=[];var Ja=
Ha;var Va=O();if(44===A.charCodeAt(Ha)){var $a=qa;Ha++}else $a=ca,0===bb&&L(Na);$a===ca&&($a=null);var gb=O();var ub=K();ub!==ca?Ja=Va=[Va,$a,gb,ub]:(Ha=Ja,Ja=ca);for(;Ja!==ca;)Ia.push(Ja),Ja=Ha,Va=O(),44===A.charCodeAt(Ha)?($a=qa,Ha++):($a=ca,0===bb&&L(Na)),$a===ca&&($a=null),gb=O(),ub=K(),ub!==ca?Ja=Va=[Va,$a,gb,ub]:(Ha=Ja,Ja=ca);mb=Z;Z=0<Ia.length?[wa].concat(ma(Ia,3)):[wa]}else Ha=Z,Z=ca;Z===ca&&(Z=null);O();41===A.charCodeAt(Ha)?(wa=Qa,Ha++):(wa=ca,0===bb&&L(Da));wa!==ca?(O(),mb=ab,ab={type:"function",
name:Ba,parameters:Z||[]}):(Ha=ab,ab=ca)}else Ha=ab,ab=ca;return ab}function K(){var ab=Ha;bb++;var Ba=Ha;O();var Z=V();if(Z!==ca){if(37===A.charCodeAt(Ha)){var wa=aa;Ha++}else wa=ca,0===bb&&L(xa);wa!==ca?(mb=Ba,Ba={value:Z,unit:"%"}):(Ha=Ba,Ba=ca)}else Ha=Ba,Ba=ca;bb--;Ba===ca&&0===bb&&L(ya);Ba===ca&&(bb++,Ba=Ha,O(),Z=V(),Z!==ca?(A.substr(Ha,2)===ja?(wa=ja,Ha+=2):(wa=ca,0===bb&&L(Sa)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"px"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca),Ba===ca&&(Ba=Ha,O(),Z=V(),Z!==ca?(A.substr(Ha,
2)===sa?(wa=sa,Ha+=2):(wa=ca,0===bb&&L(Ta)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"cm"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca),Ba===ca&&(Ba=Ha,O(),Z=V(),Z!==ca?(A.substr(Ha,2)===H?(wa=H,Ha+=2):(wa=ca,0===bb&&L(Xa)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"mm"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca),Ba===ca&&(Ba=Ha,O(),Z=V(),Z!==ca?(A.substr(Ha,2)===Q?(wa=Q,Ha+=2):(wa=ca,0===bb&&L(Ua)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"in"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca),Ba===ca&&(Ba=Ha,O(),Z=V(),Z!==ca?(A.substr(Ha,2)===fa?(wa=fa,Ha+=2):(wa=ca,0===
bb&&L(db)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"pt"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca),Ba===ca&&(Ba=Ha,O(),Z=V(),Z!==ca?(A.substr(Ha,2)===ka?(wa=ka,Ha+=2):(wa=ca,0===bb&&L(Ya)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"pc"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca)))))),bb--,Ba===ca&&0===bb&&L(Ka),Ba===ca&&(bb++,Ba=Ha,Z=V(),Z!==ca?(A.substr(Ha,3)===za?(wa=za,Ha+=3):(wa=ca,0===bb&&L(ib)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"deg"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca),Ba===ca&&(Ba=Ha,Z=V(),Z!==ca?(A.substr(Ha,3)===W?(wa=W,Ha+=3):(wa=ca,0===
bb&&L(nb)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"rad"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca),Ba===ca&&(Ba=Ha,Z=V(),Z!==ca?(A.substr(Ha,4)===ea?(wa=ea,Ha+=4):(wa=ca,0===bb&&L(lb)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"grad"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca),Ba===ca&&(Ba=Ha,Z=V(),Z!==ca?(A.substr(Ha,4)===ia?(wa=ia,Ha+=4):(wa=ca,0===bb&&L(sb)),wa!==ca?(mb=Ba,Ba={value:Z,unit:"turn"}):(Ha=Ba,Ba=ca)):(Ha=Ba,Ba=ca)))),bb--,Ba===ca&&(Z=ca,0===bb&&L(cb)),Ba===ca&&(bb++,Ba=Ha,O(),Z=V(),Z!==ca?(mb=Ba,Ba={value:Z,unit:null}):(Ha=
Ba,Ba=ca),bb--,Ba===ca&&0===bb&&L(tb))));Ba!==ca&&(mb=ab,Ba={type:"quantity",value:Ba.value,unit:Ba.unit});ab=Ba;if(ab===ca){ab=Ha;bb++;Ba=Ha;35===A.charCodeAt(Ha)?(Z=I,Ha++):(Z=ca,0===bb&&L(Nb));if(Z!==ca){Z=[];Ea.test(A.charAt(Ha))?(wa=A.charAt(Ha),Ha++):(wa=ca,0===bb&&L(zb));if(wa!==ca)for(;wa!==ca;)Z.push(wa),Ea.test(A.charAt(Ha))?(wa=A.charAt(Ha),Ha++):(wa=ca,0===bb&&L(zb));else Z=ca;Z!==ca?(mb=Ba,Ba={type:"hex",value:A.substring(mb,Ha)}):(Ha=Ba,Ba=ca)}else Ha=Ba,Ba=ca;Ba===ca&&(Ba=Ha,Z=N(),
Z!==ca&&(mb=Ba,Z={type:"function",value:Z}),Ba=Z,Ba===ca&&(Ba=Ha,Z=R(),Z!==ca&&(mb=Ba,Z={type:"named",value:A.substring(mb,Ha)}),Ba=Z));bb--;Ba===ca&&(Z=ca,0===bb&&L(Fb));Ba!==ca&&(mb=ab,Ba={type:"color",colorType:Ba.type,value:Ba.value});ab=Ba}return ab}function O(){bb++;var ab=[];if(na.test(A.charAt(Ha))){var Ba=A.charAt(Ha);Ha++}else Ba=ca,0===bb&&L(Pa);for(;Ba!==ca;)ab.push(Ba),na.test(A.charAt(Ha))?(Ba=A.charAt(Ha),Ha++):(Ba=ca,0===bb&&L(Pa));bb--;Ba=ca;0===bb&&L(Oa);return ab}function R(){bb++;
var ab=Ha;var Ba=[];if(va.test(A.charAt(Ha))){var Z=A.charAt(Ha);Ha++}else Z=ca,0===bb&&L(ba);if(Z!==ca)for(;Z!==ca;)Ba.push(Z),va.test(A.charAt(Ha))?(Z=A.charAt(Ha),Ha++):(Z=ca,0===bb&&L(ba));else Ba=ca;Ba!==ca&&(mb=ab,Ba=A.substring(mb,Ha));ab=Ba;bb--;ab===ca&&(Ba=ca,0===bb&&L(U));return ab}function V(){var ab=Ha;da.test(A.charAt(Ha))?(A.charAt(Ha),Ha++):0===bb&&L(Eb);var Ba=Ha;var Z=[];if(pa.test(A.charAt(Ha))){var wa=A.charAt(Ha);Ha++}else wa=ca,0===bb&&L(wb);for(;wa!==ca;)Z.push(wa),pa.test(A.charAt(Ha))?
(wa=A.charAt(Ha),Ha++):(wa=ca,0===bb&&L(wb));46===A.charCodeAt(Ha)?(wa=S,Ha++):(wa=ca,0===bb&&L(Pb));if(wa!==ca){var Ia=[];if(pa.test(A.charAt(Ha))){var Ja=A.charAt(Ha);Ha++}else Ja=ca,0===bb&&L(wb);if(Ja!==ca)for(;Ja!==ca;)Ia.push(Ja),pa.test(A.charAt(Ha))?(Ja=A.charAt(Ha),Ha++):(Ja=ca,0===bb&&L(wb));else Ia=ca;Ia!==ca?Ba=Z=[Z,wa,Ia]:(Ha=Ba,Ba=ca)}else Ha=Ba,Ba=ca;if(Ba===ca)if(Ba=[],pa.test(A.charAt(Ha))?(Z=A.charAt(Ha),Ha++):(Z=ca,0===bb&&L(wb)),Z!==ca)for(;Z!==ca;)Ba.push(Z),pa.test(A.charAt(Ha))?
(Z=A.charAt(Ha),Ha++):(Z=ca,0===bb&&L(wb));else Ba=ca;if(Ba!==ca){Z=Ha;101===A.charCodeAt(Ha)?(wa=X,Ha++):(wa=ca,0===bb&&L(Ob));if(wa!==ca){da.test(A.charAt(Ha))?(Ia=A.charAt(Ha),Ha++):(Ia=ca,0===bb&&L(Eb));Ia===ca&&(Ia=null);Ja=[];pa.test(A.charAt(Ha))?(Ba=A.charAt(Ha),Ha++):(Ba=ca,0===bb&&L(wb));if(Ba!==ca)for(;Ba!==ca;)Ja.push(Ba),pa.test(A.charAt(Ha))?(Ba=A.charAt(Ha),Ha++):(Ba=ca,0===bb&&L(wb));else Ja=ca;Ja!==ca?Z=wa=[wa,Ia,Ja]:(Ha=Z,Z=ca)}else Ha=Z,Z=ca;Z===ca&&(Z=null);mb=ab;ab=parseFloat(A.substring(mb,
Ha))}else Ha=ab,ab=ca;return ab}function ma(ab,Ba){return ab.map(function(Z){return Z[Ba]})}D=void 0!==D?D:{};var ca={},ua=D.grammarSource,Aa={start:T},Ma=T,Ga="none",Qa=")",qa=",",ha="(",aa="%",ja="px",sa="cm",H="mm",Q="in",fa="pt",ka="pc",za="deg",W="rad",ea="grad",ia="turn",I="#",S=".",X="e",na=/^[ \t\n\r]/,va=/^[a-z\-]/,Ea=/^[0-9a-fA-F]/,da=/^[+\-]/,pa=/^[0-9]/,ra=F("none"),Ca=E("none",!1),Da=E(")",!1),Na=E(",",!1),Oa=F("whitespace"),Pa=J([" ","\t","\n","\r"],!1,!1),Ra=F("function"),oa=E("(",
!1),U=F("identifier"),ba=J([["a","z"],"-"],!1,!1),ya=F("percentage"),xa=E("%",!1),Ka=F("length"),Sa=E("px",!1),Ta=E("cm",!1),Xa=E("mm",!1),Ua=E("in",!1),db=E("pt",!1),Ya=E("pc",!1),cb=F("angle"),ib=E("deg",!1),nb=E("rad",!1),lb=E("grad",!1),sb=E("turn",!1),tb=F("number"),Fb=F("color"),Nb=E("#",!1),zb=J([["0","9"],["a","f"],["A","F"]],!1,!1),Eb=J(["+","-"],!1,!1),wb=J([["0","9"]],!1,!1),Pb=E(".",!1),Ob=E("e",!1),Ha=0,mb=0,Gb=[{line:1,column:1}],vb=0,Db=[],bb=0;if("startRule"in D){if(!(D.startRule in
Aa))throw Error("Can't start parsing from rule \""+D.startRule+'".');Ma=Aa[D.startRule]}D=Ma();if(D!==ca&&Ha===A.length)return D;D!==ca&&Ha<A.length&&L({type:"end"});throw function(ab,Ba,Z){return new y(y.buildMessage(ab,Ba),ab,Ba,Z)}(Db,vb<A.length?A.charAt(vb):null,vb<A.length?M(vb,vb+1):M(vb,vb));}}})})(g);var p=g.exports;const v={deg:1,grad:.9,rad:180/Math.PI,turn:360},u={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},x=/^rgba?/i,z=/^hsla?/i;a.parse=function(t){if(!t||0===t.length)return null;
if("string"===typeof t)return(t=n(t))&&0!==t.length?t:null;t=t.map(y=>{if(!Number.isFinite(y.scale)||0>=y.scale)throw new d("effect:invalid-scale","scale must be finite and greater than 0",{stop:y});return{scale:y.scale,effects:n(y.value)}});t.sort((y,B)=>B.effects.length-y.effects.length);for(let y=0;y<t.length-1;y++){if(!q.canInterpolateEffects(t[y].effects,t[y+1].effects))throw new d("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[y].effects,
b:t[y+1].effects});q.normalizeEffects(t[y].effects,t[y+1].effects)}t.sort((y,B)=>B.scale-y.scale);return t};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,
"default")?b["default"]:b}})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){a.CustomParametersMixin=k=>{k=class extends k{constructor(){super(...arguments);this.customParameters=null}};b.__decorate([d.property({type:Object,json:{write:{overridePolicy(h){return{enabled:!!(h&&
0<Object.keys(h).length)}}}}})],k.prototype,"customParameters",void 0);return k=b.__decorate([n.subclass("esri.layers.mixins.CustomParametersMixin")],k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/EditBusLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Evented ../../core/lang ../../core/promiseUtils ../../core/Logger ../../core/has ../../core/Error ../../core/accessorSupport/decorators/subclass ../../versionManagement/support/versionManagementUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l){function m(v){return g.on("apply-edits",new WeakRef(v))}function w(v){return g.on("update-moment",new WeakRef(v))}function r(v){return null!=v&&"object"===typeof v&&"gdbVersion"in v}function e(v,u,x){v=(new URL(v)).host;v=l.defaultVersionNameLookup.get(v);return(!u||u===v)&&(!x||x===v)||u===x}const g=new d.EventEmitter,p=Symbol("esri.layers.mixins.EditBusLayer");a.EditBusLayer=v=>{v=class extends v{constructor(...x){super(...x);this[u]=!0;this._applyEditsHandler=z=>{const {serviceUrl:t,
layerId:y,gdbVersion:B,mayReceiveServiceEdits:A,result:D}=z;z=t===this.url;const E=null!=y&&null!=this.layerId&&y===this.layerId,J=r(this),F=r(this)&&e(t,B,this.gdbVersion);!z||J&&!F||!E&&!A||(z=D.then(G=>{if(E&&(G.addedFeatures.length||G.updatedFeatures.length||G.deletedFeatures.length||G.addedAttachments.length||G.updatedAttachments.length||G.deletedAttachments.length))return this.emit("edits",f.clone(G)),G;const M=G.editedFeatures?.find(({layerId:L})=>L===this.layerId);if(M){const {adds:L,updates:T,
deletes:N}=M.editedFeatures;G={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:L?L.map(({attributes:K})=>({objectId:this.objectIdField&&K[this.objectIdField],globalId:this.globalIdField&&K[this.globalIdField]})):[],deletedFeatures:N?N.map(({attributes:K})=>({objectId:this.objectIdField&&K[this.objectIdField],globalId:this.globalIdField&&K[this.globalIdField]})):[],updatedFeatures:T?T.map(({current:{attributes:K}})=>({objectId:this.objectIdField&&K[this.objectIdField],
globalId:this.globalIdField&&K[this.globalIdField]})):[],editedFeatures:f.clone(G.editedFeatures),exceededTransferLimit:!1,historicMoment:f.clone(G.historicMoment)};this.emit("edits",G);return G}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:f.clone(G.editedFeatures),exceededTransferLimit:!1,historicMoment:f.clone(G.historicMoment)}}).then(G=>{"historicMoment"in this&&this.historicMoment!==G.historicMoment&&
l.isVersionInEditSession(t,B)&&(this.historicMoment=G.historicMoment);return G}),this.emit("apply-edits",{result:z}))};this._updateMomentHandler=z=>{const {serviceUrl:t,gdbVersion:y,moment:B}=z;z=t===this.url;const A=r(this),D=r(this)&&e(t,y,this.gdbVersion),E=r(this)&&!e(t,this.gdbVersion,null);z&&A&&D&&E&&"historicMoment"in this&&this.historicMoment!==B&&(this.historicMoment=B)};this.when().then(()=>{this.addHandles(m(this._applyEditsHandler));"historicMoment"in this&&this.addHandles(w(this._updateMomentHandler))},
()=>{})}};var u=p;return v=b.__decorate([h.subclass("esri.layers.mixins.EditBusLayer")],v)};a.emitApplyEditsEvent=function(v,u,x=null,z=!1){const t=c.createResolver();g.emit("apply-edits",{serviceUrl:v,layerId:u,gdbVersion:x,mayReceiveServiceEdits:null==u?!0:z,result:t.promise});return t};a.emitUpdateMomentEvent=function(v,u,x=null,z){g.emit("update-moment",{serviceUrl:v,layerId:u,gdbVersion:x,moment:z})};a.isEditBusLayer=function(v){return null!=v&&"object"===typeof v&&p in v};a.isLayerWithGDBVersion=
r;a.onApplyEditsEvent=m;a.onUpdateMomentEvent=w;a.versionMatches=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/versionManagement/support/versionManagementUtils":function(){define(["require","exports","../../request","../../core/uuid"],function(a,b,d,f){const c=f.generateLowercaseBracedUUID(),q=new Map,n=new Map;f=new Map;b.currentSessionId=c;b.defaultVersionNameLookup=q;b.isHistoricVersion=async function(k,h,l){if(!k||!l)return!1;if(!h)return!0;l=(new URL(k)).host;l=q.get(l);
l||(k=k.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),l=(await d(k,{responseType:"json",query:{f:"json"}})).data.defaultVersionName);return l===h?!0:!1};b.isSafeToEditVersion=async function(k,h,l=!1){if(!k||!h)return!0;k=k.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");const m=n.get(k)?.entries();if(m)for(const [w,r]of m)if(r.name===h){h=!r.stack?.hasForwardEdits();if(!h&&l){const [{deleteForwardEdits:e},{default:g}]=await Promise.all([new Promise((p,
v)=>a(["../../rest/versionManagement/gdbVersion/deleteForwardEdits"],p,v)),new Promise((p,v)=>a(["../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters"],u=>p(Object.freeze(Object.defineProperty({__proto__:null,default:u},Symbol.toStringTag,{value:"Module"}))),v))]);return e(k,w,new g({sessionId:c,moment:r.moment}))}return h}return!0};b.isVersionInEditSession=function(k,h){if(!k)return!1;k=k.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");if(k=n.get(k)?.entries())for(const [,
l]of k)if(l.name===h)return"edit"===l.lockType;return!1};b.versionCollection=n;b.versionCollectionCount=f;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/uuid":function(){define(["exports"],function(a){function b(){if(d)return crypto.randomUUID();const f=crypto.getRandomValues(new Uint16Array(8));f[3]=f[3]&4095|16384;f[4]=f[4]&16383|32768;const c=q=>f[q].toString(16).padStart(4,"0");return c(0)+c(1)+"-"+c(2)+"-"+c(3)+"-"+c(4)+"-"+c(5)+c(6)+c(7)}const d="randomUUID"in crypto;
a.generateBracedUUID=function(){return`{${b().toUpperCase()}}`};a.generateLowercaseBracedUUID=function(){return`{${b()}}`};a.generateUUID=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),function(a,b,d,f,c,q,n,
k){const h={write:{allowNull:!0}};a.FeatureEffectLayer=l=>{l=class extends l{constructor(){super(...arguments);this.featureEffect=null}};b.__decorate([d.property({type:k,json:{origins:{"web-map":h,"portal-item":h}}})],l.prototype,"featureEffect",void 0);return l=b.__decorate([n.subclass("esri.layers.mixins.FeatureEffectLayer")],l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;q={read:{reader:l.read},write:{writer:l.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}};l={read:{reader:l.read},write:{writer:l.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};n={name:"showExcludedLabels",default:!0};d=w=class extends d.JSONSupport{constructor(r){super(r);this.excludedEffect=this.includedEffect=this.filter=null;this.excludedLabelsVisible=
!1}write(r,e){r=super.write(r,e);if(e?.origin){if(r.filter){const g=Object.keys(r.filter);if(1<g.length||"where"!==g[0])return e.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:e.layer,effect:this})),null}if("showExcludedLabels"in r)return e.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",
{layer:e.layer,effect:this})),null}return r}clone(){return new w({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};a.__decorate([c.property({type:m,json:{write:{allowNull:!0,writer(r,e,g,p){(r=r?.write({},p))&&0!==Object.keys(r).length?f.setDeepValue(g,r,e):f.setDeepValue(g,null,e)}}}})],d.prototype,"filter",void 0);a.__decorate([c.property({json:{write:!0,origins:{"web-map":q,
"portal-item":q}}})],d.prototype,"includedEffect",void 0);a.__decorate([c.property({json:{write:!0,origins:{"web-map":l,"portal-item":l}}})],d.prototype,"excludedEffect",void 0);a.__decorate([c.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":n,"portal-item":n}}})],d.prototype,"excludedLabelsVisible",void 0);return d=w=a.__decorate([h.subclass("esri.layers.support.FeatureEffect")],d)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){var w;k=new f.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});f=new f.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});c=w=class extends c.JSONSupport{constructor(r){super(r);this.geometry=this.where=null;this.spatialRelationship="intersects";this.distance=void 0;this.timeExtent=this.units=this.objectIds=null}createQuery(r={}){const {where:e,geometry:g,spatialRelationship:p,timeExtent:v,objectIds:u,units:x,distance:z}=this;return new m({geometry:q.clone(g),objectIds:q.clone(u),
spatialRelationship:p,timeExtent:q.clone(v),where:e,units:x,distance:z,...r})}clone(){const {where:r,geometry:e,spatialRelationship:g,timeExtent:p,objectIds:v,units:u,distance:x}=this;return new w({geometry:q.clone(e),objectIds:q.clone(v),spatialRelationship:g,timeExtent:q.clone(p),where:r,units:u,distance:x})}};a.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"where",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{write:!0}})],c.prototype,"geometry",void 0);a.__decorate([n.property({type:k.apiValues,
json:{name:"spatialRel",read:{reader:k.read},write:{allowNull:!1,writer:k.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],c.prototype,"spatialRelationship",void 0);a.__decorate([n.property({type:Number,json:{write:{overridePolicy(r){return{enabled:null!=r&&null!=this.geometry}}}}})],c.prototype,"distance",void 0);a.__decorate([n.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);a.__decorate([n.property({type:f.apiValues,json:{read:f.read,write:{writer:f.write,
overridePolicy(r){return{enabled:null!=r&&null!=this.geometry}}}}})],c.prototype,"units",void 0);a.__decorate([n.property({type:d,json:{write:!0}})],c.prototype,"timeExtent",void 0);return c=w=a.__decorate([l.subclass("esri.layers.support.FeatureFilter")],c)})},"esri/rest/support/Query":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./spatialRelationships ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z){var t;f=new f.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let y=t=class extends c.JSONSupport{static from(B){return w.ensureClass(t,B)}constructor(B){super(B);this.aggregateIds=null;this.cacheHint=void 0;this.compactGeometryEnabled=!1;this.datumTransformation=null;this.defaultSpatialReferenceEnabled=
!1;this.dynamicDataSource=this.distance=void 0;this.geometry=this.gdbVersion=this.fullText=this.formatOf3DObjects=null;this.geometryPrecision=void 0;this.historicMoment=this.having=this.groupByFieldsForStatistics=null;this.maxAllowableOffset=void 0;this.maxRecordCountFactor=1;this.multipatchOption=null;this.num=void 0;this.resultType=this.relationParameter=this.rangeValues=this.quantizationParameters=this.pixelSize=this.parameterValues=this.outStatistics=this.outSpatialReference=this.outFields=this.orderByFields=
this.objectIds=null;this.returnDistinctValues=this.returnCentroid=!1;this.returnExceededLimitFeatures=!0;this.returnQueryGeometry=this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.sourceSpatialReference=null;this.spatialRelationship="intersects";this.start=void 0;this.timeExtent=this.text=this.sqlFormat=null;this.timeReferenceUnknownClient=!1;this.where=this.units=null}castDatumTransformation(B){return"number"===typeof B||"object"===typeof B?B:null}writeHistoricMoment(B,A){A.historicMoment=
B&&B.getTime()}writeParameterValues(B,A){if(B){const D={};for(const E in B){const J=B[E];Array.isArray(J)?D[E]=J.map(F=>F instanceof Date?F.getTime():F):D[E]=J instanceof Date?J.getTime():J}A.parameterValues=D}}writeStart(B,A){A.resultOffset=this.start;A.resultRecordCount=this.num||10;A.where="1\x3d1"}writeWhere(B,A){A.where=B||"1\x3d1"}clone(){return new t(q.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};y.MAX_MAX_RECORD_COUNT_FACTOR=5;a.__decorate([n.property({json:{write:!0}})],
y.prototype,"aggregateIds",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0}})],y.prototype,"cacheHint",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"compactGeometryEnabled",void 0);a.__decorate([n.property({json:{write:!0}})],y.prototype,"datumTransformation",void 0);a.__decorate([k.cast("datumTransformation")],y.prototype,"castDatumTransformation",null);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"defaultSpatialReferenceEnabled",
void 0);a.__decorate([n.property({type:Number,json:{write:{overridePolicy(B){return{enabled:0<B}}}}})],y.prototype,"distance",void 0);a.__decorate([n.property({type:e.DataLayerSource,json:{write:!0}})],y.prototype,"dynamicDataSource",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],y.prototype,"formatOf3DObjects",void 0);a.__decorate([n.property({type:[g],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&0<this.fullText.length}}}}})],y.prototype,"fullText",
void 0);a.__decorate([n.property({type:String,json:{write:!0}})],y.prototype,"gdbVersion",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{read:r.fromJSON,write:!0}})],y.prototype,"geometry",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],y.prototype,"geometryPrecision",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],y.prototype,"groupByFieldsForStatistics",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],y.prototype,"having",void 0);
a.__decorate([n.property({type:Date})],y.prototype,"historicMoment",void 0);a.__decorate([m.writer("historicMoment")],y.prototype,"writeHistoricMoment",null);a.__decorate([n.property({type:Number,json:{write:!0}})],y.prototype,"maxAllowableOffset",void 0);a.__decorate([n.property({type:Number,cast(B){return 1>B?1:B>y.MAX_MAX_RECORD_COUNT_FACTOR?y.MAX_MAX_RECORD_COUNT_FACTOR:B},json:{write:{overridePolicy(B){return{enabled:1<B}}}}})],y.prototype,"maxRecordCountFactor",void 0);a.__decorate([n.property({type:["xyFootprint"],
json:{write:!0}})],y.prototype,"multipatchOption",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultRecordCount"}}})],y.prototype,"num",void 0);a.__decorate([n.property({json:{write:!0}})],y.prototype,"objectIds",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],y.prototype,"orderByFields",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],y.prototype,"outFields",void 0);a.__decorate([n.property({type:x,json:{name:"outSR",write:!0}})],y.prototype,
"outSpatialReference",void 0);a.__decorate([n.property({type:[u],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&0<this.outStatistics.length}}}}})],y.prototype,"outStatistics",void 0);a.__decorate([n.property({json:{write:!0}})],y.prototype,"parameterValues",void 0);a.__decorate([m.writer("parameterValues")],y.prototype,"writeParameterValues",null);a.__decorate([n.property({type:z,json:{write:!0}})],y.prototype,"pixelSize",void 0);a.__decorate([n.property({type:p,
json:{write:!0}})],y.prototype,"quantizationParameters",void 0);a.__decorate([n.property({type:[Object],json:{write:!0}})],y.prototype,"rangeValues",void 0);a.__decorate([n.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],y.prototype,"relationParameter",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],y.prototype,"resultType",void 0);a.__decorate([n.property({type:Boolean,
json:{default:!1,write:!0}})],y.prototype,"returnCentroid",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"returnDistinctValues",void 0);a.__decorate([n.property({type:Boolean,json:{default:!0,write:!0}})],y.prototype,"returnExceededLimitFeatures",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0}})],y.prototype,"returnGeometry",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"returnQueryGeometry",void 0);
a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"returnM",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],y.prototype,"returnZ",void 0);a.__decorate([n.property({type:x,json:{write:!0}})],y.prototype,"sourceSpatialReference",void 0);a.__decorate([h.enumeration(v.spatialRelKebabDict,{ignoreUnknown:!1,name:"spatialRel"})],y.prototype,"spatialRelationship",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultOffset"}}})],
y.prototype,"start",void 0);a.__decorate([m.writer("start"),m.writer("num")],y.prototype,"writeStart",null);a.__decorate([n.property({type:String,json:{write:!0}})],y.prototype,"sqlFormat",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],y.prototype,"text",void 0);a.__decorate([n.property({type:d,json:{write:!0}})],y.prototype,"timeExtent",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"timeReferenceUnknownClient",void 0);a.__decorate([h.enumeration(f,
{ignoreUnknown:!1}),n.property({json:{write:{overridePolicy(B){return{enabled:!!B&&null!=this.distance&&0<this.distance}}}}})],y.prototype,"units",void 0);a.__decorate([n.property({type:String,json:{write:{overridePolicy(B){return{enabled:null!=B||null!=this.start&&0<this.start}}}}})],y.prototype,"where",void 0);a.__decorate([m.writer("where")],y.prototype,"writeWhere",null);return y=t=a.__decorate([l.subclass("esri.rest.support.Query")],y)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p){function v(){t||=m.createTypeReader({types:u()});return t}function u(){y||={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":r.MapLayerSource}};return y}var x,z;d=d.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=x=class extends f.JSONSupport{constructor(B){super(B);this.type="join-table"}readLeftTableSource(B,A,D){return v()(B,A,D)}castLeftTableSource(B){return l.ensureOneOfType(u(),
B)}readRightTableSource(B,A,D){return v()(B,A,D)}castRightTableSource(B){return l.ensureOneOfType(u(),B)}clone(){const {leftTableKey:B,rightTableKey:A,leftTableSource:D,rightTableSource:E,joinType:J}=this,F={leftTableKey:B,rightTableKey:A,leftTableSource:D?.clone()??void 0,rightTableSource:E?.clone()??void 0,joinType:J};return new x(F)}};b.__decorate([n.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,
"leftTableKey",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);b.__decorate([c.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);b.__decorate([k.reader("leftTableSource")],a.JoinTableDataSource.prototype,"readLeftTableSource",null);b.__decorate([q.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);b.__decorate([c.property({json:{write:!0}})],a.JoinTableDataSource.prototype,
"rightTableSource",void 0);b.__decorate([k.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);b.__decorate([q.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);b.__decorate([n.enumeration(d)],a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=x=b.__decorate([h.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let t=null,y=null;q={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,
"query-table":e.QueryTableDataSource,raster:g.RasterDataSource,table:p.TableDataSource}};a.DataLayerSource=z=class extends f.JSONSupport{constructor(B){super(B);this.type="data-layer"}clone(){const {fields:B,dataSource:A}=this;return new z({fields:B,dataSource:A})}};b.__decorate([n.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);b.__decorate([c.property({type:[w],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);b.__decorate([c.property({types:q,json:{write:!0}})],
a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=z=b.__decorate([h.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=l.ensureType(a.DataLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;a.MapLayerSource=l=class extends d.JSONSupport{constructor(m){super(m);this.type="map-layer"}clone(){const {mapLayerId:m,gdbVersion:w}=this;return new l({mapLayerId:m,gdbVersion:w})}};b.__decorate([k.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);b.__decorate([f.property({type:c.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.MapLayerSource.prototype,
"gdbVersion",void 0);a.MapLayerSource=l=b.__decorate([h.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){var r;a.QueryTableDataSource=r=class extends f.JSONSupport{constructor(e){super(e);this.type="query-table"}clone(){const {workspaceId:e,query:g,oidFields:p,spatialReference:v,geometryType:u}=this,x={workspaceId:e,query:g,oidFields:p,spatialReference:v?.clone()??void 0,geometryType:u};return new r(x)}};b.__decorate([h.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,
"workspaceId",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);b.__decorate([c.property({type:m,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);b.__decorate([h.enumeration(w.featureGeometryTypeKebabDictionary)],a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=r=b.__decorate([l.subclass("esri.layers.support.source.QueryTableDataSource")],
a.QueryTableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){var l;a.RasterDataSource=l=class extends d.JSONSupport{constructor(m){super(m);
this.type="raster"}clone(){const {workspaceId:m,dataSourceName:w}=this;return new l({workspaceId:m,dataSourceName:w})}};b.__decorate([k.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=l=b.__decorate([h.subclass("esri.layers.support.source.RasterDataSource")],
a.RasterDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){var l;a.TableDataSource=l=class extends d.JSONSupport{constructor(m){super(m);
this.type="table"}clone(){const {workspaceId:m,gdbVersion:w,dataSourceName:r}=this;return new l({workspaceId:m,gdbVersion:w,dataSourceName:r})}};b.__decorate([k.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],
a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=l=b.__decorate([h.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){b=class extends b.ClonableMixin(d.JSONSupport){constructor(h){super(h);this.searchType=this.searchTerm=this.operator=this.onFields=null}};a.__decorate([f.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&0<this.onFields.length}}}}})],b.prototype,"onFields",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"operator",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"searchTerm",
void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"searchType",void 0);return b=a.__decorate([k.subclass("esri.rest.support.FullTextSearch")],b)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),function(a,
b,d,f,c,q,n,k,h,l){var m;b=new d.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});f=m=class extends f.JSONSupport{constructor(w){super(w);this.extent=null;this.mode="view";this.originPosition="upper-left";this.tolerance=1}clone(){return new m(c.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};a.__decorate([q.property({type:l,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],f.prototype,"extent",void 0);a.__decorate([q.property({type:["view",
"edit"],json:{write:!0}})],f.prototype,"mode",void 0);a.__decorate([q.property({type:String,json:{read:b.read,write:b.write}})],f.prototype,"originPosition",void 0);a.__decorate([q.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],f.prototype,"tolerance",void 0);return f=m=a.__decorate([h.subclass("esri.rest.support.QuantizationParameters")],f)})},"esri/rest/support/spatialRelationships":function(){define(["exports","../../core/jsonMap"],function(a,b){b=
new b.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});a.spatialRelKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,d,f,c,q,n,k,h){var l;b=new b.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});d=l=class extends d.JSONSupport{constructor(m){super(m);this.maxVertexCount=this.maxRecordCount=this.maxPointCount=void 0;this.statisticParameters=
this.statisticType=this.outStatisticFieldName=this.onStatisticField=null}writeStatisticParameters(m,w){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)w.statisticParameters=f.clone(m)}clone(){return new l({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:f.clone(this.statisticParameters)})}};
a.__decorate([c.property({type:Number,json:{write:!0}})],d.prototype,"maxPointCount",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],d.prototype,"maxRecordCount",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],d.prototype,"maxVertexCount",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"onStatisticField",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],d.prototype,"outStatisticFieldName",void 0);a.__decorate([c.property({type:String,
json:{read:{source:"statisticType",reader:b.read},write:{target:"statisticType",writer:b.write}}})],d.prototype,"statisticType",void 0);a.__decorate([c.property({type:Object})],d.prototype,"statisticParameters",void 0);a.__decorate([h.writer("statisticParameters")],d.prototype,"writeStatisticParameters",null);return d=l=a.__decorate([k.subclass("esri.rest.support.StatisticDefinition")],d)})},"esri/layers/mixins/FeatureLayerBase":function(){define("exports ../../chunks/tslib.es6 ../../core/Collection ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/HeightModelInfo ../../geometry/SpatialReference ../support/arcgisLayerUrl ../support/commonProperties ../support/EditFieldsInfo ../support/FeatureIndex ../support/featureLayerUtils ../support/GeometryFieldsInfo ../support/LayerFloorInfo ../support/Relationship ../support/serviceCapabilitiesUtils ../support/Subtype ../../time/timeZoneUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D){a.FeatureLayerBase=E=>{E=class extends E{constructor(){super(...arguments);this.dateFieldsTimeZone=this.capabilities=this.copyright=null;this.datesInUnknownTimezone=!1;this.globalIdField=this.geometryType=this.geometryFieldsInfo=this.gdbVersion=this.fullExtent=this.floorInfo=this.elevationInfo=this.editingInfo=this.editFieldsInfo=this.displayField=this.definitionExpression=null;this.hasZ=this.hasM=void 0;this.historicMoment=this.heightModelInfo=
null;this.indexes=new (d.ofType(u.FeatureIndex));this.isTable=!1;this.layerId=void 0;this.minScale=this.maxScale=0;this.relationships=this.preferredTimeZone=this.objectIdField=null;this.returnZ=this.returnM=void 0;this.sourceJSON=this.serviceItemId=this.serviceDefinitionExpression=null;this.spatialReference=e.WGS84;this.trackIdField=this.subtypes=this.subtypeField=null;this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const {capabilities:J}=this;if(J){const {query:G,operations:M,
editing:L}=J;if(!G.supportsQueryByOthers||!G.supportsQueryByAnonymous||M.supportsEditing&&!(L.supportsUpdateByOthers&&L.supportsUpdateByAnonymous&&L.supportsDeleteByOthers&&L.supportsDeleteByAnonymous))return"load"}if(this.userHasUpdateItemPrivileges){if(x.isLayerCacheStale(this))return"load";if(this.hasUpdateItemRestrictions)return J.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const F=this.editFieldsInfo;return(F?.creatorField||
F?.editorField)&&J?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(J,F){return B.getFeatureLayerCapabilities(F,this.url)}readEditingInfo(J,F){({editingInfo:J}=F);return J?{lastEditDate:null!=J.lastEditDate?new Date(J.lastEditDate):null}:null}get effectiveCapabilities(){var J=this.capabilities;if(!J)return null;J=f.clone(J);const {operations:F,editing:G}=J;if(this.sourceJSON?.isMultiServicesView)return this.userHasUpdateItemPrivileges&&(F.supportsQuery=!0),J;if(this.userHasUpdateItemPrivileges)return F.supportsAdd=
F.supportsDelete=F.supportsEditing=F.supportsQuery=F.supportsUpdate=G.supportsDeleteByOthers=G.supportsGeometryUpdate=G.supportsUpdateByOthers=!0,J;this.userHasFullEditingPrivileges&&F.supportsEditing&&(F.supportsAdd=F.supportsDelete=F.supportsUpdate=G.supportsGeometryUpdate=!0);return J}readGlobalIdFieldFromService(J,F){return x.readGlobalIdField(F)}get hasFullEditingRestrictions(){const J=this.capabilities;if(!J||this.sourceJSON?.isMultiServicesView)return!1;const {operations:F,editing:G}=J;return F.supportsEditing&&
!(F.supportsAdd&&F.supportsDelete&&F.supportsUpdate&&G.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const J=this.capabilities;if(!J)return!1;const {operations:F,editing:G}=J;return this.sourceJSON?.isMultiServicesView?!F.supportsQuery:!(F.supportsAdd&&F.supportsDelete&&F.supportsEditing&&F.supportsQuery&&F.supportsUpdate&&G.supportsDeleteByOthers&&G.supportsGeometryUpdate&&G.supportsUpdateByOthers)}readIsTableFromService(J,F){return"Table"===F.type}readMaxScale(J,F){return F.effectiveMaxScale||
J||0}readMinScale(J,F){return F.effectiveMinScale||J||0}readObjectIdFieldFromService(J,F){return x.readObjectIdField(F)}readServiceDefinitionExpression(J,F){return F.definitionQuery||F.definitionExpression}set url(J){J=g.sanitizeUrlWithLayerId({layer:this,url:J,nonStandardUrlAllowed:!0,logger:c.getLogger(this)});this._set("url",J.url);null!=J.layerId&&this._set("layerId",J.layerId)}writeUrl(J,F,G,M){g.writeUrlWithLayerId(this,J,null,F,M)}readVersion(J,F){return x.readVersion(F)}};b.__decorate([q.property({readOnly:!0})],
E.prototype,"authenticationTriggerEvent",null);b.__decorate([q.property({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],E.prototype,"copyright",void 0);b.__decorate([q.property({readOnly:!0,json:{read:!1,origins:{service:{read:{source:"advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" ")}}}}})],
E.prototype,"capabilities",void 0);b.__decorate([k.reader("service","capabilities")],E.prototype,"readCapabilitiesFromService",null);b.__decorate([q.property(D.timeZoneProperty("dateFieldsTimeReference"))],E.prototype,"dateFieldsTimeZone",void 0);b.__decorate([q.property({type:Boolean})],E.prototype,"datesInUnknownTimezone",void 0);b.__decorate([q.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],E.prototype,
"definitionExpression",void 0);b.__decorate([q.property({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],E.prototype,"displayField",void 0);b.__decorate([q.property({readOnly:!0,type:v})],E.prototype,"editFieldsInfo",void 0);b.__decorate([q.property({readOnly:!0})],E.prototype,"editingInfo",void 0);b.__decorate([k.reader("editingInfo")],E.prototype,"readEditingInfo",null);b.__decorate([q.property({readOnly:!0})],E.prototype,"effectiveCapabilities",null);b.__decorate([q.property((()=>
{const J=f.clone(p.elevationInfo),F=J.json.origins;F["web-map"]={read:!1,write:!1};F["portal-item"]={read:!1,write:!1};return J})())],E.prototype,"elevationInfo",void 0);b.__decorate([q.property({type:t,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:m.excludeTables}}}}})],E.prototype,"floorInfo",void 0);b.__decorate([q.property({type:w,json:{origins:{service:{read:{source:"extent"}}}}})],E.prototype,"fullExtent",
void 0);b.__decorate([q.property()],E.prototype,"gdbVersion",void 0);b.__decorate([q.property({readOnly:!0,type:z,json:{read:{source:"geometryProperties"}}})],E.prototype,"geometryFieldsInfo",void 0);b.__decorate([q.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:x.geometryTypeKebabDict.read}}}})],E.prototype,"geometryType",void 0);b.__decorate([q.property({type:String})],E.prototype,"globalIdField",void 0);b.__decorate([k.reader("service",
"globalIdField",["globalIdField","fields"])],E.prototype,"readGlobalIdFieldFromService",null);b.__decorate([q.property({readOnly:!0})],E.prototype,"hasFullEditingRestrictions",null);b.__decorate([q.property({type:Boolean,json:{origins:{service:{read:!0}}}})],E.prototype,"hasM",void 0);b.__decorate([q.property({readOnly:!0})],E.prototype,"hasUpdateItemRestrictions",null);b.__decorate([q.property({type:Boolean,json:{origins:{service:{read:!0}}}})],E.prototype,"hasZ",void 0);b.__decorate([q.property({readOnly:!0,
type:r})],E.prototype,"heightModelInfo",void 0);b.__decorate([q.property({type:Date})],E.prototype,"historicMoment",void 0);b.__decorate([q.property({type:d.ofType(u.FeatureIndex),readOnly:!0})],E.prototype,"indexes",void 0);b.__decorate([q.property({readOnly:!0})],E.prototype,"isTable",void 0);b.__decorate([k.reader("service","isTable",["type"])],E.prototype,"readIsTableFromService",null);b.__decorate([q.property({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},
read:!1}})],E.prototype,"layerId",void 0);b.__decorate([q.property(p.maxScale)],E.prototype,"maxScale",void 0);b.__decorate([k.reader("service","maxScale",["maxScale","effectiveMaxScale"])],E.prototype,"readMaxScale",null);b.__decorate([q.property(p.minScale)],E.prototype,"minScale",void 0);b.__decorate([k.reader("service","minScale",["minScale","effectiveMinScale"])],E.prototype,"readMinScale",null);b.__decorate([q.property({type:String})],E.prototype,"objectIdField",void 0);b.__decorate([k.reader("service",
"objectIdField",["objectIdField","fields"])],E.prototype,"readObjectIdFieldFromService",null);b.__decorate([q.property(D.timeZoneProperty("preferredTimeReference"))],E.prototype,"preferredTimeZone",void 0);b.__decorate([q.property({type:[y],readOnly:!0})],E.prototype,"relationships",void 0);b.__decorate([q.property({type:Boolean})],E.prototype,"returnM",void 0);b.__decorate([q.property({type:Boolean})],E.prototype,"returnZ",void 0);b.__decorate([q.property({readOnly:!0,json:{write:!1}})],E.prototype,
"serverGens",void 0);b.__decorate([q.property({readOnly:!0})],E.prototype,"serviceDefinitionExpression",void 0);b.__decorate([k.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],E.prototype,"readServiceDefinitionExpression",null);b.__decorate([q.property({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],E.prototype,"serviceItemId",void 0);b.__decorate([q.property()],E.prototype,"sourceJSON",void 0);b.__decorate([q.property({type:e,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],
E.prototype,"spatialReference",void 0);b.__decorate([q.property({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],E.prototype,"subtypeField",void 0);b.__decorate([q.property({type:[A],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],E.prototype,"subtypes",void 0);b.__decorate([q.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],E.prototype,"trackIdField",void 0);b.__decorate([q.property(p.url)],E.prototype,"url",null);b.__decorate([l.writer("url")],E.prototype,
"writeUrl",null);b.__decorate([q.property({json:{origins:{service:{read:!0}},read:!1}})],E.prototype,"version",void 0);b.__decorate([k.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],E.prototype,"readVersion",null);return E=b.__decorate([h.subclass("esri.layers.mixins.FeatureLayerBase")],E)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){function r(v,u){return new q("height-unit:unsupported",`Height unit of value '${v}' is not supported`,u)}var e;const g=d.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});k=g.jsonValues.slice();b.removeUnordered(k,"orthometric");const p=d.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards",
"sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});b=e=class extends f.JSONSupport{constructor(v){super(v);this.heightModel="gravity-related-height";this.heightUnit="meters";this.vertCRS=null}writeHeightModel(v,u,x){return g.write(v,
u,x)}readHeightModel(v,u,x){if(u=g.read(v))return u;if(x?.messages){u=x.messages;var z=u.push;v=new q("height-model:unsupported",`Height model of value '${v}' is not supported`,{context:x});z.call(u,v)}return null}readHeightUnit(v,u,x){if(u=p.read(v))return u;x?.messages&&x.messages.push(r(v,{context:x}));return null}readHeightUnitService(v,u,x){if(u=c.unitFromRESTJSON(v)||p.read(v))return u;x?.messages&&x.messages.push(r(v,{context:x}));return null}readVertCRS(v,u){return u.vertCRS||u.ellipsoid||
u.geoid}clone(){return new e({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(v){return v?this===v?!0:this.heightModel===v.heightModel&&this.heightUnit===v.heightUnit&&this.vertCRS===v.vertCRS:!1}static deriveUnitFromSR(v,u){u=c.getVerticalUnitStringForSR(u);return new e({heightModel:v.heightModel,heightUnit:u??void 0,vertCRS:v.vertCRS})}write(v,u){u={origin:"web-scene",...u};return super.write(v,u)}static fromJSON(v){if(!v)return null;const u=new e;u.read(v,
{origin:"web-scene"});return u}};a.__decorate([n.property({type:g.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:k,default:"ellipsoidal"}}}})],b.prototype,"heightModel",void 0);a.__decorate([w.writer("web-scene","heightModel")],b.prototype,"writeHeightModel",null);a.__decorate([l.reader(["web-scene","service"],"heightModel")],b.prototype,"readHeightModel",null);a.__decorate([n.property({type:p.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:p.jsonValues,write:p.write}}}})],
b.prototype,"heightUnit",void 0);a.__decorate([l.reader("web-scene","heightUnit")],b.prototype,"readHeightUnit",null);a.__decorate([l.reader("service","heightUnit")],b.prototype,"readHeightUnitService",null);a.__decorate([n.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"vertCRS",void 0);a.__decorate([l.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],b.prototype,"readVertCRS",null);return b=e=a.__decorate([m.subclass("esri.geometry.HeightModelInfo")],
b)})},"esri/layers/support/EditFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../time/timeZoneUtils".split(" "),function(a,b,d,f,c,q,n,k,h){b=class extends b.ClonableMixin(d.JSONSupport){constructor(l){super(l);this.timeZone=this.realm=this.editDateField=this.editorField=this.creationDateField=this.creatorField=
null}};a.__decorate([f.property()],b.prototype,"creatorField",void 0);a.__decorate([f.property()],b.prototype,"creationDateField",void 0);a.__decorate([f.property()],b.prototype,"editorField",void 0);a.__decorate([f.property()],b.prototype,"editDateField",void 0);a.__decorate([f.property()],b.prototype,"realm",void 0);a.__decorate([f.property(h.timeZoneProperty("dateFieldsTimeReference",!0))],b.prototype,"timeZone",void 0);return b=a.__decorate([k.subclass("esri.layers.support.EditFieldsInfo")],b)})},
"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){a.FeatureIndex=class extends d.ClonableMixin(f.JSONSupport){constructor(l){super(l)}};b.__decorate([c.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"name",void 0);
b.__decorate([c.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"fields",void 0);b.__decorate([c.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isAscending",void 0);b.__decorate([c.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"indexType",void 0);b.__decorate([c.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isUnique",void 0);b.__decorate([c.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,
"description",void 0);a.FeatureIndex=b.__decorate([h.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureLayerUtils":function(){define("require exports ../../kernel ../../symbols ../../core/asyncUtils ../../core/Error ../../core/jsonMap ../../core/sql ../../core/accessorSupport/extensions/serializableProperty/reader ./featureQueryAll ./layerUtils ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../rest/support/AttachmentQuery ../../rest/support/Query ../../rest/support/RelationshipQuery".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p){function v(y,B,A){const {attributes:D}=B,{objectIdField:E}=y;return y.capabilities?.data?.supportsAttachment?B?D?E&&D[E]?Promise.resolve():Promise.reject(new q(A,`feature is missing the identifying attribute ${E}`)):Promise.reject(new q(A,"'attributes' are required on a feature to query attachments")):Promise.reject(new q(A,"A feature is required to add/delete/update attachments")):Promise.reject(new q(A,"this layer doesn't support attachments"))}async function u(y){return(await y.load()).source}
async function x(y,B){if(d.id&&!d.id.findCredential(y)){var A;try{const D=await m.getOwningPortalUrl(y,B);D&&(A=await d.id.checkSignInStatus(`${D}/sharing`))}catch(D){}if(A)try{await d.id.getCredential(y,{signal:null!=B?B.signal:null})}catch(D){}}}async function z(y,B,A){if(null==B)return null;const D=[],{objectIdField:E}=y;B.forEach(J=>{let F=null;"attributes"in J?({attributes:J}=J,F={globalId:J[A],objectId:null!=J[E]&&-1!==J[E]?J[E]:null}):F={globalId:J.globalId,objectId:null!=J.objectId&&-1!==
J.objectId?J.objectId:null};null!=F.globalId&&(null!=F.objectId&&-1!==F.objectId||D.push(F.globalId))});if(0===D.length)return null;B=y.createQuery();B.where=D.map(J=>`${A}='${J}'`).join(" OR ");B.returnGeometry=!1;B.outFields=[E,A];B.cacheHint=!1;B=await c.resultOrAbort(l.queryAllJSON(y,B));if(!B.ok)return null;y=new Map;B=B.value.features;for(const J of B){B=J.attributes[A];const F=J.attributes[E];null!=B&&null!=F&&-1!==F&&y.set(B,F)}return y}n=new n.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",
esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});const t=h.createTypeReader({types:f.symbolTypesRenderer});b.addAttachment=async function(y,B,A,D){const E=await u(y);await v(y,B,D);if(!E.addAttachment)throw new q(D,"Layer source does not support addAttachment capability");return E.addAttachment(B,A)};b.applyEdits=async function(y,B,A){const {applyEdits:D}=await new Promise((M,L)=>a(["../graphics/editingSupport"],M,L)),E=await y.load(),{source:J,globalIdField:F}=
E;let G=A;"feature"===E.type&&E.infoFor3D&&null!=B.deleteFeatures&&null!=F&&(G={...G,globalIdToObjectId:await z(y,B.deleteFeatures,F)});return D(E,J,B,A)};b.computeEffectiveEditingEnabled=function(y){return y.sourceJSON?.isMultiServicesView?!1:y.userHasUpdateItemPrivileges||y.editingEnabled};b.createDefaultRenderer=function(y,B){if(y.defaultSymbol)return y.types?.length?new r({defaultSymbol:t(y.defaultSymbol,y,B),field:y.typeIdField,uniqueValueInfos:y.types.map(A=>({id:A.id,symbol:t(A.symbol,A,B)}))}):
new w({symbol:t(y.defaultSymbol,y,B)})};b.createQuery=function(y){const B=new g,A=y.capabilities?.data,D=y.capabilities?.query;B.historicMoment=y.historicMoment;B.gdbVersion=y.gdbVersion;B.returnGeometry=!0;D&&(B.compactGeometryEnabled=D.supportsCompactGeometry,B.defaultSpatialReferenceEnabled=D.supportsDefaultSpatialReference);A&&(A.supportsZ&&null!=y.returnZ&&(B.returnZ=y.returnZ),A.supportsM&&null!=y.returnM&&(B.returnM=y.returnM));B.outFields=["*"];const {timeOffset:E,timeExtent:J}=y;B.timeExtent=
null!=E&&null!=J?J.offset(-E.value,E.unit):J||null;B.multipatchOption="multipatch"===y.geometryType?"xyFootprint":null;return B};b.deleteAttachments=async function(y,B,A,D){const E=await u(y);await v(y,B,D);if(!E.deleteAttachments)throw new q(D,"Layer source does not support deleteAttachments capability");return E.deleteAttachments(B,A)};b.ensureLayerCredential=async function(y,B,A){const D=y.parsedUrl?.path;D&&y.authenticationTriggerEvent===B&&await x(D,A)};b.fetchRecomputedExtents=async function(y,
B,A){y=(await y.load({signal:B?.signal})).source;if(!y.fetchRecomputedExtents)throw new q(A,"Layer source does not support fetchUpdates capability");return y.fetchRecomputedExtents(B)};b.geometryTypeKebabDict=n;b.getGlobalIdToObjectIdMap=z;b.hasDataChanged=async function(y){const B=y.source;if(B?.refresh)try{const {dataChanged:A,updates:D}=await B.refresh();null!=D&&(y.sourceJSON={...y.sourceJSON,...D},y.read(D,{origin:"service",url:y.parsedUrl}));if(A)return!0}catch{}if(y.definitionExpression)try{return(await k.parseWhereClause(y.definitionExpression,
y.fieldsIndex)).hasDateFunctions}catch{}return!1};b.isLayerCacheStale=function(y){let B=y.sourceJSON?.cacheMaxAge;if(!B)return!1;y=y.editingInfo?.lastEditDate?.getTime();if(null==y)return!0;B*=1E3;return Date.now()-y<B};b.queryAttachments=async function(y,B,A,D){B=e.from(B);await y.load();A=y.source;y=y.capabilities;if(!y?.data?.supportsAttachment)throw new q(D,"this layer doesn't support attachments");const {attachmentTypes:E,objectIds:J,globalIds:F,num:G,size:M,start:L,where:T}=B;if(!y?.operations?.supportsQueryAttachments&&
(0<E?.length||0<F?.length||0<M?.length||G||L||T))throw new q(D,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",B);if(!(J?.length||F?.length||T))throw new q(D,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",B);if(!A.queryAttachments)throw new q(D,"Layer source does not support queryAttachments capability",B);return A.queryAttachments(B)};b.queryExtent=async function(y,B,A,D){const E=await u(y);if(!E.queryExtent)throw new q(D,
"Layer source does not support queryExtent capability");return E.queryExtent(g.from(B)??y.createQuery(),A)};b.queryFeatureCount=async function(y,B,A,D){const E=await u(y);if(!E.queryFeatureCount)throw new q(D,"Layer source does not support queryFeatureCount capability");return E.queryFeatureCount(g.from(B)??y.createQuery(),A)};b.queryObjectIds=async function(y,B,A,D){const E=await u(y);if(!E.queryObjectIds)throw new q(D,"Layer source does not support queryObjectIds capability");return E.queryObjectIds(g.from(B)??
y.createQuery(),A)};b.queryRelatedFeatures=async function(y,B,A,D){y=await u(y);if(!y.queryRelatedFeatures)throw new q(D,"Layer source does not support queryRelatedFeatures capability");return y.queryRelatedFeatures(p.from(B),A)};b.queryRelatedFeaturesCount=async function(y,B,A,D){y=await u(y);if(!y.queryRelatedFeaturesCount)throw new q(D,"Layer source does not support queryRelatedFeaturesCount capability");return y.queryRelatedFeaturesCount(p.from(B),A)};b.readGlobalIdField=function(y){const {globalIdField:B,
fields:A}=y;if(B)return B;if(A)for(const D of A)if("esriFieldTypeGlobalID"===D.type)return D.name};b.readObjectIdField=function(y){const {objectIdField:B,fields:A}=y;if(B)return B;if(A)for(const D of A)if("esriFieldTypeOID"===D.type)return D.name};b.readVersion=function(y){return y.currentVersion?y.currentVersion:y.hasOwnProperty("capabilities")||y.hasOwnProperty("drawingInfo")||y.hasOwnProperty("hasAttachments")||y.hasOwnProperty("htmlPopupType")||y.hasOwnProperty("relationships")||y.hasOwnProperty("timeInfo")||
y.hasOwnProperty("typeIdField")||y.hasOwnProperty("types")?10:9.3};b.updateAttachment=async function(y,B,A,D,E){const J=await u(y);await v(y,B,E);if(!J.updateAttachment)throw new q(E,"Layer source does not support updateAttachment capability");return J.updateAttachment(B,A,D)};b.uploadAssets=async function(y,B,A){const {uploadAssets:D}=await new Promise((E,J)=>a(["../graphics/editingSupport"],E,J));y=await y.load();return D(y,y.source,B,A)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/featureQueryAll":function(){define(["exports","../../rest/support/Query"],function(a,b){function d(q){return c(q)*f(q)}function f(q){return q.capabilities.query.maxRecordCount||2E3}function c(q){return q.capabilities.query.supportsMaxRecordCountFactor?b.MAX_MAX_RECORD_COUNT_FACTOR:1}a.getMaxRecordCountFactor=c;a.getMaximumQuerySize=d;a.getMaximumRecordCount=f;a.queryAllJSON=async function(q,n,k){n=n.clone();q.capabilities.query.supportsMaxRecordCountFactor&&(n.maxRecordCountFactor=
c(q));const h=d(q),l=q.capabilities.query.supportsPagination;n.start=0;n.num=h;let m=null;for(;;){const w=await q.source.queryFeaturesJSON(n,k);null==m?m=w:m.features=m.features.concat(w.features);m.exceededTransferLimit=w.exceededTransferLimit;if(!l||!w.exceededTransferLimit)break;n.start+=h}return m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(h){super(h);this.attachmentsWhere=this.attachmentTypes=null;this.cacheHint=void 0;this.objectIds=this.num=this.name=this.globalIds=this.keywords=null;this.returnMetadata=!1;this.where=this.start=this.size=null}writeStart(h,l){l.resultOffset=this.start;l.resultRecordCount=this.num||10}clone(){return new k(d.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,
where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);a.__decorate([f.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],b.prototype,"attachmentsWhere",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],
b.prototype,"cacheHint",void 0);a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"keywords",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"globalIds",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([f.property({type:Boolean,
json:{default:!1,write:!0}})],b.prototype,"returnMetadata",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([f.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([n.writer("start"),n.writer("num")],b.prototype,"writeStart",null);a.__decorate([f.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=k=a.__decorate([q.subclass("esri.rest.support.AttachmentQuery")],
b);b.from=c.ensureType(b);return b})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),function(a,b,d,f,c,q,n,k,h,l){var m;b=m=class extends d.JSONSupport{constructor(w){super(w);
this.dynamicDataSource=this.cacheHint=void 0;this.gdbVersion=null;this.geometryPrecision=void 0;this.historicMoment=null;this.maxAllowableOffset=void 0;this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.num=this.start=this.relationshipId=void 0;this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.where=null}_writeHistoricMoment(w,r){r.historicMoment=w&&w.getTime()}writeStart(w,r){r.resultOffset=this.start;r.resultRecordCount=this.num||10;0<this.start&&null==
this.where&&(r.definitionExpression="1\x3d1")}clone(){return new m(f.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,
num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};a.__decorate([c.property({type:Boolean,json:{write:!0}})],b.prototype,"cacheHint",void 0);a.__decorate([c.property({type:h.DataLayerSource,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);a.__decorate([c.property({type:Date})],
b.prototype,"historicMoment",void 0);a.__decorate([k.writer("historicMoment")],b.prototype,"_writeHistoricMoment",null);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);a.__decorate([c.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([c.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([c.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);a.__decorate([c.property({type:l,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);a.__decorate([c.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([c.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([k.writer("start"),k.writer("num")],b.prototype,"writeStart",null);a.__decorate([c.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([c.property({json:{write:!0}})],
b.prototype,"returnGeometry",void 0);a.__decorate([c.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],b.prototype,"returnM",void 0);a.__decorate([c.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],b.prototype,"returnZ",void 0);a.__decorate([c.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=m=a.__decorate([n.subclass("esri.rest.support.RelationshipQuery")],
b);b.from=q.ensureType(b);return b})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){b=class extends b.ClonableMixin(d.JSONSupport){constructor(l){super(l);this.units=this.shapeLengthField=this.shapeAreaField=null}};
a.__decorate([c.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],b.prototype,"shapeAreaField",void 0);a.__decorate([c.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],b.prototype,"shapeLengthField",void 0);a.__decorate([c.property({type:String,json:{read:l=>f.areaUnitsJSONMap.read(l)||f.lengthUnitsJSONMap.read(l)}})],b.prototype,"units",void 0);return b=a.__decorate([h.subclass("esri.layers.support.GeometryFieldsInfo")],b)})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){var h;d=h=class extends d.JSONSupport{constructor(l){super(l);this.floorField=null;this.viewAllMode=!1;this.viewAllLevelIds=new b}clone(){return new h({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"floorField",void 0);a.__decorate([f.property({json:{read:!1,write:!1}})],d.prototype,"viewAllMode",void 0);a.__decorate([f.property({json:{read:!1,write:!1}})],
d.prototype,"viewAllLevelIds",void 0);return d=h=a.__decorate([k.subclass("esri.layers.support.LayerFloorInfo")],d)})},"esri/layers/support/Relationship":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){q=new d.JSONMap({esriRelCardinalityOneToOne:"one-to-one",
esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});d=new d.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});b=class extends b.ClonableMixin(f.JSONSupport){constructor(l){super(l);this.role=this.relationshipTableId=this.relatedTableId=this.name=this.keyFieldInRelationshipTable=this.keyField=this.id=this.composite=this.cardinality=null}};a.__decorate([c.property({json:{read:q.read,write:q.write}})],b.prototype,"cardinality",void 0);a.__decorate([c.property({json:{read:!0,
write:!0}})],b.prototype,"composite",void 0);a.__decorate([c.property({json:{read:!0,write:!0}})],b.prototype,"id",void 0);a.__decorate([c.property({json:{read:!0,write:!0}})],b.prototype,"keyField",void 0);a.__decorate([c.property({json:{read:!0,write:!0}})],b.prototype,"keyFieldInRelationshipTable",void 0);a.__decorate([c.property({json:{read:!0,write:!0}})],b.prototype,"name",void 0);a.__decorate([c.property({json:{read:!0,write:!0}})],b.prototype,"relatedTableId",void 0);a.__decorate([c.property({json:{read:!0,
write:!0}})],b.prototype,"relationshipTableId",void 0);a.__decorate([c.property({json:{read:d.read,write:d.write}})],b.prototype,"role",void 0);return b=a.__decorate([h.subclass("esri.layers.support.Relationship")],b)})},"esri/layers/support/serviceCapabilitiesUtils":function(){define(["exports","../../core/has","./arcgisLayerUrl","../../rest/support/jsonUtils"],function(a,b,d,f){function c(m){m=m?.supportedSpatialAggregationStatistics?.map(w=>w.toLowerCase());return{envelope:!!m?.includes("envelopeaggregate"),
centroid:!!m?.includes("centroidaggregate"),convexHull:!!m?.includes("convexhullaggregate")}}function q(m,w){return!!m?.supportedOperationsWithCacheHint?.map(r=>r.toLowerCase())?.includes(w.toLowerCase())}function n(m){const w=m.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:q(m.advancedQueryCapabilities,"queryAttachments"),supportsResize:f.readBoolean(m,"supportsAttachmentsResizing",!1)};w&&Array.isArray(w)&&
w.forEach(e=>{const g=l[e.name];g&&(r[g]=!!e.isEnabled)});return r}function k(m,w,r){m=m?m.toLowerCase().split(",").map(z=>z.trim()):[];r=r?d.parse(r):null;r=m.includes(null!=r&&"MapServer"===r.serverType?"data":"query");const e=m.includes("editing")&&!w.datesInUnknownTimezone;let g=e&&m.includes("create"),p=e&&m.includes("delete"),v=e&&m.includes("update");const u=m.includes("changetracking"),x=w.advancedQueryCapabilities;!e||g||p||v||(g=p=v=!0);return{supportsCalculate:f.readBoolean(w,"supportsCalculate",
!1),supportsTruncate:f.readBoolean(w,"supportsTruncate",!1),supportsValidateSql:f.readBoolean(w,"supportsValidateSql",!1),supportsAdd:g,supportsDelete:p,supportsEditing:e,supportsChangeTracking:u,supportsQuery:r,supportsQueryAnalytics:f.readBoolean(x,"supportsQueryAnalytic",!1),supportsQueryAttachments:f.readBoolean(x,"supportsQueryAttachments",!1),supportsQueryTopFeatures:f.readBoolean(x,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:f.readBoolean(w,"supportsAttachmentsResizing",!1),supportsSync:m.includes("sync"),
supportsUpdate:v,supportsExceedsLimitStatistics:f.readBoolean(w,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:f.readBoolean(w,"supportsAsyncConvert3D",!1)}}function h(m,w){const r=m.advancedQueryCapabilities,e=m.ownershipBasedAccessControlForFeatures,g=m.archivingInfo;var p=m.currentVersion;p=!w?.includes("MapServer")||p>=b("mapserver-pbf-version-support");w=d.isHostedAgolService(w);const v=new Set((m.supportedQueryFormats??"").split(",").map(u=>u.toLowerCase().trim()));return{supportsStatistics:f.readBoolean(r,
"supportsStatistics",m.supportsStatistics),supportsPercentileStatistics:f.readBoolean(r,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:f.readBoolean(r,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:c(r),supportsCentroid:f.readBoolean(r,"supportsReturningGeometryCentroid",!1),supportsDistance:f.readBoolean(r,"supportsQueryWithDistance",!1),supportsDistinct:f.readBoolean(r,"supportsDistinct",m.supportsAdvancedQueries),supportsExtent:f.readBoolean(r,
"supportsReturningQueryExtent",!1),supportsGeometryProperties:f.readBoolean(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:f.readBoolean(r,"supportsHavingClause",!1),supportsOrderBy:f.readBoolean(r,"supportsOrderBy",m.supportsAdvancedQueries),supportsPagination:f.readBoolean(r,"supportsPagination",!1),supportsQuantization:f.readBoolean(m,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:f.readBoolean(m,"supportsQuantizationEditMode",!1),supportsQueryGeometry:f.readBoolean(m,
"supportsReturningQueryGeometry",!1),supportsResultType:f.readBoolean(r,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:f.readBoolean(r,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:f.readBoolean(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:f.readBoolean(m,"useStandardizedQueries",!1),supportsTopFeaturesQuery:f.readBoolean(r,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:f.readBoolean(e,"allowAnonymousToQuery",!0),supportsQueryByOthers:f.readBoolean(e,
"allowOthersToQuery",!0),supportsHistoricMoment:f.readBoolean(g,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:p&&v.has("pbf"),supportsDisjointSpatialRelationship:f.readBoolean(r,"supportsDisjointSpatialRel",!1),supportsCacheHint:f.readBoolean(r,"supportsQueryWithCacheHint",!1)||q(r,"query"),supportsDefaultSpatialReference:f.readBoolean(r,"supportsDefaultSR",!1),supportsCompactGeometry:w,supportsFullTextSearch:f.readBoolean(r,"supportsFullTextSearch",!1),maxRecordCountFactor:f.readNumber(m,
"maxRecordCountFactor",void 0),maxRecordCount:f.readNumber(m,"maxRecordCount",void 0),standardMaxRecordCount:f.readNumber(m,"standardMaxRecordCount",void 0),tileMaxRecordCount:f.readNumber(m,"tileMaxRecordCount",void 0)}}const l={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};a.getFeatureLayerCapabilities=function(m,w){var r={supportsCacheHint:q(m.advancedQueryCapabilities,"queryAnalytics")},e=n(m);var g={isVersioned:f.readBoolean(m,
"isDataVersioned",!1),supportsAttachment:f.readBoolean(m,"hasAttachments",!1),supportsM:f.readBoolean(m,"hasM",!1),supportsZ:f.readBoolean(m,"hasZ",!1)};var p={supportsAdvancedFieldProperties:f.readBoolean(m,"supportsFieldDescriptionProperty",!1)},v=k(m.capabilities,m,w);w=h(m,w);var u=m.advancedQueryCapabilities;var x=f.readBoolean(u,"supportsAdvancedQueryRelated",!1);u={supportsPagination:f.readBoolean(u,"supportsQueryRelatedPagination",!1),supportsCount:x,supportsOrderBy:x,supportsCacheHint:q(u,
"queryRelated")};x={supportsCacheHint:q(m.advancedQueryCapabilities,"queryTopFilter")};const z=m.ownershipBasedAccessControlForFeatures,t=m?m.advancedEditingCapabilities:void 0;m={supportsGeometryUpdate:f.readBoolean(m,"allowGeometryUpdates",!0),supportsGlobalId:f.readBoolean(m,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:f.readBoolean(m,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:f.readBoolean(m,"supportsRollbackOnFailureParameter",
!1),supportsUpdateWithoutM:f.readBoolean(m,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:f.readBoolean(m,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:f.readBoolean(z,"allowAnonymousToDelete",!0),supportsDeleteByOthers:f.readBoolean(z,"allowOthersToDelete",!0),supportsUpdateByAnonymous:f.readBoolean(z,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:f.readBoolean(z,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:f.readBoolean(t,"supportsAsyncApplyEdits",!1),zDefault:f.readNumber(m,
"zDefault",void 0)};return{analytics:r,attachment:e,data:g,metadata:p,operations:v,query:w,queryRelated:u,queryTopFeatures:x,editing:m}};a.getVideoLayerCapabilities=function(m){return{operations:{supportsExportClip:f.readBoolean(m,"supportsExportClip",!1),supportsMensuration:f.readBoolean(m,"supportsMensuration",!1)},query:{supportsCoverageQuery:f.readBoolean(m,"supportsCoverageQuery",!1)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/jsonUtils":function(){define(["exports"],
function(a){function b(d,f,c){return d&&d.hasOwnProperty(f)?d[f]:c}a.readBoolean=function(d,f,c){return!!b(d,f,c)};a.readNumber=function(d,f,c){return b(d,f,c)};a.readValue=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Subtype":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m){b=class extends b.ClonableMixin(d.JSONSupport){constructor(w){super(w);this.code=null;this.defaultValues={};this.name=this.domains=null}readDomains(w){if(!w)return null;const r={};for(const e of Object.keys(w))r[e]=m.fromJSON(w[e]);return r}writeDomains(w,r){if(w){var e={};for(const g of Object.keys(w))w[g]&&(e[g]=w[g]?.toJSON());r.domains=e}}};a.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"code",void 0);a.__decorate([f.property({type:Object,
json:{write:!0}})],b.prototype,"defaultValues",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"domains",void 0);a.__decorate([k.reader("domains")],b.prototype,"readDomains",null);a.__decorate([l.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);return b=a.__decorate([h.subclass("esri.layers.support.Subtype")],b)})},"esri/layers/mixins/FeatureReductionLayer":function(){define("exports ../../chunks/tslib.es6 ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../core/Logger ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/AggregateField ../support/featureReductionUtils ../../renderers/visualVariables/SizeVariable ../../renderers/visualVariables/support/SizeStop ../../views/2d/layers/support/clusterUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y){a.FeatureReductionLayer=B=>{B=class extends B{constructor(...A){super(...A);this.addHandles(r.watch(()=>this.renderer,()=>{if(this.featureReduction){const D=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",D)}},r.sync))}set featureReduction(A){A=this._normalizeFeatureReduction(A);this._set("featureReduction",A)}set renderer(A){}_withClusterVariable(A,D,E){A=A.clone();"visualVariables"in A&&(A.visualVariables||
(A.visualVariables=[]),A.visualVariables.some(J=>"size"===J.type)||A.visualVariables.push(new z({field:"cluster_count",stops:[new t({value:1}),new t({useMinValue:!0,size:D}),new t({useMaxValue:!0,size:E})]})));return A}_normalizeFeatureReduction(A){if("cluster"!==A?.type)return A;const D=A.clone();var E=[new u({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})];const J=(D.fields??[]).filter(L=>!L.isAutoGenerated);var F=A.renderer&&!A.renderer.authoringInfo?.isAutoGenerated;const {clusterMinSize:G,
clusterMaxSize:M}=D;if(F)return D.fields=[...E,...J],E=this._withClusterVariable(D.renderer,G,M),D.effectiveFeatureRenderer=E,D.effectiveClusterRenderer=E,D;if(A.symbol){D.fields=[...E,...J];D.renderer=null;if(!this.renderer)return D.effectiveFeatureRenderer=null,D.effectiveClusterRenderer=null,D;F=y.createInferredClusterRenderer(E,this.renderer);F=this._withClusterVariable(F,G,M);A=new h({symbol:A.symbol,visualVariables:"visualVariables"in F&&F.visualVariables?F.visualVariables:[]});D.fields=[...E,
...J];D.effectiveFeatureRenderer=F;D.effectiveClusterRenderer=A;return D}if(!this.renderer)return A;A=y.createInferredClusterRenderer(E,this.renderer);D.fields=[...E,...J];D.renderer=A;E=this._withClusterVariable(A,G,M);D.effectiveFeatureRenderer=E;D.effectiveClusterRenderer=E;return D}};b.__decorate([e.property(x.featureReductionProperty)],B.prototype,"featureReduction",null);return B=b.__decorate([v.subclass("esri.layers.mixins.FeatureReductionLayer")],B)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/AggregateField":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),function(a,b,d,f,c,q,n,k){var h;b=h=class extends b.JSONSupport{constructor(l){super(l);this.isAutoGenerated=!1;this.statisticType=this.onStatisticExpression=this.onStatisticField=this.alias=this.name=null}clone(){return new h({name:this.name,
alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:d.clone(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"isAutoGenerated",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],
b.prototype,"onStatisticField",void 0);a.__decorate([f.property({type:k,json:{write:!0}})],b.prototype,"onStatisticExpression",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"statisticType",void 0);return b=h=a.__decorate([n.subclass("esri.layers.support.AggregateField")],b)})},"esri/layers/support/ExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){b=class extends b.ClonableMixin(d.JSONSupport){constructor(h){super(h);this.returnType=this.title=this.expression=null}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"returnType",void 0);return b=a.__decorate([k.subclass("esri.layers.support.ExpressionInfo")],b)})},"esri/layers/support/featureReductionUtils":function(){define("exports ../../core/accessorSupport/layerContainerType ./FeatureReduction ./FeatureReductionBinning ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),
function(a,b,d,f,c,q){const n={key:"type",base:d.FeatureReduction,typeMap:{cluster:c,binning:f}};a.featureReductionProperty={types:{key:"type",base:d.FeatureReduction,typeMap:{selection:q,cluster:c,binning:f}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:n},"portal-item":{types:n},"web-scene":{types:{key:"type",base:d.FeatureReduction,typeMap:{selection:q}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:b.excludeTables}}}}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k){a.FeatureReduction=class extends d.JSONSupport{constructor(){super(...arguments);this.type=null}};b.__decorate([f.property({type:["selection","cluster","binning"],
readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=b.__decorate([k.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../core/lang ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./FeatureReduction ./LabelClass".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E){var J;d=J=class extends D.FeatureReduction{constructor(F){super(F);this.type="binning";this.binType="geohash";this.fixedBinLevel=3;this.labelingInfo=null;this.labelsVisible=!0;this.maxScale=0;this.popupEnabled=!0;this.popupTemplate=null;this.fields=[];this.renderer=null}writeFields(F,G,M){F=F.filter(L=>"avg_angle"!==L.statisticType).map(L=>L.toJSON());e.setDeepValue(M,F,G)}readRenderer(F,G,M){return(F=G.drawingInfo?.renderer)?m.read(F,
G,M)??void 0:A.createDefaultRenderer(G,M)}clone(){return new J({fields:r.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:r.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:r.clone(this.popupTemplate),renderer:r.clone(this.renderer)})}};a.__decorate([u.enumeration({binning:"binning"})],d.prototype,"type",void 0);a.__decorate([u.enumeration({geohash:"geohash"})],d.prototype,"binType",void 0);a.__decorate([g.property({type:Number,
range:{min:1,max:9},json:{write:!0}})],d.prototype,"fixedBinLevel",void 0);a.__decorate([g.property({type:[E],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],d.prototype,"labelingInfo",void 0);a.__decorate([g.property(B.labelsVisible)],d.prototype,"labelsVisible",void 0);a.__decorate([g.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],d.prototype,"maxScale",void 0);a.__decorate([g.property(B.popupEnabled)],d.prototype,"popupEnabled",
void 0);a.__decorate([g.property({type:b,json:{name:"popupInfo",write:!0}})],d.prototype,"popupTemplate",void 0);a.__decorate([g.property({type:[y],json:{write:!0}})],d.prototype,"fields",void 0);a.__decorate([t.writer("fields")],d.prototype,"writeFields",null);a.__decorate([g.property({types:w.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],d.prototype,"renderer",void 0);a.__decorate([x.reader("renderer",["drawingInfo.renderer"])],d.prototype,"readRenderer",null);return d=J=a.__decorate([z.subclass("esri.layers.support.FeatureReductionBinning")],
d)})},"esri/layers/support/LabelClass":function(){define("../../chunks/tslib.es6 ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ./layerUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v){function u(y,B,A){return{enabled:!g.isSceneServiceLayer(A?.layer)}}function x(y){return y?"service"===y.origin?!1:"map-image"!==y.layer?.type:!0}function z(y){return"map-image"===y?.type?!!y.capabilities?.exportMap?.supportsArcadeExpressionForLabeling:!1}var t;d=new d.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});f=t=class extends f.JSONSupport{static evaluateWhere(y,B){const A=(D,E,J)=>{switch(E){case "\x3d":return D==J;case "\x3c\x3e":return D!=J;case "\x3e":return D>J;case "\x3e\x3d":return D>=J;case "\x3c":return D<J;case "\x3c\x3d":return D<=J}return!1};try{if(null==y)return!0;const D=y.split(" ");if(3===D.length)return A(B[D[0]],D[1],D[2]);if(7===D.length){const E=A(B[D[0]],D[1],D[2]),J=D[3],F=A(B[D[4]],D[5],D[6]);switch(J){case "AND":return E&&F;case "OR":return E||F}}return!1}catch(D){console.log("Error.: can't parse \x3d "+
y)}}constructor(y){super(y);this.type="label";this.name=null;this.allowOverrun=!1;this.deconflictionStrategy="static";this.labelPlacement=this.labelExpressionInfo=this.labelExpression=null;this.labelPosition="curved";this.minScale=this.maxScale=0;this.repeatLabel=!0;this.repeatLabelDistance=null;this.symbol=p.defaultTextSymbol2D;this.useCodedValues=void 0;this.where=null}readLabelExpression(y,B){B=B.labelExpressionInfo;if(!B||!B.value&&!B.expression)return y}writeLabelExpression(y,B,A){if(this.labelExpressionInfo)if(null!=
this.labelExpressionInfo.value)y=e.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const D=e.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);D&&(y="["+D+"]")}null!=y&&(B[A]=y)}writeLabelExpressionInfo(y,B,A,D){if(null==y&&null!=this.labelExpression&&x(D))y=new r({expression:this.getLabelExpressionArcade()});else if(!y)return;y=y.toJSON(D);y.expression&&(B[A]=y)}writeMaxScale(y,B){if(y||this.minScale)B.maxScale=y}writeMinScale(y,
B){if(y||this.maxScale)B.minScale=y}getLabelExpression(){return e.getLabelExpression(this)}getLabelExpressionArcade(){return e.getLabelExpressionArcade(this)}getLabelExpressionSingleField(){return e.getLabelExpressionSingleField(this)}hash(){return JSON.stringify(this)}clone(){return new t({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:c.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,
maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:c.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};a.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:u}}}}})],f.prototype,"allowOverrun",void 0);a.__decorate([n.property({type:String,
json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:u}}}}})],f.prototype,"deconflictionStrategy",void 0);a.__decorate([n.property({type:String,json:{write:{overridePolicy(y,B,A){return this.labelExpressionInfo&&"service"===A?.origin&&z(A.layer)?{enabled:!1}:{allowNull:!0}}}}})],f.prototype,"labelExpression",void 0);a.__decorate([l.reader("labelExpression")],f.prototype,"readLabelExpression",null);a.__decorate([w.writer("labelExpression")],
f.prototype,"writeLabelExpression",null);a.__decorate([n.property({type:r,json:{write:{overridePolicy(y,B,A){return x(A)||z(A?.layer)?{allowNull:!0}:{enabled:!1}}}}})],f.prototype,"labelExpressionInfo",void 0);a.__decorate([w.writer("labelExpressionInfo")],f.prototype,"writeLabelExpressionInfo",null);a.__decorate([n.property({type:d.apiValues,json:{type:d.jsonValues,read:d.read,write:d.write}})],f.prototype,"labelPlacement",void 0);a.__decorate([n.property({type:["curved","parallel"],json:{write:!0,
origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],f.prototype,"labelPosition",void 0);a.__decorate([n.property({type:Number})],f.prototype,"maxScale",void 0);a.__decorate([w.writer("maxScale")],f.prototype,"writeMaxScale",null);a.__decorate([n.property({type:Number})],f.prototype,"minScale",void 0);a.__decorate([w.writer("minScale")],f.prototype,"writeMinScale",null);a.__decorate([n.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:u}}}}})],
f.prototype,"repeatLabel",void 0);a.__decorate([n.property({type:Number,cast:q.toPt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:u}}}}})],f.prototype,"repeatLabelDistance",void 0);a.__decorate([n.property({types:b.symbolTypesLabel,json:{origins:{"web-scene":{types:b.symbolTypesLabel3D,write:v.writeLabelSymbol,default:null}},write:v.writeLabelSymbol,default:null}})],f.prototype,"symbol",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0}})],f.prototype,
"useCodedValues",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,"where",void 0);return f=t=a.__decorate([m.subclass("esri.layers.support.LabelClass")],f)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l){var m;b=m=class extends b.JSONSupport{constructor(){super(...arguments);this.value=this.title=this.expression=null}readExpression(w,r){return r.value?l.convertTemplatedStringToArcade(r.value):w}writeExpression(w,r,e){null!=this.value&&(w=l.convertTemplatedStringToArcade(this.value));null!=w&&(r[e]=w)}clone(){return new m({expression:this.expression,title:this.title,value:this.value})}};a.__decorate([d.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],b.prototype,
"expression",void 0);a.__decorate([n.reader("expression",["expression","value"])],b.prototype,"readExpression",null);a.__decorate([h.writer("expression")],b.prototype,"writeExpression",null);a.__decorate([d.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0);a.__decorate([d.property({json:{read:!1,write:!1}})],b.prototype,"value",void 0);return b=m=a.__decorate([k.subclass("esri.layers.support.LabelExpressionInfo")],b)})},"esri/layers/support/labelUtils":function(){define(["exports",
"../../core/string"],function(a,b){function d(p){return p.replaceAll(RegExp("\\[","g"),"{").replaceAll(RegExp("\\]","g"),"}")}function f(p){const v={expression:"",type:"none"};p.labelExpressionInfo?p.labelExpressionInfo.value?(v.expression=p.labelExpressionInfo.value,v.type="conventional"):p.labelExpressionInfo.expression&&(v.expression=p.labelExpressionInfo.expression,v.type="arcade"):null!=p.labelExpression&&(v.expression=d(p.labelExpression),v.type="conventional");return v}function c(p){p?(p=b.replace(p,
v=>'__begin__$feature["'+v+'"]__end__'),p=l.test(p)?p.replace(l,""):'"'+p,p=m.test(p)?p.replace(m,""):p+'"',p=p.replaceAll(k,'" + ').replaceAll(h,' + "')):p='""';return p}function q(p){return p?.match(w)?.[1].trim()||null}function n(p){if(!p)return null;let v=r.exec(p)||e.exec(p);return v?v[1]||v[3]:(v=g.exec(p))?v[2]:null}const k=RegExp("__begin__","ig"),h=RegExp("__end__","ig"),l=RegExp("^__begin__","i"),m=RegExp("__end__$","i"),w=/^\s*\{([^}]+)\}\s*$/i,r=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,
e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,g=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=c;a.getLabelExpression=f;a.getLabelExpressionArcade=function(p){p=f(p);if(!p)return null;switch(p.type){case "conventional":return c(p.expression);case "arcade":return p.expression}return null};a.getLabelExpressionSingleField=function(p){p=f(p);if(!p)return null;
switch(p.type){case "conventional":return q(p.expression);case "arcade":return n(p.expression)}return null};a.getSingleFieldArcadeExpression=n;a.getSingleFieldTemplatedString=q;a.sqlToTemplateString=d;a.templateStringToSql=function(p){return p.replaceAll(RegExp("\\{","g"),"[").replaceAll(RegExp("\\}","g"),"]")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(a,b,d,f,c,q,n){const k=c.fromJSON(n.defaultPointSymbolJSON),h=f.fromJSON(n.defaultPolylineSymbolJSON),l=d.fromJSON(n.defaultPolygonSymbolJSON);b=q.fromJSON(n.defaultTextSymbolJSON);c=c.fromJSON(n.errorPointSymbolJSON);f=f.fromJSON(n.errorPolylineSymbolJSON);d=d.fromJSON(n.errorPolygonSymbolJSON);a.defaultPointSymbol2D=k;a.defaultPolygonSymbol2D=l;a.defaultPolylineSymbol2D=h;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=c;a.errorPolygonSymbol2D=d;a.errorPolylineSymbol2D=f;a.getDefaultSymbol2D=
function(m){if(null==m)return null;switch(m.type){case "point":case "multipoint":return k;case "polyline":return h;case "polygon":case "extent":return l}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],d={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},f={type:"esriSLS",style:"esriSLSSolid",
width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=d;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=f;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,
text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./LabelClass".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E,J){var F;d=F=class extends e.JSONSupport{constructor(G){super(G);this.type="cluster";this.clusterRadius=v.toPt("80px");this.clusterMinSize=v.toPt("12px");this.clusterMaxSize=v.toPt("50px");this.maxScale=0;this.popupEnabled=!0;this.labelingInfo=this.symbol=this.renderer=this.popupTemplate=null;this.labelsVisible=!0;this.fields=[]}readRenderer(G,M,L){G=M.drawingInfo?.renderer;return G?.authoringInfo?.isAutoGenerated?null:G?"simple"!==G.type||
G.visualVariables?.length?m.read(G,M,L)??void 0:null:E.createDefaultRenderer(M,L)}readSymbol(G,M,L){G=M.drawingInfo?.renderer;return G?.authoringInfo?.isAutoGenerated?null:G&&"simple"===G.type&&!G.visualVariables?.length?m.read(G,M,L)?.symbol:null}writeSymbol(G,M,L,T){L=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||L)G=new h({symbol:G}),M.drawingInfo={renderer:G.write({},T)}}writeFields(G,M,L){G=G.filter(T=>"avg_angle"!==T.statisticType).map(T=>T.toJSON());p.setDeepValue(L,G,M)}readFields(G,
M,L){return G.filter(T=>!T.isAutoGenerated).map(T=>A.fromJSON(T))}clone(){return new F({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:g.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:g.clone(this.fields),maxScale:this.maxScale,renderer:g.clone(this.renderer),symbol:g.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:g.clone(this.popupTemplate)})}};a.__decorate([u.property({type:["cluster"],readOnly:!0,
json:{write:!0}})],d.prototype,"type",void 0);a.__decorate([u.property({type:Number,cast:G=>"auto"===G?G:v.toPt(G),json:{write:!0}})],d.prototype,"clusterRadius",void 0);a.__decorate([u.property({type:Number,cast:v.toPt,json:{write:!0}})],d.prototype,"clusterMinSize",void 0);a.__decorate([u.property({type:Number,cast:v.toPt,json:{write:!0}})],d.prototype,"clusterMaxSize",void 0);a.__decorate([u.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],d.prototype,"maxScale",void 0);
a.__decorate([u.property(D.popupEnabled)],d.prototype,"popupEnabled",void 0);a.__decorate([u.property({type:b,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],d.prototype,"popupTemplate",void 0);a.__decorate([u.property({types:w.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],d.prototype,"renderer",void 0);a.__decorate([t.reader("renderer",["drawingInfo.renderer"])],d.prototype,"readRenderer",null);a.__decorate([u.property({types:r.symbolTypesCluster})],d.prototype,"symbol",
void 0);a.__decorate([t.reader("symbol",["drawingInfo.renderer"])],d.prototype,"readSymbol",null);a.__decorate([B.writer("symbol")],d.prototype,"writeSymbol",null);a.__decorate([u.property({type:[J],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],d.prototype,"labelingInfo",void 0);a.__decorate([u.property(D.labelsVisible)],d.prototype,"labelsVisible",void 0);a.__decorate([u.property({type:[A],json:{write:!0}})],d.prototype,"fields",void 0);a.__decorate([B.writer("fields")],
d.prototype,"writeFields",null);a.__decorate([t.reader("fields")],d.prototype,"readFields",null);return d=F=a.__decorate([y.subclass("esri.layers.support.FeatureReductionCluster")],d)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),function(a,b,d,f,c,q,n){var k;d=k=class extends n.FeatureReduction{constructor(h){super(h);
this.type="selection"}clone(){return new k}};a.__decorate([b.property({type:["selection"]})],d.prototype,"type",void 0);return d=k=a.__decorate([q.subclass("esri.layers.support.FeatureReductionSelection")],d)})},"esri/views/2d/layers/support/clusterUtils":function(){define("exports ../../../../renderers/ClassBreaksRenderer ../../../../renderers/DictionaryRenderer ../../../../renderers/DotDensityRenderer ../../../../renderers/HeatmapRenderer ../../../../renderers/PieChartRenderer ../../../../renderers/Renderer ../../../../renderers/SimpleRenderer ../../../../renderers/UniqueValueRenderer ../../../../renderers/support/jsonUtils ../../../../core/Logger ../../../../symbols ../../../../core/Error ../../../../core/has ../../../../core/MD5 ../../../../layers/support/AggregateField ../../../../layers/support/ExpressionInfo ../../../../renderers/support/AuthoringInfo ../../../../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x){function z(E,J,F){switch(E){case "sum":return`cluster_sum_${J}`;case "avg":case "avg_angle":return`cluster_avg_${J}`;case "mode":return`cluster_type_${J}`;case "avg_norm":return E=J.toLowerCase()+",norm:field,"+F.toLowerCase(),"cluster_avg_"+g.createMD5Hash(E)}}function t(E,J,F,G){const M=g.createMD5Hash(J),L="mode"===F?`cluster_type_${M}`:"sum"===F?`cluster_sum_${M}`:`cluster_avg_${M}`;E.some(T=>T.name===L)||E.push(new p({name:L,isAutoGenerated:!0,
onStatisticExpression:new v({expression:J,returnType:G}),statisticType:F}));return L}function y(E,J,F,G,M){if("cluster_count"===J||E.some(T=>T.name===J))return J;const L=z(F,J,M);E.some(T=>T.name===L)||("avg_norm"===F?E.push(new p({name:L,isAutoGenerated:!0,onStatisticExpression:new v({expression:`$feature.${J} / $feature.${M}`,returnType:G}),statisticType:"avg"})):E.push(new p({name:L,isAutoGenerated:!0,onStatisticField:J,statisticType:F})));return L}e.add("esri-cluster-arcade-enabled",!0);const B=
e("esri-cluster-arcade-enabled"),A=new Set(["simple-line","simple-fill","picture-fill"]),D=E=>{const J=F=>m.getLogger("esri.views.2d.layers.support.clusterUtils").error(new r("Unsupported-renderer",F,{renderer:E}));if(!E)return!1;switch(E.type){case "unique-value":if(E.field2||E.field3)return J("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case "class-breaks":if(E.normalizationField){const F=E.normalizationType;if("field"!==F)return J(`FeatureReductionCluster does not support a normalizationType of ${F}`),
!1}break;case "simple":case "pie-chart":break;default:return J(`FeatureReductionCluster does not support renderers of type ${E.type}`),!1}if(!B){if("valueExpression"in E&&E.valueExpression)return J("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in E&&E.visualVariables||[]).some(F=>!!("valueExpression"in F&&F.valueExpression)))return J("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),
!1}return!0};a.createInferredClusterRenderer=function(E,J){let F=J.clone();if(!D(F))return F;J.getSymbols().some(G=>A.has(G.type))&&(F=new k({symbol:new x}));F.authoringInfo||(F.authoringInfo=new u);F.authoringInfo.isAutoGenerated=!0;"visualVariables"in F&&(J=(F.visualVariables||[]).filter(G=>"$view.scale"!==G.valueExpression),J.forEach(G=>{"rotation"===G.type?G.field?G.field=y(E,G.field,"avg_angle","number"):G.valueExpression&&(G.field=t(E,G.valueExpression,"avg_angle","number"),G.valueExpression=
null):G.normalizationField?(G.field=y(E,G.field,"avg_norm","number",G.normalizationField),G.normalizationField=null):G.field?G.field=y(E,G.field,"avg","number"):G.valueExpression&&(G.field=t(E,G.valueExpression,"avg","number"),G.valueExpression=null)}),F.visualVariables=J);switch(F.type){case "pie-chart":for(const G of F.attributes)G.field?G.field=y(E,G.field,"sum","number"):G.valueExpression&&(G.field=t(E,G.valueExpression,"sum","number"),G.valueExpression=null);break;case "unique-value":F.field?
F.field=y(E,F.field,"mode","string"):F.valueExpression&&(F.field=t(E,F.valueExpression,"mode","string"),F.valueExpression=null);break;case "class-breaks":F.normalizationField?(F.field=y(E,F.field,"avg_norm","number",F.normalizationField),F.normalizationField=null):F.field?F.field=y(E,F.field,"avg","number"):F.valueExpression&&(F.field=t(E,F.valueExpression,"avg","number"),F.valueExpression=null)}return F};a.findSizeVV=E=>{for(const J of E)if("size"===J.type)return J;return null};a.hasClusterCountVV=
E=>{for(const J of E)if("cluster_count"===J.field)return!0;return!1};a.isClusterCompatibleRenderer=D;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MD5":function(){define(["exports"],function(a){function b(k,h){const l=(k&65535)+(h&65535);return(k>>16)+(h>>16)+(l>>16)<<16|l&65535}function d(k,h,l,m,w,r){k=b(b(h,k),b(m,r));return b(k<<w|k>>>32-w,l)}function f(k,h,l,m,w,r,e){return d(h&l|~h&m,k,h,w,r,e)}function c(k,h,l,m,w,r,e){return d(h&m|l&~m,k,h,w,r,e)}function q(k,
h,l,m,w,r,e){return d(l^(h|~m),k,h,w,r,e)}const n={Base64:0,Hex:1,String:2,Raw:3};a.createMD5Hash=function(k,h=n.Hex){h=h||n.Base64;var l=[];for(let e=0,g=8*k.length;e<g;e+=8)l[e>>5]|=(k.charCodeAt(e/8)&255)<<e%32;k=8*k.length;l[k>>5]|=128<<k%32;l[(k+64>>>9<<4)+14]=k;k=1732584193;var m=-271733879;let w=-1732584194,r=271733878;for(let e=0;e<l.length;e+=16){const g=k,p=m,v=w,u=r;k=f(k,m,w,r,l[e],7,-680876936);r=f(r,k,m,w,l[e+1],12,-389564586);w=f(w,r,k,m,l[e+2],17,606105819);m=f(m,w,r,k,l[e+3],22,-1044525330);
k=f(k,m,w,r,l[e+4],7,-176418897);r=f(r,k,m,w,l[e+5],12,1200080426);w=f(w,r,k,m,l[e+6],17,-1473231341);m=f(m,w,r,k,l[e+7],22,-45705983);k=f(k,m,w,r,l[e+8],7,1770035416);r=f(r,k,m,w,l[e+9],12,-1958414417);w=f(w,r,k,m,l[e+10],17,-42063);m=f(m,w,r,k,l[e+11],22,-1990404162);k=f(k,m,w,r,l[e+12],7,1804603682);r=f(r,k,m,w,l[e+13],12,-40341101);w=f(w,r,k,m,l[e+14],17,-1502002290);m=f(m,w,r,k,l[e+15],22,1236535329);k=c(k,m,w,r,l[e+1],5,-165796510);r=c(r,k,m,w,l[e+6],9,-1069501632);w=c(w,r,k,m,l[e+11],14,643717713);
m=c(m,w,r,k,l[e],20,-373897302);k=c(k,m,w,r,l[e+5],5,-701558691);r=c(r,k,m,w,l[e+10],9,38016083);w=c(w,r,k,m,l[e+15],14,-660478335);m=c(m,w,r,k,l[e+4],20,-405537848);k=c(k,m,w,r,l[e+9],5,568446438);r=c(r,k,m,w,l[e+14],9,-1019803690);w=c(w,r,k,m,l[e+3],14,-187363961);m=c(m,w,r,k,l[e+8],20,1163531501);k=c(k,m,w,r,l[e+13],5,-1444681467);r=c(r,k,m,w,l[e+2],9,-51403784);w=c(w,r,k,m,l[e+7],14,1735328473);m=c(m,w,r,k,l[e+12],20,-1926607734);k=d(m^w^r,k,m,l[e+5],4,-378558);r=d(k^m^w,r,k,l[e+8],11,-2022574463);
w=d(r^k^m,w,r,l[e+11],16,1839030562);m=d(w^r^k,m,w,l[e+14],23,-35309556);k=d(m^w^r,k,m,l[e+1],4,-1530992060);r=d(k^m^w,r,k,l[e+4],11,1272893353);w=d(r^k^m,w,r,l[e+7],16,-155497632);m=d(w^r^k,m,w,l[e+10],23,-1094730640);k=d(m^w^r,k,m,l[e+13],4,681279174);r=d(k^m^w,r,k,l[e],11,-358537222);w=d(r^k^m,w,r,l[e+3],16,-722521979);m=d(w^r^k,m,w,l[e+6],23,76029189);k=d(m^w^r,k,m,l[e+9],4,-640364487);r=d(k^m^w,r,k,l[e+12],11,-421815835);w=d(r^k^m,w,r,l[e+15],16,530742520);m=d(w^r^k,m,w,l[e+2],23,-995338651);
k=q(k,m,w,r,l[e],6,-198630844);r=q(r,k,m,w,l[e+7],10,1126891415);w=q(w,r,k,m,l[e+14],15,-1416354905);m=q(m,w,r,k,l[e+5],21,-57434055);k=q(k,m,w,r,l[e+12],6,1700485571);r=q(r,k,m,w,l[e+3],10,-1894986606);w=q(w,r,k,m,l[e+10],15,-1051523);m=q(m,w,r,k,l[e+1],21,-2054922799);k=q(k,m,w,r,l[e+8],6,1873313359);r=q(r,k,m,w,l[e+15],10,-30611744);w=q(w,r,k,m,l[e+6],15,-1560198380);m=q(m,w,r,k,l[e+13],21,1309151649);k=q(k,m,w,r,l[e+4],6,-145523070);r=q(r,k,m,w,l[e+11],10,-1120210379);w=q(w,r,k,m,l[e+2],15,718787259);
m=q(m,w,r,k,l[e+9],21,-343485551);k=b(k,g);m=b(m,p);w=b(w,v);r=b(r,u)}l=[k,m,w,r];switch(h){case n.Raw:return l;case n.Hex:h=[];for(let e=0,g=4*l.length;e<g;e++)h.push("0123456789abcdef".charAt(l[e>>2]>>e%4*8+4&15)+"0123456789abcdef".charAt(l[e>>2]>>e%4*8&15));return h.join("");case n.String:h=[];for(let e=0,g=32*l.length;e<g;e+=8)h.push(String.fromCharCode(l[e>>5]>>>e%32&255));return h.join("");case n.Base64:h=[];for(let e=0,g=4*l.length;e<g;e+=3)for(k=(l[e>>2]>>e%4*8&255)<<16|(l[e+1>>2]>>(e+1)%
4*8&255)<<8|l[e+2>>2]>>(e+2)%4*8&255,m=0;4>m;m++)8*e+6*m>32*l.length?h.push("\x3d"):h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>6*(3-m)&63));return h.join("")}};a.outputTypes=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,d,f,c,q,n,k,h){function l(w,r,e){if(!w)return null;w=w.find(g=>!!g.field);if(!w)return null;r=new h;r.read(w,e);return[r]}function m(w,r,e,g){(w=w.find(p=>!!p.field))&&d.setDeepValue(e,[w.toJSON()],r)}a.OrderedLayer=w=>{w=class extends w{constructor(){super(...arguments);this.orderBy=null}};b.__decorate([f.property({type:[h],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:l},write:{target:"layerDefinition.orderBy",writer:m}}})],w.prototype,
"orderBy",void 0);return w=b.__decorate([k.subclass("esri.layers.mixins.OrderedLayer")],w)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k){var h;b=new b.JSONMap({asc:"ascending",desc:"descending"});
d=h=class extends d.JSONSupport{constructor(l){super(l);this.valueExpression=this.field=null;this.order="ascending"}clone(){return new h({field:this.field,valueExpression:this.valueExpression,order:this.order})}};a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0);a.__decorate([f.property({type:b.apiValues,json:{read:b.read,write:b.write}})],d.prototype,"order",void 0);return d=
h=a.__decorate([k.subclass("esri.layers.support.OrderByInfo")],d)})},"esri/layers/mixins/PublishableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),function(a,b,d,f,c,q,n,k){const h=Symbol("esri.layers.mixins.PublishableLayer");a.PublishableLayer=l=>{l=class extends l{constructor(){super(...arguments);this[m]=
!0}get publishingInfo(){if(this.destroyed)return null;var w=this._get("publishingInfo");if(w)return w;w=new k;this._checkPublishingStatus(w);return w}_checkPublishingStatus(w){let r=0;const e=async p=>{w.updating=!0;let v;try{v=await this.fetchPublishingStatus()}catch(u){v="unavailable"}if("published"===v||"unavailable"===v)"publishing"===w.status&&this.refresh(),g.remove();w.status=v;w.updating=!1;g.removed||(r=setTimeout(e,p,p+125))},g={removed:!1,remove(){this.removed=!0;clearTimeout(r)}};this.when().catch(()=>
g.remove());e(250);this.addHandles(g)}};var m=h;b.__decorate([d.property({readOnly:!0,clonable:!1})],l.prototype,"publishingInfo",null);return l=b.__decorate([n.subclass("esri.layers.mixins.PublishableLayer")],l)};a.isPublishableLayer=function(l){return null!=l&&"object"===typeof l&&h in l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PublishingInfo":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){b=class extends b{constructor(){super(...arguments);this.updating=!1;this.status="unknown"}};a.__decorate([d.property()],b.prototype,"updating",void 0);a.__decorate([d.property()],b.prototype,"status",void 0);return b=a.__decorate([n.subclass("esri.layers.support.PublishingInfo")],b)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r){a.TemporalLayer=e=>{e=class extends e{constructor(){super(...arguments);this.timeOffset=this.timeExtent=null;this.useViewTime=!0}readOffset(g,p){p=p.timeInfo.exportOptions;if(!p)return null;g=p.timeOffset;p=r.timeUnitKebabDictionary.fromJSON(p.timeOffsetUnits);return g&&p?new f({value:g,unit:p}):null}set timeInfo(g){m.fixTimeInfoFields(g,this.fieldsIndex);this._set("timeInfo",g)}};b.__decorate([c.property({type:d,json:{write:!1}})],e.prototype,"timeExtent",void 0);
b.__decorate([c.property({type:f})],e.prototype,"timeOffset",void 0);b.__decorate([h.reader("service","timeOffset",["timeInfo.exportOptions"])],e.prototype,"readOffset",null);b.__decorate([c.property({value:null,type:w,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],e.prototype,"timeInfo",null);b.__decorate([c.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],e.prototype,
"useViewTime",void 0);return e=b.__decorate([l.subclass("esri.layers.mixins.TemporalLayer")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeInterval":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/enumeration ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),function(a,
b,d,f,c,q,n,k,h,l,m){b=class extends b.ClonableMixin(d.JSONSupport){constructor(w){super(w);this.unit="milliseconds";this.value=0}toMilliseconds(){return f.convertTime(this.value,this.unit,"milliseconds")}};a.__decorate([h.enumeration(m.timeUnitKebabDictionary,{nonNullable:!0})],b.prototype,"unit",void 0);a.__decorate([c.property({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0);return b=a.__decorate([l.subclass("esri.TimeInterval")],b)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports",
"../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../time/timeZoneUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r){f=class extends f.ClonableMixin(c.JSONSupport){constructor(e){super(e);this.cumulative=!1;this.fullTimeExtent=this.endField=null;this.hasLiveData=!1;this.trackIdField=this.timeZone=this.startField=this.interval=null;this.useTime=!0}readFullTimeExtent(e,g){return g.timeExtent&&Array.isArray(g.timeExtent)&&2===g.timeExtent.length?new b({start:new Date(g.timeExtent[0]),end:new Date(g.timeExtent[1])}):null}writeFullTimeExtent(e,g){g.timeExtent=null!=e?.start&&null!=
e.end?[e.start.getTime(),e.end.getTime()]:null}readInterval(e,g){return g.timeInterval&&g.timeIntervalUnits?d.fromJSON({value:g.timeInterval,unit:g.timeIntervalUnits}):g.defaultTimeInterval&&g.defaultTimeIntervalUnits?d.fromJSON({value:g.defaultTimeInterval,unit:g.defaultTimeIntervalUnits}):null}writeInterval(e,g){g.timeInterval=e?.toJSON().value??null;g.timeIntervalUnits=e?.toJSON().unit??null}};a.__decorate([q.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],f.prototype,
"cumulative",void 0);a.__decorate([q.property({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],f.prototype,"endField",void 0);a.__decorate([q.property({type:b,json:{write:{enabled:!0,allowNull:!0}}})],f.prototype,"fullTimeExtent",void 0);a.__decorate([l.reader("fullTimeExtent",["timeExtent"])],f.prototype,"readFullTimeExtent",null);a.__decorate([w.writer("fullTimeExtent")],f.prototype,"writeFullTimeExtent",null);a.__decorate([q.property({type:Boolean,json:{write:!0}})],f.prototype,
"hasLiveData",void 0);a.__decorate([q.property({type:d,json:{write:{enabled:!0,allowNull:!0}}})],f.prototype,"interval",void 0);a.__decorate([l.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],f.prototype,"readInterval",null);a.__decorate([w.writer("interval")],f.prototype,"writeInterval",null);a.__decorate([q.property({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],f.prototype,"startField",void 0);a.__decorate([q.property(r.timeZoneProperty("timeReference",
!0))],f.prototype,"timeZone",void 0);a.__decorate([q.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],f.prototype,"trackIdField",void 0);a.__decorate([q.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],f.prototype,"useTime",void 0);return f=a.__decorate([m.subclass("esri.layers.support.TimeInfo")],f)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h){d=new d.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});b=class extends b.ClonableMixin(f.JSONSupport){constructor(l){super(l);this.thumbnail=this.prototype=this.drawingTool=this.description=this.name=null}};a.__decorate([c.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([c.property({json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({json:{read:d.read,write:d.write}})],b.prototype,
"drawingTool",void 0);a.__decorate([c.property({json:{write:!0}})],b.prototype,"prototype",void 0);a.__decorate([c.property({json:{write:!0}})],b.prototype,"thumbnail",void 0);return b=a.__decorate([h.subclass("esri.layers.support.FeatureTemplate")],b)})},"esri/layers/support/FeatureType":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){b=class extends b.ClonableMixin(d.JSONSupport){constructor(r){super(r);this.templates=this.domains=this.name=this.id=null}readDomains(r){const e={};for(const g of Object.keys(r))e[g]=m.fromJSON(r[g]);return e}writeDomains(r,e){const g={};for(const p of Object.keys(r))r[p]&&(g[p]=r[p]?.toJSON());e.domains=g}};a.__decorate([f.property({json:{write:!0}})],b.prototype,"id",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({json:{write:!0}})],
b.prototype,"domains",void 0);a.__decorate([k.reader("domains")],b.prototype,"readDomains",null);a.__decorate([l.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([f.property({type:[w],json:{write:!0}})],b.prototype,"templates",void 0);return b=a.__decorate([h.subclass("esri.layers.support.FeatureType")],b)})},"esri/layers/support/fieldProperties":function(){define("exports ../../core/has ../../core/Logger ./Field ./FieldsIndex ./fieldUtils".split(" "),function(a,b,d,f,c,q){a.defineFieldProperties=
function(){return{fields:{type:[f],value:null,set:function(n){if(n&&b("big-integer-warning-enabled")){var k=n.filter(h=>"big-integer"===h.type||"oid"===h.type&&8<=(h.length||0));k.length&&(k=k.map(h=>`'${h.name}'`).join(", "),d.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${k}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`))}this._set("fields",
n)}},fieldsIndex:{readOnly:!0,get(){return c.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(n){this._userOutFields=n;this.notifyChange("outFields")},get:function(){const n=this._userOutFields;if(!n?.length)return null;if(n.includes("*"))return["*"];if(!this.fields)return n;for(const k of n)this.fieldsIndex?.has(k)||d.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${k} found in outFields`,{layer:this,outFields:n});
return q.fixFields(this.fieldsIndex,n)}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/labelingInfo":function(){define(["exports","../../core/Error","../../core/lang","../../core/Logger","./LabelClass"],function(a,b,d,f,c){const q=()=>f.getLogger("esri.layers.support.labelingInfo"),n=/\[([^\[\]]+)\]/gi,k={esriGeometryPoint:"above-right above-center above-left center-center center-left center-right below-center below-left below-right".split(" "),esriGeometryPolygon:["always-horizontal"],
esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};a.reader=function(h,l,m){return h?h.map(w=>{const r=new c;r.read(w,m);if(r.labelExpression){const e=l.fields||l.layerDefinition?.fields||this.fields;r.labelExpression=r.labelExpression.replaceAll(n,(g,p)=>{a:if(e){g=p.toLowerCase();for(let v=0;v<e.length;v++){const u=e[v].name;if(u.toLowerCase()===g){p=u;break a}}}return`[${p}]`})}return r}):null};a.validateLabelingInfo=function(h,l){h=d.clone(h);return h.some(m=>
{{const r=m.labelPlacement;var w=k[l];m.symbol?w?(w.includes(r)||(w=w[0],r&&q().warn(`Found invalid label placement type ${r} for ${l}. Defaulting to ${w}`),m.labelPlacement=w),m=!1):(q().error(new b("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${l}' is not supported`)),m=!0):(q().warn("No ILabelClass symbol specified."),m=!0)}return m})?[]:h};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/versionUtils":function(){define(["exports",
"./arcgisLayerUrl"],function(a,b){const d=[];d.push([10.91,()=>{const f=new Set([9709,9716,9741,9761,9766]);for(var c=9712;9713>=c;c++)f.add(c);for(c=9748;9749>=c;c++)f.add(c);for(c=20904;20932>=c;c++)f.add(c);for(c=21004;21032>=c;c++)f.add(c);for(c=21207;21264>=c;c++)f.add(c);for(c=21307;21364>=c;c++)f.add(c);for(c=23301;23333>=c;c++)f.add(c);for(c=102759;102760>=c;c++)f.add(c);for(c=102934;102955>=c;c++)f.add(c);return f}]);d.push([10.9,()=>{const f=new Set([9300,9354,9364,9367,9373,9377,9387,9456,
9473,9498,9678,9680,29874,103599,103872,104028]);for(var c=9356;9360>=c;c++)f.add(c);for(c=9404;9407>=c;c++)f.add(c);for(c=9476;9482>=c;c++)f.add(c);for(c=9487;9494>=c;c++)f.add(c);for(c=9697;9699>=c;c++)f.add(c);return f}]);d.push([10.81,()=>{const f=new Set([9265,9333,103598,103699]);for(var c=9248;9254>=c;c++)f.add(c);for(c=9271;9273>=c;c++)f.add(c);for(c=9284;9285>=c;c++)f.add(c);for(c=21453;21463>=c;c++)f.add(c);return f}]);d.push([10.8,()=>{const f=new Set([8088,8395,8428,8433,8531,8687,8692,
8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(var c=8035;8036>=c;c++)f.add(c);for(c=8455;8456>=c;c++)f.add(c);for(c=8518;8529>=c;c++)f.add(c);for(c=8533;8536>=c;c++)f.add(c);for(c=8538;8540>=c;c++)f.add(c);for(c=8677;8679>=c;c++)f.add(c);for(c=8902;8903>=c;c++)f.add(c);for(c=8907;8910>=c;c++)f.add(c);for(c=8949;8951>=c;c++)f.add(c);for(c=8972;8987>=c;c++)f.add(c);for(c=9039;9040>=c;c++)f.add(c);for(c=9068;9069>=c;c++)f.add(c);for(c=9140;9141>=c;c++)f.add(c);for(c=9148;9150>=c;c++)f.add(c);for(c=
9153;9159>=c;c++)f.add(c);for(c=9205;9218>=c;c++)f.add(c);for(c=9221;9222>=c;c++)f.add(c);for(c=54098;54101>=c;c++)f.add(c);return f}]);d.push([10.71,()=>{const f=new Set([6316]);for(var c=8351;8353>=c;c++)f.add(c);for(c=9294;9297>=c;c++)f.add(c);for(c=22619;22621>=c;c++)f.add(c);for(c=103586;103594>=c;c++)f.add(c);return f}]);d.push([10.7,()=>{const f=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(var c=8065;8068>=c;c++)f.add(c);for(c=8082;8083>=c;c++)f.add(c);for(c=
8379;8385>=c;c++)f.add(c);for(c=8836;8840>=c;c++)f.add(c);for(c=8857;8860>=c;c++)f.add(c);for(c=53035;53037>=c;c++)f.add(c);for(c=54090;54091>=c;c++)f.add(c);for(c=102498;102499>=c;c++)f.add(c);return f}]);d.push([10.61,()=>new Set([102497])]);d.push([10.6,()=>{const f=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(var c=7755;7787>=c;c++)f.add(c);for(c=7791;7795>=c;c++)f.add(c);for(c=7799;7801>=c;c++)f.add(c);for(c=7825;7831>=c;c++)f.add(c);for(c=7877;7878>=c;c++)f.add(c);
for(c=7882;7883>=c;c++)f.add(c);for(c=7991;7992>=c;c++)f.add(c);for(c=8042;8043>=c;c++)f.add(c);for(c=8058;8059>=c;c++)f.add(c);for(c=8311;8348>=c;c++)f.add(c);for(c=9060;9067>=c;c++)f.add(c);for(c=102562;102568>=c;c++)f.add(c);for(c=102799;102900>=c;c++)f.add(c);return f}]);a.serviceSupportsSpatialReference=function(f,c){if(b.isHostedAgolService(f.url??""))return!0;({wkid:c}=c);for(const q of d){if((f.version??0)>=q[0])break;"function"===typeof q[1]&&(q[1]=q[1]());if(q[1].has(c))return!1}return!0};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),function(a,
b,d,f,c,q,n,k,h,l,m,w,r){var e;const g=new f.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});f=new f.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});c=e=class extends c.JSONSupport{constructor(p){super(p);this.distance=this.cacheHint=void 0;this.geometry=null;this.num=this.maxAllowableOffset=this.geometryPrecision=void 0;this.resultType=this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.returnGeometry=!1;this.start=this.returnZ=this.returnM=void 0;this.spatialRelationship=
"intersects";this.timeExtent=null;this.topFilter=void 0;this.units=null;this.where="1\x3d1"}writeStart(p,v){v.resultOffset=this.start;v.resultRecordCount=this.num||10}clone(){return new e(q.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,
returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};a.__decorate([n.property({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0);a.__decorate([n.property({type:Number,json:{write:{overridePolicy(p){return{enabled:0<p}}}}})],c.prototype,"distance",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{read:m.fromJSON,
write:!0}})],c.prototype,"geometry",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],c.prototype,"geometryPrecision",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],c.prototype,"maxAllowableOffset",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);a.__decorate([n.property({json:{write:!0}})],c.prototype,"objectIds",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],c.prototype,"orderByFields",
void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],c.prototype,"outFields",void 0);a.__decorate([n.property({type:r,json:{read:{source:"outSR"},write:{target:"outSR"}}})],c.prototype,"outSpatialReference",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"resultType",void 0);a.__decorate([n.property({json:{write:!0}})],c.prototype,"returnGeometry",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(p){return{enabled:p}}}}})],c.prototype,
"returnM",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(p){return{enabled:p}}}}})],c.prototype,"returnZ",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);a.__decorate([l.writer("start"),l.writer("num")],c.prototype,"writeStart",null);a.__decorate([n.property({type:String,json:{read:{source:"spatialRel",reader:g.read},write:{target:"spatialRel",writer:g.write}}})],c.prototype,"spatialRelationship",void 0);
a.__decorate([n.property({type:d,json:{write:!0}})],c.prototype,"timeExtent",void 0);a.__decorate([n.property({type:w,json:{write:!0}})],c.prototype,"topFilter",void 0);a.__decorate([n.property({type:String,json:{read:f.read,write:{writer:f.write,overridePolicy(p){return{enabled:null!=p&&null!=this.distance&&0<this.distance}}}}})],c.prototype,"units",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"where",void 0);c=e=a.__decorate([h.subclass("esri.rest.support.TopFeaturesQuery")],
c);c.from=k.ensureType(c);return c})},"esri/rest/support/TopFilter":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n){var k;b=k=class extends b.JSONSupport{constructor(h){super(h);this.orderByFields=this.topCount=this.groupByFields=void 0}clone(){return new k({groupByFields:this.groupByFields,topCount:this.topCount,
orderByFields:this.orderByFields})}};a.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"groupByFields",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"topCount",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=k=a.__decorate([n.subclass("esri.rest.support.TopFilter")],b)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/RelationshipContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r){function e(y,B){const A=y;B&&(y=y.filter(D=>!B.includes(D.type)));y===A&&(y=y.slice());y.sort(g);return y}function g(y,B){return"oid"===y.type?-1:"oid"===B.type?1:z(y)?-1:z(B)?1:(y.alias||y.name).toLocaleLowerCase().localeCompare((B.alias||B.name).toLocaleLowerCase())}function p(y,B){const A=B?.visibleFieldNames;return e(y.fields??[],B?.ignoreFieldTypes||t).map(D=>{var E=D.name,J=d.isFieldEditable(D,y),F=D.alias,G=x(D),M={...y,visibleFieldNames:A};D=M.visibleFieldNames?
M.visibleFieldNames.has(D.name):d.isFieldVisibleByDefault(D,M);return new w({fieldName:E,isEditable:J,label:F,format:G,visible:D})})}function v(y,B){return y.map(A=>new w({fieldName:A.name,isEditable:!1,label:A.alias,format:u(A,B),visible:!0}))}function u(y,B){const {onStatisticField:A,onStatisticExpression:D,statisticType:E}=y;return A&&(y=B.find(J=>A===J.name))?x(y):"number"===D?.returnType?new r({digitSeparator:!0,places:2}):"count"===E?new r({digitSeparator:!0,places:0}):null}function x(y){switch(y.type){case "small-integer":case "integer":case "single":return new r({digitSeparator:!0,
places:0});case "double":return new r({digitSeparator:!0,places:2});case "string":return d.isRasterPixelValueField(y.name)?new r({digitSeparator:!0,places:0}):null;default:return null}}function z(y){return"name"===(y.name&&y.name.toLowerCase())||"name"===(y.alias&&y.alias.toLowerCase())?!0:!1}const t=["geometry","blob","raster","guid","xml"];a.createFieldInfos=p;a.createFieldsContent=function(y,B){return new k({fieldInfos:p(y,B).filter(A=>A.visible)})};a.createPopupTemplate=function({displayField:y,
editFieldsInfo:B,fields:A,objectIdField:D,title:E},J){if(!A)return null;B=p({editFieldsInfo:B,fields:A,objectIdField:D},J);if(!B.length)return null;A={titleBase:E,fields:A,displayField:y};y=d.getDisplayFieldName(A);({titleBase:A}=A);y=y?`${A}: {${y.trim()}}`:A??"";A=[new k,new f];return new b({title:y,content:A,fieldInfos:B})};a.createPopupTemplateForFeatureReduction=function(y){const {fields:B,featureReduction:A,title:D}=y;y=A.fields;if(!y)return null;y=v(y,B??[]);if(!y.length)return null;var E=
[new k];return new b({title:D,content:E,fieldInfos:y})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/interfaces":function(){define(["exports"],function(a){a.SaveOperationType=void 0;var b=a.SaveOperationType||(a.SaveOperationType={});b[b.SAVE=0]="SAVE";b[b.SAVE_AS=1]="SAVE_AS";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require ../../../chunks/tslib.es6 ../../../geometry ../../../kernel ../../../request ../../../TimeExtent ../../../core/arrayUtils ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/Logger ../../../core/object ../../../core/promiseUtils ../../../core/urlUtils ../../../core/uuid ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/meshVertexSpaceUtils ../../../geometry/support/meshUtils/External ../applyEditsUtils ./support/clientSideDefaults ./support/QueryTask ../../support/arcgisLayerUrl ../../support/featureLayerUtils ../../support/infoFor3D ../../../rest/query/executeQueryJSON ../../../rest/query/operations/editsZScale ../../../rest/support/Query ../../../versionManagement/support/versionManagementUtils ../../../geometry/SpatialReference".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E,J,F,G,M,L,T){const N=new l.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),K=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),O=new l.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});d=class extends m{constructor(){super(...arguments);this.type="feature-layer";this.refresh=e.debounce(async()=>{await this.load();var R=this.sourceJSON.editingInfo?.lastEditDate;
if(null==R)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}R=R!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:R,updates:R?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}});this._ongoingAssetUploads=new Map}load(R){const V=this._fetchService(this.layer.sourceJSON,{...R}).then(()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,R)).then(()=>this._ensureLatestMetadata(R));this.addResolvingPromise(V);
return Promise.resolve(this)}get queryTask(){const {capabilities:R,parsedUrl:V,dynamicDataSource:ma,infoFor3D:ca,gdbVersion:ua,spatialReference:Aa,fieldsIndex:Ma}=this.layer,Ga=h("featurelayer-pbf")&&R?.query.supportsFormatPBF&&null==ca;return new A({url:V.path,pbfSupported:Ga,fieldsIndex:Ma,infoFor3D:ca,dynamicDataSource:ma,gdbVersion:ua,sourceSpatialReference:Aa,queryAttachmentsSupported:R?.operations?.supportsQueryAttachments??!1})}async addAttachment(R,V){await this.load();var {layer:ma}=this;
await E.ensureLayerCredential(ma,"editing");R=R.attributes[ma.objectIdField];ma=ma.parsedUrl.path+"/"+R+"/addAttachment";const ca=this._getLayerRequestOptions();V=this._getFormDataForAttachment(V,ca.query);try{const ua=await c(ma,{body:V});return y.createFeatureEditResult(ua.data.addAttachmentResult)}catch(ua){throw this._createAttachmentErrorResult(R,ua);}}async updateAttachment(R,V,ma){await this.load();var {layer:ca}=this;await E.ensureLayerCredential(ca,"editing");R=R.attributes[ca.objectIdField];
ca=ca.parsedUrl.path+"/"+R+"/updateAttachment";V=this._getLayerRequestOptions({query:{attachmentId:V}});ma=this._getFormDataForAttachment(ma,V.query);try{const ua=await c(ca,{body:ma});return y.createFeatureEditResult(ua.data.updateAttachmentResult)}catch(ua){throw this._createAttachmentErrorResult(R,ua);}}async applyEdits(R,V){await this.load();const {layer:ma}=this;await E.ensureLayerCredential(ma,"editing");const ca=ma.infoFor3D;var ua=null!=ca,Aa=ua||(V?.globalIdUsed??!1);const Ma=ua?await this._uploadMeshesAndGetAssetMapEditsJSON(R):
null;var Ga=R.addFeatures?.map(H=>y.getFeatureJSON(this.layer,H,ca))??[];Ga=(await Promise.all(Ga)).filter(n.isSome);var Qa=R.updateFeatures?.map(H=>y.getFeatureJSON(this.layer,H,ca))??[];Qa=(await Promise.all(Qa)).filter(n.isSome);const qa=y.getFeatureIds(this.layer,R.deleteFeatures,Aa);G.unapplyEditsZUnitScaling(Ga,Qa,ma.spatialReference);R=await y.getAttachmentEditsJSON(this.layer,R);ua=ma.capabilities.editing.supportsAsyncApplyEdits&&ua;const ha=V?.gdbVersion||ma.gdbVersion,aa={gdbVersion:ha,
rollbackOnFailure:V?.rollbackOnFailureEnabled,useGlobalIds:Aa,returnEditMoment:V?.returnEditMoment,usePreviousEditMoment:V?.usePreviousEditMoment,async:ua};await L.isSafeToEditVersion(this.layer.url,ha,!0);const ja=L.isVersionInEditSession(this.layer.url,ha||null);if(await L.isHistoricVersion(ma.url,ha,ma.historicMoment))throw new k("feature-layer-source:historic-version","Editing a historic version is not allowed");V?.returnServiceEditsOption?(aa.edits=JSON.stringify([{id:ma.layerId,adds:Ga,updates:Qa,
deletes:qa,attachments:R,assetMaps:Ma}]),aa.returnServiceEditsOption=N.toJSON(V?.returnServiceEditsOption),aa.returnServiceEditsInSourceSR=V?.returnServiceEditsInSourceSR):(aa.adds=Ga.length?JSON.stringify(Ga):null,aa.updates=Qa.length?JSON.stringify(Qa):null,aa.deletes=qa.length?Aa?JSON.stringify(qa):qa.join(","):null,aa.attachments=R&&JSON.stringify(R),aa.assetMaps=null!=Ma?JSON.stringify(Ma):void 0);Aa=this._getLayerRequestOptions({method:"post",query:aa});ja&&(Aa.authMode="immediate",Aa.query.returnEditMoment=
!0,Aa.query.sessionId=L.currentSessionId);V=V?.returnServiceEditsOption?ma.url:ma.parsedUrl.path;let sa;try{sa=ua?await this._asyncApplyEdits(V+"/applyEdits",Aa):await c(V+"/applyEdits",Aa)}catch(H){if(y.isProtectedOrPrivateVersionError(H))Aa.authMode="immediate",sa=ua?await this._asyncApplyEdits(V+"/applyEdits",Aa):await c(V+"/applyEdits",Aa);else throw H;}!ma.capabilities.operations?.supportsEditing&&ma.effectiveCapabilities?.operations?.supportsEditing&&await f.id?.findCredential(ma.url)?.refreshToken();
return this._createEditsResult(sa)}async deleteAttachments(R,V){await this.load();var {layer:ma}=this;await E.ensureLayerCredential(ma,"editing");R=R.attributes[ma.objectIdField];ma=ma.parsedUrl.path+"/"+R+"/deleteAttachments";try{return(await c(ma,this._getLayerRequestOptions({query:{attachmentIds:V.join(",")},method:"post"}))).data.deleteAttachmentResults.map(y.createFeatureEditResult)}catch(ca){throw this._createAttachmentErrorResult(R,ca);}}fetchRecomputedExtents(R={}){return this.load({signal:R.signal}).then(async()=>
{var V=this._getLayerRequestOptions({...R,query:{returnUpdates:!0}});const {layerId:ma,url:ca}=this.layer;({data:V}=await c(`${ca}/${ma}`,V));const {id:ua,extent:Aa,fullExtent:Ma,timeExtent:Ga}=V;V=Aa||Ma;return{id:ua,fullExtent:V&&x.fromJSON(V),timeExtent:Ga&&q.fromJSON({start:Ga[0],end:Ga[1]})}})}async queryAttachments(R,V={}){await this.load();V=this._getLayerRequestOptions(V);return this.queryTask.executeAttachmentQuery(R,V)}async queryFeatures(R,V){await this.load();V=await this.queryTask.execute(R,
{...V,query:this._createRequestQueryOptions(V)});R.outStatistics?.length&&V.features.length&&V.features.forEach(ma=>{const ca=ma.attributes;R.outStatistics?.forEach(({outStatisticFieldName:ua})=>{if(ua){const Aa=ua.toLowerCase();Aa&&Aa in ca&&ua!==Aa&&(ca[ua]=ca[Aa],delete ca[Aa])}})});return V}async queryFeaturesJSON(R,V){await this.load();return this.queryTask.executeJSON(R,{...V,query:this._createRequestQueryOptions(V)})}async queryObjectIds(R,V){await this.load();return this.queryTask.executeForIds(R,
{...V,query:this._createRequestQueryOptions(V)})}async queryFeatureCount(R,V){await this.load();return this.queryTask.executeForCount(R,{...V,query:this._createRequestQueryOptions(V)})}async queryExtent(R,V){await this.load();return this.queryTask.executeForExtent(R,{...V,query:this._createRequestQueryOptions(V)})}async queryRelatedFeatures(R,V){await this.load();return this.queryTask.executeRelationshipQuery(R,{...V,query:this._createRequestQueryOptions(V)})}async queryRelatedFeaturesCount(R,V){await this.load();
return this.queryTask.executeRelationshipQueryForCount(R,{...V,query:this._createRequestQueryOptions(V)})}async queryTopFeatures(R,V){await this.load();return this.queryTask.executeTopFeaturesQuery(R,{...V,query:this._createRequestQueryOptions(V)})}async queryTopObjectIds(R,V){await this.load();return this.queryTask.executeForTopIds(R,{...V,query:this._createRequestQueryOptions(V)})}async queryTopExtents(R,V){await this.load();return this.queryTask.executeForTopExtents(R,{...V,query:this._createRequestQueryOptions(V)})}async queryTopCount(R,
V){await this.load();return this.queryTask.executeForTopCount(R,{...V,query:this._createRequestQueryOptions(V)})}async fetchPublishingStatus(){if(!D.isHostedAgolService(this.layer.url))return"unavailable";var R=g.join(this.layer.url,"status");R=await c(R,{query:{f:"json"}});return O.fromJSON(R.data.status)}async uploadAssets(R,V){const {uploadAssets:ma}=await new Promise((ca,ua)=>a(["./support/uploadAssets"],ca,ua));return ma(R,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},V)}async _asyncApplyEdits(R,
V){for(R=(await c(R,V)).data.statusUrl;;){V=(await c(R,{query:{f:"json"},responseType:"json"})).data;switch(V.status){case "Completed":return c(V.resultUrl,{query:{f:"json"},responseType:"json"});case "CompletedWithErrors":throw new k("async-applyEdits-failed","asynchronous applyEdits call failed.");case "Failed ImportChanges":case "InProgress":case "Pending":case "ExportAttachments":case "ExportChanges":case "ExportingData":case "ExportingSnapshot":case "ImportAttachments":case "ProvisioningReplica":case "UnRegisteringReplica":break;
default:throw new k("async-applyEdits-failed","asynchronous applyEdits call failed (undefined response status)");}await e.after(1E3)}}_createRequestQueryOptions(R){R={...this.layer.customParameters,token:this.layer.apiKey,...R?.query};this.layer.datesInUnknownTimezone&&(R.timeReferenceUnknownClient=!0);return R}async _fetchService(R,V){R||(R={},h("featurelayer-advanced-symbols")&&(R.returnAdvancedSymbols=!0),V?.cacheBust&&(R._ts=Date.now()),{data:R}=await c(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:R,
signal:V?.signal})));this.sourceJSON=await this._patchServiceJSON(R,V?.signal);V=R.type;if(!K.has(V))throw new k("feature-layer-source:unsupported-type",`Source type "${V}" is not supported`);}async _patchServiceJSON(R,V){if("Table"!==R.type&&R.geometryType&&!R?.drawingInfo?.renderer&&!R.defaultSymbol){const ma=B.createDrawingInfo(R.geometryType).renderer;r.setDeepValue("drawingInfo.renderer",ma,R)}"esriGeometryMultiPatch"===R.geometryType&&R.infoFor3D&&(R.geometryType="mesh");if(null==R.extent)try{const {data:ma}=
await c(this.layer.url,this._getLayerRequestOptions({signal:V}));ma.spatialReference&&(R.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:ma.spatialReference})}catch(ma){e.throwIfAbortError(ma)}return R}async _ensureLatestMetadata(R){if(this.layer.userHasUpdateItemPrivileges&&0<this.sourceJSON.cacheMaxAge)return this._fetchService(null,{...R,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(R){var {addAssetFeatures:V}=R;if(!V?.length)return null;R=await this._filterRedundantAssetMaps(V);
if(!V?.length)return null;V=[];const ma=new Map;for(const ua of R){const {geometry:Aa}=ua;var {vertexSpace:ca}=Aa;z.isRelativeVertexSpace(ca)?V.push(Aa):(ca=z.toRelativeVertexSpace(Aa),ma.set(ca,Aa),ua.geometry=ca,V.push(ca))}await this.uploadAssets(V);for(const [ua,Aa]of ma)Aa.addExternalSources(ua.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(R),updates:[],deletes:[]}}_getAssetMapEditsJSON(R){const V=[],ma=this.layer.globalIdField,ca=this.layer.parsedUrl;for(const Aa of R){({metadata:R}=
Aa.geometry);var ua=R.getExternalSourcesOnService(ca);R=Aa.getAttribute(ma);if(0===ua.length)w.getLogger(this).error(`Skipping feature ${R}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);else{({source:ua}=ua.find(t.isOriginalExternal)??ua[0]);for(const Ma of ua)1!==Ma.parts.length?w.getLogger(this).error(`Skipping asset ${Ma.assetName}. It does not have exactly one part, so we cannot map it to a feature.`):V.push({globalId:p.generateBracedUUID(),
parentGlobalId:R,assetName:Ma.assetName,assetHash:Ma.parts[0].partHash,flags:[]})}}return V}_createEditsResult(R){var V=R.data;const {layerId:ma}=this.layer;R=[];let ca=null;if(Array.isArray(V))for(var ua of V)R.push({id:ua.id,editedFeatures:ua.editedFeatures}),ua.id===ma&&(ca={addResults:ua.addResults??[],updateResults:ua.updateResults??[],deleteResults:ua.deleteResults??[],attachments:ua.attachments,editMoment:ua.editMoment});else ca=V;ua=y.unpackEditResultData(ca);if(0<R.length){ua.editedFeatureResults=
[];for(const Aa of R)({editedFeatures:R}=Aa),V=R?.spatialReference?new T(R.spatialReference):null,ua.editedFeatureResults.push({layerId:Aa.id,editedFeatures:y.createEditedFeatures(R,V)})}return ua}_createAttachmentErrorResult(R,V){return{objectId:R,globalId:null,error:new k("feature-layer-source:attachment-failure",V.details.messages?.[0]||V.message,{code:V.details.httpStatus||V.details.messageCode})}}_getFormDataForAttachment(R,V){if(R=R instanceof FormData?R:R&&R.elements?new FormData(R):null)for(const ma in V){const ca=
V[ma];null!=ca&&(R.set?R.set(ma,ca):R.append(ma,ca))}return R}_getLayerRequestOptions(R={}){const {parsedUrl:V,gdbVersion:ma,dynamicDataSource:ca}=this.layer;return{...R,query:{gdbVersion:ma,layer:ca?JSON.stringify({source:ca}):void 0,...V.query,f:"json",...this._createRequestQueryOptions(R)},responseType:"json"}}async _filterRedundantAssetMaps(R){var {layer:V}=this;const {globalIdField:ma,infoFor3D:ca,parsedUrl:ua}=V;if(null==ca||null==ma)return R;V=J.getAssetMapTable(ca);if(null==V)return R;var Aa=
g.join(ua.path,`../${V.id}`);V=[];const Ma=[];for(var Ga of R)0<Ga.geometry.metadata.getExternalSourcesOnService(ua).length?Ma.push(Ga):V.push(Ga);Ga=Ma.map(ja=>ja.getAttribute(ma)).filter(n.isSome);if(0===Ga.length)return R;const {assetMapFieldRoles:{parentGlobalId:Qa,assetHash:qa}}=ca,ha=new M;ha.where=`${Qa} IN (${Ga.map(ja=>`'${ja}'`)})`;ha.outFields=[qa,Qa];ha.returnGeometry=!1;Aa=await F.executeQueryJSON(Aa,ha);const {features:aa}=Aa;return 0===aa.length?R:[...V,...Ma.filter(ja=>{const sa=ja.getAttribute(ma);
if(!sa)return!0;({metadata:ja}=ja.geometry);const H=aa.filter(fa=>fa.getAttribute(Qa)===sa);if(0===H.length)return!0;const Q=H.map(fa=>fa.getAttribute(qa));return ja.getExternalSourcesOnService(ua).flatMap(({source:fa})=>fa.flatMap(ka=>ka.parts.map(za=>za.partHash))).some(fa=>Q.every(ka=>fa!==ka))})]}};b.__decorate([v.property()],d.prototype,"type",void 0);b.__decorate([v.property({constructOnly:!0})],d.prototype,"layer",void 0);b.__decorate([v.property({readOnly:!0})],d.prototype,"queryTask",null);
return d=b.__decorate([u.subclass("esri.layers.graphics.sources.FeatureLayerSource")],d)})},"esri/geometry/support/meshVertexSpaceUtils":function(){define("exports ../../core/deprecate ../../core/Logger ../Point ./MeshGeoreferencedVertexSpace ./MeshLocalVertexSpace ../../chunks/vec3".split(" "),function(a,b,d,f,c,q,n){function k(){return d.getLogger("esri.geometry.Mesh")}function h(l){return null!=l.origin}a.createVertexSpace=function(l,m){return"local"===l?new q({origin:m}):new c({origin:m})};a.getMeshLogger=
k;a.isMeshWithRelativeVertexSpace=function(l){return h(l.vertexSpace)};a.isRelativeVertexSpace=h;a.preferredVertexSpaceTypeForSR=function(l){return l.isGeographic||l.isWebMercator?"local":"georeferenced"};a.selectVertexSpace=function(l,m){const {x:w,y:r,z:e,spatialReference:g}=l;l=[w,r,e??0];if(void 0!==m?.geographic)if(b.deprecated(k(),"option: geographic",{replacement:"use vertexSpace option instead",version:"4.29",warnOnce:!0}),m?.vertexSpace)k().warn("Deprecated geographic flag ignored since vertexSpace option is provided.");
else return m?.geographic?new q({origin:l}):new c({origin:l});if(m?.vertexSpace)switch(m.vertexSpace){case "local":return new q({origin:l});case "georeferenced":return new c({origin:l});case "georeferenced-absolute":return new c}else return g.isGeographic||g.isWebMercator?new q({origin:l}):new c({origin:l})};a.shouldUpdateFast=function(l,m){switch(l.type){case "georeferenced":return h(l)&&!m.isGeographic&&!m.isWebMercator;case "local":return m.isGeographic||m.isWebMercator}};a.toRelativeVertexSpace=
function(l){var {vertexSpace:m}=l;if(null!=m.origin)return l.clone();({anchor:m}=l);m=m.clone();var w=new c({origin:[m.x,m.y,m.z]});l=l.cloneWithVertexSpace(w);({position:w}=l.vertexAttributes);l.vertexAttributes.position=n.translate(new Float64Array(w.length),w,[-m.x,-m.y,-(m.z??0)]);l.vertexAttributesChanged();return l};a.vertexSpaceOriginToPoint=function(l,m){if(!h(l))return null;const [w,r,e]=l.origin;return new f({x:w,y:r,z:e,spatialReference:m})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){b=class extends b.ClonableMixin(d.JSONSupport){constructor(l){super(l);this.type="georeferenced";this.origin=null}};a.__decorate([k.enumeration({georeferenced:"georeferenced"},
{readOnly:!0})],b.prototype,"type",void 0);a.__decorate([f.property({type:[Number],nonNullable:!1,json:{write:!0}})],b.prototype,"origin",void 0);return b=a.__decorate([h.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],b)})},"esri/geometry/support/MeshLocalVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),
function(a,b,d,f,c,q,n,k,h,l){b=class extends b.ClonableMixin(d.JSONSupport){constructor(m){super(m);this.type="local";this.origin=l.create()}};a.__decorate([k.enumeration({local:"local"},{readOnly:!0})],b.prototype,"type",void 0);a.__decorate([f.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"origin",void 0);return b=a.__decorate([h.subclass("esri.geometry.support.MeshLocalVertexSpace")],b)})},"esri/chunks/vec3":function(){define(["exports","../core/has","../geometry/support/buffer/math/common"],
function(a,b,d){function f(e,g,p){c(e.typedBuffer,g.typedBuffer,p,e.typedBufferStride,g.typedBufferStride)}function c(e,g,p,v=3,u=v){if(e.length/v!==Math.ceil(g.length/u))return e;const x=e.length/v,z=p[0],t=p[1],y=p[2],B=p[4],A=p[5],D=p[6],E=p[8],J=p[9],F=p[10],G=p[12],M=p[13];p=p[14];let L=0,T=0;for(let N=0;N<x;N++){const K=g[L],O=g[L+1],R=g[L+2];e[T]=z*K+B*O+E*R+G;e[T+1]=t*K+A*O+J*R+M;e[T+2]=y*K+D*O+F*R+p;L+=u;T+=v}return e}function q(e,g,p){n(e.typedBuffer,g.typedBuffer,p,e.typedBufferStride,
g.typedBufferStride)}function n(e,g,p,v=3,u=v){if(e.length/v!==Math.ceil(g.length/u))d.getMathLogger().error("source and destination buffers need to have the same number of elements");else{var x=e.length/v,z=p[0],t=p[1],y=p[2],B=p[3],A=p[4],D=p[5],E=p[6],J=p[7];p=p[8];var F=0,G=0;for(let M=0;M<x;M++){const L=g[F],T=g[F+1],N=g[F+2];e[G]=z*L+B*T+E*N;e[G+1]=t*L+A*T+J*N;e[G+2]=y*L+D*T+p*N;F+=u;G+=v}}}function k(e,g,p){h(e.typedBuffer,g,p,e.typedBufferStride)}function h(e,g,p,v=3){const u=Math.min(e.length/
v,g.count),x=g.typedBuffer;g=g.typedBufferStride;let z=0,t=0;for(let y=0;y<u;y++)e[t]=p*x[z],e[t+1]=p*x[z+1],e[t+2]=p*x[z+2],z+=g,t+=v}function l(e,g,p,v=3,u=v){const x=e.length/v;if(x!==Math.ceil(g.length/u))return e;let z=0,t=0;for(let y=0;y<x;y++)e[t]=g[z]+p[0],e[t+1]=g[z+1]+p[1],e[t+2]=g[z+2]+p[2],z+=u,t+=v;return e}function m(e,g){w(e.typedBuffer,g.typedBuffer,e.typedBufferStride,g.typedBufferStride)}function w(e,g,p=3,v=p){const u=Math.min(e.length/p,g.length/v);let x=0,z=0;for(let y=0;y<u;y++){const B=
g[x],A=g[x+1],D=g[x+2];var t=B*B+A*A+D*D;0<t&&(t=1/Math.sqrt(t),e[z]=t*B,e[z+1]=t*A,e[z+2]=t*D);x+=v;z+=p}}function r(e,g,p){const v=Math.min(e.count,g.count),u=e.typedBuffer;e=e.typedBufferStride;const x=g.typedBuffer;g=g.typedBufferStride;let z=0,t=0;for(let y=0;y<v;y++)u[t]=x[z]>>p,u[t+1]=x[z+1]>>p,u[t+2]=x[z+2]>>p,z+=g,t+=e}b=Object.freeze(Object.defineProperty({__proto__:null,normalize:w,normalizeView:m,scale:h,scaleView:k,shiftRight:r,transformMat3:n,transformMat3View:q,transformMat4:c,transformMat4View:f,
translate:l},Symbol.toStringTag,{value:"Module"}));a.normalize=w;a.normalizeView=m;a.scale=h;a.scaleView=k;a.shiftRight=r;a.transformMat3=n;a.transformMat3View=q;a.transformMat4=c;a.transformMat4View=f;a.translate=l;a.vec3=b})},"esri/geometry/support/buffer/math/common":function(){define(["exports","../../../../core/Logger"],function(a,b){a.getMathLogger=()=>b.getLogger("esri.views.3d.support.buffer.math");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/External":function(){define(["exports",
"../../../request","../../../core/arrayUtils","../../../core/promiseUtils","../../../layers/support/infoFor3D"],function(a,b,d,f,c){function q(g){return Array.isArray(g)?g.every(p=>p instanceof m):!1}function n(g){return g?Array.isArray(g)?g.some(k):k(g):!1}function k(g){if(g instanceof File){const {type:p,name:v}=g;return r.test(p)||e.test(v)}return r.test(g.assetMimeType)||e.test(g.assetName)}function h(g,p){return Array.isArray(g)?0<g.length&&g.every(v=>l(v,p)):l(g,p)}function l(g,p){return g instanceof
m&&g.isOnService(p)}class m{constructor(g,p,v){this.assetName=g;this.assetMimeType=p;this.parts=v}equals(g){return this===g||this.assetName===g.assetName&&this.assetMimeType===g.assetMimeType&&d.equals(this.parts,g.parts,(p,v)=>p.equals(v))}isOnService(g){return this.parts.every(p=>p.isOnService(g))}makeHash(){let g="";for(const p of this.parts)g+=p.partHash;return g}async toBlob(g){var {parts:p}=this;if(1===p.length)return p[0].toBlob(g);p=await Promise.all(p.map(v=>v.toBlob(g)));f.throwIfAborted(g);
return new Blob(p)}}class w{constructor(g,p){this.partUrl=g;this.partHash=p}equals(g){return this===g||this.partUrl===g.partUrl&&this.partHash===g.partHash}isOnService(g){return this.partUrl.startsWith(`${g.path}/assets/`)}async toBlob(g){const {data:p}=await b(this.partUrl,{responseType:"blob"});f.throwIfAborted(g);return p}}const r=/^(model\/gltf\+json)|(model\/gltf-binary)$/,e=/\.(gltf|glb)/i;a.ServiceAsset=m;a.ServiceAssetPart=w;a.assetFormatId=function(g,p){return g instanceof File?c.getFileFormatId(g,
p):c.getMimeTypeFormatId(g.assetMimeType,p)??c.getFilenameFormatId(g.assetName,p)};a.assetIsOnService=l;a.externalIsOnService=function(g,p){if(!g)return!1;({source:g}=g);return h(g,p)};a.externalSourceToMultiPart=function(g){return Array.isArray(g)?g:[g]};a.externalSourcesAreEqual=function(g,p){if(g===p)return!0;({source:g}=g);({source:p}=p);if(g===p)return!0;if(q(g)&&q(p)){if(g.length!==p.length)return!1;var v=(u,x)=>u.assetName<x.assetName?-1:u.assetName>x.assetName?1:0;g=[...g].sort(v);p=[...p].sort(v);
for(v=0;v<g.length;++v)if(!g[v].equals(p[v]))return!1;return!0}return!1};a.isDisplayAsset=k;a.isDisplayExternal=function(g){return n(g?.source)};a.isDisplaySource=n;a.isOriginalExternal=function(g){return!!g.original};a.sourceIsOnService=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/infoFor3D":function(){define(["exports"],function(a){function b(w,r){return k(q(w,r))}function d(w,r){return k(n(w,r))}function f(w,r){return d(w.name,r)??b(w.type,r)}function c(w,
r){return[...m,...r].find(e=>k(e)===w)}function q(w,r){const e=w.toLowerCase();return[...m,...r].find(g=>h(g)===e)}function n(w,r){const e=w.toLowerCase();return[...m,...r].find(g=>l(g).some(p=>e.endsWith(p)))}function k(w){return w?.[0]}function h(w){return w?.[1].toLowerCase()}function l(w){return w?.[2].split(",").map(r=>r.toLowerCase())??[]}const m=[["binary","application/octet-stream","bin",""]];a.getAssetMapTable=function(w){return w.tables?.find(r=>"assetMaps"===r.role)};a.getFileFormatId=
f;a.getFilePickerAcceptType=function(w){const r={};for(const e of[...m,...(w?.supportedFormats??[])]){[w]=h(e).split(";");w=w.trim().toLowerCase();const g=l(e).map(u=>`.${u}`);let p,v;(p=r)[v=w]??(p[v]=[]);r[w].push(...g)}return{description:"3D Models",accept:r}};a.getFilenameFormatId=d;a.getFormatDescription=function(w){return w?.[3]};a.getFormatExtensions=l;a.getFormatId=k;a.getFormatIdMimeType=function(w,r){return h(c(w,r))};a.getFormatMimeType=h;a.getMimeTypeFormatId=b;a.getSupportedExtensions=
function(w){return[...m,...(w?.supportedFormats??[])].flatMap(l).map(r=>`.${r}`)};a.isFileEditFormat=function(w,r){if(!w)return!1;r=f(r,w.supportedFormats??[]);return null!=r&&w.editFormats.includes(r)};a.isFileSupported=function(w,r){return null!=n(r.name,w?.supportedFormats??[])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/applyEditsUtils":function(){define("exports ../../Graphic ../../core/Error ../../core/Logger ../../core/unitUtils ../../core/urlUtils ../../geometry/projection ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ./editingSupport".split(" "),
function(a,b,d,f,c,q,n,k,h,l){async function m(e,g){const {feature:p,attachment:v}=g,{globalId:u,name:x,contentType:z,data:t,uploadId:y}=v;g={globalId:u};p&&("attributes"in p?g.parentGlobalId=p.attributes?.[e.globalIdField]:p.globalId&&(g.parentGlobalId=p.globalId));if(y)g.uploadId=y;else if(t){if(e=await q.parseData(t))g.contentType=e.mediaType,g.data=e.data;t instanceof File&&(g.name=t.name)}x&&(g.name=x);z&&(g.contentType=z);return g}function w(e){const g=!0===e.success?null:e.error||{code:void 0,
description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:g?new d("feature-layer-source:edit-failure",g.description,{code:g.code}):null}}function r(e,g){return new b({attributes:e.attributes,geometry:k.fromJSON({...e.geometry,spatialReference:g})})}a.createEditedFeatures=function(e,g){return{adds:e?.adds?.map(p=>r(p,g))||[],updates:e?.updates?.map(p=>({original:r(p[0],g),current:r(p[1],g)}))||[],deletes:e?.deletes?.map(p=>r(p,g))||[],spatialReference:g}};a.createFeatureEditResult=w;
a.getAttachmentEditsJSON=async function(e,g){const p=await Promise.all((g.addAttachments??[]).map(u=>m(e,u))),v=await Promise.all((g.updateAttachments??[]).map(u=>m(e,u)));g=g.deleteAttachments??[];return p.length||v.length||g.length?{adds:p,updates:v,deletes:[...g]}:null};a.getFeatureIds=function(e,g,p){if(!g||0===g.length)return[];if(p&&l.isFeatureIdentifierArrayWithGlobalId(g))return g.map(u=>u.globalId);if(l.isFeatureIdentifierArrayWithObjectId(g))return g.map(u=>u.objectId);const v=p?e.globalIdField:
e.objectIdField;return v?g.map(u=>u.getAttribute(v)):[]};a.getFeatureJSON=async function(e,g,p){var {geometry:v}=g;g={...g.attributes};if(null!=p&&"mesh"===v?.type){({transformFieldRoles:p}=p);const {origin:x,spatialReference:z,transform:t,vertexSpace:y}=v;v="local"===y.type;e=e.spatialReference;var u=e.isGeographic;const B=h.equals(e,z),A=B||h.isWGS84(e)&&(h.isWGS84(z)||h.isWebMercator(z));if(!(v&&u&&A||!v&&!u&&B))return null;u=n.projectWithoutEngine(x,z,e);if(null==u)return null;g[p.originX]=u.x;
g[p.originY]=u.y;g[p.originZ]=u.z??0;if(null!=t){const {translation:D,scale:E,rotation:J}=t;v=v?1:c.getMetersPerCartesianUnitForSR(z)/c.getMetersPerCartesianUnitForSR(e);g[p.translationX]=D[0]*v;g[p.translationY]=D[2]*v;g[p.translationZ]=-D[1]*v;g[p.scaleX]=E[0];g[p.scaleY]=E[2];g[p.scaleZ]=E[1];g[p.rotationX]=J[0];g[p.rotationY]=J[2];g[p.rotationZ]=-J[1];g[p.rotationDeg]=J[3]}return{attributes:g}}return null==v?{attributes:g}:"mesh"===v.type||"extent"===v.type?null:{geometry:v.toJSON(),attributes:g}};
a.isProtectedOrPrivateVersionError=function(e){e=e.details.raw;const g=+e.extendedCode;return 500===+e.code&&(-2147217144===g||-2147467261===g)};a.unpackEditResultData=function(e){var g=e?.assetMaps;if(g){for(const p of g.addResults)p.success||f.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${p.globalId}.`);for(const p of g.updateResults)p.success||f.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${p.globalId}.`)}g=
e?.attachments;g={addFeatureResults:e?.addResults?.map(w)??[],updateFeatureResults:e?.updateResults?.map(w)??[],deleteFeatureResults:e?.deleteResults?.map(w)??[],addAttachmentResults:g?.addResults?g.addResults.map(w):[],updateAttachmentResults:g?.updateResults?g.updateResults.map(w):[],deleteAttachmentResults:g?.deleteResults?g.deleteResults.map(w):[]};e?.editMoment&&(g.editMoment=e.editMoment);return g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/editingSupport":function(){define("exports ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/uuid ../../geometry/support/normalizeUtils ../../geometry/support/spatialReferenceUtils ../mixins/EditBusLayer ../support/fieldUtils ../support/infoFor3D ../support/layerUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){function p(G){return"object"===typeof G&&null!=G&&"objectId"in G&&!!G.objectId}function v(G){return"object"===typeof G&&null!=G&&"globalId"in G&&!!G.globalId}async function u(G,M,L,T){await G.load();if(null==M?.applyEdits)throw new f(`${G.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:G});if(!g.getEffectiveEditingEnabled(G))throw new f(`${G.type}-layer:editing-disabled`,"Editing is disabled for layer",{layer:G});
const {edits:N,options:K}=await x(G,L,T);return N.addFeatures?.length||N.updateFeatures?.length||N.deleteFeatures?.length||N.addAttachments?.length||N.updateAttachments?.length||N.deleteAttachments?.length?{edits:N,results:await M.applyEdits(N,K)}:{edits:N,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function x(G,M,L){const T=g.getEffectiveLayerCapabilities(G),N=null!=G.infoFor3D;
E(M,T,L,!(!M||!(M.addFeatures||M.updateFeatures||M.deleteFeatures)),!(!M||!(M.addAttachments||M.updateAttachments||M.deleteAttachments)),`${G.type}-layer`);if(!T.data.isVersioned&&L?.gdbVersion)throw new f(`${G.type}-layer:invalid-parameter`,"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!T.editing.supportsRollbackOnFailure&&L?.rollbackOnFailureEnabled)throw new f(`${G.type}-layer:invalid-parameter`,"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");
const K={...L};null!=K.rollbackOnFailureEnabled||T.editing.supportsRollbackOnFailure||(K.rollbackOnFailureEnabled=!0);K.rollbackOnFailureEnabled||"original-and-current-features"!==K.returnServiceEditsOption||(!1===K.rollbackOnFailureEnabled&&q.getLogger("esri.layers.graphics.editingSupport").warn(`${G.type}-layer:invalid-parameter`,"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true."),
K.rollbackOnFailureEnabled=!0);if(!T.editing.supportsReturnServiceEditsInSourceSpatialReference&&K.returnServiceEditsInSourceSR)throw new f(`${G.type}-layer:invalid-parameter`,"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");if(K.returnServiceEditsInSourceSR&&"original-and-current-features"!==K.returnServiceEditsOption)throw new f(`${G.type}-layer:invalid-parameter`,"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");
M=D(M,T,`${G.type}-layer`);const O=L?.globalIdUsed||N,R=G.fields.filter(V=>"big-integer"===V.type||"oid"===V.type&&8<=(V.length||0));if(O){const {globalIdField:V}=G;if(null==V)throw new f(`${G.type}-layer:invalid-parameter`,"Layer does not specify a global id field.");M.addFeatures.forEach(ma=>{({attributes:ma}=ma);null==ma[V]&&(ma[V]=h.generateBracedUUID())})}M.addFeatures.forEach(V=>{z(V,G,O,R);t(V,G)});M.updateFeatures.forEach(V=>{z(V,G,O,R);t(V,G);const ma=g.getEffectiveLayerCapabilities(G);if("geometry"in
V&&null!=V.geometry&&!ma?.editing.supportsGeometryUpdate)throw new f(`${G.type}-layer:unsupported-operation`,"Layer does not support geometry updates.");});M.deleteFeatures.forEach(V=>{z(V,G,O,R)});M.addAttachments.forEach(V=>y(V,G));M.updateAttachments.forEach(V=>y(V,G));N&&await F(M,G);return{edits:await B(M),options:K}}function z(G,M,L,T){if(L){if("attributes"in G&&!G.attributes[M.globalIdField])throw new f(`${M.type}-layer:invalid-parameter`,`Feature should have '${M.globalIdField}' when 'globalIdUsed' is true`);
if(!("attributes"in G||G.globalId))throw new f(`${M.type}-layer:invalid-parameter`,"`'globalId' of the feature should be passed when 'globalIdUsed' is true");}if(T.length&&"attributes"in G)for(const N of T)if(L=G.attributes[N.name],void 0!==L&&!r.isValidFieldValue(N,L))throw new f(`${M.type}-layer:invalid-parameter`,`Big-integer field '${N.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:G});if("geometry"in G&&null!=G.geometry){if(G.geometry.hasZ&&!1===M.capabilities?.data.supportsZ)throw new f(`${M.type}-layer:z-unsupported`,
"Layer does not support z values while feature has z values.");if(G.geometry.hasM&&!1===M.capabilities?.data.supportsM)throw new f(`${M.type}-layer:m-unsupported`,"Layer does not support m values while feature has m values.");}}function t(G,M){if("geometry"in G&&"mesh"===G.geometry?.type&&null!=M.infoFor3D&&null!=M.spatialReference){({geometry:G}=G);const {spatialReference:L,vertexSpace:T}=G;G=M.spatialReference;const N="local"===T.type,K=m.isGeographic(G),O=m.equals(G,L),R=O||m.isWGS84(G)&&(m.isWGS84(L)||
m.isWebMercator(L));if(!(N&&K&&R||!N&&!K&&O))throw new f(`${M.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${T.type} vertex space and a spatial reference wkid:${L.wkid} to a layer with a spatial reference wkid:${G.wkid} is not supported.`);}}function y(G,M){const {feature:L,attachment:T}=G;if(!L||"attributes"in L&&!L.attributes[M.globalIdField])throw new f(`${M.type}-layer:invalid-parameter`,"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in L||L.globalId))throw new f(`${M.type}-layer:invalid-parameter`,
"Attachment should have reference to 'globalId' of the parent feature");if(!T.globalId)throw new f(`${M.type}-layer:invalid-parameter`,"Attachment should have 'globalId'");if(!T.data&&!T.uploadId)throw new f(`${M.type}-layer:invalid-parameter`,"Attachment should have 'data' or 'uploadId'");if(!(T.data instanceof File&&T.data.name||T.name))throw new f(`${M.type}-layer:invalid-parameter`,"'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!M.capabilities?.editing.supportsUploadWithItemId&&
T.uploadId)throw new f(`${M.type}-layer:invalid-parameter`,"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"===typeof T.data&&(G=k.dataComponents(T.data))&&!G.isBase64)throw new f(`${M.type}-layer:invalid-parameter`,"Attachment 'data' should be a Blob, File or Base64 encoded string");}async function B(G){const M=G.addFeatures??[],L=G.updateFeatures??[];var T=M.concat(L).map(O=>O.geometry);T=await l.normalizeCentralMeridian(T);const N=
M.length,K=L.length;T.slice(0,N).forEach((O,R)=>M[R].geometry=O);T.slice(N,N+K).forEach((O,R)=>L[R].geometry=O);return G}function A(G){return{addFeatures:Array.from(G?.addFeatures??[]),updateFeatures:Array.from(G?.updateFeatures??[]),deleteFeatures:G&&d.isCollection(G.deleteFeatures)?G.deleteFeatures.toArray():G.deleteFeatures||[],addAttachments:G.addAttachments||[],updateAttachments:G.updateAttachments||[],deleteAttachments:G.deleteAttachments||[]}}function D(G,M,L){G=A(G);if(G.addFeatures?.length&&
!M.operations.supportsAdd)throw new f(`${L}:unsupported-operation`,"Layer does not support adding features.");if(G.updateFeatures?.length&&!M.operations.supportsUpdate)throw new f(`${L}:unsupported-operation`,"Layer does not support updating features.");if(G.deleteFeatures?.length&&!M.operations.supportsDelete)throw new f(`${L}:unsupported-operation`,"Layer does not support deleting features.");G.addFeatures=G.addFeatures.map(J);G.updateFeatures=G.updateFeatures.map(J);G.addAssetFeatures=[];return G}
function E(G,M,L,T,N,K){if(!G||!T&&!N)throw new f(`${K}:missing-parameters`,"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!M.editing.supportsGlobalId&&L?.globalIdUsed)throw new f(`${K}:invalid-parameter`,"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!M.editing.supportsGlobalId&&N)throw new f(`${K}:invalid-parameter`,"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");
if(!L?.globalIdUsed&&N)throw new f(`${K}:invalid-parameter`,"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");}function J(G){const M=new b;G.attributes||(G.attributes={});M.geometry=G.geometry;M.attributes=G.attributes;return M}async function F(G,M){if(null!=M.infoFor3D){var {infoFor3D:L}=M,T=e.getMimeTypeFormatId("model/gltf-binary",L.supportedFormats)??e.getFilenameFormatId("glb",L.supportedFormats);if(!T||!L.editFormats.includes(T))throw new f(`${M.type}-layer:binary-gltf-asset-not-supported`,
"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");G.addAssetFeatures??(G.addAssetFeatures=[]);({addAssetFeatures:M}=G);for(const N of G.addFeatures??[])"mesh"===N?.geometry?.type&&M.push(N);for(const N of G.updateFeatures??[])"mesh"===N?.geometry?.type&&M.push(N)}}a.applyEdits=async function(G,M,L,T={}){var N="gdbVersion"in G?G.gdbVersion:null;N=T.gdbVersion??N;w.isEditBusLayer(G)&&G.url?N=w.emitApplyEditsEvent(G.url,G.layerId,N,"original-and-current-features"===
T.returnServiceEditsOption):(N=n.createResolver(),N.promise.then(K=>{(K.addedFeatures.length||K.updatedFeatures.length||K.deletedFeatures.length||K.addedAttachments.length||K.updatedAttachments.length||K.deletedAttachments.length)&&G.emit("edits",K)}),G.emit("apply-edits",{result:N.promise}));try{const {results:K,edits:O}=await u(G,M,L,T);M=V=>V.filter(ma=>!ma.error).map(c.clone);const R={edits:O,addedFeatures:M(K.addFeatureResults),updatedFeatures:M(K.updateFeatureResults),deletedFeatures:M(K.deleteFeatureResults),
addedAttachments:M(K.addAttachmentResults),updatedAttachments:M(K.updateAttachmentResults),deletedAttachments:M(K.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:K.editMoment?new Date(K.editMoment):null,globalIdToObjectId:T.globalIdToObjectId};K.editedFeatureResults?.length&&(R.editedFeatures=K.editedFeatureResults);N.resolve(R);return K}catch(K){throw N.reject(K),K;}};a.checkEditingCapabilities=E;a.isFeatureIdentifierArrayWithGlobalId=function(G){return G.every(v)};a.isFeatureIdentifierArrayWithObjectId=
function(G){return G.every(p)};a.isFeatureIdentifierWithGlobalId=v;a.isFeatureIdentifierWithObjectId=p;a.normalizeCollections=A;a.normalizeEdits=D;a.normalizeGeometries=B;a.shallowCloneFeature=J;a.uploadAssets=function(G,M,L,T){if(null==M?.applyEdits)throw new f(`${G.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:G});if(!M.uploadAssets)throw new f(`${G.type}-layer:no-asset-upload-support`,"Layer source does not support uploadAssets capability",{layer:G});
return M.uploadAssets(L,T)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/Error ../../core/Logger ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),function(a,b,d,f,c,q,n,k,h,l,m){function w(x){const z=[];let t=0,y=0;for(let B=0;B<x.length;B++){const A=x[B];let D=null;for(let E=
0;E<A.length;E++)D=A[E],z.push(D),0===E?y=t=D[0]:(t=Math.min(t,D[0]),y=Math.max(y,D[0]));D&&z.push([(t+y)/2,0])}return z}function r(x,z){if(!(x instanceof q||x instanceof c))throw u().error("straightLineDensify: the input geometry is neither polyline nor polygon"),new d("straightLineDensify: the input geometry is neither polyline nor polygon");var t=n.getGeometryParts(x);const y=[];for(const A of t){t=[];y.push(t);t.push([A[0][0],A[0][1]]);for(let D=0;D<A.length-1;D++){const E=A[D][0],J=A[D][1],F=
A[D+1][0],G=A[D+1][1];var B=Math.sqrt((F-E)*(F-E)+(G-J)*(G-J));const M=(G-J)/B,L=(F-E)/B,T=B/z;if(1<T){for(let N=1;N<=T-1;N++){const K=N*z;t.push([L*K+E,M*K+J])}B=(B+Math.floor(T-1)*z)/2;t.push([L*B+E,M*B+J])}t.push([F,G])}}return"polygon"===x.type?new c({rings:y,spatialReference:x.spatialReference}):new q({paths:y,spatialReference:x.spatialReference})}function e(x,z,t){z&&(x=r(x,1E6),x=h.webMercatorToGeographic(x,!0));t&&(x=n.updatePolyGeometry(x,t));return x}function g(x,z,t){if(Array.isArray(x)){var y=
x[0];y>z?(t=n.offsetMagnitude(y,z),x[0]=y+-2*t*z):y<t&&(z=n.offsetMagnitude(y,t),x[0]=y+-2*z*t)}else y=x.x,y>z?(t=n.offsetMagnitude(y,z),x=x.clone().offset(-2*t*z,0)):y<t&&(z=n.offsetMagnitude(y,t),x=x.clone().offset(-2*z*t,0));return x}function p(x,z){let t=-1;for(let y=0;y<z.cutIndexes.length;y++){const B=z.cutIndexes[y],A=z.geometries[y],D=n.getGeometryParts(A);for(let E=0;E<D.length;E++){const J=D[E];J.some(F=>{if(180>F[0])return!0;F=0;for(var G=0;G<J.length;G++){var M=J[G][0];F=M>F?M:F}F=Number(F.toFixed(9));
F=-360*n.offsetMagnitude(F,180);for(G=0;G<J.length;G++)M=A.getPoint(E,G),A.setPoint(E,G,M.clone().offset(F,0));return!0})}if(B===t)if("polygon"===x[0].type)for(const E of n.getGeometryParts(A))x[B]=x[B].addRing(E);else{if("polyline"===x[0].type)for(const E of n.getGeometryParts(A))x[B]=x[B].addPath(E)}else t=B,x[B]=A}return x}async function v(x,z,t){if(!Array.isArray(x))return v([x],z);z&&"string"!==typeof z&&u().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");
var y="string"===typeof z?z:z?.url??b.geometryServiceUrl;let B,A,D;let E=0;var J=[];z=[];for(var F of x)if(null==F)z.push(F);else{if(!G){var G=F.spatialReference;var M=k.getInfo(G);var L=(B=G.isWebMercator)?102100:4326;A=n.cutParams[L].maxX;D=n.cutParams[L].minX;var T=n.cutParams[L].plus180Line;L=n.cutParams[L].minus180Line}if(M)if("mesh"===F.type)z.push(F);else if("point"===F.type)z.push(g(F.clone(),A,D));else if("multipoint"===F.type){var N=F.clone();N.points=N.points.map(K=>g(K,A,D));z.push(N)}else if("extent"===
F.type)N=F.clone()._normalize(!1,!1,M),z.push(N.rings?new c(N):N);else if(F.extent){N=F.extent;const K=2*n.offsetMagnitude(N.xmin,D)*A;let O=0===K?F.clone():n.updatePolyGeometry(F.clone(),K);N.offset(K,0);N.intersects(T)&&N.xmax!==A?(E=N.xmax>E?N.xmax:E,O=e(O,B),J.push(O),z.push("cut")):N.intersects(L)&&N.xmin!==D?(E=2*N.xmax*A>E?2*N.xmax*A:E,O=e(O,B,360),J.push(O),z.push("cut")):z.push(O)}else z.push(F.clone());else z.push(F)}G=n.offsetMagnitude(E,A);M=-90;T=G;for(F=new q;0<G;)L=-180+360*G,F.addPath([[L,
M],[L,-1*M]]),M*=-1,G--;if(0<J.length&&0<T){G=await l.cut(y,J,F,t);G=p(J,G);M=[];J=[];for(T=0;T<z.length;T++)F=z[T],"cut"!==F?J.push(F):(F=G.shift(),L=x[T],null!=L&&"polygon"===L.type&&L.rings&&1<L.rings.length&&F.rings.length>=L.rings.length?(M.push(F),J.push("simplify")):J.push(B?h.geographicToWebMercator(F):F));if(!M.length)return J;z=await m.simplify(y,M,t);x=[];for(t=0;t<J.length;t++)y=J[t],"simplify"!==y?x.push(y):x.push(B?h.geographicToWebMercator(z.shift()):z.shift());return x}x=[];for(t=
0;t<z.length;t++)y=z[t],"cut"!==y?x.push(y):(y=J.shift(),x.push(!0===B?h.geographicToWebMercator(y):y));return x}const u=()=>f.getLogger("esri.geometry.support.normalizeUtils");a.getClosestDenormalizedXToReference=function(x,z,t){t=k.getInfo(t);if(null==t)return x;const [y,B]=t.valid;t=2*B;let A=0,D=0;z>B?A=Math.ceil(Math.abs(z-B)/t):z<y&&(A=-Math.ceil(Math.abs(z-y)/t));x>B?D=Math.ceil(Math.abs(x-B)/t):x<y&&(D=-Math.ceil(Math.abs(x-y)/t));x+=(A-D)*t;z=x-z;z>B?x-=t:z<y&&(x+=t);return x};a.getDenormalizedExtent=
function(x){if(!x)return null;const z=x.extent;if(!z)return null;var t=x.spatialReference&&k.getInfo(x.spatialReference);if(!t)return z;const [y,B]=t.valid;({width:t}=z);let {xmin:A,xmax:D}=z;[A,D]=[D,A];if("extent"===x.type||0===t||t<=B||t>2*B||A<y||D>B)return z;let E;switch(x.type){case "polygon":if(1<x.rings.length)E=w(x.rings);else return z;break;case "polyline":if(1<x.paths.length)E=w(x.paths);else return z;break;case "multipoint":E=x.points}x=z.clone();for(let J=0;J<E.length;J++){let F=E[J][0];
0>F?(F+=B,D=Math.max(F,D)):(F-=B,A=Math.min(F,A))}x.xmin=A;x.xmax=D;return x.width<t?(x.xmin-=B,x.xmax-=B,x):z};a.normalizeCentralMeridian=v;a.normalizeMapX=function(x,z){if(z=k.getInfo(z)){const [t,y]=z.valid;z=y-t;if(x<t)for(;x<t;)x+=z;if(x>y)for(;x>y;)x-=z}return x};a.straightLineDensify=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,d,f){function c(q){return f.isPolygon(q)?
q.rings:q.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:d.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:d.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:d.WGS84}),minus180Line:new b({paths:[[[-180,
-180],[-180,180]]],spatialReference:d.WGS84})}};a.cutParams=b;a.getGeometryParts=c;a.offsetMagnitude=function(q,n){return Math.ceil((q-n)/(2*n))};a.updatePolyGeometry=function(q,n){const k=c(q);for(const h of k)for(const l of h)l[0]+=n;return q};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/cut":function(){define("exports ../../geometry ../../request ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ../utils".split(" "),function(a,
b,d,f,c,q){a.cut=async function(n,k,h,l){n=q.parseUrl(n);const m=k[0].spatialReference;k={...l,responseType:"json",query:{...n.query,f:"json",sr:c.srToRESTValue(m),target:JSON.stringify({geometryType:f.getJsonType(k[0]),geometries:k}),cutter:JSON.stringify(h)}};k=await d(n.path+"/cut",k);const {cutIndexes:w,geometries:r=[]}=k.data;return{cutIndexes:w,geometries:r.map(e=>{e=f.fromJSON(e);e.spatialReference=m;return e})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),
function(a,b,d,f,c,q){function n(k,h,l){const m={};for(const r in k)if("declaredClass"!==r){var w=k[r];null!=w&&"function"!==typeof w&&(Array.isArray(w)?m[r]=w.map(e=>n({item:e},h,l).item):"object"===typeof w?w.toJSON?(w=w.toJSON(l?.[r]),m[r]=h?w:JSON.stringify(w)):m[r]=h?w:JSON.stringify(w):m[r]=w)}return m}a.asValidOptions=function(k,h){return h?{...h,query:{...(k??{}),...h.query}}:{query:k}};a.encode=n;a.getToken=function(k,h){return k?q.supportsApiKey(k)&&(h||b.apiKey)?h||b.apiKey:d.id?.findCredential(k)?.token:
null};a.parseUrl=function(k){return"string"===typeof k?c.urlToObject(k):f.clone(k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/simplify":function(){define("exports ../../request ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ./utils".split(" "),function(a,b,d,f,c,q){a.simplify=async function(n,k,h){const l="string"===typeof n?d.urlToObject(n):n;n=k[0].spatialReference;const m=f.getJsonType(k[0]);k={...h,
query:{...l.query,f:"json",sr:c.srToRESTValue(n),geometries:JSON.stringify(q.encodeGeometries(k))}};({data:k}=await b(l.path+"/simplify",k));return q.decodeGeometries(k.geometries,m,n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(a,b){a.decodeGeometries=function(d,f,c){const q=b.getGeometryType(f);return d.map(n=>{n=q.fromJSON(n);n.spatialReference=c;return n})};a.encodeGeometries=
function(d){return{geometryType:b.getJsonType(d[0]),geometries:d.map(f=>f.toJSON())}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],function(a,b,d,f,c){const q=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;a.createCapabilities=function(k,h){return{analytics:{supportsCacheHint:!1},
attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:k},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:h,supportsDelete:h,supportsEditing:h,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:h,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},
query:f.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:h,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}};
a.createDefaultAttributesFunction=function(k,h){if(b("esri-csp-restrictions"))return()=>({[h]:null,...k});try{let l=`this.${h} = null;`;for(const w in k){const r=q.test(w)?`.${w}`:`["${w}"]`;l+=`this${r} = ${JSON.stringify(k[w])};`}const m=(new Function(`\n      return class AttributesClass$${n++} {\n        constructor() {\n          ${l};\n        }\n      }\n    `))();return()=>new m}catch(l){return()=>({[h]:null,...k})}};a.createDefaultTemplate=function(k={}){return[{name:"New Feature",description:"",
prototype:{attributes:d.clone(k)}}]};a.createDrawingInfo=function(k){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===k||"esriGeometryMultipoint"===k?c.defaultPointSymbolJSON:"esriGeometryPolyline"===k?c.defaultPolylineSymbolJSON:c.defaultPolygonSymbolJSON}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,
supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,
supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Error ../../../../core/has ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../core/accessorSupport/decorators/property ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ../../../support/infoFor3D ../../../support/source/DataLayerSource ../../../../rest/utils ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t){const y=B=>Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));d=class extends d{constructor(B){super(B);this.infoFor3D=this.gdbVersion=this.fieldsIndex=this.dynamicDataSource=null;this.queryAttachmentsSupported=this.pbfSupported=!1;this.url=this.sourceSpatialReference=null}get parsedUrl(){return n.urlToObject(this.url)}async execute(B,A){const D=await this.executeJSON(B,A);return this.featureSetFromJSON(B,
D,A)}async executeJSON(B,A){const D=this._normalizeQuery(B);B=null!=B.outStatistics?.[0];const E=c("featurelayer-pbf-statistics");B=!B||E;let J;if(this.pbfSupported&&B)try{J=await x.executeRawQueryPBF(this.url,D,A)}catch(F){if("query:parsing-pbf"===F.name)this.pbfSupported=!1;else throw F;}this.pbfSupported&&B||(J=await u.executeRawQueryJSON(this.url,D,A));this._normalizeFields(J.fields);return J}async featureSetFromJSON(B,A,D){if(!this._queryIs3DObjectFormat(B)||null==this.infoFor3D||!A.features)return z.fromJSON(A);
({meshFeatureSetFromJSON:D}=await q.whenOrAbort(new Promise((E,J)=>a(["../../../../rest/support/meshFeatureSet"],E,J)),D));return D(B,this.infoFor3D,A)}executeForCount(B,A){return g.executeForCount(this.url,this._normalizeQuery(B),A)}executeForExtent(B,A){return p.executeForExtent(this.url,this._normalizeQuery(B),A)}executeForIds(B,A){return v.executeForIds(this.url,this._normalizeQuery(B),A)}async executeRelationshipQuery(B,A){const [{default:D},{executeRelationshipQuery:E}]=await q.whenOrAbort(Promise.all([new Promise((J,
F)=>a(["../../../../rest/support/RelationshipQuery"],G=>J(y(G)),F)),new Promise((J,F)=>a(["../../../../rest/query/executeRelationshipQuery"],J,F))]),A);B=D.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return E(this.url,B,A)}async executeRelationshipQueryForCount(B,A){const [{default:D},{executeRelationshipQueryForCount:E}]=await q.whenOrAbort(Promise.all([new Promise((J,F)=>
a(["../../../../rest/support/RelationshipQuery"],G=>J(y(G)),F)),new Promise((J,F)=>a(["../../../../rest/query/executeRelationshipQuery"],J,F))]),A);B=D.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return E(this.url,B,A)}async executeAttachmentQuery(B,A){const {executeAttachmentQuery:D,fetchAttachments:E,processAttachmentQueryResult:J}=await q.whenOrAbort(new Promise((G,M)=>
a(["../../../../rest/query/operations/queryAttachments"],G,M)),A),F=e.parseUrl(this.url);B=await (this.queryAttachmentsSupported?D(F,B,A):E(F,B,A));return J(F,B)}async executeTopFeaturesQuery(B,A){const {executeTopFeaturesQuery:D}=await q.whenOrAbort(new Promise((E,J)=>a(["../../../../rest/query/executeTopFeaturesQuery"],E,J)),A);return D(this.parsedUrl,B,this.sourceSpatialReference,A)}async executeForTopIds(B,A){const {executeForTopIds:D}=await q.whenOrAbort(new Promise((E,J)=>a(["../../../../rest/query/executeForTopIds"],
E,J)),A);return D(this.parsedUrl,B,A)}async executeForTopExtents(B,A){const {executeForTopExtents:D}=await q.whenOrAbort(new Promise((E,J)=>a(["../../../../rest/query/executeForTopExtents"],E,J)),A);return D(this.parsedUrl,B,A)}async executeForTopCount(B,A){const {executeForTopCount:D}=await q.whenOrAbort(new Promise((E,J)=>a(["../../../../rest/query/executeForTopCount"],E,J)),A);return D(this.parsedUrl,B,A)}_normalizeQuery(B){let A=t.from(B);A.sourceSpatialReference=A.sourceSpatialReference||this.sourceSpatialReference;
if(this.gdbVersion||this.dynamicDataSource)A=A===B?A.clone():A,A.gdbVersion=B.gdbVersion||this.gdbVersion,A.dynamicDataSource=B.dynamicDataSource?r.DataLayerSource.from(B.dynamicDataSource):this.dynamicDataSource;const {infoFor3D:D}=this;if(null!=D&&this._queryIs3DObjectFormat(B)){A=A===B?A.clone():A;A.formatOf3DObjects=null;const {supportedFormats:E,queryFormats:J}=D,F=w.getMimeTypeFormatId("model/gltf-binary",E)??w.getFilenameFormatId("glb",E),G=w.getMimeTypeFormatId("model/gltf+json",E)??w.getFilenameFormatId("gltf",
E);for(const M of J){if(M===F){A.formatOf3DObjects=M;break}M!==G||A.formatOf3DObjects||(A.formatOf3DObjects=M)}if(!A.formatOf3DObjects)throw new f("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(null==A.outFields||!A.outFields.includes("*")){A=A===B?A.clone():A;null==A.outFields&&(A.outFields=[]);const {originX:M,originY:L,originZ:T,translationX:N,translationY:K,translationZ:O,scaleX:R,scaleY:V,scaleZ:ma,
rotationX:ca,rotationY:ua,rotationZ:Aa,rotationDeg:Ma}=D.transformFieldRoles;A.outFields.push(M,L,T,N,K,O,R,V,ma,ca,ua,Aa,Ma)}}return A}_normalizeFields(B){if(null!=this.fieldsIndex&&null!=B)for(const A of B)(B=this.fieldsIndex.get(A.name))&&Object.assign(A,B.toJSON())}_queryIs3DObjectFormat(B){return null!=this.infoFor3D&&!0===B.returnGeometry&&"xyFootprint"!==B.multipatchOption&&!B.outStatistics}};b.__decorate([k.property({type:r.DataLayerSource})],d.prototype,"dynamicDataSource",void 0);b.__decorate([k.property()],
d.prototype,"fieldsIndex",void 0);b.__decorate([k.property()],d.prototype,"gdbVersion",void 0);b.__decorate([k.property()],d.prototype,"infoFor3D",void 0);b.__decorate([k.property({readOnly:!0})],d.prototype,"parsedUrl",null);b.__decorate([k.property()],d.prototype,"pbfSupported",void 0);b.__decorate([k.property()],d.prototype,"queryAttachmentsSupported",void 0);b.__decorate([k.property()],d.prototype,"sourceSpatialReference",void 0);b.__decorate([k.property({type:String})],d.prototype,"url",void 0);
return d=b.__decorate([m.subclass("esri.tasks.QueryTask")],d)})},"esri/rest/query/executeForCount":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,d,f){a.executeForCount=async function(c,q,n){c=b.parseUrl(c);return d.executeQueryForCount(c,f.from(q),{...n}).then(k=>k.data.count)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/query":function(){define("exports ../../../request ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),
function(a,b,d,f,c,q,n,k,h){function l(e,g){if(g&&"extent"===e.type)return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(g&&"point"===e.type)return`${e.x},${e.y}`;e=e.toJSON();delete e.spatialReference;return JSON.stringify(e)}function m(e,g){const p=e.geometry,v=e.toJSON();delete v.compactGeometryEnabled;delete v.defaultSpatialReferenceEnabled;let u,x,z;null!=p&&(x=p.spatialReference,z=q.srToRESTValue(x),v.geometryType=f.getJsonType(p),v.geometry=l(p,e.compactGeometryEnabled),v.inSR=z);v.groupByFieldsForStatistics&&
(v.groupByFieldsForStatistics=v.groupByFieldsForStatistics.join(","));v.objectIds&&(v.objectIds=v.objectIds.join(","));v.orderByFields&&(v.orderByFields=v.orderByFields.join(","));!v.outFields||!v.returnDistinctValues&&(g?.returnCountOnly||g?.returnExtentOnly||g?.returnIdsOnly)?delete v.outFields:v.outFields.includes("*")?v.outFields="*":v.outFields=v.outFields.join(",");v.outSR?(v.outSR=q.srToRESTValue(v.outSR),u=e.outSpatialReference):p&&(v.returnGeometry||v.returnCentroid)&&(v.outSR=v.inSR,u=x);
v.returnGeometry&&delete v.returnGeometry;v.outStatistics&&(v.outStatistics=JSON.stringify(v.outStatistics));v.fullText&&(v.fullText=JSON.stringify(v.fullText));v.pixelSize&&(v.pixelSize=JSON.stringify(v.pixelSize));v.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&null!=x&&null!=e.quantizationParameters?.extent&&x.equals(e.quantizationParameters.extent.spatialReference)&&delete v.quantizationParameters.extent.spatialReference,v.quantizationParameters=JSON.stringify(v.quantizationParameters));
v.parameterValues&&(v.parameterValues=JSON.stringify(v.parameterValues));v.rangeValues&&(v.rangeValues=JSON.stringify(v.rangeValues));v.dynamicDataSource&&(v.layer=JSON.stringify({source:v.dynamicDataSource}),delete v.dynamicDataSource);if(v.timeExtent){const {start:t,end:y}=v.timeExtent;if(null!=t||null!=y)v.time=t===y?t:`${null==t?"null":t},${null==y?"null":y}`;delete v.timeExtent}e.defaultSpatialReferenceEnabled&&null!=x&&null!=u&&x.equals(u)&&(v.defaultSR=v.inSR,delete v.inSR,delete v.outSR);
return v}function w(e,g,p){return r(e,g,"pbf",p)}async function r(e,g,p,v={},u={}){e="string"===typeof e?d.urlToObject(e):e;var x=(await c.normalizeCentralMeridian(g.geometry?[g.geometry]:[],null,{signal:v.signal}))?.[0];null!=x&&(g=g.clone(),g.geometry=x);x=n.mapParameters({...e.query,f:p,...u,...m(g,u)});return b(d.join(e.path,null==g.formatOf3DObjects||u.returnCountOnly||u.returnExtentOnly||u.returnIdsOnly?"query":"query3d"),{...v,responseType:"pbf"===p?"array-buffer":"json",query:{...x,...v.query}})}
a.encodeGeometry=l;a.executeQuery=async function(e,g,p,v){e=null!=g.timeExtent&&g.timeExtent.isEmpty?{data:{features:[]}}:await r(e,g,"json",v);h.applyFeatureSetZUnitScaling(g,p,e.data);return e};a.executeQueryForCount=function(e,g,p){return null!=g.timeExtent&&g.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):r(e,g,"json",p,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=async function(e,g,p){if(null!=g.timeExtent&&g.timeExtent.isEmpty)return{data:{count:0,extent:null}};e=await r(e,
g,"json",p,{returnExtentOnly:!0,returnCountOnly:!0});g=e.data;if(g.hasOwnProperty("extent"))return e;if(g.features)throw Error("Layer does not support extent calculation.");if(g.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return e};a.executeQueryForIds=function(e,g,p){return null!=g.timeExtent&&g.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):r(e,g,"json",p,{returnIdsOnly:!0})};a.executeQueryPBF=async function(e,g,p,v){if(null!=g.timeExtent&&g.timeExtent.isEmpty)return{data:p.createFeatureResult()};
e=await w(e,g,v);e.data=k.parsePBFFeatureQuery(e.data,p);return e};a.executeQueryPBFBuffer=w;a.queryToQueryStringParameters=m;a.runQuery=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(d){const f={};for(const c in d){if("declaredClass"===c)continue;const q=d[c];if(null!=q&&"function"!==typeof q)if(Array.isArray(q)){f[c]=[];for(let n=0;n<q.length;n++)f[c][n]=b(q[n])}else"object"===typeof q?q.toJSON&&
(f[c]=JSON.stringify(q)):f[c]=q}return f}a.mapParameters=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=function(d,f){var c=b.parseFeatureQuery(d,f);d=c.queryResult.featureResult;f=c.queryResult.queryGeometry;c=c.queryResult.queryGeometryType;if(d&&d.features&&d.features.length&&d.objectIdFieldName){const q=d.objectIdFieldName;for(const n of d.features)n.attributes&&
(n.objectId=n.attributes[q])}d&&(d.queryGeometry=f,d.queryGeometryType=c);return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf","../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(a,b,d,f,c){function q(A){return A>=t.length?null:t[A]}function n(A,D,E){A=A.asUnsafe();for(E=D.createPointGeometry(E);A.next();)switch(A.tag()){case 3:var J=
A.getUInt32();J=A.pos()+J;let F=0;for(;A.pos()<J;)D.addCoordinatePoint(E,A.getSInt64(),F++);break;default:A.skip()}return E}function k(A,D,E){A=A.asUnsafe();const J=D.createGeometry(E);for(E=2+(E.hasZ?1:0)+(E.hasM?1:0);A.next();)switch(A.tag()){case 2:var F=A.getUInt32();F=A.pos()+F;for(var G=0;A.pos()<F;)D.addLength(J,A.getUInt32(),G++);break;case 3:F=A.getUInt32();F=A.pos()+F;G=0;for(D.allocateCoordinates(J);A.pos()<F;)D.addCoordinate(J,A.getSInt64(),G),G++,G===E&&(G=0);break;default:A.skip()}return J}
function h(A){A=A.asUnsafe();const D=new f;let E="esriGeometryPoint";for(;A.next();)switch(A.tag()){case 2:var J=A.getUInt32();for(J=A.pos()+J;A.pos()<J;)D.lengths.push(A.getUInt32());break;case 3:J=A.getUInt32();for(J=A.pos()+J;A.pos()<J;)D.coords.push(A.getSInt64());break;case 1:E=c.optimizedGeometryTypes[A.getEnum()];break;default:A.skip()}return{queryGeometry:D,queryGeometryType:E}}function l(A){for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:return A.getString();case 2:return A.getFloat();
case 3:return A.getDouble();case 4:return A.getSInt32();case 5:return A.getUInt32();case 6:return A.getInt64();case 7:return A.getUInt64();case 8:return A.getSInt64();case 9:return A.getBool();default:return A.skip(),null}return null}function m(A){A=A.asUnsafe();const D={type:q(0)};for(;A.next();)switch(A.tag()){case 1:D.name=A.getString();break;case 2:D.type=q(A.getEnum());break;case 3:D.alias=A.getString();break;case 4:var E=A.getEnum();E=E>=y.length?null:y[E];D.sqlType=E;break;case 5:A.skip();
break;case 6:D.defaultValue=A.getString();break;default:A.skip()}return D}function w(A){const D={};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:D.name=A.getString();break;case 2:D.isSystemMaintained=A.getBool();break;default:A.skip()}return D}function r(A,D,E,J){const F=D.createFeature(E);let G=0;for(;A.next();)switch(A.tag()){case 1:const M=J[G++].name;F.attributes[M]=A.processMessage(l);break;case 2:F.geometry=A.processMessageWithArgs(k,D,E);break;case 4:F.centroid=A.processMessageWithArgs(n,
D,E);break;default:A.skip()}return F}function e(A){const D=[1,1,1,1];for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:D[0]=A.getDouble();break;case 2:D[1]=A.getDouble();break;case 4:D[2]=A.getDouble();break;case 3:D[3]=A.getDouble();break;default:A.skip()}return D}function g(A){const D=[0,0,0,0];for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:D[0]=A.getDouble();break;case 2:D[1]=A.getDouble();break;case 4:D[2]=A.getDouble();break;case 3:D[3]=A.getDouble();break;default:A.skip()}return D}function p(A){const D=
{originPosition:0>=B.length?null:B[0]};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:var E=A.getEnum();D.originPosition=E>=B.length?null:B[E];break;case 2:D.scale=A.processMessage(e);break;case 3:D.translate=A.processMessage(g);break;default:A.skip()}return D}function v(A){const D={};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:D.shapeAreaFieldName=A.getString();break;case 2:D.shapeLengthFieldName=A.getString();break;case 3:D.units=A.getString();break;default:A.skip()}return D}function u(A,
D){for(D=D.createSpatialReference();A.next();)switch(A.tag()){case 1:D.wkid=A.getUInt32();break;case 5:D.wkt=A.getString();break;case 2:D.latestWkid=A.getUInt32();break;case 3:D.vcsWkid=A.getUInt32();break;case 4:D.latestVcsWkid=A.getUInt32();break;default:A.skip()}return D}function x(A,D){const E=D.createFeatureResult();A=A.asUnsafe();E.geometryType=0>=D.geometryTypes.length?null:D.geometryTypes[0];let J=!1;for(;A.next();)switch(A.tag()){case 1:E.objectIdFieldName=A.getString();break;case 3:E.globalIdFieldName=
A.getString();break;case 4:E.geohashFieldName=A.getString();break;case 5:E.geometryProperties=A.processMessage(v);break;case 7:var F=A.getEnum();E.geometryType=F>=D.geometryTypes.length?null:D.geometryTypes[F];break;case 8:E.spatialReference=A.processMessageWithArgs(u,D);break;case 10:E.hasZ=A.getBool();break;case 11:E.hasM=A.getBool();break;case 12:E.transform=A.processMessage(p);break;case 9:E.exceededTransferLimit=A.getBool();break;case 13:D.addField(E,A.processMessage(m));break;case 15:J||(D.prepareFeatures(E),
J=!0);D.addFeature(E,A.processMessageWithArgs(r,D,E,E.fields));break;case 2:E.uniqueIdField=A.processMessage(w);break;default:A.skip()}D.finishFeatureResult(E);return E}function z(A,D){const E={};let J=null;for(;A.next();)switch(A.tag()){case 4:J=A.processMessageWithArgs(h);break;case 1:E.featureResult=A.processMessageWithArgs(x,D);break;default:A.skip()}null!=J&&E.featureResult&&D.addQueryGeometry(E,J);return E}const t="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),
y="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),B=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(A,D){try{const E=new d(new Uint8Array(A),new DataView(A));
for(A={};E.next();)switch(E.tag()){case 2:A.queryResult=E.processMessageWithArgs(z,D);break;default:E.skip()}return A}catch(E){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:E});}};a.parseField=m;a.parseFieldType=q;a.parseTransform=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){var d;(function(n){n[n.varint=0]="varint";n[n.fixed64=1]="fixed64";n[n.delimited=2]="delimited";
n[n.fixed32=5]="fixed32";n[n.unknown=99]="unknown"})(d||={});const f=new TextDecoder("utf-8"),c=a("safari")||a("ios")?6:a("ff")?12:32;class q{constructor(n,k,h=0,l=n?n.byteLength:0){this._tag=0;this._dataType=d.unknown;this._init(n,k,h,l)}_init(n,k,h,l){this._data=n;this._dataView=k;this._pos=h;this._end=l}asUnsafe(){return this}clone(){return new q(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(n){this._pos=n}nextTag(n){for(;;){if(this._pos===this._end)return!1;const k=
this._decodeVarint();this._tag=k>>3;this._dataType=k&7;if(!n||n===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const n=this._decodeVarint();this._tag=n>>3;this._dataType=n&7;return!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let n=4294967295;n=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return n;n=(n|(this._data[this._pos]&127)<<7)>>>0;if(128>
this._data[this._pos++])return n;n=(n|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return n;n=(n|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return n;n=(n|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return n;throw Error("Varint overflow");}getUInt64(){return this._decodeVarint()}getSInt32(){const n=this.getUInt32();return n>>>1^-(n&1)|0}getSInt64(){return this._decodeSVarint()}getBool(){const n=0!==this._data[this._pos];this._skip(1);
return n}getEnum(){return this._decodeVarint()}getFixed64(){var n=this._dataView;const k=this._pos;n=n.getUint32(k,!0)+4294967296*n.getUint32(k+4,!0);this._skip(8);return n}getSFixed64(){var n=this._dataView;const k=this._pos;n=n.getUint32(k,!0)+4294967296*n.getInt32(k+4,!0);this._skip(8);return n}getDouble(){const n=this._dataView.getFloat64(this._pos,!0);this._skip(8);return n}getFixed32(){const n=this._dataView.getUint32(this._pos,!0);this._skip(4);return n}getSFixed32(){const n=this._dataView.getInt32(this._pos,
!0);this._skip(4);return n}getFloat(){const n=this._dataView.getFloat32(this._pos,!0);this._skip(4);return n}getString(){const n=this._getLength();var k=this._pos;k=this._toString(this._data,k,k+n);this._skip(n);return k}getBytes(){const n=this._getLength();var k=this._pos;k=this._toBytes(this._data,k,k+n);this._skip(n);return k}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(n,k,h,l){const m=this.getMessage();n=n(m,k,h,l);m.release();return n}processMessage(n){const k=this.getMessage();
n=n(k);k.release();return n}getMessage(){const n=this._getLength(),k=q.pool.acquire();k._init(this._data,this._dataView,this._pos,this._pos+n);this._skip(n);return k}release(){q.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case d.varint:this._decodeVarint();break;case d.fixed64:this._skip(8);break;case d.delimited:this._skip(this._getLength());break;case d.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}}skipLen(n){this._skip(n)}_skip(n){if(this._pos+
n>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=n}_decodeVarint(){const n=this._data;let k=this._pos,h=0,l=0;if(10<=this._end-k){if(l=n[k++],h|=l&127,0!==(l&128)&&(l=n[k++],h|=(l&127)<<7,0!==(l&128)&&(l=n[k++],h|=(l&127)<<14,0!==(l&128)&&(l=n[k++],h|=(l&127)<<21,0!==(l&128)&&(l=n[k++],h+=268435456*(l&127),0!==(l&128)&&(l=n[k++],h+=34359738368*(l&127),0!==(l&128)&&(l=n[k++],h+=4398046511104*(l&127),0!==(l&128)&&(l=n[k++],h+=562949953421312*(l&127),0!==(l&128)&&(l=n[k++],
h+=72057594037927936*(l&127),0!==(l&128)&&(l=n[k++],h+=0x7fffffffffffffff*(l&127),0!==(l&128)))))))))))throw Error("Varint too long!");}else{let m=1;for(;k!==this._end;){l=n[k];if(0===(l&128))break;++k;h+=(l&127)*m;m*=128}if(k===this._end)throw Error("Varint overrun!");++k;h+=l*m}this._pos=k;return h}_decodeSVarint(){const n=this._data;let k=0;const h=n[this._pos]&1;k=n[this._pos++];var l=0|k&127;if(0===(k&128))return h?-(l+1)/2:l/2;k=n[this._pos++];l|=(k&127)<<7;if(0===(k&128))return h?-(l+1)/2:
l/2;k=n[this._pos++];l|=(k&127)<<14;if(0===(k&128))return h?-(l+1)/2:l/2;k=n[this._pos++];l|=(k&127)<<21;if(0===(k&128))return h?-(l+1)/2:l/2;k=n[this._pos++];l+=268435456*(k&127);if(0===(k&128))return h?-(l+1)/2:l/2;k=n[this._pos++];l+=34359738368*(k&127);if(0===(k&128))return h?-(l+1)/2:l/2;k=n[this._pos++];l+=4398046511104*(k&127);if(0===(k&128))return h?-(l+1)/2:l/2;l=BigInt(l);k=n[this._pos++];l+=562949953421312n*BigInt(k&127);if(0===(k&128))return Number(h?-(l+1n)/2n:l/2n);k=n[this._pos++];
l+=72057594037927936n*BigInt(k&127);if(0===(k&128))return Number(h?-(l+1n)/2n:l/2n);k=n[this._pos++];l+=9223372036854775808n*BigInt(k&127);if(0===(k&128))return Number(h?-(l+1n)/2n:l/2n);throw Error("Varint too long!");}_getLength(){if(this._dataType!==d.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(n,k,h){h=Math.min(this._end,h);if(h-k>c)return n=n.subarray(k,h),f.decode(n);let l="",m="";for(;k<h;++k){const w=
n[k];w&128?m+="%"+w.toString(16):(l+=decodeURIComponent(m)+String.fromCharCode(w),m="")}m.length&&(l+=decodeURIComponent(m));return l}_toBytes(n,k,h){h=Math.min(this._end,h);return new Uint8Array(n.buffer,k,h-k)}}q.pool=new b(q,void 0,n=>{n._data=null;n._dataView=null});return q})},"esri/layers/graphics/OptimizedGeometry":function(){define(function(){class a{constructor(b=[],d=[],f=!1){this.lengths=b??[];this.coords=d??[];this.hasIndeterminateRingOrder=f}static fromRect(b){const [d,f,c,q]=b;b=c-d;
const n=q-f;return new a([5],[d,f,b,0,0,n,-b,0,0,-n])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((b,d)=>b+d)}forEachVertex(b){let d=0;this.lengths.length||b(this.coords[0],this.coords[1]);for(let f=0;f<this.lengths.length;f++){const c=this.lengths[f];for(let q=0;q<c;q++)b(this.coords[2*(q+d)],this.coords[2*(q+d)+1]);d+=c}}deltaDecode(){const b=this.clone(),{coords:d,lengths:f}=b;let c=0;for(const q of f){for(let n=
1;n<q;n++)d[2*(c+n)]+=d[2*(c+n)-2],d[2*(c+n)+1]+=d[2*(c+n)-1];c+=q}return b}clone(b){if(0===this.lengths.length)return new a([],[this.coords[0],this.coords[1]]);var d=2*(0===this.lengths.length?1:this.lengths.reduce((f,c)=>f+c));d=this.coords.slice(0,d);return b?(b.set(d),new a(this.lengths,b,this.hasIndeterminateRingOrder)):new a(Array.from(this.lengths),Array.from(d),this.hasIndeterminateRingOrder)}}return a})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(a,b,d,f,c,q){const n=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class k{constructor(h){this._options=h;this.geometryTypes=n;this._vertexDimension=this._coordinatePtr=0}createFeatureResult(){return new c}prepareFeatures(h){this._vertexDimension=2;h.hasZ&&this._vertexDimension++;h.hasM&&this._vertexDimension++}finishFeatureResult(h){if(h?.features&&h.hasZ&&this._options.sourceSpatialReference&&h.spatialReference&&!d.equals(h.spatialReference,
this._options.sourceSpatialReference)&&!h.spatialReference.vcsWkid){var l=b.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),m=b.getMetersPerVerticalUnitForSR(h.spatialReference);l/=m;if(1!==l)for(const w of h.features)if(f.hasGeometry(w))for(h=w.geometry.coords,m=2;m<h.length;m+=3)h[m]*=l}}addFeature(h,l){h.features.push(l)}createFeature(){return new f.OptimizedFeature}createSpatialReference(){return{wkid:0}}createGeometry(){return new q}addField(h,l){h.fields.push(l)}allocateCoordinates(h){h.coords.length=
h.lengths.reduce((l,m)=>l+m,0)*this._vertexDimension;this._coordinatePtr=0}addCoordinate(h,l){h.coords[this._coordinatePtr++]=l}addCoordinatePoint(h,l){h.coords.push(l)}addLength(h,l){h.lengths.push(l)}addQueryGeometry(h,l){h.queryGeometry=l.queryGeometry;h.queryGeometryType=l.queryGeometryType}createPointGeometry(){return new q}}a.OptimizedFeatureSetParserContext=k;a.optimizedGeometryTypes=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports"],
function(a){class b{constructor(f=null,c={},q,n){this.geometry=f;this.attributes=c;this.centroid=q;this.objectId=n;this.geohashY=this.geohashX=this.displayId=0}weakClone(){const f=new b(this.geometry,this.attributes,this.centroid,this.objectId);f.displayId=this.displayId;f.geohashX=this.geohashX;f.geohashY=this.geohashY;return f}clone(){var f=this.geometry?.clone();f=new b(f,{...this.attributes},this.centroid?.clone(),this.objectId);f.displayId=this.displayId;f.geohashX=this.geohashX;f.geohashY=this.geohashY;
return f}}class d extends b{}a.OptimizedFeature=b;a.OptimizedFeatureWithGeometry=d;a.hasGeometry=function(f){return!!f.geometry?.coords?.length};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){class a{constructor(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=
null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}weakClone(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;b.globalIdFieldName=this.globalIdFieldName;b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;b.geometryType=this.geometryType;b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;b.fields=this.fields;b.transform=this.transform;b.exceededTransferLimit=
this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b}}return a})},"esri/rest/query/executeForExtent":function(){define("exports ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),function(a,b,d,f,c,q){a.executeForExtent=async function(n,k,h){n=d.parseUrl(n);k=await f.executeQueryForExtent(n,c.from(k),{...h});h=k.data.extent;return!h||isNaN(h.xmin)||isNaN(h.ymin)||
isNaN(h.xmax)||isNaN(h.ymax)?{count:k.data.count,extent:null}:{count:k.data.count,extent:q.fromJSON(h)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForIds":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,d,f){a.executeForIds=async function(c,q,n){c=b.parseUrl(c);return d.executeQueryForIds(c,f.from(q),{...n}).then(k=>k.data.objectIds)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryJSON":function(){define(["exports",
"../utils","./operations/query","../support/FeatureSet","../support/Query"],function(a,b,d,f,c){async function q(n,k,h){n=b.parseUrl(n);h={...h};k=c.from(k);({data:k}=await d.executeQuery(n,k,k.sourceSpatialReference,h));return k}a.executeQueryJSON=async function(n,k,h){n=await q(n,k,h);return f.fromJSON(n)};a.executeRawQueryJSON=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),
function(a,b,d,f,c,q){async function n(k,h,l){k=b.parseUrl(k);l={...l};h=q.from(h);({data:h}=await f.executeQueryPBF(k,h,new d.JSONFeatureSetParserContext({sourceSpatialReference:h.sourceSpatialReference,applyTransform:!h.quantizationParameters}),l));return h}a.executeQueryPBF=async function(k,h,l){k=await n(k,q.from(h),l);return c.fromJSON(k)};a.executeRawQueryPBF=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports",
"../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,d,f){function c(r,e){return e}function q(r,e,g,p){switch(g){case 0:return l(r,e+p,0);case 1:return"lowerLeft"===r.originPosition?l(r,e+p,1):m(r,e+p,1)}}function n(r,e,g,p){switch(g){case 2:return l(r,e,2);default:return q(r,e,g,p)}}function k(r,e,g,p){switch(g){case 2:return 0===e?0:l(r,e,3);default:return q(r,e,g,p)}}function h(r,e,g,p){switch(g){case 3:return 0===e?0:l(r,e,3);
default:return n(r,e,g,p)}}function l({translate:r,scale:e},g,p){return r[p]+g*e[p]}function m({translate:r,scale:e},g,p){return r[p]-g*e[p]}class w{constructor(r){this._options=r;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=c;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=this._mValueOffset=null;
this._coordinateBufferPtr=0;this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(r){this._options.applyTransform&&(r.transform=null);this._attributesConstructor=class{};this._coordinateBuffer=null;this._lengths.length=0;if(r.hasZ){var e=d.getGeometryZScaler(r.geometryType,this._options.sourceSpatialReference,r.spatialReference);if(null!=e)for(const g of r.features)e(g.geometry)}}createSpatialReference(){return{}}addField(r,e){r=r.fields;b.assertIsSome(r);
r.push(e);const g=r.map(p=>p.name);this._attributesConstructor=function(){for(const p of g)this[p]=null}}addFeature(r,e){r.features.push(e)}prepareFeatures(r){this._transform=r.transform;this._options.applyTransform&&r.transform&&(this._applyTransform=this._deriveApplyTransform(r));this._mValueOffset=null;this._vertexDimension=2;r.hasZ&&this._vertexDimension++;r.hasM&&(this._mValueOffset=this._vertexDimension,this._vertexDimension++);switch(r.geometryType){case "esriGeometryPoint":this.addCoordinate=
(e,g,p)=>this.addCoordinatePoint(e,g,p);this.createGeometry=e=>this.createPointGeometry(e);break;case "esriGeometryPolygon":this.addCoordinate=(e,g,p)=>this._addCoordinatePolygon(e,g,p);this.createGeometry=e=>this._createPolygonGeometry(e);break;case "esriGeometryPolyline":this.addCoordinate=(e,g,p)=>this._addCoordinatePolyline(e,g,p);this.createGeometry=e=>this._createPolylineGeometry(e);break;case "esriGeometryMultipoint":this.addCoordinate=(e,g,p)=>this._addCoordinateMultipoint(e,g,p),this.createGeometry=
e=>this._createMultipointGeometry(e)}}createFeature(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(r,e,g){0===this._lengths.length&&(this._toAddInCurrentPath=e);this._lengths.push(e)}addQueryGeometry(r,e){const {queryGeometry:g,queryGeometryType:p}=e;e=f.unquantizeOptimizedGeometry(g.clone(),g,!1,
!1,this._transform);e=f.convertToGeometry(e,p,!1,!1);r.queryGeometryType=p;r.queryGeometry={...e}}createPointGeometry(r){const e={x:0,y:0,spatialReference:r.spatialReference};r.hasZ&&(e.z=0);r.hasM&&(e.m=0);return e}addCoordinatePoint(r,e,g){e=this._applyTransform(this._transform,e,g,0);switch(g){case 0:r.x=e;break;case 1:r.y=e;break;case 2:"z"in r?r.z=e:r.m=e;break;case 3:r.m=e}}_transformPathLikeValue(r,e){let g=0;1>=e&&(g=this._previousCoordinate[e],this._previousCoordinate[e]+=r);return null===
this._mValueOffset||0!==r||e%this._mValueOffset?this._applyTransform(this._transform,r,e,g):0}_addCoordinatePolyline(r,e,g){this._dehydratedAddPointsCoordinate(r.paths,e,g)}_addCoordinatePolygon(r,e,g){this._dehydratedAddPointsCoordinate(r.rings,e,g)}_addCoordinateMultipoint(r,e,g){0===g&&r.points.push([]);e=this._transformPathLikeValue(e,g);r.points[r.points.length-1].push(e)}_createPolygonGeometry(r){return{rings:[[]],spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM}}_createPolylineGeometry(r){return{paths:[[]],
spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM}}_createMultipointGeometry(r){return{points:[],spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM}}_dehydratedAddPointsCoordinate(r,e,g){0===g&&0===this._toAddInCurrentPath--&&(r.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);e=this._transformPathLikeValue(e,g);r=r[r.length-1];0===g&&(this._coordinateBufferPtr=0,this._coordinateBuffer=
Array(this._vertexDimension),r.push(this._coordinateBuffer));this._coordinateBuffer[this._coordinateBufferPtr++]=e}_deriveApplyTransform(r){const {hasZ:e,hasM:g}=r;return e&&g?h:e?n:g?k:q}}a.JSONFeatureSetParserContext=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,b,d,f,c,q,n,k,h,l){function m(W,ea){return W?ea?4:3:ea?3:2}function w(W,ea,ia,I){if(W){if(ia)return ea&&I?Q:sa;if(ea&&I)return H}else if(ea&&I)return sa;return ja}function r({scale:W,translate:ea},ia){return Math.round((ia-ea[0])/W[0])}function e({scale:W,translate:ea},ia){return Math.round((ea[1]-ia)/W[1])}function g({scale:W,translate:ea},ia,I){return ia*W[I]+ea[I]}function p(W){W=W.coords;return{x:W[0],y:W[1]}}function v(W,ea){W.coords[0]=ea.x;W.coords[1]=ea.y;return W}function u(W){W=
W.coords;return{x:W[0],y:W[1],z:W[2]}}function x(W,ea){W.coords[0]=ea.x;W.coords[1]=ea.y;W.coords[2]=ea.z;return W}function z(W){W=W.coords;return{x:W[0],y:W[1],m:W[2]}}function t(W,ea){W.coords[0]=ea.x;W.coords[1]=ea.y;W.coords[2]=ea.m;return W}function y(W){W=W.coords;return{x:W[0],y:W[1],z:W[2],m:W[3]}}function B(W,ea){W.coords[0]=ea.x;W.coords[1]=ea.y;W.coords[2]=ea.z;W.coords[3]=ea.m;return W}function A(W,ea){return W&&ea?B:W?x:ea?t:v}function D(W,ea,ia,I,S){ia=A(ia,I);for(const {geometry:X,
attributes:na}of ea)ea=null!=X?ia(new l,X):null,W.push(new k.OptimizedFeature(ea,na,null,S?na[S]:void 0));return W}function E(W,ea,ia=A(null!=ea.z,null!=ea.m)){return ia(W,ea)}function J(W,ea,ia,I){for(const {geometry:S,attributes:X}of ea)W.push({attributes:X,geometry:null!=S?F(S,ia,I):null});return W}function F(W,ea,ia){if(null==W)return null;const I=m(ea,ia),S=[];for(let X=0;X<W.coords.length;X+=I){const na=[];for(let va=0;va<I;va++)na.push(W.coords[X+va]);S.push(na)}return ea?ia?{points:S,hasZ:ea,
hasM:ia}:{points:S,hasZ:ea}:ia?{points:S,hasM:ia}:{points:S}}function G(W,ea,ia,I,S){ia=m(ia,I);for(const {geometry:X,attributes:na}of ea)ea=null!=X?M(new l,X,ia):null,W.push(new k.OptimizedFeature(ea,na,null,S?na[S]:void 0));return W}function M(W,ea,ia=m(ea.hasZ,ea.hasM)){W.lengths[0]=ea.points.length;const I=W.coords;let S=0;for(const X of ea.points)for(ea=0;ea<ia;ea++)I[S++]=X[ea];return W}function L(W,ea,ia){if(!W)return null;const I=m(ea,ia),{coords:S,lengths:X}=W;W=[];let na=0;for(const va of X){const Ea=
[];for(let da=0;da<va;da++){const pa=[];for(let ra=0;ra<I;ra++)pa.push(S[na++]);Ea.push(pa)}W.push(Ea)}return ea?ia?{paths:W,hasZ:ea,hasM:ia}:{paths:W,hasZ:ea}:ia?{paths:W,hasM:ia}:{paths:W}}function T(W,ea,ia,I,S){ia=m(ia,I);for(const {geometry:X,attributes:na,centroid:va}of ea)ea=null!=X?N(new l,X,ia):null,I=null!=va?E(new l,va):null,W.push(new k.OptimizedFeature(ea,na,I,S?na[S]:void 0));return W}function N(W,ea,ia=m(ea.hasZ,ea.hasM)){const {lengths:I,coords:S}=W;let X=0;for(const na of ea.paths){for(const va of na)for(ea=
0;ea<ia;ea++)S[X++]=va[ea];I.push(na.length)}return W}function K(W,ea,ia){if(!W)return null;const I=m(ea,ia),{coords:S,lengths:X}=W;W=[];let na=0;for(const va of X){const Ea=[];for(let da=0;da<va;da++){const pa=[];for(let ra=0;ra<I;ra++)pa.push(S[na++]);Ea.push(pa)}W.push(Ea)}return ea?ia?{rings:W,hasZ:ea,hasM:ia}:{rings:W,hasZ:ea}:ia?{rings:W,hasM:ia}:{rings:W}}function O(W,ea,ia=ea.hasZ,I=ea.hasM){return R(W,ea.rings,ia,I)}function R(W,ea,ia,I){ia=m(ia,I);const {lengths:S,coords:X}=W;I=0;Qa(W);
for(const na of ea){for(const va of na)for(ea=0;ea<ia;ea++)X[I++]=va[ea];S.push(na.length)}return W}function V(W,ea,ia,I,S,X){qa(W);if(!ia){for(const na of ea)W.push(new k.OptimizedFeature(null,na.attributes,null,X?na.attributes[X]:void 0));return W}switch(ia){case "esriGeometryPoint":return D(W,ea,I,S,X);case "esriGeometryMultipoint":return G(W,ea,I,S,X);case "esriGeometryPolyline":return T(W,ea,I,S,X);case "esriGeometryPolygon":for(const {geometry:na,centroid:va,attributes:Ea}of ea)ea=null!=na?
O(new l,na,I,S):null,ia=X?Ea[X]:void 0,null!=va?W.push(new k.OptimizedFeature(ea,Ea,v(new l,va),ia)):W.push(new k.OptimizedFeature(ea,Ea,null,ia));break;default:ha().error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ia}'`)),qa(W)}return W}function ma(W,ea,ia,I){W=W&&("coords"in W?W:W.geometry);if(null==W)return null;switch(ea){case "esriGeometryPoint":return ea=p,ia&&I?ea=y:ia?ea=u:I&&(ea=z),ea(W);case "esriGeometryMultipoint":return F(W,ia,I);case "esriGeometryPolyline":return L(W,
ia,I);case "esriGeometryPolygon":return K(W,ia,I);default:return ha().error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${ea}'`)),null}}function ca(W,ea,ia,I,S){qa(W);if(null==ia){for(const na of ea)W.push({attributes:na.attributes});return W}switch(ia){case "esriGeometryPoint":ia=p;I&&S?ia=y:I?ia=u:S&&(ia=z);for(var X of ea){const {geometry:na,attributes:va}=X;I=null!=na?ia(na):null;W.push({attributes:va,geometry:I})}break;case "esriGeometryMultipoint":return J(W,
ea,I,S);case "esriGeometryPolyline":for(const {geometry:na,attributes:va}of ea)W.push({attributes:va,geometry:null!=na?L(na,I,S):null});break;case "esriGeometryPolygon":for(const {geometry:na,attributes:va,centroid:Ea}of ea)X=null!=na?K(na,I,S):null,null!=Ea?(ea=p(Ea),W.push({attributes:va,centroid:ea,geometry:X})):W.push({attributes:va,geometry:X});break;default:ha().error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ia}'`))}return W}function ua(W,ea,ia,
I,S,X,na=ia,va=I){Qa(W);if(!ea?.coords.length)return null;S=aa[S];const {coords:Ea,lengths:da}=ea;ea=m(ia,I);const pa=m(ia&&na,I&&va);ia=w(ia,I,na,va);if(!da.length)return ia(W.coords,Ea,0,0,r(X,Ea[0]),e(X,Ea[1])),Qa(W,ea,0),W;let ra,Ca=0,Da,Na=0;for(const Oa of da){if(Oa<S)continue;let Pa=0;Da=Na;va=I=r(X,Ea[Ca]);ra=na=e(X,Ea[Ca+1]);ia(W.coords,Ea,Da,Ca,va,ra);Pa++;Ca+=ea;Da+=pa;for(let Ra=1;Ra<Oa;Ra++,Ca+=ea)if(va=r(X,Ea[Ca]),ra=e(X,Ea[Ca+1]),va!==I||ra!==na)ia(W.coords,Ea,Da,Ca,va-I,ra-na),Da+=
pa,Pa++,I=va,na=ra;Pa>=S&&(W.lengths.push(Pa),Na=Da)}qa(W.coords,Na);return W.coords.length?W:null}function Aa(W,ea,ia,I,S,X,na){let va=I,Ea=0;for(let pa=X+ia;pa<na;pa+=ia){var da=ea[pa];const ra=ea[pa+1],Ca=ea[na],Da=ea[na+1];let Na=ea[X],Oa=ea[X+1],Pa=Ca-Na,Ra=Da-Oa;if(0!==Pa||0!==Ra){const oa=((da-Na)*Pa+(ra-Oa)*Ra)/(Pa*Pa+Ra*Ra);1<oa?(Na=Ca,Oa=Da):0<oa&&(Na+=Pa*oa,Oa+=Ra*oa)}Pa=da-Na;Ra=ra-Oa;da=Pa*Pa+Ra*Ra;da>va&&(Ea=pa,va=da)}va>I&&(Ea-X>ia&&Aa(W,ea,ia,I,S,X,Ea),S(W,ea,W.length,Ea,ea[Ea],ea[Ea+
1]),na-Ea>ia&&Aa(W,ea,ia,I,S,Ea,na))}function Ma(W,ea,ia,I,S){const {coords:X,lengths:na}=ea;ia=m(ia,I);if(!X.length)return W!==ea&&Qa(W),W;f.assertIsSome(S);const {originPosition:va,scale:Ea,translate:da}=S;S=za;S.originPosition=va;I=S.scale;I[0]=Ea[0]??1;I[1]=-(Ea[1]??1);I[2]=Ea[2]??1;I[3]=Ea[3]??1;var pa=S.translate;pa[0]=da[0]??0;pa[1]=da[1]??0;pa[2]=da[2]??0;pa[3]=da[3]??0;if(!na.length){for(I=0;I<ia;++I)W.coords[I]=g(S,X[I],I);W!==ea&&Qa(W,ia,0);return W}pa=0;for(let Ca=0;Ca<na.length;Ca++){const Da=
na[Ca];W.lengths[Ca]=Da;for(var ra=0;ra<ia;++ra)W.coords[pa+ra]=g(S,X[pa+ra],ra);ra=W.coords[pa];let Na=W.coords[pa+1];pa+=ia;for(let Oa=1;Oa<Da;Oa++,pa+=ia){ra+=X[pa]*I[0];Na+=X[pa+1]*I[1];W.coords[pa]=ra;W.coords[pa+1]=Na;for(let Pa=2;Pa<ia;++Pa)W.coords[pa+Pa]=g(S,X[pa+Pa],Pa)}}W!==ea&&Qa(W,X.length,na.length);return W}function Ga(W,ea,ia,I){let S=0,X=W[I*ea],na=W[I*(ea+1)];for(let va=1;va<ia;va++){const Ea=X+W[I*(ea+va)],da=na+W[I*(ea+va)+1],pa=(Ea-X)*(da+na);X=Ea;na=da;S+=pa}return.5*S}function Qa(W,
ea=0,ia=0){qa(W.lengths,ia);qa(W.coords,ea)}function qa(W,ea=0){W.length!==ea&&(W.length=ea)}const ha=()=>d.getLogger("esri.layers.graphics.featureConversionUtils"),aa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},ja=(W,ea,ia,I,S,X)=>{W[ia]=S;W[ia+1]=X},sa=(W,ea,ia,I,S,X)=>{W[ia]=S;W[ia+1]=X;W[ia+2]=ea[I+2]},H=(W,ea,ia,I,S,X)=>{W[ia]=S;W[ia+1]=X;W[ia+2]=ea[I+3]},Q=(W,ea,ia,I,S,X)=>{W[ia]=S;W[ia+1]=X;W[ia+2]=ea[I+2];W[ia+3]=ea[I+
3]},fa=[],ka=[],za={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};a.convertFromFeature=function(W,ea,ia,I,S){fa[0]=W;[W]=V(ka,fa,ea,ia,I,S);qa(fa);qa(ka);return W};a.convertFromFeatureSet=function(W,ea){const ia=new h,{hasM:I,hasZ:S,features:X,objectIdFieldName:na,spatialReference:va,geometryType:Ea,exceededTransferLimit:da,transform:pa,fields:ra}=W;ra&&(ia.fields=ra);ia.geometryType=Ea??null;ia.objectIdFieldName=na??ea??null;ia.spatialReference=va??null;if(!ia.objectIdFieldName)return ha().error(new b("optimized-features:invalid-objectIdFieldName",
"objectIdFieldName is missing")),ia;X&&V(ia.features,X,Ea,S,I,ia.objectIdFieldName);da&&(ia.exceededTransferLimit=da);I&&(ia.hasM=I);S&&(ia.hasZ=S);pa&&(ia.transform=pa);return ia};a.convertFromFeatures=V;a.convertFromGeometry=function(W,ea,ia){if(null==W)return null;const I=new l;"hasZ"in W&&null==ea&&(ea=W.hasZ);"hasM"in W&&null==ia&&(ia=W.hasM);if(n.isPoint(W))return A(null!=ea?ea:null!=W.z,null!=ia?ia:null!=W.m)(I,W);if(n.isPolygon(W))return O(I,W,ea,ia);if(n.isPolyline(W))return N(I,W,m(ea,ia));
if(n.isMultipoint(W))return M(I,W,m(ea,ia));ha().error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${W}'`))};a.convertFromMultipoint=M;a.convertFromMultipointFeatures=G;a.convertFromNestedArray=R;a.convertFromPoint=E;a.convertFromPointFeatures=D;a.convertFromPolygon=O;a.convertFromPolyline=N;a.convertFromPolylineFeatures=T;a.convertToFeature=function(W,ea,ia,I){ka[0]=W;ca(fa,ka,ea,ia,I);W=fa[0];qa(fa);qa(ka);return W};a.convertToFeatureSet=function(W){const {objectIdFieldName:ea,
spatialReference:ia,transform:I,fields:S,hasM:X,hasZ:na,features:va,geometryType:Ea,exceededTransferLimit:da,uniqueIdField:pa,queryGeometry:ra,queryGeometryType:Ca}=W;W=ca([],va,Ea,na,X);const Da=ma(ra,Ca,!1,!1);W={features:W,fields:S,geometryType:Ea,objectIdFieldName:ea,spatialReference:ia,uniqueIdField:pa,queryGeometry:Da};I&&(W.transform=I);da&&(W.exceededTransferLimit=da);X&&(W.hasM=X);na&&(W.hasZ=na);return W};a.convertToFeatures=ca;a.convertToGeometry=ma;a.convertToMultipoint=F;a.convertToMultipointFeatures=
J;a.convertToPoint=function(W,ea,ia){return W?ea?ia?y(W):u(W):ia?z(W):p(W):null};a.convertToPolygon=K;a.convertToPolyline=L;a.generalizeOptimizedGeometry=function(W,ea,ia,I,S,X,na=ia,va=I){Qa(W);if(!ea?.coords.length)return null;S=aa[S];const {coords:Ea,lengths:da}=ea;ea=m(ia,I);const pa=m(ia&&na,I&&va);ia=w(ia,I,na,va);if(!da.length)return ia(W.coords,Ea,0,0,Ea[0],Ea[1]),Qa(W,ea,0),W;I=0;X*=X;for(const ra of da){if(ra<S){I+=ra*ea;continue}na=W.coords.length/pa;va=I;const Ca=I+(ra-1)*ea;ia(W.coords,
Ea,W.coords.length,va,Ea[va],Ea[va+1]);Aa(W.coords,Ea,ea,X,ia,va,Ca);ia(W.coords,Ea,W.coords.length,Ca,Ea[Ca],Ea[Ca+1]);va=W.coords.length/pa-na;va>=S?W.lengths.push(va):qa(W.coords,na*pa);I+=ra*ea}return W.coords.length?W:null};a.getBoundsOptimizedGeometry=function(W,ea,ia,I){if(!ea?.coords?.length)return null;ia=m(ia,I);let S=I=Number.POSITIVE_INFINITY,X=Number.NEGATIVE_INFINITY,na=Number.NEGATIVE_INFINITY;if(ea&&ea.coords){ea=ea.coords;for(let va=0;va<ea.length;va+=ia){const Ea=ea[va],da=ea[va+
1];I=Math.min(I,Ea);X=Math.max(X,Ea);S=Math.min(S,da);na=Math.max(na,da)}}c.is(W)?c.fromRectValues(W,I,S,X,na):q.fromValues(I,S,X,na,W);return W};a.getQuantizedArea=function(W,ea){const {coords:ia,lengths:I}=W;let S=W=0;for(let X=0;X<I.length;X++){const na=I[X];S+=Ga(ia,W,na,ea);W+=na}return Math.abs(S)};a.getQuantizedBoundsOptimizedGeometry=function(W,ea,ia,I){ia=m(ia,I);const {lengths:S,coords:X}=ea;I=ea=Number.POSITIVE_INFINITY;let na=Number.NEGATIVE_INFINITY,va=Number.NEGATIVE_INFINITY,Ea=0;for(const da of S){let pa=
X[Ea],ra=X[Ea+1];ea=Math.min(pa,ea);I=Math.min(ra,I);na=Math.max(pa,na);va=Math.max(ra,va);Ea+=ia;for(let Ca=1;Ca<da;Ca++,Ea+=ia){const Da=X[Ea],Na=X[Ea+1];pa+=Da;ra+=Na;0>Da&&(ea=Math.min(ea,pa));0<Da&&(na=Math.max(na,pa));0>Na?I=Math.min(I,ra):0<Na&&(va=Math.max(va,ra))}}W[0]=ea;W[1]=I;W[2]=na;W[3]=va;return W};a.getSignedQuantizedRingArea=Ga;a.quantizeOptimizedFeatureSet=function(W,ea){const {geometryType:ia,features:I,hasM:S,hasZ:X}=ea;if(!W)return ea;for(let na=0;na<I.length;na++){const va=I[na],
Ea=va.weakClone();Ea.geometry=new l;ua(Ea.geometry,va.geometry,S,X,ia,W);va.centroid&&(Ea.centroid=new l,ua(Ea.centroid,va.centroid,S,X,"esriGeometryPoint",W));I[na]=Ea}ea.transform=W;return ea};a.quantizeOptimizedGeometry=ua;a.quantizeX=r;a.quantizeY=e;a.removeCollinearVertices=function(W,ea,ia,I,S){if(!ea?.coords?.length)return null;ia=aa[ia];const {coords:X,lengths:na}=ea;ea=w(I,S,I,S);I=m(I,S);let va=S=0,Ea=0,da=0;for(const Ca of na){va=da;ea(W.coords,X,va,S,X[S],X[S+1]);S+=I;var pa=X[S];let Da=
X[S+1],Na=pa,Oa=Da;var ra=Da/pa;va+=I;ea(W.coords,X,va,S,Na,Oa);S+=I;for(let Pa=2;Pa<Ca;Pa++){pa=X[S];Da=X[S+1];const Ra=Da/pa,oa=ra===Ra||!isFinite(ra)&&!isFinite(Ra);ra=oa&&isFinite(Ra)?0<=ra&&0<=Ra||0>=ra&&0>=Ra:0<=Oa&&0<=Da||0>=Oa&&0>=Da;oa&&ra?(Na+=pa,Oa+=Da):(Na=pa,Oa=Da,va+=I);ea(W.coords,X,va,S,Na,Oa);S+=I;ra=Ra}va+=I;pa=(va-da)/I;pa>=ia&&(W.lengths[Ea]=pa,da=va,Ea++)}W.coords.length>da&&(W.coords.length=da);W.lengths.length>Ea&&(W.lengths.length=Ea);return W.coords.length&&W.lengths.length?
W:null};a.removeZMValues=function(W,ea,ia,I,S,X){Qa(W);W.lengths.push(...ea.lengths);if(ia===S&&I===X)for(var na=0;na<ea.coords.length;na++)W.coords.push(ea.coords[na]);else for(na=m(ia,I),ia=w(ia,I,S,X),ea=ea.coords,I=0;I<ea.length;I+=na)ia(W.coords,ea,W.coords.length,I,ea[I],ea[I+1]);return W};a.unquantizeOptimizedFeatureSet=function(W){const {transform:ea,features:ia,hasM:I,hasZ:S}=W;if(!ea)return W;for(const X of ia)null!=X.geometry&&Ma(X.geometry,X.geometry,I,S,ea),null!=X.centroid&&Ma(X.centroid,
X.centroid,I,S,ea);W.transform=null;return W};a.unquantizeOptimizedGeometry=Ma;a.unquantizeValue=g;a.unquantizeX=function(W,ea){return g(W,ea,0)};a.unquantizeY=function(W,ea){return g(W,-ea,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/View":function(){define("../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/asyncUtils ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/Handles ../core/handleUtils ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../core/support/UpdatingHandles ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ../time/timeZoneUtils ./BasemapView ./LayerViewManager ./Magnifier ./SelectionManager ./Theme ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E,J,F,G,M,L,T,N,K,O,R,V,ma,ca,ua){function Aa(Ga){return Ga.layerViews}var Ma;f=Ma=class extends h.EventedMixin(g.EsriPromiseMixin(f)){constructor(Ga){super(Ga);this._cursor=this._userSpatialReference=null;this.handles=new l;this.updatingHandles=new B.UpdatingHandles;this.allLayerViews=new n({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:Aa});
this.fatalError=this.basemapView=this.groundView=null;this.graphics=new G.GraphicsCollection;this.analyses=new F.AnalysesCollection;this.typeSpecificPreconditionsReady=!0;this.layerViews=new q;this.magnifier=new N;this.padding={left:0,top:0,right:0,bottom:0};this.ready=!1;this.spatialReferenceWarningDelay=1E3;this.supportsGround=!0;this.scale=this.type=this.timeExtent=null;this.updating=!1;this.initialExtentRequired=!0;this.input=new V;this.navigation=new ca;this.analysisViewManager=this.layerViewManager=
null;this.isHeightModelInfoRequired=!1;this.height=this.width=null;this.suspended=this.resizing=!1;this.viewEvents=new ma.ViewEvents(this);this.persistableViewModels=new q;this._readyCycleForced=this._isValid=!1;this.theme=this._lockedTimeZone=this._userTimeZone=this._lockedSpatialReference=null;this.handles.add(v.watch(()=>this.preconditionsReady,Qa=>{const qa=this.ready;Qa?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,Ma.views.add(this)):(this._lockedSpatialReference=
null,Ma.views.remove(this));this.notifyChange("spatialReference");if(!Qa&&qa)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(Qa&&!qa){try{this._startup()}catch(ha){queueMicrotask(()=>{console.error("View._startup failed",ha);this.fatalError=new k("startup-error",null,ha)});return}null!=this.analysisViewManager&&this.analysisViewManager.attach();this.toolViewManager.attach()}},v.sync))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),
this.validate()]).then(()=>{this._isValid=!0;return v.whenOnce(()=>this.ready)}));this.basemapView=new L.BasemapView({view:this});this.layerViewManager=new T({view:this,layerViewImporter:{importLayerView:Ga=>this.importLayerView(Ga),hasLayerViewModule:Ga=>this.hasLayerViewModule(Ga)},supportsGround:this.supportsGround});this.toolViewManager=new R.ToolViewManager({view:this});this._setupSpatialReferenceLogger();this.selectionManager=new K({view:this});this.addHandles([v.watch(()=>this.initialExtentRequired,
Ga=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:Ga},v.syncAndInitial),v.watch(()=>this.ready,Ga=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=Ga,this.defaultsFromMap.userSpatialReference=Ga?this.spatialReference:this._userSpatialReference)},v.sync),v.watch(()=>this._userSpatialReference,Ga=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=Ga)},v.syncAndInitial)])}_setupSpatialReferenceLogger(){let Ga=null;this.addHandles([v.watch(()=>this.defaultsFromMap?.ready,
Qa=>{const qa=0<this.map?.allLayers.length;Qa&&!this.spatialReference&&qa?null==Ga&&(Qa=m.makeHandle(()=>Ga=e.abortMaybe(Ga)),Ga=c.createTask(async ha=>{try{await p.after(this.spatialReferenceWarningDelay,null,ha)}catch{return}finally{Ga=null}r.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(Qa,"spatial-reference-logger-task")):this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){this.destroyed||
(Ma.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=e.destroyMaybe(this.graphics),this.analyses=e.destroyMaybe(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),e.destroyMaybe(this.analysisViewManager),this.toolViewManager=e.destroyMaybe(this.toolViewManager),this.layerViewManager=e.destroyMaybe(this.layerViewManager),this.selectionManager=e.destroyMaybe(this.selectionManager),
this.basemapView=e.destroyMaybe(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(Ga=>Ga.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=e.destroyMaybe(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){r.getLogger(this).error("#toMap()","Not implemented on this instance of View");return null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(Ga){this.toolViewManager&&
(this.toolViewManager.activeTool=Ga)}get animation(){return this._get("animation")}set animation(Ga){this._set("animation",Ga)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new ua.DefaultsFromMap({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:Ga=>this.getSpatialReferenceSupport(Ga),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(Ga){this._set("extent",Ga)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||
!this._isValid||this._readyCycleForced||!this.map||w.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(Ga){const Qa=this._get("map");Ga!==Qa&&(Ga?.destroyed&&(r.getLogger(this).warn("#map","The provided map is already destroyed",{map:Ga}),Ga=null),w.isLoadable(Ga)&&
Ga.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",Ga))}get spatialReference(){var Ga=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;return Ga&&this.defaultsFromMap?.required?.heightModelInfo?(Ga=Ga.clone(),Ga.vcsWkid=this.defaultsFromMap.vcsWkid,Ga.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,Ga):Ga}set spatialReference(Ga){const Qa=!J.equals(Ga,this._get("spatialReference"));
this._set("_userSpatialReference",Ga);Qa&&(this._set("spatialReference",Ga),this._spatialReferenceChanged(Ga))}_spatialReferenceChanged(Ga){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??M.system}set timeZone(Ga){const Qa=new Set(["etc/utc","etc/gmt","gmt"]),qa=new Set(Intl.supportedValuesOf("timeZone").map(ha=>ha.toLowerCase()));this._userTimeZone=Ga;Ga===M.system||Ga===M.unknown||
Qa.has(Ga.toLowerCase())||qa.has(Ga.toLowerCase())||r.getLogger(this).warn("#timeZone",`the parsed value '${Ga}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(Ga){this._cursor=Ga;this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new O}whenLayerView(Ga){return this.layerViewManager?.whenLayerView(Ga)??
Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}importLayerView(Ga){throw new k("importLayerView() not implemented");}hasLayerViewModule(Ga){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(Ga){return null!=
this.getSpatialReferenceSupport({spatialReference:Ga})}when(Ga,Qa){this.isResolved()&&!this.ready&&r.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");return super.when(Ga,Qa)}forceReadyCycle(){this.ready&&(v.when(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(Ga){this.toolViewManager.tools.add(Ga);
this.activeTool=Ga}tryFatalErrorRecovery(){this.fatalError=null}};f.views=new q;a.__decorate([u.property()],f.prototype,"_userSpatialReference",void 0);a.__decorate([u.property()],f.prototype,"activeTool",null);a.__decorate([u.property({readOnly:!0})],f.prototype,"allLayerViews",void 0);a.__decorate([u.property()],f.prototype,"groundView",void 0);a.__decorate([u.property()],f.prototype,"animation",null);a.__decorate([u.property()],f.prototype,"basemapView",void 0);a.__decorate([u.property()],f.prototype,
"center",null);a.__decorate([u.property({readOnly:!0})],f.prototype,"_defaultsFromMapSettings",null);a.__decorate([u.property()],f.prototype,"defaultsFromMap",null);a.__decorate([u.property()],f.prototype,"fatalError",void 0);a.__decorate([u.property({type:A})],f.prototype,"extent",null);a.__decorate([u.property(y.owningCollectionProperty(G.GraphicsCollection,"graphics"))],f.prototype,"graphics",void 0);a.__decorate([u.property(y.owningCollectionProperty(F.AnalysesCollection,"analyses"))],f.prototype,
"analyses",void 0);a.__decorate([u.property({readOnly:!0,type:D})],f.prototype,"heightModelInfo",null);a.__decorate([u.property({readOnly:!0})],f.prototype,"interacting",null);a.__decorate([u.property({readOnly:!0})],f.prototype,"navigating",null);a.__decorate([u.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _lockedSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],f.prototype,"preconditionsReady",
null);a.__decorate([u.property({readOnly:!0})],f.prototype,"typeSpecificPreconditionsReady",void 0);a.__decorate([u.property({type:q,readOnly:!0})],f.prototype,"layerViews",void 0);a.__decorate([u.property()],f.prototype,"resolution",null);a.__decorate([u.property({type:N})],f.prototype,"magnifier",void 0);a.__decorate([u.property({value:null,type:b})],f.prototype,"map",null);a.__decorate([u.property()],f.prototype,"padding",void 0);a.__decorate([u.property({readOnly:!0})],f.prototype,"ready",void 0);
a.__decorate([u.property({type:E})],f.prototype,"spatialReference",null);a.__decorate([u.property()],f.prototype,"spatialReferenceWarningDelay",void 0);a.__decorate([u.property()],f.prototype,"stationary",null);a.__decorate([u.property({readOnly:!0})],f.prototype,"supportsGround",void 0);a.__decorate([u.property({type:d})],f.prototype,"timeExtent",void 0);a.__decorate([u.property({type:String,nonNullable:!0})],f.prototype,"timeZone",null);a.__decorate([u.property()],f.prototype,"tools",null);a.__decorate([u.property()],
f.prototype,"toolViewManager",void 0);a.__decorate([u.property({readOnly:!0})],f.prototype,"type",void 0);a.__decorate([u.property({type:Number})],f.prototype,"scale",void 0);a.__decorate([u.property({readOnly:!0})],f.prototype,"updating",void 0);a.__decorate([u.property({readOnly:!0})],f.prototype,"initialExtentRequired",void 0);a.__decorate([u.property({readOnly:!0})],f.prototype,"initialExtent",null);a.__decorate([u.property()],f.prototype,"cursor",null);a.__decorate([u.property({readOnly:!0})],
f.prototype,"input",void 0);a.__decorate([u.property({type:ca,nonNullable:!0})],f.prototype,"navigation",void 0);a.__decorate([u.property()],f.prototype,"layerViewManager",void 0);a.__decorate([u.property()],f.prototype,"analysisViewManager",void 0);a.__decorate([u.property()],f.prototype,"selectionManager",void 0);a.__decorate([u.property()],f.prototype,"width",void 0);a.__decorate([u.property()],f.prototype,"height",void 0);a.__decorate([u.property({readOnly:!0})],f.prototype,"resizing",void 0);
a.__decorate([u.property({value:null,readOnly:!0})],f.prototype,"size",null);a.__decorate([u.property({readOnly:!0})],f.prototype,"suspended",void 0);a.__decorate([u.property({readOnly:!0})],f.prototype,"viewEvents",void 0);a.__decorate([u.property({readOnly:!0})],f.prototype,"persistableViewModels",void 0);a.__decorate([u.property()],f.prototype,"_isValid",void 0);a.__decorate([u.property()],f.prototype,"_readyCycleForced",void 0);a.__decorate([u.property()],f.prototype,"_lockedSpatialReference",
void 0);a.__decorate([u.property()],f.prototype,"_userTimeZone",void 0);a.__decorate([u.property()],f.prototype,"_lockedTimeZone",void 0);a.__decorate([u.property({type:O})],f.prototype,"theme",void 0);a.__decorate([u.property({readOnly:!0,type:O})],f.prototype,"effectiveTheme",null);return f=Ma=a.__decorate([t.subclass("esri.views.View")],f)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/tslib.es6 ../Collection ../collectionUtils ../has ../Logger ../accessorSupport/decorators/property ../RandomLCG ../accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h){a.OwningCollection=class extends d{constructor(l){super(l);this.addHandles([this.on("before-add",m=>{null==m.item&&m.preventDefault()}),this.on("after-add",m=>this._own(m.item)),this.on("after-remove",m=>this._release(m.item))])}get owner(){return this._get("owner")}set owner(l){l!==this._get("owner")&&(this._releaseAll(),this._set("owner",l),this._ownAll())}_ownAll(){for(const l of this.items)this._own(l)}_releaseAll(){for(const l of this.items)this._release(l)}_createNewInstance(l){return this.itemType?
new (d.ofType(this.itemType.Type))(l):new d(l)}};b.__decorate([n.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=b.__decorate([h.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(l,m){return{type:l,cast:f.castForReferenceSetter,set(w){w=f.referenceSetter(w,this._get(m),l);w.owner=this;this._set(m,w)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/UpdatingHandles":function(){define("exports ../../chunks/tslib.es6 ../Accessor ../handleUtils ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k){a.UpdatingHandles=class extends d{constructor(){super(...arguments);this.updating=!1;this._scheduleHandleId=this._handleId=0;this._pendingPromises=new Set}destroy(){this.removeAll()}add(h,l,m={}){return this._installWatch(h,l,m,c.watch)}addWhen(h,l,m={}){return this._installWatch(h,l,m,c.when)}addOnCollectionChange(h,l,{initial:m=!1,final:w=!1}={}){const r=++this._handleId;this.addHandles([c.on(h,"after-changes",this._createSyncUpdatingCallback(),c.sync),c.on(h,"change",
l,{onListenerAdd:m?e=>l({added:e.toArray(),removed:[]}):void 0,onListenerRemove:w?e=>l({added:[],removed:e.toArray()}):void 0})],r);return f.makeHandle(()=>this.removeHandles(r))}addPromise(h){if(null==h)return h;const l=++this._handleId;this.addHandles(f.makeHandle(()=>{this._pendingPromises.delete(h)&&(0!==this._pendingPromises.size||this.hasHandles(-42)||this._set("updating",!1))}),l);this._pendingPromises.add(h);this._set("updating",!0);const m=()=>this.removeHandles(l);h.then(m,m);return h}removeAll(){this._pendingPromises.clear();
this.removeAllHandles();this._set("updating",!1)}_installWatch(h,l,m={},w){const r=++this._handleId;m.sync||this._installSyncUpdatingWatch(h,r);h=w(h,l,m);this.addHandles(h,r);return f.makeHandle(()=>this.removeHandles(r))}_installSyncUpdatingWatch(h,l){const m=this._createSyncUpdatingCallback();h=c.watch(h,m,{sync:!0,equals:()=>!1});this.addHandles(h,l);return h}_createSyncUpdatingCallback(){return()=>{this.removeHandles(-42);++this._scheduleHandleId;const h=this._scheduleHandleId;this._get("updating")||
this._set("updating",!0);this.addHandles(q.schedule(()=>{h===this._scheduleHandleId&&(this._set("updating",0<this._pendingPromises.size),this.removeHandles(-42))}),-42)}}};b.__decorate([n.property({readOnly:!0})],a.UpdatingHandles.prototype,"updating",void 0);a.UpdatingHandles=b.__decorate([k.subclass("esri.core.support.UpdatingHandles")],a.UpdatingHandles);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/tslib.es6 ../core/Logger ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,d,f,c,q,n,k){a.AnalysesCollection=class extends k.OwningCollection{constructor(h){super(h);this.addHandles(this.on("before-add",l=>{null!=l.item&&l.item.parent===this.owner&&(d.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),l.preventDefault())}))}_own(h){h.parent=this.owner}_release(h){h.parent=null}};a.AnalysesCollection=b.__decorate([n.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/Error ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,d,f,c,q,n,k,h,l,m){a.GraphicsCollection=class extends m.OwningCollection{_own(w){w.layer&&"remove"in w.layer&&w.layer!==this.owner&&w.layer.remove(w);
w.layer=this.owner}_release(w){w.layer===this.owner&&(w.layer=null)}};b.__decorate([h.shared({Type:d,ensureType:c.ensureType(d)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=b.__decorate([l.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/BasemapView":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h,l){a.BasemapView=class extends d{constructor(m){super(m);this.view=null;this.baseLayerViews=new f;this.referenceLayerViews=new f;this._loadingHandle=c.watch(()=>this.view?.map?.basemap,w=>{w&&w.load().catch(()=>{})},c.initial)}destroy(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const m of this.baseLayerViews)m.destroy();this.baseLayerViews.length=0;for(const m of this.referenceLayerViews)m.destroy();this.referenceLayerViews.length=
0}get suspended(){return this.view?this.view.suspended:!0}get updating(){if(this.view&&this.view.suspended)return!1;const m=this.view?.map?.basemap;return m&&m.loaded?this.baseLayerViews.some(w=>w.updating)||this.referenceLayerViews.some(w=>w.updating):!1}};b.__decorate([q.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);b.__decorate([q.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);b.__decorate([q.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",
void 0);b.__decorate([q.property({readOnly:!0})],a.BasemapView.prototype,"suspended",null);b.__decorate([q.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,"updating",null);a.BasemapView=b.__decorate([l.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/LayerViewManager":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/get ../core/support/UpdatingHandles ../support/collectionUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p){class v{constructor(u,x,z){this.layer=u;this.view=x;this.layerViewImporter=z;this._controller=new AbortController;this._deferred=n.createResolver();this.done=this._started=!1;this.promise=this._deferred.promise;n.onAbort(this._controller.signal,()=>{const t=new d("cancelled:layerview-create","layerview creation cancelled",{layer:u});this._deferred.reject(t)})}tryRecycle(u){if(!(this.done&&this.layerView&&"tryRecycleWith"in this.layerView))return null;const x=
this.layer.type,z=this._controller.signal;for(let t=0;t<u.length;t++){const y=u[t];if(y.type!==x)continue;const B=this.layerView.tryRecycleWith(y,{signal:z});if(B){u.splice(t,1);this.layer=y;const A=this.layerView,D=A.view;return this.promise=Promise.race([B.then(()=>{n.throwIfAborted(this._controller.signal);y.emit("layerview-destroy",{view:D,layerView:A});D.emit("layerview-destroy",{view:D,layerView:A});y.emit("layerview-create",{view:D,layerView:A});D.emit("layerview-create",{view:D,layerView:A});
return A}),new Promise((E,J)=>n.onAbort(this._controller.signal,()=>J(n.createAbortError())))])}}return null}destroy(){this._controller.abort();const {layerView:u}=this;if(u){const {layer:x,view:z}=this;x.emit("layerview-destroy",{view:z,layerView:u});z.emit("layerview-destroy",{layer:x,layerView:u})}this.done=!0;this._map=this.layerViewImporter=this.view=this.layerView=this.layer=null}async start(){if(!this._started){this._started=!0;var {_controller:{signal:u},layer:x,view:z}=this;this._map=z.map;
try{await x.load({signal:u});x.prefetchResources&&await x.prefetchResources({signal:u});let y;if("createLayerView"in x&&null!=x.createLayerView)y=await x.createLayerView(z,{signal:u});else{if(!this.layerViewImporter.hasLayerViewModule(x))throw new d("layer:view-not-supported","No layerview implementation was found");var t=await this.layerViewImporter.importLayerView(x);n.throwIfAborted(u);y="default"in t?new t.default({layer:x,view:z}):new t({layer:x,view:z})}let B;t=()=>{B=q.removeMaybe(B);y.destroyed||
y.destroy();y.layer=null;y.parent=null;y.view=null;this.done=!0};B=n.onAbort(u,t);n.throwIfAborted(u);try{await y.when()}catch(A){throw t(),A;}this._map?.allLayers?.includes(x)?(this.layerView=y,x.emit("layerview-create",{view:z,layerView:y}),z.emit("layerview-create",{layer:x,layerView:y}),this.done=!0,this._deferred.resolve(y)):(t(),this._deferred.reject(new d("view:no-layerview-for-layer","The layer has been removed from the map",{layer:x})))}catch(y){x.emit("layerview-create-error",{view:z,error:y}),
z.emit("layerview-create-error",{layer:x,error:y}),this.done=!0,this._deferred.reject(new d("layerview:create-error","layerview creation failed",{layer:x,error:y}))}}}}b=class extends b{constructor(u){super(u);this._layerLayerViewInfoMap=new Map;this._recyclingInfoMap=new Map;this._watchUpdatingTracking=new g.UpdatingHandles;this.supportsGround=!0;this._preloadLayerViewModules=()=>{const x=this.view.map?.allLayers;if(x)for(const z of x)this.layerViewImporter.hasLayerViewModule(z)&&this.layerViewImporter.importLayerView(z)};
this._reschedule=()=>{if(this.destroyed)return Promise.reject();null==this._workPromise&&(this._workPromise=n.createResolver(),this._workPromise.promise.catch(()=>{}));this.removeHandles("reschedule");this.addHandles(h.schedule(this._doWork),"reschedule");return this._workPromise.promise};this._doWork=()=>{if(!this.destroyed){var x=this.view.map;this._map!==x&&(this.clear(),this._map=x);if(null==this._workPromise)this.notifyChange("updating");else{this.removeHandles("reschedule");this.removeHandles("collection-change");
var z=new Set,t=[],y=this.view.ready,B=E=>{if(null!=E)for(const J of E)J&&(z.add(J),(E=this._layerLayerViewInfoMap.get(J))&&y?E.start():E||this._recyclingInfoMap.has(J)||t.push(J),"layers"in J&&J.layers&&B(J.layers))};for(var A of this._rootCollectionNames)B(e.get(this,A));for(const [E,J]of this._layerLayerViewInfoMap)z.has(E)||(this._layerLayerViewInfoMap.delete(J.layer),(A=J.tryRecycle(t))?(this.notifyChange("updating"),this._recyclingInfoMap.set(J.layer,J),A.then(()=>{this.notifyChange("updating");
this._recyclingInfoMap.delete(J.layer);this._layerLayerViewInfoMap.set(J.layer,J);this._reschedule()}).catch(()=>{this.notifyChange("updating");this._recyclingInfoMap.delete(J.layer);J.destroy();this._reschedule()})):J.destroy());for(const [E,J]of this._recyclingInfoMap)z.has(E)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(J.layer),J.destroy());for(const E of t)this._createLayerView(E);this._refreshCollections();var D=[x?.ground?.layers,x?.basemap?.baseLayers,x?.basemap?.referenceLayers,
x?.layers].filter(E=>!!E);z.forEach(E=>"layers"in E&&D.push(E.layers));this.addHandles(D.map(E=>this._watchUpdatingTracking.addOnCollectionChange(()=>E,this._reschedule)),"collection-change");this._workPromise.resolve();this._workPromise=null}}}}initialize(){this.addHandles([k.on(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),k.watch(()=>{const u=this.view,x=u?.map;return[x?.basemap,x?.ground,x?.layers,u?.ready]},()=>this._reschedule(),
k.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()}destroy(){this.clear();p.destroyMap(this._recyclingInfoMap);p.destroyMap(this._layerLayerViewInfoMap);this._watchUpdatingTracking.destroy();this._map=null;null!=this._workPromise&&(this._workPromise.reject(n.createAbortError()),this._workPromise=null)}get _layersToLayerViews(){const u=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];
this.supportsGround&&u.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(u)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||c.someMap(this._layerLayerViewInfoMap,u=>!u.done)||0<this._recyclingInfoMap.size}get updatingRemaining(){let u=0;for(const x of this._layerLayerViewInfoMap.values())x.done||++u;return u}clear(){this.destroyed||(p.destroyMap(this._layerLayerViewInfoMap),
this._refreshCollections())}async whenLayerView(u){await this._reschedule();if(!this._layerLayerViewInfoMap.has(u)){if(this._recyclingInfoMap.has(u))return this._recyclingInfoMap.get(u).promise;throw new d("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:u});}return this._layerLayerViewInfoMap.get(u).promise}_refreshCollections(){for(const [u,x]of this._layersToLayerViews)this._populateLayerViewsOwners(e.get(this,u),e.get(this,x),this.view);this.notifyChange("updating");
this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(u,x,z){if(u&&x){var t=0;for(const y of u)u=this._layerLayerViewInfoMap.get(y),u?.layerView&&(u=u.layerView,u.layer=y,u.parent=z,x.at(t)!==u&&x.splice(t,0,u),y.layers&&this._populateLayerViewsOwners(y.layers,u.layerViews,u),t+=1);t<x.length&&x.splice(t,x.length)}else x&&x.removeAll()}_createLayerView(u){u.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(u)&&this.layerViewImporter.importLayerView(u);const x=new v(u,this.view,
this.layerViewImporter);x.promise.then(()=>this._refreshCollections(),z=>{z&&(n.isAbortError(z)||"cancelled:layerview-create"===z.name)||f.getLogger(this).error(`Failed to create layerview for layer title:'${u.title??"no title"}', id:'${u.id??"no id"}' of type '${u.type}'.`,{layer:u,error:z});this._refreshCollections()});this._layerLayerViewInfoMap.set(u,x);this.view.ready&&x.start();this.notifyChange("updating");this.notifyChange("updatingRemaining")}};a.__decorate([l.property()],b.prototype,"_workPromise",
void 0);a.__decorate([l.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);a.__decorate([l.property({readOnly:!0})],b.prototype,"_layersToLayerViews",null);a.__decorate([l.property({readOnly:!0})],b.prototype,"_rootCollectionNames",null);a.__decorate([l.property()],b.prototype,"layerViewImporter",void 0);a.__decorate([l.property()],b.prototype,"supportsGround",void 0);a.__decorate([l.property({readOnly:!0})],b.prototype,"updating",null);a.__decorate([l.property({readOnly:!0})],
b.prototype,"updatingRemaining",null);a.__decorate([l.property({constructOnly:!0})],b.prototype,"view",void 0);return b=a.__decorate([r.subclass("esri.views.LayerViewManager")],b)})},"esri/views/Magnifier":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k){b=class extends b{constructor(h){super(h);this.factor=
1.5;this.offset=d.createScreenPoint(0,0);this.position=null;this.size=120;this.maskUrl=null;this.maskEnabled=!0;this.overlayUrl=null;this.visible=this.overlayEnabled=!0}get version(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");return(this._get("version")||
0)+1}};a.__decorate([f.property({type:Number})],b.prototype,"factor",void 0);a.__decorate([f.property({nonNullable:!0})],b.prototype,"offset",void 0);a.__decorate([f.property()],b.prototype,"position",void 0);a.__decorate([f.property({type:Number,range:{min:0}})],b.prototype,"size",void 0);a.__decorate([f.property()],b.prototype,"maskUrl",void 0);a.__decorate([f.property()],b.prototype,"maskEnabled",void 0);a.__decorate([f.property()],b.prototype,"overlayUrl",void 0);a.__decorate([f.property()],b.prototype,
"overlayEnabled",void 0);a.__decorate([f.property({readOnly:!0})],b.prototype,"version",null);a.__decorate([f.property({type:Boolean})],b.prototype,"visible",void 0);return b=a.__decorate([k.subclass("esri.views.Magnifier")],b)})},"esri/views/SelectionManager":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/Collection ../core/Evented ../core/MapUtils ../core/maybe ../core/ReactiveMap ../core/reactiveUtils ../core/SetUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../layers/support/layerUtils ../rest/support/Query".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g){f=class extends f.EventedAccessor{constructor(u){super(u);this._selectionMap=new n;this._trashCan=[];this._layerEditHandles=new d;this._vizTaskId=0;this.showHighlight=!0}initialize(){this.addHandles([k.watch(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),k.on(()=>this.sources,"change",x=>{const z=this._selectionMap;for(const t of x.removed)z.delete(t);this._refreshListeners();this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);
const u=new d;this.view.when().then(()=>{this.view.map.allLayers.flatten(x=>"sublayers"in x&&x.sublayers?x.sublayers:null).forEach(x=>{(void 0!==x.createQuery&&void 0!==x.on&&!e.isSubtypeGroupLayer(x)||e.isSubtypeSublayer(x))&&u.add(x)});this._set("sources",u)})}destroy(){this._layerEditHandles.drain(q.removeMaybe)}get selections(){return Array.from(this._selectionMap.entries()).map(u=>{const [x,z]=u;return{layer:x,selection:[...z.selection]}})}get count(){let u=0;for(const x of this._selectionMap.values())u+=
x.selection.length;return u}get hasSelection(){return 0<this.count}get sources(){return this._get("sources")}set sources(u){this._set("sources",u)}async getSelectedFeatures(u,x={},z="layerView"){const {view:t,selections:y}=this,B=(void 0!==u?y.filter(A=>u.includes(A.layer)):y).filter(A=>0<A.selection.length).map(async A=>{const {layer:D,selection:E}=A;A=e.isSubtypeSublayer(D)?D.parent:D;if(null==A||void 0===A?.when)return null;if("layer"===z)return v(A,E,x);A=await t.whenLayerView(A);return v(A,E,
x)});return(await Promise.all(B)).filter(A=>null!==A)}updateSelection(u){var x=new Map;for(const [A,D]of this._selectionMap)x.set(A,[...D.selection]);var z=!1,t=u.current.concat(u.added);for(var y of t){var B=y.sourceLayer;t=y.getObjectId();this.sources.includes(B)&&(void 0!==B.createQuery&&void 0!==B.on||e.isSubtypeSublayer(B))&&null!==t&&(B=c.getOrCreateMapValue(x,B,()=>[]),B.includes(t)||(B.push(t),z=!0))}for(const A of u.removed)y=A.sourceLayer,u=A.getObjectId(),this.sources.includes(y)&&(void 0!==
y.createQuery&&void 0!==y.on||e.isSubtypeSublayer(y))&&null!==u&&(y=x.get(y),u=y?.indexOf(u),void 0!==u&&0<=u&&(y?.splice(u,1),z=!0));if(z){const {_selectionMap:A,_trashCan:D}=this;z=[];for(const [E,J]of x)x=A.get(E),void 0!==x&&D.push(x),A.set(E,{selection:J}),z.push({layer:E,selection:J,...b.difference(void 0!==x?x.selection:[],J)});this._onSelectionChange(z)}}setSelection(u,x){this._setSelection(u,x)}getSelection(u){return this._selectionMap.get(u)?.selection}appendToSelection(u,x){var z=this._selectionMap.get(u);
z=void 0!==z?[...z.selection]:[];for(const t of x)z.includes(t)||z.push(t);this._setSelection(u,z)}removeFromSelection(u,x){const z=this._selectionMap.get(u);if(z){var t=[];for(const y of z.selection)x.includes(y)||t.push(y);this._setSelection(u,t)}}toggleInSelection(u,x){var z=this._selectionMap.get(u);z&&0!==z.selection.length?(z=new Set(z.selection),x=new Set(x),x=h.symmetricDifference(z,x),this._setSelection(u,Array.from(x))):this._setSelection(u,x)}clear(){var u=this._selectionMap.values();this._trashCan.push(...u);
u=[];for(const [x,z]of this._selectionMap.entries())u.push({layer:x,added:[],removed:[...z.selection],selection:[]});this._selectionMap.clear();this._onSelectionChange(u)}_onSelectionChange(u){this._refreshVisualization();this.emit("selection-change",{view:this.view,changes:u})}_refreshVisualization(){if(null!=this.view&&null!=this.sources){for(this._vizTaskId++;0<this._trashCan.length;)this._trashCan.pop()?.highlightHandle?.remove();var {sources:u,view:x,_selectionMap:z,showHighlight:t}=this,y=this._vizTaskId;
for(const B of u){const A=z.get(B),D=e.isSubtypeSublayer(B)?B.parent:B;null!=D&&void 0!==D?.when&&x.whenLayerView(D).then(E=>{A?.highlightHandle?.remove();void 0!==A&&t&&y===this._vizTaskId&&"highlight"in E&&"function"===typeof E.highlight&&0<A.selection.length&&(A.highlightHandle=E.highlight(A.selection,"selection"))})}}}_refreshListeners(){this._layerEditHandles.drain(q.removeMaybe);for(const x of this.sources){var u=e.isSubtypeSublayer(x)?x.parent:x;null!=u&&void 0!==u.createQuery&&void 0!==u.on&&
(u=u.on("edits",z=>{this._handleEditChanges(z,x)}),this._layerEditHandles.push(u))}}_handleEditChanges(u,x){void 0!==u.deletedFeatures&&0<u.deletedFeatures.length&&this._selectionMap.has(x)&&(u=u.deletedFeatures.filter(z=>null==z.error).map(z=>z.objectId).filter(b.isSome),this.removeFromSelection(x,u))}_setSelection(u,x){if(!this.sources.includes(u))throw Error(`Cannot set selection on layer ${u.title} because it is not in 'sources'`);const z=this._selectionMap.get(u);void 0!==z&&p(z,{selection:x})||
(void 0!==z&&this._trashCan.push(z),this._selectionMap.set(u,{selection:[...x]}),u={layer:u,selection:[...x],...b.difference(void 0!==z?z.selection:[],x)},this._onSelectionChange([u]))}};a.__decorate([l.property({readOnly:!0,nonNullable:!0})],f.prototype,"selections",null);a.__decorate([l.property({readOnly:!0,nonNullable:!0})],f.prototype,"count",null);a.__decorate([l.property({constructOnly:!0,nonNullable:!0})],f.prototype,"view",void 0);a.__decorate([l.property({readOnly:!0,nonNullable:!0})],f.prototype,
"hasSelection",null);a.__decorate([l.property()],f.prototype,"showHighlight",void 0);a.__decorate([l.property()],f.prototype,"sources",null);f=a.__decorate([r.subclass("esri.views.SelectionManager")],f);const p=(u,x)=>{if(null!=u||null!=x){if(null!=u&&null==x||null==u&&null!=x)return!1;if(null!=u&&null!=x&&null!=u.selection&&null!=x.selection){u=[...u.selection];x=[...x.selection];if(u.length!==x.length)return!1;u.sort();x.sort();for(let z=0;z<u.length;z++)if(u[z]!==x[z])return!1}}return!0},v=async(u,
x,z={})=>void 0===u.layer?void 0===u?null:await u.queryFeatures(new g({...z,objectIds:x})).then(t=>({data:t,layer:u})):void 0===u?null:await u.queryFeatures(new g({...z,objectIds:x})).then(t=>({data:t,layer:u.layer}));return f})},"esri/core/ReactiveMap":function(){define(["./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b){class d{constructor(f){this._observable=new b.SimpleObservable;this._map=new Map(f)}get size(){a.trackAccess(this._observable);return this._map.size}clear(){0<
this._map.size&&(this._map.clear(),this._observable.notify())}delete(f){(f=this._map.delete(f))&&this._observable.notify();return f}entries(){a.trackAccess(this._observable);return this._map.entries()}forEach(f,c){a.trackAccess(this._observable);this._map.forEach((q,n)=>f.call(c,q,n,this),c)}get(f){a.trackAccess(this._observable);return this._map.get(f)}has(f){a.trackAccess(this._observable);return this._map.has(f)}keys(){a.trackAccess(this._observable);return this._map.keys()}set(f,c){this._map.set(f,
c);this._observable.notify();return this}values(){a.trackAccess(this._observable);return this._map.values()}[Symbol.iterator](){a.trackAccess(this._observable);return this._map[Symbol.iterator]()}get [Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}return d})},"esri/views/Theme":function(){define("../chunks/tslib.es6 ../Color ../core/Accessor ../core/Clonable ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n,k,h){d=class extends f.ClonableMixin(d){constructor(l){super(l);this.accentColor=new b([255,127,0]);this.textColor=new b([255,255,255])}};a.__decorate([c.property({type:b,nonNullable:!0})],d.prototype,"accentColor",void 0);a.__decorate([c.property({type:b,nonNullable:!0})],d.prototype,"textColor",void 0);return d=a.__decorate([h.subclass("esri.views.Theme")],d)})},"esri/views/ToolViewManager":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/clock ../core/Collection ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/UpdatingHandles ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u){a.ToolViewManager=class extends d{constructor(x){super(x);this._updatingHandles=new r.UpdatingHandles;this._clock=f.clock;this._manipulatorState=new u.ToolViewManagerManipulatorState;this.tools=new c;this.cursor=null;this._interacting=!1;this._interactingTimeout=1E3;this._interactingTimeoutHandle=null;this._forEachTool=z=>{for(const t of this.tools.items)if(z(t))break}}initialize(){this.addHandles([this.view.on(g.eventTypes,x=>{this._handleInputEvent(x)},
e.ViewEventPriorities.TOOL),...p.getToolCollectionHandles(this.tools),this.tools.on("before-add",({item:x})=>{this._updateToolEditableFlag(x)}),this.tools.on("before-remove",({item:x})=>{this._manipulatorState.clearPointers(x,this._manipulatorStateEventArgs);this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null;this.tools.drain(x=>x.destroy());this._clearInteractingTimeout();this._interacting=!1;this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,
activeTool:this.activeTool,setActiveTool:x=>{this.activeTool=x},view:this.view}}set activeTool(x){if(null!=x&&!this.view.ready)n.getLogger(this).error("Cannot set active tool while view is not ready.");else if(x!==this.activeTool){var z=this.activeTool;this._set("activeTool",x);null!=z&&z.deactivate();null!=x&&x.activate();this._removeIncompleteTools(x);for(const t of this.tools)this._updateToolEditableFlag(t),x=p.areToolManipulatorsEditable(t),null!=this.activeTool&&x||this._manipulatorState.clearPointers(t,
this._manipulatorStateEventArgs,!x);this._updateCursor()}}get updating(){return this._updatingHandles.updating||this.tools.some(x=>x.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=k.removeMaybe(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout();this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([h.watch(()=>
{const {state:x}=this.view;return"camera"in x&&x.camera},()=>this._forEachManipulator(x=>x.onViewChange())),this.view.elevationProvider?.on("elevation-change",x=>this._forEachManipulator(z=>z.onElevationChange(x)))],"attached"):this.addHandles(h.watch(()=>this.view.extent,()=>this._forEachManipulator(x=>x.onViewChange())))}detach(){this.activeTool=null;this.tools.removeAll();this.removeHandles("attached");this._clearInteractingTimeout();this._interacting=!1}_forEachManipulator(x){this._forEachTool(z=>
{z.manipulators&&z.manipulators.forEach(({manipulator:t})=>x(t,z))})}_handleInputEvent(x){let z=!1;const t={...x,stopPropagation:()=>{z=!0;x.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(t):this._forEachTool(y=>{!z&&y.visible&&y.handleInputEvent(t)});!z&&"key-down"===x.type&&"Escape"===x.key&&this.activeTool&&(x.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(t,this._manipulatorStateEventArgs);z||null==
this.activeTool||this.activeTool.handleInputEventAfter(t);this._manipulatorState.handleHoverEvent(t,this._forEachTool);this._updateCursor();"pointer-move"===x.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles("tools");this._forEachTool(x=>{if(x instanceof d){const z=h.watch(()=>[x.cursor,x.visible,x.editable],()=>{p.areToolManipulatorsEditable(x)||this._manipulatorState.clearPointers(x,
this._manipulatorStateEventArgs);this._updateCursor()});this.addHandles(z,"tools")}x.manipulators&&this.addHandles([x.manipulators.on("after-remove",z=>{this._manipulatorState.clearPointers(x,this._manipulatorStateEventArgs,!0,z.item.manipulator)}),x.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()})],"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}_updateToolEditableFlag(x){x.setEditableFlag?.(v.EditableFlag.MANAGER,
null==this.activeTool||x===this.activeTool)}_updateCursor(){let x=this._manipulatorState.cursor;null==x&&this._forEachTool(z=>null!=z.cursor&&z.visible?(x=z.cursor,!0):!1);this._get("cursor")!==x&&this._set("cursor",x)}_removeIncompleteTools(x){this.tools.filter(z=>(null==x||z!==x)&&!z.created&&z.removeIncompleteOnCancel).forEach(z=>{this.tools.remove(z)})}get test(){const x=this;return{setClock:z=>this._clock=z,set interactingTimeoutEnabled(z){x._interactingTimeout=z?1E3:0},get interactingTimeoutEnabled(){return 0!==
x._interactingTimeout}}}};b.__decorate([l.property({constructOnly:!0,nonNullable:!0})],a.ToolViewManager.prototype,"view",void 0);b.__decorate([l.property({value:null})],a.ToolViewManager.prototype,"activeTool",null);b.__decorate([l.property({readOnly:!0,type:c})],a.ToolViewManager.prototype,"tools",void 0);b.__decorate([l.property({readOnly:!0})],a.ToolViewManager.prototype,"cursor",void 0);b.__decorate([l.property({readOnly:!0})],a.ToolViewManager.prototype,"updating",null);b.__decorate([l.property()],
a.ToolViewManager.prototype,"_interacting",void 0);b.__decorate([l.property({readOnly:!0})],a.ToolViewManager.prototype,"interacting",null);a.ToolViewManager=b.__decorate([w.subclass("esri.views.ToolViewManager")],a.ToolViewManager);a.interactingTimeout=1E3;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../3d/support/PropertiesPool ./keys ./handlers/LatestPointer ./handlers/MultiTouch".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r){a.InputManager=class extends d{constructor(x){super(x);this._pointerCaptures=new Map;this._nameToGroup={};this._handlers=[];this._handlersPriority=[];this._currentPropagation=null;this._updateDependenciesAfterPropagation=!1;this._sourceEvents=new Set;this._keyModifiers=new Set;this._activeKeyModifiers=new Set;this._stoppedPropagationEventIds=new Set;this.primaryKey=m.primaryKey;this._latestPointerType="mouse";this._propertiesPool=new l.PropertiesPool({latestPointerLocation:u},
this);this.latestPointerLocation=null;this._paused=!1;this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()}destroy(){const x=Object.keys(this._nameToGroup);for(const z of x)this.uninstallHandlers(z);this.eventSource.destroy();this._currentPropagation=null;this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(x=>x.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||
this._paused}installHandlers(x,z,t=p.INTERNAL){if(this._nameToGroup[x])f.getLogger(this).error("There is already an InputHandler group registered under the name `"+x+"`");else if(0===z.length)f.getLogger(this).error("Can't register a group of zero handlers");else{var y={name:x,handlers:z.map(B=>({handler:B,active:!0,removed:!1,priorityIndex:0,groupPriority:t,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[x]=y;for(x=y.handlers.length-1;0<=x;x--){const B=y.handlers[x];this._handlers.push(B);
B.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(A,D,E,J,F)=>{this._emitInputEvent(B.priorityIndex+1,A,D,E,F,J)},setPointerCapture:(A,D)=>{this._setPointerCapture(y,B,A,D)},setEventCallback:A=>{B.eventCallback=A},setUninstallCallback:A=>{B.uninstallCallback=A},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}}uninstallHandlers(x){const z=this._nameToGroup[x];z?(z.handlers.forEach(t=>{t.removed=!0;t.uninstallCallback?.()}),
delete this._nameToGroup[x],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):f.getLogger(this).error("There is no InputHandler group registered under the name `"+x+"`")}hasHandlers(x){return void 0!==this._nameToGroup[x]}isModifierKeyDown(x){return this._activeKeyModifiers&&this._activeKeyModifiers.has(x)}updateDependencies(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=
!1;var x=new Set,z=new Set;this._handlersPriority=[];for(var t=this._handlers.length-1;0<=t;t--){var y=this._handlers[t];y.priorityIndex=t;this._handlersPriority.push(y)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(t=this._handlersPriority.length-1;0<=t;t--){y=this._handlersPriority[t];y.priorityIndex=t;let B=y.handler.hasSideEffects;if(!B)for(const A of y.handler.outgoingEventTypes)if(x.has(A)){B=!0;break}if(B)for(const A of y.handler.incomingEventMatches){x.add(A.eventType);
for(const D of A.keyModifiers)m.isSystemModifier(D)||z.add(D)}y.active=B}this._sourceEvents=x;this._keyModifiers=z;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}}_setLatestPointer(x,z,t){this._latestPointerType=x;x=this._get("latestPointerLocation");if(null==x||x.x!==z||x.y!==t)x=this._propertiesPool.get("latestPointerLocation"),
x.x=z,x.y=t,this._set("latestPointerLocation",x)}_onEventReceived(x,z){"pointer-capture-lost"===x&&this._pointerCaptures.delete(z.native.pointerId);this._updateKeyModifiers(x,z);this._emitInputEventFromSource(x,z,null!=this.test.timestamp?this.test.timestamp:z.native?z.native.timestamp:void 0,z.native?z.native.cancelable:void 0)}_updateKeyModifiers(x,z){if(z){var t=!1,y=()=>{if(!t){const A=new Set;this._activeKeyModifiers.forEach(D=>{A.add(D)});this._activeKeyModifiers=A;t=!0}},B=(A,D)=>{D&&!this._activeKeyModifiers.has(A)?
(y(),this._activeKeyModifiers.add(A)):!D&&this._activeKeyModifiers.has(A)&&(y(),this._activeKeyModifiers.delete(A))};if("key-down"===x||"key-up"===x){const A=z.key;this._keyModifiers.has(A)&&B(A,"key-down"===x)}x=z.native;B("Alt",!(!x||!x.altKey));B("Ctrl",!(!x||!x.ctrlKey));B("Shift",!(!x||!x.shiftKey));B("Meta",!(!x||!x.metaKey));B("Primary",this._activeKeyModifiers.has(this.primaryKey))}}_installRecognizers(){this._latestPointerHandler=new w.LatestPointer((x,z,t)=>this._setLatestPointer(x,z,t));
this._multiTouchHandler=new r.MultiTouch;this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],p.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",this.recognizers,p.INTERNAL)}_setPointerCapture(x,z,t,y){x=x.name+"-"+z.priorityIndex;z=this._pointerCaptures.get(t.pointerId)||new Set;this._pointerCaptures.set(t.pointerId,z);y?(z.add(x),1===z.size&&this.eventSource&&this.eventSource.setPointerCapture(t,!0)):z.has(x)&&(z.delete(x),0===z.size&&
(this._pointerCaptures.delete(t.pointerId),this.eventSource&&this.eventSource.setPointerCapture(t,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(x=>!x.removed);this.updateDependencies()}_emitInputEventFromSource(x,z,t,y){this._emitInputEvent(0,x,z,t,y)}_emitInputEvent(x,z,t,y,B,A){y=void 0!==y?y:this._currentPropagation?this._currentPropagation.timestamp:performance.now();x={event:new e(z,t,y,A||this._activeKeyModifiers,void 0!==B?B:!1),priorityIndex:x};this._currentPropagation?
this._currentPropagation.events.push(x):this._doNewPropagation(x)}_doNewPropagation(x){this._currentPropagation={events:new c,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:x.event.timestamp};this._currentPropagation.events.push(x);this._continuePropagation()}_continuePropagation(){this._paused=!1;const x=this._currentPropagation;if(x){for(;0<x.events.length;){const {event:z,priorityIndex:t}=x.events.pop(),y=z.data?.eventId;if(null==y||!this._stoppedPropagationEventIds.has(y))for(x.currentHandler=
this._handlersPriority[t];x.currentHandler;){if(x.currentHandler.removed)x.needsHandlerGarbageCollect=!0;else{x.currentHandler.active&&!z.shouldStopPropagation()&&x.currentHandler.eventCallback?.(z);if(z.shouldStopPropagation()){null!=y&&this._stoppedPropagationEventIds.add(y);break}if(z.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:z,priorityIndex:x.currentHandler.priorityIndex+1});return}}x.currentHandler=this._handlersPriority[x.currentHandler.priorityIndex+
1]}}x.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(x){const z=new c;z.push(x);if(x=this._currentPropagation){for(;x.events.length;)z.push(x.events.pop());x.events=z;x.currentHandler=null;this._paused=!0}}_compareHandlerPriority(x,z){if(x.handler.hasSideEffects!==z.handler.hasSideEffects)return x.handler.hasSideEffects?
1:-1;if(x.groupPriority!==z.groupPriority)return x.groupPriority>z.groupPriority?-1:1;for(const t of x.handler.incomingEventMatches)for(const y of z.handler.incomingEventMatches){if(t.eventType!==y.eventType)continue;const B=t.keyModifiers.filter(A=>y.keyModifiers.includes(A));if(B.length===t.keyModifiers.length!==(B.length===y.keyModifiers.length))return t.keyModifiers.length>y.keyModifiers.length?-1:1}return x.priorityIndex>z.priorityIndex?-1:1}_sortHandlersPriority(x){const z=[];for(const t of x){for(x=
0;x<z.length&&0<=this._compareHandlerPriority(t,z[x]);)x++;z.splice(x,0,t)}return z}get debug(){const x=z=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{};z();this._setPointerCapture=t};return{injectEvent:(z,t)=>{x(()=>{this._onEventReceived(z,t)})},disablePointerCapture:x}}};b.__decorate([q.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);b.__decorate([q.property({constructOnly:!0})],a.InputManager.prototype,"eventSource",void 0);b.__decorate([q.property({constructOnly:!0})],
a.InputManager.prototype,"recognizers",void 0);b.__decorate([q.property()],a.InputManager.prototype,"_latestPointerType",void 0);b.__decorate([q.property()],a.InputManager.prototype,"latestPointerType",null);b.__decorate([q.property()],a.InputManager.prototype,"multiTouchActive",null);b.__decorate([q.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",void 0);b.__decorate([q.property()],a.InputManager.prototype,"_paused",void 0);b.__decorate([q.property({readOnly:!0})],a.InputManager.prototype,
"updating",null);a.InputManager=b.__decorate([h.subclass("esri.views.input.InputManager")],a.InputManager);class e{constructor(x,z,t,y,B){this.type=x;this.data=z;this.timestamp=t;this.modifiers=y;this.cancelable=B;this._propagationState=g.NONE;this._resumeCallback=null}stopPropagation(){this._propagationState|=g.STOPPED}shouldStopPropagation(){return 0!==(this._propagationState&g.STOPPED)}async(x){this._propagationState|=g.PAUSED;const z=(t,y)=>{this._propagationState&=~g.PAUSED;const B=this._resumeCallback;
this._resumeCallback=null;B&&B();if(y)throw t;return t};return("function"===typeof x?x():x).then(t=>z(t,!1),t=>z(t,!0))}shouldPausePropagation(x){return this._propagationState&g.PAUSED?(this._resumeCallback=x,!0):!1}preventDefault(){this.data.native.preventDefault()}}var g;(function(x){x[x.NONE=0]="NONE";x[x.STOPPED=1]="STOPPED";x[x.PAUSED=2]="PAUSED"})(g||={});const p={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class v{}const u=v;a.ViewEventPriorities=p;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/3d/support/PropertiesPool":function(){define(["exports","../../../core/ReentrantObjectPool","../../../core/accessorSupport/watch"],function(a,b,d){class f{constructor(c,q){this._owner=q;this._properties={};this._afterDispatchHandle=null;for(const n in c)q=new b.ReentrantObjectPool(c[n],void 0,void 0,2,2),this._properties[n]={pool:q,acquired:[]};this._afterDispatchHandle=d.afterDispatch(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),
this._afterDispatchHandle=null);for(const c in this._properties){const q=this._properties[c];for(const n of q.acquired)d.isValueInUse(n)||q.pool.release(n);q.pool.destroy();q.pool=null;q.acquired=null}this._owner=this._properties=null}get(c){const q=this._owner._get(c);c=this._properties[c];let n=c.pool.acquire();for(c.acquired.push(n);n===q;)c.acquired.push(n),n=c.pool.acquire();return n}_release(){for(const c in this._properties){const q=this._properties[c];let n=0;for(const k of q.acquired)d.isValueInUse(k)?
q.acquired[n++]=k:q.pool.release(k);q.acquired.length=n}}}a.PropertiesPool=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/keys":function(){define(["exports","../../core/has"],function(a,b){b=b("mac")?"Meta":"Ctrl";const d=new Set(["Alt","Ctrl","Meta","Shift","Primary"]);a.isSystemModifier=f=>d.has(f);a.primaryKey=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/LatestPointer":function(){define(["exports","../InputHandler"],
function(a,b){class d extends b.InputHandler{constructor(f){super(!0);this._onChange=f;this._value="mouse";this._y=this._x=null;this.registerIncoming("pointer-move",c=>{this._update(c.data)})}_update(f){const c="touch"===f.native.pointerType?"touch":"mouse",{x:q,y:n}=f;if(c!==this._value||this._x!==q||this._y!==n)this._value=c,this._x=q,this._y=n,this._onChange(c,q,n)}}a.LatestPointer=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputHandler":function(){define(["exports",
"../../core/Logger","./EventMatch"],function(a,b,d){class f{constructor(n){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=n}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const n in this._incoming){const k=this._incoming[n];for(const h of k)this._incomingEventMatches.push(h.match)}}return this._incomingEventMatches}get incomingEventTypes(){this._incomingEventTypes||
(this._incomingEventTypes=this.incomingEventMatches.map(n=>n.eventType));return this._incomingEventTypes}get outgoingEventTypes(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(n){this._manager?b.getLogger("esri.views.input.InputHandler").error("This InputHandler has already been registered with an InputManager"):(n.setEventCallback(k=>this._handleEvent(k)),
n.setUninstallCallback(()=>this._onUninstall()),this._manager=n)}onUninstall(){}registerIncoming(n,k,h){"function"===typeof k?(h=k,k=[]):k=k||[];n="string"===typeof n?new d.EventMatch(n,k):n;const l=()=>{this._incomingEventMatches=this._incomingEventTypes=null};k=m=>{const w=this._incoming[m.match.eventType];w&&(m=w.indexOf(m),w.splice(m,1),l(),this._manager&&this._manager.updateDependencies())};h=new c(n,h,{onPause:k,onRemove:k,onResume:m=>{const w=this._incoming[m.match.eventType];w&&!w.includes(m)&&
(w.push(m),l(),this._manager&&this._manager.updateDependencies())}});k=this._incoming[n.eventType];k||(k=[],this._incoming[n.eventType]=k);k.push(h);l();this._manager&&this._manager.updateDependencies();return h}registerOutgoing(n){if(this._outgoing[n])throw Error("There is already a callback registered for this outgoing InputEvent: "+n);const k=new q(n,{onEmit:(h,l,m,w)=>{this._manager?.emit(h.eventType,l,m,w)},onRemove:h=>{delete this._outgoing[h.eventType];this._manager?.updateDependencies()}});
this._outgoing[n]=k;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return k}startCapturingPointer(n){this._manager?.setPointerCapture(n,!0)}stopCapturingPointer(n){this._manager?.setPointerCapture(n,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):b.getLogger("esri.views.input.InputHandler").error("This InputHandler is not registered with an InputManager")}_handleEvent(n){const k=
this._incoming[n.type];if(k)for(const h of k)if(h.match.matches(n)&&(h.callback?.(n),n.shouldStopPropagation()))break}}class c{constructor(n,k,h){this.match=n;this._callback=k;this._handler=h}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class q{constructor(n,k){this.eventType=n;this._removed=!1;this._handler=k}emit(n,k,h){if(!this._removed)this._handler.onEmit(this,n,k,h)}remove(){this._removed=
!0;this._handler.onRemove(this)}}a.InputHandler=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){class b{constructor(d,f=[]){this.eventType=d;this.keyModifiers=f}matches(d){if(d.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;d=d.modifiers;for(const f of this.keyModifiers)if(!d.has(f))return!1;return!0}}a.EventMatch=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/MultiTouch":function(){define(["exports",
"../../../core/signal","../InputHandler"],function(a,b,d){class f extends d.InputHandler{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0);this._activeTouchPointerIds=new Set;this._multiTouchActive=b.signal(!1);this._onPointerAdd=({data:c})=>{"touch"===c.pointerType&&(this._activeTouchPointerIds.add(c.native.pointerId),this._update())};this._onPointerRemove=({data:c})=>{"touch"===c.pointerType&&(this._activeTouchPointerIds.delete(c.native.pointerId),this._update())};
this.registerIncoming("pointer-down",this._onPointerAdd);this.registerIncoming("pointer-up",this._onPointerRemove);this.registerIncoming("pointer-capture-lost",this._onPointerRemove);this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=1<this._activeTouchPointerIds.size}}a.MultiTouch=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/signal":function(){define(["exports","./lang","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],
function(a,b,d,f){class c{constructor(q,n){this._observable=new f.SimpleObservable;this._value=q;this._equalityFunction=n}get value(){d.trackAccess(this._observable);return this._value}set value(q){this._equalityFunction(q,this._value)||(this._value=q,this._observable.notify())}mutate(q){q(this._value);this._observable.notify()}}a.signal=function(q,n=b.equalsShallow){return new c(q,n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/ViewEvents":function(){define("exports ../../core/has ../../core/handleUtils ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),
function(a,b,d,f,c,q,n,k){function h(e){return!!m[e]}function l(e){for(const g of e)if(!h(g))return!1;return!0}b="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const m={};b.forEach(e=>{m[e]=!0});class w{constructor(e){this._handlers=new Map;this._counter=0;this._handlerCounts=new Map;this.view=e;this.inputManager=null}connect(e){e&&this.disconnect();
this.inputManager=e;this._handlers.forEach(({handler:g,priority:p},v)=>this.inputManager?.installHandlers(v,[g],p))}disconnect(){this.inputManager&&this._handlers.forEach((e,g)=>this.inputManager?.uninstallHandlers(g));this.inputManager=null}destroy(){this.disconnect();this._handlers.clear();this.view=null}on(e,g,p,v){const u=Array.isArray(e)?e:e.split(",");if(!l(u))return u.some(h)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;
if(Array.isArray(g))e=g;else{var x=g;e=[]}"function"===typeof p?x=p:v=p;v=null!=v?v:n.ViewEventPriorities.DEFAULT;const z=this._createUniqueGroupName();p=new r(this.view,u,e,x);this._handlers.set(z,{handler:p,priority:v});for(const t of u)x=this._handlerCounts.get(t)||0,this._handlerCounts.set(t,x+1);this.inputManager&&this.inputManager.installHandlers(z,[p],v);return d.makeHandle(()=>this._removeHandler(z,u))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,g){if(this._handlers.has(e)){this._handlers.delete(e);
for(const p of g)g=this._handlerCounts.get(p),void 0===g?console.error("Trying to remove handler for event that has no handlers registered: ",p):1===g?this._handlerCounts.delete(p):this._handlerCounts.set(p,g-1)}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){this._counter+=1;return`viewEvents_${this._counter}`}}class r extends q.InputHandler{constructor(e,g,p,v){super(!0);this._latestDragStart=void 0;this.view=e;for(const u of g)switch(u){case "click":this.registerIncoming("click",
p,x=>v(this._wrapClick(x)));break;case "double-click":this.registerIncoming("double-click",p,x=>v(this._wrapDoubleClick(x)));break;case "immediate-click":this.registerIncoming("immediate-click",p,x=>v(this._wrapImmediateClick(x)));break;case "immediate-double-click":this.registerIncoming("immediate-double-click",p,x=>v(this._wrapImmediateDoubleClick(x)));break;case "hold":this.registerIncoming("hold",p,x=>v(this._wrapHold(x)));break;case "drag":this.registerIncoming("drag",p,x=>{(x=this._wrapDrag(x))&&
v(x)});break;case "key-down":this.registerIncoming("key-down",p,x=>v(this._wrapKeyDown(x)));break;case "key-up":this.registerIncoming("key-up",p,x=>v(this._wrapKeyUp(x)));break;case "pointer-down":this.registerIncoming("pointer-down",p,x=>v(this._wrapPointer(x,"pointer-down")));break;case "pointer-move":this.registerIncoming("pointer-move",p,x=>v(this._wrapPointer(x,"pointer-move")));break;case "pointer-up":this.registerIncoming("pointer-up",p,x=>v(this._wrapPointer(x,"pointer-up")));break;case "pointer-drag":this.registerIncoming("pointer-drag",
p,x=>v(this._wrapPointerDrag(x)));break;case "mouse-wheel":this.registerIncoming("mouse-wheel",p,x=>v(this._wrapMouseWheel(x)));break;case "pointer-enter":this.registerIncoming("pointer-enter",p,x=>v(this._wrapPointer(x,"pointer-enter")));break;case "pointer-leave":this.registerIncoming("pointer-leave",p,x=>v(this._wrapPointer(x,"pointer-leave")));break;case "gamepad":this.registerIncoming("gamepad",p,x=>{v(this._wrapGamepad(x))});break;case "focus":this.registerIncoming("focus",p,x=>{v(this._wrapFocus(x))});
break;case "blur":this.registerIncoming("blur",p,x=>{v(this._wrapBlur(x))})}}_wrapFocus(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:g=>e.async(g),preventDefault:()=>e.preventDefault()}}_wrapBlur(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:g=>e.async(g),preventDefault:()=>e.preventDefault()}}_wrapClick(e){const {pointerType:g,
button:p,buttons:v,x:u,y:x,native:z,eventId:t}=e.data,{cancelable:y,timestamp:B}=e,A=c.createScreenPoint(u,x),D=this._getMapPoint(u,x);return{type:"click",pointerType:g,button:p,buttons:v,x:u,y:x,native:z,timestamp:B,screenPoint:A,mapPoint:D,eventId:t,cancelable:y,stopPropagation:()=>e.stopPropagation(),async:E=>e.async(E),preventDefault:()=>e.preventDefault()}}_wrapDoubleClick(e){const {pointerType:g,button:p,buttons:v,x:u,y:x,native:z,eventId:t}=e.data,{cancelable:y,timestamp:B}=e;return{type:"double-click",
pointerType:g,button:p,buttons:v,x:u,y:x,native:z,timestamp:B,mapPoint:this._getMapPoint(u,x),eventId:t,cancelable:y,stopPropagation:()=>e.stopPropagation(),async:A=>e.async(A),preventDefault:()=>e.preventDefault()}}_wrapImmediateClick(e){const {pointerType:g,button:p,buttons:v,x:u,y:x,native:z,eventId:t}=e.data,y=z.pointerId,{cancelable:B,timestamp:A}=e;return{type:"immediate-click",pointerId:y,pointerType:g,button:p,buttons:v,x:u,y:x,native:z,timestamp:A,mapPoint:this._getMapPoint(u,x),eventId:t,
cancelable:B,stopPropagation:()=>e.stopPropagation(),async:D=>e.async(D),preventDefault:()=>e.preventDefault()}}_wrapImmediateDoubleClick(e){const {pointerType:g,button:p,buttons:v,x:u,y:x,native:z,eventId:t}=e.data,y=z.pointerId,{cancelable:B,timestamp:A}=e;return{type:"immediate-double-click",pointerId:y,pointerType:g,button:p,buttons:v,x:u,y:x,native:z,timestamp:A,mapPoint:this._getMapPoint(u,x),eventId:t,cancelable:B,stopPropagation:()=>e.stopPropagation(),async:D=>e.async(D),preventDefault:()=>
e.preventDefault()}}_wrapHold(e){const {pointerType:g,button:p,buttons:v,x:u,y:x,native:z}=e.data,{cancelable:t,timestamp:y}=e;return{type:"hold",pointerType:g,button:p,buttons:v,x:u,y:x,native:z,timestamp:y,mapPoint:this._getMapPoint(u,x),cancelable:t,stopPropagation:()=>e.stopPropagation(),async:B=>e.async(B),preventDefault:()=>e.preventDefault()}}_getMapPoint(e,g){return this.view.toMap(c.createScreenPoint(e,g),{exclude:[]})}_wrapDrag(e){const g=e.data,{x:p,y:v}=g.center,{action:u,pointerType:x,
button:z}=g;"start"===u&&(this._latestDragStart=g);if(this._latestDragStart){var t=g.pointer.native,y=g.buttons,{cancelable:B,timestamp:A}=e,D={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};"end"===u&&(this._latestDragStart=void 0);return{type:"drag",action:u,x:p,y:v,origin:D,pointerType:x,button:z,buttons:y,radius:g.radius,angle:f.rad2deg(g.angle),native:t,timestamp:A,cancelable:B,stopPropagation:()=>e.stopPropagation(),async:E=>e.async(E),preventDefault:()=>e.preventDefault()}}}_wrapKeyDown(e){const {key:g,
repeat:p,native:v}=e.data,{cancelable:u,timestamp:x}=e;return{type:"key-down",key:g,repeat:p,native:v,timestamp:x,cancelable:u,stopPropagation:()=>e.stopPropagation(),async:z=>e.async(z),preventDefault:()=>e.preventDefault()}}_wrapKeyUp(e){const {key:g,native:p}=e.data,{cancelable:v,timestamp:u}=e;return{type:"key-up",key:g,native:p,timestamp:u,cancelable:v,stopPropagation:()=>e.stopPropagation(),async:x=>e.async(x),preventDefault:()=>e.preventDefault()}}_wrapPointer(e,g){const {x:p,y:v,button:u,
buttons:x,native:z,eventId:t}=e.data,y=z.pointerId,B=z.pointerType,{cancelable:A,timestamp:D}=e;return{type:g,x:p,y:v,pointerId:y,pointerType:B,button:u,buttons:x,native:z,timestamp:D,eventId:t,cancelable:A,stopPropagation:()=>e.stopPropagation(),async:E=>e.async(E),preventDefault:()=>e.preventDefault()}}_wrapPointerDrag(e){const {x:g,y:p,buttons:v,native:u,eventId:x}=e.data.currentEvent,{button:z}=e.data.startEvent,t=e.data.startEvent.native.pointerId,y=e.data.startEvent.native.pointerType,B=e.data.action,
A={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:D,timestamp:E}=e;return{type:"pointer-drag",x:g,y:p,pointerId:t,pointerType:y,button:z,buttons:v,action:B,origin:A,native:u,timestamp:E,eventId:x,cancelable:D,stopPropagation:()=>e.stopPropagation(),async:J=>e.async(J),preventDefault:()=>e.preventDefault()}}_wrapMouseWheel(e){const {cancelable:g,data:p,timestamp:v}=e,{x:u,y:x,deltaY:z,native:t}=p;return{type:"mouse-wheel",x:u,y:x,deltaY:z,native:t,timestamp:v,cancelable:g,stopPropagation:()=>
e.stopPropagation(),async:y=>e.async(y),preventDefault:()=>e.preventDefault()}}_wrapGamepad(e){const {action:g,state:p,device:v}=e.data,{cancelable:u,timestamp:x}=e,{buttons:z,axes:t}=p;return{type:"gamepad",device:v,timestamp:x,action:g,buttons:z,axes:t,cancelable:u,stopPropagation:()=>e.stopPropagation(),async:y=>e.async(y),preventDefault:()=>e.preventDefault()}}}Object.defineProperty(a,"MouseButton",{enumerable:!0,get:()=>k.MouseButton});a.ViewEvents=w;a.eventTypes=b;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/input/IViewEvents":function(){define(["exports"],function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/Logger","./interfaces"],function(a,b,d){a.areToolManipulatorsEditable=function(f){return f.visible&&null!=f.getEditableFlag&&f.getEditableFlag(d.EditableFlag.USER)&&
f.getEditableFlag(d.EditableFlag.MANAGER)};a.getToolCollectionHandles=function(f){return[f.on("before-add",c=>{const q=c.item;if(null==q||f.includes(q))b.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),c.preventDefault();else q.onAdd()}),f.on("after-remove",c=>{c=c.item;c.active&&(c.view.activeTool=null);c.destroy()})]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interfaces":function(){define(["exports"],
function(a){a.EditableFlag=void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=4]="Unselected";b[b.Selected=8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";
b[b.Custom3=64]="Custom3";b[b.Custom4=128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=32768]="Custom12";b[b.All=65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("exports ../../core/iteratorUtils ../../core/MapUtils ../../core/mathUtils ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),
function(a,b,d,f,c,q,n){class k{constructor(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._revertToNullActiveTool=this._stopDrag=!1;this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return 0<this._grabbedManipulators.size||0<this._draggedManipulators.size}handleInputEvent(h,l){var m=()=>h.stopPropagation();switch(h.type){case "pointer-move":"mouse"===h.pointerType&&this._pointerLocations.set(h.pointerId,
{x:h.x,y:h.y,pointerType:h.pointerType});break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(h.stopPropagation(),"end"===h.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===h.pointerType&&0!==h.button)break;m=n.createScreenPointFromEvent(h);var w=this._intersect(m,h.pointerType,l.forEachTool);if(null==w)break;var r=w.manipulator,e=w.tool;null==r||null==e||!r.interactive||r.grabbable&&r.grabbableForEvent(h)||!r.grabbing||r.dragging||this._releaseManipulatorBeforeDragging(r,
h,l);null!=r&&null!=e&&r.interactive&&r.grabbable&&r.grabbableForEvent(h)&&!r.grabbing&&(this._grabbedManipulators.set(h.pointerId,{manipulator:r,tool:e,start:m,pointerType:h.pointerType}),1===this._grabbedManipulators.size&&null==l.activeTool&&(this._revertToNullActiveTool=!0,l.setActiveTool(w.tool)),r.grabbing=!0,r.events.emit("grab-changed",{action:"start",pointerType:h.pointerType,screenPoint:m}),h.stopPropagation());break;case "pointer-up":this._draggedManipulators.has(h.pointerId)||this._handlePointerEnd(h,
l);break;case "pointer-drag":if("mouse"===h.pointerType&&0!==h.button)break;e=this._grabbedManipulators.get(h.pointerId);m=e?.manipulator;w=e?.tool;if(null==m||null==w)break;r=n.createScreenPointFromEvent(h);r.x=f.clamp(r.x,0,l.view.width);r.y=f.clamp(r.y,0,l.view.height);e=e.start;const g=this._draggedManipulators.get(h.pointerId);switch(h.action){case "start":case "update":if("update"===h.action||1===this._grabbedManipulators.size)m.dragging=!0,g?m.events.emit("drag",{action:"update",start:e,screenPoint:r}):
m.events.emit("drag",{action:"start",start:e,screenPoint:r,pointerType:h.pointerType}),this._draggedManipulators.set(h.pointerId,{tool:w,manipulator:m,start:e});break;case "end":m.dragging=!1,g&&m.events.emit("drag",{action:"end",start:e,screenPoint:r}),this._draggedManipulators.delete(h.pointerId),this._handlePointerEnd(h,l)}h.stopPropagation();break;case "immediate-click":w=n.createScreenPointFromEvent(h);const p=this._intersect(w,h.pointerType,l.forEachTool);h.native.shiftKey||l.forEachTool(x=>
{if((null==p||p.tool!==x||x.automaticManipulatorSelection)&&x.manipulators){let z=!1;x.manipulators.forEach(({manipulator:t})=>{t.selected&&(t.selected=!1,z=!0)});if(z&&x.onManipulatorSelectionChanged)x.onManipulatorSelectionChanged()}});if(null==p)break;const {manipulator:v,tool:u}=p;if(!v.interactive)break;if(v.selectable&&u.automaticManipulatorSelection&&(v.selected=!v.selected,u.onManipulatorSelectionChanged))u.onManipulatorSelectionChanged();v.events.emit("immediate-click",{screenPoint:w,button:h.button,
pointerType:h.pointerType,shiftKey:h.native.shiftKey,stopPropagation:m});v?.consumesClicks&&h.stopPropagation();break;case "click":m=n.createScreenPointFromEvent(h);w=this._intersect(m,h.pointerType,l.forEachTool)?.manipulator;if(null==w||!w.interactive)break;w.events.emit(h.type,{screenPoint:m,button:h.button,pointerType:h.pointerType,shiftKey:h.native.shiftKey});h.stopPropagation();break;case "double-click":w=n.createScreenPointFromEvent(h);r=this._intersect(w,h.pointerType,l.forEachTool);r=null!=
r?r.manipulator:null;if(null==r||!r.interactive)break;r.events.emit("double-click",{screenPoint:w,button:h.button,pointerType:h.pointerType,shiftKey:h.native.shiftKey,stopPropagation:m});r?.consumesClicks&&h.stopPropagation();break;case "immediate-double-click":w=n.createScreenPointFromEvent(h),r=this._intersect(w,h.pointerType,l.forEachTool),r=null!=r?r.manipulator:null,null!=r&&r.interactive&&(r.events.emit("immediate-double-click",{screenPoint:w,button:h.button,pointerType:h.pointerType,shiftKey:h.native.shiftKey,
stopPropagation:m}),r?.consumesClicks&&h.stopPropagation())}this._onFocusChange(l.forEachTool)}_releaseManipulatorBeforeDragging(h,l,m){h.grabbing=!1;h.events.emit("grab-changed",{action:"end",pointerType:l.pointerType,screenPoint:n.createScreenPointFromEvent(l)});this._grabbedManipulators.forEach(({manipulator:w},r)=>{w===h&&this._grabbedManipulators.delete(r)});this._afterManipulatorRelease(m.setActiveTool)}_handlePointerEnd(h,l){const m=this._grabbedManipulators.get(h.pointerId)?.manipulator;null!=
m&&m.grabbing&&(m.grabbing=!1,m.events.emit("grab-changed",{action:"end",pointerType:h.pointerType,screenPoint:n.createScreenPointFromEvent(h)}),this._grabbedManipulators.delete(h.pointerId),this._afterManipulatorRelease(l.setActiveTool))}_cursorFromMap(h){let l=null;d.someMap(h,({manipulator:m})=>{if(null!=m&&m.interactive){if(m.grabbing&&m.grabCursor)return l=m.grabCursor,!0;if(m.cursor)return l=m.cursor,!0}return!1});return l}_onFocusChange(h){this._updateCursor();this._updateFocusedManipulatorTools(h)}_updateCursor(){this._cursor=
0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(h){const l=new Set,m=new Set;this._grabbedManipulators.forEach(({tool:w})=>{l.add(w)});this._hoveredManipulators.forEach(({tool:w})=>{m.add(w)});h(w=>{w.hasGrabbedManipulators=l.has(w);w.hasHoveredManipulators=m.has(w);var r=this._grabbedManipulators.values();r=b.find(r,({tool:e})=>
e===w);w.firstGrabbedManipulator=null!=r?r.manipulator:null})}clearPointers(h,{forEachTool:l,setActiveTool:m},w=!0,r){this._grabbedManipulators.forEach(({tool:e,manipulator:g,pointerType:p},v)=>{e!==h||null!=r&&r!==g||(this._grabbedManipulators.delete(v),g.grabbing=!1,g.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:p}))});this._draggedManipulators.forEach(({tool:e,manipulator:g},p)=>{e!==h||null!=r&&r!==g||(this._draggedManipulators.delete(p),g.dragging=!1,g.events.emit("drag",
{action:"cancel"}))});w&&this._hoveredManipulators.forEach(({tool:e,manipulator:g},p)=>{e!==h||null!=r&&r!==g||(this._hoveredManipulators.delete(p),g.hovering=!1)});this._afterManipulatorRelease(m);this._onFocusChange(l)}_intersect(h,l,m){let w=null;m(r=>{if(null==r.manipulators||!q.areToolManipulatorsEditable(r))return!1;const e=r.manipulators.intersect(h,l);if(null==e)return!1;w={tool:r,manipulator:e};return!0});return w}updateHoveredStateFromKnownPointers(h){this._pointerLocations.forEach((l,m)=>
{this._updateHoveredStateForPointerAtScreenPosition(c.createScreenPoint(l.x,l.y),m,l.pointerType,h)})}handleHoverEvent(h,l){"pointer-up"!==h.type&&"immediate-click"!==h.type&&"pointer-move"!==h.type||"mouse"!==h.pointerType||this._updateHoveredStateForPointerAtScreenPosition(n.createScreenPointFromEvent(h),h.pointerId,h.pointerType,l)}_updateHoveredStateForPointerAtScreenPosition(h,l,m,w){h=this._intersect(h,m,w);m=this._hoveredManipulators.get(l)?.manipulator;null==h||h.manipulator.interactive||
(h=null);if(null==h||m!==h.manipulator)null!=m&&(m.hovering=!1),null!=h?(h.manipulator.hovering=!0,this._hoveredManipulators.set(l,h)):this._hoveredManipulators.delete(l),this._onFocusChange(w)}_afterManipulatorRelease(h){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(h(null),this._revertToNullActiveTool=!1)}}a.ToolViewManagerManipulatorState=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has",
"../../core/screenUtils"],function(a,b,d){function f(q){return d.createScreenPoint(q.x,q.y)}function c(q,n){return(q=(q instanceof HTMLElement?q:q.surface)?.getBoundingClientRect())?d.createScreenPoint(n.clientX-q.left,n.clientY-q.top):d.createScreenPoint(0,0)}a.createScreenPointArrayFromEvent=function(q){return d.createScreenPointArray(q.x,q.y)};a.createScreenPointFromEvent=f;a.createScreenPointFromNativeEvent=c;a.createScreenPointFromSupportedEvent=function(q,n){return n instanceof Event?c(q,n):
f(n)};a.isSupportedScreenPointEvent=function(q){if(q instanceof Event)return!0;if("object"===typeof q&&"type"in q)switch(q.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/Input":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,d,f,c,q,n,k){b=class extends b{constructor(){super(...arguments);this.gamepad=new k}};a.__decorate([d.property({readOnly:!0})],b.prototype,"gamepad",void 0);return b=a.__decorate([n.subclass("esri.views.input.Input")],b)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),
function(a,b,d,f,c,q,n,k,h){b=class extends b{constructor(...l){super(...l);this.devices=new d;this.enabledFocusMode="document"}};a.__decorate([f.property({type:d.ofType(h),readOnly:!0})],b.prototype,"devices",void 0);a.__decorate([f.property({type:["document","view","none"]})],b.prototype,"enabledFocusMode",void 0);return b=a.__decorate([k.subclass("esri.views.input.gamepad.GamepadSettings")],b)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,c,q,n){b=class extends b{constructor(l){super();this.nativeIndex=null;this._detectedDeviceType="unknown";"standard"===l.mapping?this._detectedDeviceType="standard":k.test(l.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown";this.nativeIndex=l.index}get native(){const l=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<l.length?l[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return h[this.deviceType]}};
a.__decorate([d.property({nonNullable:!0,readOnly:!0})],b.prototype,"nativeIndex",void 0);a.__decorate([d.property({type:String,readOnly:!0})],b.prototype,"deviceType",null);a.__decorate([d.property({type:Number,readOnly:!0})],b.prototype,"axisThreshold",null);b=a.__decorate([n.subclass("esri.views.input.gamepad.GamepadInputDevice")],b);const k=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),h={standard:.15,spacemouse:.025,unknown:0};return b})},"esri/views/navigation/Navigation":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,d,f,c,q,n,k){b=class extends b{constructor(h){super(h);this.browserTouchPanEnabled=!0;this.gamepad=new k;this.mouseWheelZoomEnabled=this.momentumEnabled=!0}};a.__decorate([d.property({type:Boolean})],b.prototype,"browserTouchPanEnabled",void 0);a.__decorate([d.property({type:k,nonNullable:!0})],b.prototype,"gamepad",void 0);a.__decorate([d.property({type:Boolean})],b.prototype,"momentumEnabled",void 0);a.__decorate([d.property({type:Boolean})],b.prototype,"mouseWheelZoomEnabled",void 0);
return b=a.__decorate([n.subclass("esri.views.navigation.Navigation")],b)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),function(a,b,d,f,c,q,n,k){b=class extends b{constructor(h){super(h);this.enabled=!0;this.device=
null;this.mode="pan";this.tiltDirection="forward-down";this.velocityFactor=1}};a.__decorate([d.property({type:Boolean,nonNullable:!0})],b.prototype,"enabled",void 0);a.__decorate([d.property({type:k})],b.prototype,"device",void 0);a.__decorate([d.property({type:["pan","zoom"],nonNullable:!0})],b.prototype,"mode",void 0);a.__decorate([d.property({type:["forward-down","forward-up"],nonNullable:!0})],b.prototype,"tiltDirection",void 0);a.__decorate([d.property({type:Number,nonNullable:!0})],b.prototype,
"velocityFactor",void 0);return b=a.__decorate([n.subclass("esri.views.navigation.gamepad.GamepadSettings")],b)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e){a.DefaultsFromMap=class extends d{constructor(p){super(p);this.required={tileInfo:!1,heightModelInfo:!1,extent:!1};this.userSpatialReference=this.defaultSpatialReference=null;this.sourcePreloadCount=10;this.priorityCollection=null;this.requiresExtentInSpatialReference=!0;this.suspended=!1;this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=c.abortMaybe(this._projectExtentTask.task));
this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return null!=this.userSpatialReference?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==
this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const p=this.map?.(),v=[];null!=this.priorityCollection&&v.push(this.priorityCollection);v.push({parent:p?.basemap,layers:p?.basemap?.baseLayers},{layers:p?.layers},{parent:p?.ground,layers:p?.ground?.layers},{parent:p?.basemap,layers:p?.basemap?.referenceLayers});return v}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??
{updating:!1};const {layers:p,updating:v}=this._allLayers;var u=null;for(const z of p){var x=this._getSupportedSpatialReferences(z);0<x.length&&(x=this._narrowDownSpatialReferenceCandidates(u,x),null!=x&&(u=x));if(null!=u&&1===u.length)break}if(v&&(null==u||1!==u.length))return{updating:!0};u=this._pickSpatialReferenceCandidate(u);return{spatialReference:null!=u?u.spatialReference:null,viewingMode:null!=u?u.viewingMode:null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??
{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const {layers:p,updating:v}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(p&&0<p.length&&"tileInfo"in p[0]){const u=p[0].tileInfo;return{tileInfo:u&&u.spatialReference.equals(this.spatialReference)?u:null,updating:!1}}return{updating:v}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??
{updating:!1};const {layers:p,updating:v}=this._allLayers;for(const u of p)if(w.supportsHeightModelInfo(u)){const x=w.deriveHeightModelInfoFromLayer(u);if(x)return{heightModelInfo:x,vcsWkid:u.spatialReference?.vcsWkid,latestVcsWkid:u.spatialReference?.latestVcsWkid,updating:!1}}return{updating:v}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
var p=this._allLayers;const v=p.updating,u=[];for(const z of p.layers){p="fullExtents"in z&&z.fullExtents||(null!=z.fullExtent?[z.fullExtent]:[]);var x=this.requiresExtentInSpatialReference?null:p[0];if(x=p.find(t=>t.spatialReference.equals(this.spatialReference))??x)return{candidates:[{extent:x,layer:z}],updating:!1};if(0<this._getSupportedSpatialReferences(z).length)for(const t of p)u.push({extent:t,layer:z})}return{candidates:u,updating:v}}get _extentTask(){const {candidates:p,updating:v}=this._extentCandidatesTask;
if(v)return{updating:v};if(null==p||0===p.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const u=this._pickExtentCandidate(p),x=this.spatialReference;if(u.extent.equals(this._projectExtentTask.input)&&x.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished};null!=this._projectExtentTask.task&&(this._projectExtentTask.task=
c.abortMaybe(this._projectExtentTask.task));this._projectExtentTask={input:u.extent.clone(),output:null,spatialReference:x.clone(),task:f.createTask(async z=>{try{const t=await e.projectWithEngineOrService(u.extent,x,"portalItem"in u.layer?u.layer.portalItem:void 0,z);this._projectExtentTask={...this._projectExtentTask,task:null,output:t}}catch(t){q.isAborted(z)||(this._projectExtentTask={...this._projectExtentTask,task:null})}})};return{updating:!0}}_narrowDownSpatialReferenceCandidates(p,v){if(null==
p)return v;const u=[];for(const z of p)for(const t of v)if(z.spatialReference.equals(t.spatialReference)){p=z.viewingMode;var x=t.viewingMode;p=null!=p?null!=x?p===x?p:!1:p:x;if(!1!==p){u.push({spatialReference:z.spatialReference,viewingMode:p});break}}return 0<u.length?u:null}_pickSpatialReferenceCandidate(p){const v=this.defaultSpatialReference;if(null==p||1>p.length)return null!=v?{spatialReference:v,viewingMode:null}:null;null!=v&&1<p.length&&p.some(({spatialReference:u})=>u.equals(v))&&(p=p.filter(({spatialReference:u})=>
u.equals(v)));1<p.length&&p.some(({viewingMode:u})=>u!==r.ViewingMode.Local)&&(p=p.filter(({viewingMode:u})=>u!==r.ViewingMode.Local));return p[0]}_getSupportedSpatialReferences(p){var v="supportedSpatialReferences"in p&&p.supportedSpatialReferences||(p.spatialReference?[p.spatialReference]:[]);if(0===v.length)return[];const u=[];for(const x of v)if(v=this.getSpatialReferenceSupport({spatialReference:x,layer:p}),null!=v){v=null!=v.constraints?v.constraints:[{spatialReference:x,viewingMode:null}];
for(const {spatialReference:z,viewingMode:t}of v)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!z.equals(this.userSpatialReference)||u.push({spatialReference:z,viewingMode:t})}return u}_pickExtentCandidate(p){const v=this.spatialReference;return p.find(({extent:u})=>v.equals(u.spatialReference))||p[0]}_collectLayers(p){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const v=new g;for(const u of p)if(this._collectCollection(u,v),v.preloading===this.sourcePreloadCount)break;
return{layers:v.layers,updating:v.updating}}_collectCollection(p,v){if(p.layers){switch(this._loadMaybe(p.parent)){case "loading":v.updating=!0;++v.preloading;return;case "failed":return}for(const u of p.layers){switch(this._loadMaybe(u)){case "failed":continue;case "loading":v.updating=!0;++v.preloading;break;case "loaded":v.updating||v.layers.push(u),"layers"in u&&this._collectCollection({layers:u.layers},v)}if(v.preloading===this.sourcePreloadCount)break}}}_loadMaybe(p){return p&&"loadStatus"in
p&&null!=p.loadStatus?"not-loaded"===p.loadStatus?(p.load().catch(v=>{q.isAbortError(v)||console.log(v)}),"loading"):p.loadStatus:"loaded"}};b.__decorate([n.property()],a.DefaultsFromMap.prototype,"required",void 0);b.__decorate([n.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"map",void 0);b.__decorate([n.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);
b.__decorate([n.property()],a.DefaultsFromMap.prototype,"userSpatialReference",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"priorityCollection",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"suspended",void 0);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"ready",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfoReady",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"spatialReference",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);b.__decorate([n.property({readOnly:!0})],
a.DefaultsFromMap.prototype,"latestVcsWkid",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"viewingMode",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"tileInfo",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"mapCollections",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_allLayers",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);
b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_heightModelInfoTask",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"_extentTask",null);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=b.__decorate([m.subclass("esri.views.support.DefaultsFromMap")],
a.DefaultsFromMap);class g{constructor(){this.layers=[];this.preloading=-1;this.updating=!1}}Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/heightModelInfoUtils":function(){define(["exports","../../core/has","../../core/Error","../HeightModelInfo","../../layers/support/arcgisLayerUrl"],function(a,b,d,f,c){function q(e,g,p){if(!n(e)||!n(g))return w.Unsupported;if(null==e||null==g)return w.Ok;if(!p&&e.heightUnit!==g.heightUnit)return w.Units;if(e.heightModel!==
g.heightModel)return w.HeightModel;switch(e.heightModel){case "gravity-related-height":return w.Ok;case "ellipsoidal":return e.vertCRS===g.vertCRS?w.Ok:w.CRS;default:return w.Unsupported}}function n(e){return null==e||null!=e.heightModel&&null!=e.heightUnit}function k(e){if("integrated-mesh-3dtiles"===e.type)return null;const g=e.url?c.parse(e.url):void 0;return(null!=e.spatialReference?.vcsWkid||null==g||"ImageServer"!==g.serverType)&&"heightModelInfo"in e&&e.heightModelInfo?e.heightModelInfo:l(e)?
f.deriveUnitFromSR(r,e.spatialReference):null}function h(e){if("unknown"===e.type||!("capabilities"in e))return!1;switch(e.type){case "catalog":case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "oriented-imagery":case "wfs":case "knowledge-graph-sublayer":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case "elevation":case null:return!1;default:return!1}}function l(e){return h(e)?!!(e.capabilities&&e.capabilities.data&&
e.capabilities.data.supportsZ):m(e)}function m(e){switch(e.type){case "building-scene":case "elevation":case "integrated-mesh":case "integrated-mesh-3dtiles":case "point-cloud":case "scene":case "voxel":return!0}return!1}var w;(function(e){e[e.Ok=0]="Ok";e[e.Units=1]="Units";e[e.HeightModel=2]="HeightModel";e[e.CRS=3]="CRS";e[e.Unsupported=4]="Unsupported"})(w||={});const r=new f({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=k;a.rejectLayerError=function(e,g,p){const v=
k(e),u=q(v,g,p);if(v){const x=f.deriveUnitFromSR(v,e.spatialReference).heightUnit;if(!p&&x!==v.heightUnit)return g=new d("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${x})`,{horizontalUnit:x}),new d("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:v,error:g})}if(!("heightModelInfo"in e&&null!=e.heightModelInfo||null!=e.spatialReference)&&l(e)||u===w.Unsupported)return new d("layerview:unsupported-height-model-info",
"The vertical coordinate system of the layer is not supported",{heightModelInfo:v});switch(u){case w.Units:return e=v?.heightUnit||"unknown",p=g?.heightUnit||"unknown",e=new d("layerview:incompatible-height-unit",`The vertical units of the layer (${e}) must match the vertical units of the scene (${p})`,{layerUnit:e,sceneUnit:p}),new d("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:g,
error:e});case w.HeightModel:return e=v?.heightModel||"unknown",p=g?.heightModel||"unknown",e=new d("layerview:incompatible-height-model",`The height model of the layer (${e}) must match the height model of the scene (${p})`,{layerHeightModel:e,sceneHeightModel:p}),new d("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:g,error:e});case w.CRS:return e=v?.vertCRS||"unknown",p=g?.vertCRS||
"unknown",e=new d("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${e}) must match the vertical datum of the scene (${p})`,{layerDatum:e,sceneDatum:p}),new d("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:g,error:e})}return null};a.supportsHeightModelInfo=function(e){return null!=e.layers||m(e)||h(e)||"heightModelInfo"in e};a.validateWebSceneError=function(e,
g){if(!e)return null;if(!n(e))return new d("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:e});const p=e.heightUnit;e=f.deriveUnitFromSR(e,g).heightUnit;return p!==e?new d("webscene:incompatible-height-unit",`The vertical units of the scene (${p}) must match the horizontal units of the scene (${e})`,{verticalUnit:p,horizontalUnit:e}):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],
function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/projectionUtils":function(){define(["require","exports","../../core/promiseUtils","../../geometry/projection"],
function(a,b,d,f){async function c(h){n||=(new Promise((l,m)=>a(["../../portal/support/geometryServiceUtils"],l,m))).then(l=>k=l);await n;d.throwIfAborted(h)}async function q(h,l,m,w){if(!h)return null;const r=h.spatialReference;if(f.isLoaded()||f.canProjectWithoutEngine(r,l))return f.project(h,l);if(k)return k.projectGeometry(h,l,m,w);await Promise.race([c(w),f.load(w)]);return q(h,l,m,w)}let n=null,k;b.projectWithEngineOrService=q;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/views/ViewAnimation":function(){define("../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,c,q,n,k,h){d=class extends d.EsriPromise{constructor(l){super(l);this.state="running";this._resolver=this.target=null}initialize(){this._resolver=f.createResolver();this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===
this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new b("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(l,m){m||=f.isPromiseLike(l)?"waiting-for-target":"running";this._set("target",l);this._set("state",m)}};a.__decorate([c.property({readOnly:!0})],d.prototype,"done",null);a.__decorate([c.property({readOnly:!0,
type:String})],d.prototype,"state",void 0);a.__decorate([c.property()],d.prototype,"target",void 0);d=a.__decorate([h.subclass("esri.views.ViewAnimation")],d);(d||={}).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return d})},"esri/views/layers/LayerView":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/support/UpdatingHandles".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w){b=class extends f.IdentifiableMixin(n.EsriPromiseMixin(d.EventedMixin(b))){constructor(r){super(r);this._updatingHandles=new w.UpdatingHandles;this.parent=this.layer=null}initialize(){this.when().catch(r=>{if("layerview:create-error"!==r.name){const e=this.layer&&this.layer.id||"no id",g=this.layer?.title||"no title";c.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${g}', id: '${e}')`,r)}})}destroy(){this._updatingHandles=q.destroyMaybe(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??
1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(r){this._overrideIfSome("visible",r)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||
!1}getSuspendInfo(){const r=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(r.viewNotReady=!0);this.layer&&this.layer.loaded||(r.layerNotLoaded=!0);this.visible||(r.layerInvisible=!0);return r}isUpdating(){return!1}};a.__decorate([k.property()],b.prototype,"fullOpacity",null);a.__decorate([k.property()],b.prototype,"layer",void 0);a.__decorate([k.property()],b.prototype,"parent",void 0);a.__decorate([k.property({readOnly:!0})],b.prototype,"suspended",null);a.__decorate([k.property({readOnly:!0})],
b.prototype,"suspendInfo",null);a.__decorate([k.property({readOnly:!0})],b.prototype,"legendEnabled",null);a.__decorate([k.property({type:Boolean,readOnly:!0})],b.prototype,"updating",null);a.__decorate([k.property({readOnly:!0})],b.prototype,"updatingProgress",null);a.__decorate([k.property()],b.prototype,"visible",null);a.__decorate([k.property()],b.prototype,"view",void 0);return b=a.__decorate([m.subclass("esri.views.layers.LayerView")],b)})},"esri/widgets/Widget":function(){define("../chunks/tslib.es6 ../intl ../core/deprecate ../core/domUtils ../core/Evented ../core/events ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ../chunks/componentsUtils ./support/jsxWidgetSupport ./support/legacyIcon ./support/symbols ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,d,f,c,q,n,k,h,l,m,w,r,e,g,p,v,u,x,z,t,y,B,A,D,E,J,F,G){function M(O,R){for(const V in R)null!=O[V]&&("object"===typeof O[V]&&"object"===typeof R[V]?M(O[V],R?.[V]):O[V]=R[V]);return O}let L=0;var T=B.legacyIcon.checkboxUnchecked;const N=z.createAdvancedProjector({postProcessProjectionOptions(O){const R=O.eventHandlerInterceptor,V=/capture$/i;O.eventHandlerInterceptor=(ma,ca,ua,Aa)=>{const Ma=R?.(ma,ca,ua,Aa),Ga=V.test(ma);ma=ma.replace(V,"");if(!(ma.toLowerCase()in ua)||Ga){const Qa=ma[2].toLowerCase()+
ma.slice(3),qa=aa=>Ma?.call(ua,aa);ua.addEventListener(Qa,qa,Ga);const ha=Aa.afterRemoved;Aa.afterRemoved=aa=>{ha?.(aa);ua.removeEventListener(Qa,qa,Ga)}}return Ma}},handleInterceptedEvent(O,R,V,ma){const {eventPhase:ca,type:ua}=ma,Aa=ca===Event.CAPTURING_PHASE;let Ma=`on${ua}${Aa?"capture":""}`;R=R.properties;if(!(R&&Ma in R||(Ma=`on${ua[0].toUpperCase()}${ua.slice(1)}${Aa?"Capture":""}`,R&&Ma in R)))return;E.clearVNodeCache();O.scheduleRender();R[Ma].call(R.bind||V,ma)}});let K=!1;c=class extends m.EsriPromiseMixin(c.EventedAccessor){constructor(O,
R){super(O,R);this._attached=!1;this._projector=N;this._readyForTrueRender=!1;this.iconClass=T;this.icon=null;this.key=this;this.autoRenderingEnabled=!0;this._loadLocale=w.debounce(async()=>{if(this._messageBundleProps?.length){const ua=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:Aa,propertyName:Ma})=>{this.destroyed||(Aa=await G.fetchMessageBundle(Aa),this.uiStrings&&Object.keys(this.uiStrings)&&(Aa=M(k.clone(Aa),this.uiStrings)),this[Ma]=Aa)}));if(this.destroyed)return;
for(const Aa of ua)"rejected"===Aa.status&&h.getLogger(this).error("widget-intl:locale-error",this.declaredClass,Aa.reason)}await this.loadLocale()});t.commitAssetPath();const V="esri-widget-uid-"+e.generateUUID(),ma=this.render.bind(this);this._trackingTarget=new x.SimpleTrackingTarget(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const ca=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const ua=ma();let Aa=ua.properties;Aa||(ua.properties=Aa={});const {key:Ma}=Aa;Ma||(Aa.key=
V);if(y.isWidgetConstructor(ua.vnodeSelector)){if(!this.visible)return{vnodeSelector:"div",properties:{key:`${V}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}}else this.visible?Aa.styles||(Aa.styles={}):(Aa.class="",Aa.styles={display:"none"}),Aa.styles.display||(Aa.styles.display="");let Ga=0;ua.children?.forEach(Qa=>{if(!y.isWidgetConstructor(Qa.vnodeSelector)){var {properties:qa}=Qa;qa||(Qa.properties=qa={});qa.key||(qa.key=`${this.id}--${Ga++}`)}});return y.processWidgets(this,
ua)};this.render=()=>{if(K)return ca();let ua=E.getVNodeCache(this)??null;if(ua)return ua;this._trackingTarget.clear();K=!0;try{ua=u.runTracked(this._trackingTarget,ca)}catch(Aa){throw console.error(Aa),Aa;}finally{K=!1}ua&&E.setVNodeCache(this,ua);return ua};(O=this.beforeFirstRender())?this._resourcesFetch=O.then(()=>{this._readyForTrueRender=!0;this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0);this.addResolvingPromise(this._resourcesFetch);
D.registerLoading(this._resourcesFetch)}normalizeCtorArgs(O,R){O={...O};R&&(O.container=R);return O}postInitialize(){}beforeFirstRender(){const O=this.loadDependencies();return this._messageBundleProps?.length||O?Promise.all([O,this._loadLocale()]).then(()=>{}).catch(w.throwIfNotAbortError):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(l.destroyMaybe(this._trackingTarget),l.destroyMaybe(this.viewModel),this._detach(this.container),this._set("container",null),
this._emitter.clear(),this.render=()=>null,this._projector=null,E.deleteVNodeCache(this))}set container(O){this._get("container")||this._set("container",O)}castContainer(O){return f.byId(O)}get domNode(){return this.container}set domNode(O){this.container=O}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+L++}set id(O){O&&this._set("id",O)}get label(){return this.declaredClass.split(".").pop()}set label(O){this._overrideIfSome("label",O)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(O){this._set("visible",
O)}get [(b=A.widgetSymbol,A.widgetTestDataSymbol)](){return{projector:this._projector}}render(){throw Error("not implemented");}scheduleRender(){this.destroyed||(E.deleteVNodeCache(this),this._projector.scheduleRender())}own(O){d.deprecatedFunction(h.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"});this.addHandles(O)}classes(...O){return J.classes.apply(this,O)}renderNow(){E.deleteVNodeCache(this);this._projector.renderNow()}_postInitialize(){if(!this.destroyed){this.scheduleRender();
this._delegatedEventNames?.length&&this.addHandles(r.watch(()=>this.viewModel,(R,V)=>{V&&this.removeHandles("delegated-events");R&&q.isEventedOrEventTarget(R)&&this.addHandles(this._delegatedEventNames.map(ma=>q.on(R,ma,ca=>{this.emit(ma,ca)})),"delegated-events")},r.syncAndInitial));this.postInitialize();var O=async()=>{await this._loadLocale().catch(w.throwIfNotAbortError);this.scheduleRender()};this.addHandles([F.onLocaleChange(O),r.watch(()=>this.uiStrings,O),r.when(()=>this.container,R=>{this.destroyed||
this._attach(R)},{initial:!0,once:!0})])}}_attach(O){O&&(this._projector.merge(O,this.render),this._attached=!0)}_detach(O){this._attached&&(this._projector.detach(this.render),this._attached=!1);O?.parentNode?.removeChild(O)}};c[b]=!0;a.__decorate([g.property()],c.prototype,"_readyForTrueRender",void 0);a.__decorate([g.property({value:null})],c.prototype,"container",null);a.__decorate([p.cast("container")],c.prototype,"castContainer",null);a.__decorate([g.property()],c.prototype,"iconClass",void 0);
a.__decorate([g.property()],c.prototype,"icon",void 0);a.__decorate([g.property()],c.prototype,"id",null);a.__decorate([g.property()],c.prototype,"label",null);a.__decorate([g.property()],c.prototype,"renderable",null);a.__decorate([g.property()],c.prototype,"uiStrings",void 0);a.__decorate([g.property()],c.prototype,"viewModel",void 0);a.__decorate([g.property({value:!0})],c.prototype,"visible",null);a.__decorate([g.property()],c.prototype,"key",void 0);a.__decorate([g.property()],c.prototype,"children",
void 0);a.__decorate([g.property()],c.prototype,"afterCreate",void 0);a.__decorate([g.property()],c.prototype,"afterUpdate",void 0);a.__decorate([g.property()],c.prototype,"afterRemoved",void 0);return c=a.__decorate([v.subclass("esri.widgets.Widget")],c)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=(()=>"function"===typeof Element.prototype.closest?(d,f)=>d.closest(f):(d,f)=>{do{if(d.matches(f))return d;d=d.parentElement}while(null!==d&&1===d.nodeType);return null})();
a.byId=function(d){return"string"===typeof d?document.getElementById(d):d??null};a.closest=b;a.empty=function(d){for(;d.hasChildNodes();)d.removeChild(d.firstChild)};a.insertAfter=function(d,f){const c=f.parentNode;c&&(c.lastChild===f?c.appendChild(d):c.insertBefore(d,f.nextSibling))};a.insertBefore=function(d,f){const c=f.parentNode;c&&c.insertBefore(d,f)};a.remove=function(d){d.parentNode&&d.parentNode.removeChild(d)};a.reparent=function(d,f){for(;;){const c=d.firstChild;if(!c)break;f.appendChild(c)}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,d,f,c){const q=(h,l)=>{const m=[];for(;h&&h!==l;)m.push(h),h=h.parentNode;return m},n=(h,l)=>h.find(l),k=(h,l,m=!1)=>{let w=h;l.forEach((r,e)=>{const g=w?.children?n(w.children,p=>p.domNode===r):void 0;if(!m||g||e===l.length-1)w=g});return w};a.createAdvancedProjector=
h=>{let l;const m={...f.defaultAdvancedProjectorOptions,...h},w=c.applyDefaultProjectionOptions(m),r=w.performanceLogger;let e=!0,g,p=!1;const v=[],u=[],x=(t,y,B)=>{let A;w.eventHandlerInterceptor=(E,J,F,G)=>function(M){r("domEvent",M);var L=q(M.currentTarget,A.domNode);const T=L.some(K=>customElements.get(K?.tagName?.toLowerCase()));M.eventPhase!==Event.CAPTURING_PHASE&&T?(L=M.composedPath(),L=L.slice(L.indexOf(M.currentTarget),L.indexOf(A.domNode)).reverse(),L=k(A.getLastRender(),L,!0)):(L.reverse(),
L=k(A.getLastRender(),L));let N;L&&(N=m.handleInterceptedEvent(l,L,this,M));r("domEventProcessed",M);return N};m.postProcessProjectionOptions?.(w);const D=B();A=t(y,D,w);w.eventHandlerInterceptor=void 0;v.push(A);u.push(B);m.afterFirstVNodeRendered&&m.afterFirstVNodeRendered(A,D)};let z=()=>{g=void 0;if(e){e=!1;r("renderStart",void 0);for(let t=0;t<v.length;t++){const y=u[t]();r("rendered",void 0);v[t].update(y);r("patched",void 0)}r("renderDone",void 0);e=!0}};m.modifyDoRenderImplementation&&(z=
m.modifyDoRenderImplementation(z,v,u));return l={renderNow:z,scheduleRender:()=>{g||p||(g=requestAnimationFrame(z))},stop:()=>{g&&(cancelAnimationFrame(g),g=void 0);p=!0},resume:()=>{p=!1;e=!0;l.scheduleRender()},append:(t,y)=>{x(b.dom.append,t,y)},insertBefore:(t,y)=>{x(b.dom.insertBefore,t,y)},merge:(t,y)=>{x(b.dom.merge,t,y)},replace:(t,y)=>{x(b.dom.replace,t,y)},detach:t=>{for(let y=0;y<u.length;y++)if(u[y]===t)return u.splice(y,1),v.splice(y,1)[0];throw Error("renderFunction was not found");
}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const d={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(f,c,q)=>{"-"===c.charAt(0)?f.style.setProperty(c,q):f.style[c]=q}};a.applyDefaultProjectionOptions=f=>b.extend(d,f);a.dom={create:(f,c)=>{c=b.extend(d,c);b.createDom(f,document.createElement("div"),void 0,c);return b.createProjection(f,c)},append:(f,c,q)=>
{q=b.extend(d,q);b.createDom(c,f,void 0,q);return b.createProjection(c,q)},insertBefore:(f,c,q)=>{q=b.extend(d,q);b.createDom(c,f.parentNode,f,q);return b.createProjection(c,q)},merge:(f,c,q)=>{q=b.extend(d,q);c.domNode=f;b.initPropertiesAndChildren(f,c,q);return b.createProjection(c,q)},replace:(f,c,q)=>{q=b.extend(d,q);b.createDom(c,f.parentNode,f,q);f.parentNode.removeChild(f);return b.createProjection(c,q)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projection":function(){define(["exports",
"../../widgets/support/widgetUtils"],function(a,b){function d(z){if(!(z instanceof Element&&z.tagName.includes("-")))return!1;const t=window.customElements.get(z.tagName.toLowerCase());return!!t&&z instanceof t}let f=[],c=(z,t)=>{let y={};Object.keys(z).forEach(B=>{y[B]=z[B]});t&&Object.keys(t).forEach(B=>{y[B]=t[B]});return y},q=(z,t)=>z.vnodeSelector!==t.vnodeSelector?!1:z.properties&&t.properties?z.properties.key!==t.properties.key?!1:z.properties.bind===t.properties.bind:!z.properties&&!t.properties,
n=z=>{if("string"!==typeof z)throw Error("Style values must be strings");},k=(z,t,y,B)=>{let A=z[t];if(""!==A.vnodeSelector){var D=A.properties;if(!(D&&(void 0===D.key?D.bind:D.key)))for(D=0;D<z.length;D++)if(D!==t&&q(z[D],A))throw Error(`${y.vnodeSelector} had a ${A.vnodeSelector} child ${"added"===B?B:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},h=[],l=!1,m=z=>{(z.children||[]).forEach(m);z.properties&&z.properties.afterRemoved&&
z.properties.afterRemoved.apply(z.properties.bind||z.properties,[z.domNode])},w=()=>{l=!1;h.forEach(m);h.length=0},r=z=>{h.push(z);l||(l=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(w,{timeout:16}):setTimeout(w,16))},e=z=>{let t=z.domNode;if(z.properties){let y=z.properties.exitAnimation;if(y){t.style.pointerEvents="none";y(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),r(z))},z.properties);return}}t.parentNode&&(t.parentNode.removeChild(t),r(z))},g=
(z,t,y)=>{if(t){var B=y.eventHandlerInterceptor,A=Object.keys(t),D=A.length;for(let M=0;M<D;M++){var E=A[M];let L=t[E];if("className"===E)throw Error('Property "className" is not supported, use "class".');if("class"===E)x(z,L,!0);else if("classes"===E){E=Object.keys(L);var J=E.length;for(var F=0;F<J;F++){var G=E[F];L[G]&&z.classList.add(G)}}else if("styles"===E)for(E=Object.keys(L),J=E.length,F=0;F<J;F++){G=E[F];let T=L[G];T&&(n(T),y.styleApplyer(z,G,T))}else"key"!==E&&null!==L&&void 0!==L&&(J=typeof L,
"function"===J?(0===E.lastIndexOf("on",0)&&(B&&(L=B(E,L,z,t)),"oninput"===E&&function(){let T=L;L=function(N){T.apply(this,[N]);N.target["oninput-value"]=N.target.value}}()),z[E]=L):"http://www.w3.org/2000/svg"===y.namespace?"href"===E?z.setAttributeNS("http://www.w3.org/1999/xlink",E,L):z.setAttribute(E,L):"string"===J&&"value"!==E?"innerHTML"===E?z[E]=b.renderingSanitizer.sanitize(L):d(z)&&E in z?z[E]=L:z.setAttribute(E,L):z[E]=L)}}},p=(z,t,y)=>{var B=t.children;if(B)for(let A of B)v(A,z,void 0,
y);t.text&&(z.textContent=t.text);g(z,t.properties,y);t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[z,y,t.vnodeSelector,t.properties,t.children])},v=(z,t,y,B)=>{let A;var D=0;let E=z.vnodeSelector,J=t.ownerDocument;if(""===E)A=z.domNode=J.createTextNode(z.text),void 0!==y?t.insertBefore(A,y):t.appendChild(A);else{for(let G=0;G<=E.length;++G){var F=E.charAt(G);if(G===E.length||"."===F||"#"===F)F=E.charAt(D-1),D=E.slice(D,G),"."===F?A.classList.add(D):
"#"===F?A.id=D:("svg"===D&&(B=c(B,{namespace:"http://www.w3.org/2000/svg"})),void 0!==B.namespace?A=z.domNode=J.createElementNS(B.namespace,D):(A=z.domNode=z.domNode||J.createElement(D),"input"===D&&z.properties&&void 0!==z.properties.type&&A.setAttribute("type",z.properties.type)),void 0!==y?t.insertBefore(A,y):A.parentNode!==t&&t.appendChild(A)),D=G+1}p(A,z,B)}},u,x=(z,t,y)=>{t&&t.split(" ").forEach(B=>{B&&z.classList.toggle(B,y)})};u=(z,t,y)=>{let B=z.domNode;if(z===t)return!1;let A=!1;if(""===
t.vnodeSelector){if(t.text!==z.text)return z=B.ownerDocument.createTextNode(t.text),B.parentNode.replaceChild(z,B),t.domNode=z,!0;t.domNode=B}else{0===t.vnodeSelector.lastIndexOf("svg",0)&&(y=c(y,{namespace:"http://www.w3.org/2000/svg"}));z.text!==t.text&&(A=!0,void 0===t.text?B.removeChild(B.firstChild):B.textContent=t.text);t.domNode=B;var D=z.children;var E=t.children,J=y;if(D===E)D=!1;else{D=D||f;E=E||f;for(var F=D.length,G=E.length,M=0,L=0,T=!1;L<G;){var N=M<F?D[M]:void 0,K=E[L];if(void 0!==
N&&q(N,K))T=u(N,K,J)||T,M++;else{b:{N=D;var O=K,R=M+1;if(""!==O.vnodeSelector)for(;R<N.length;R++)if(q(N[R],O)){N=R;break b}N=-1}if(0<=N){for(;M<N;M++)e(D[M]),k(D,M,t,"removed");T=u(D[N],K,J)||T;M=N+1}else v(K,B,M<F?D[M].domNode:void 0,J),K.properties&&(N=K.properties.enterAnimation)&&N(K.domNode,K.properties),k(E,L,t,"added")}L++}if(F>M)for(;M<F;M++)e(D[M]),k(D,M,t,"removed");D=T}A=D||A;D=z.properties;E=t.properties;J=y;if(E){F=!1;G=Object.keys(E);L=G.length;for(T=0;T<L;T++)if(N=G[T],K=E[N],M=D[N],
"class"===N)M!==K&&(x(B,M,!1),x(B,K,!0));else if("classes"===N){N=B.classList;O=Object.keys(K);R=O.length;for(var V=0;V<R;V++){var ma=O[V];let ca=!!K[ma];ca!==!!M[ma]&&(F=!0,ca?N.add(ma):N.remove(ma))}}else if("styles"===N)for(N=Object.keys(K),O=N.length,R=0;R<O;R++)V=N[R],ma=K[V],ma!==M[V]&&(F=!0,ma?(n(ma),J.styleApplyer(B,V,ma)):J.styleApplyer(B,V,""));else(K||"string"!==typeof M||(K=""),"value"!==N||d(B))?K!==M&&(M=typeof K,"function"===M&&J.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===
J.namespace?"href"===N?B.setAttributeNS("http://www.w3.org/1999/xlink",N,K):B.setAttribute(N,K):"string"===M?"innerHTML"===N?B[N]=b.renderingSanitizer.sanitize(K):"role"===N&&""===K?B.removeAttribute(N):d(B)&&N in B?B[N]=K:B.setAttribute(N,K):B[N]!==K&&(B[N]=K),F=!0)):(O=B[N],O!==K&&(B["oninput-value"]?O===B["oninput-value"]:K!==M)&&(B[N]=K,B["oninput-value"]=void 0),K!==M&&(F=!0));D=F}else D=void 0;A=D||A;t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,
[B,y,t.vnodeSelector,t.properties,t.children])}A&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(B,t.properties,z.properties);return!1};a.createDom=v;a.createProjection=(z,t)=>({getLastRender:()=>z,update:y=>{if(z.vnodeSelector!==y.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let B=z;z=y;u(B,y,t)},domNode:z.domNode});a.extend=c;a.initPropertiesAndChildren=p;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ../../core/reactiveUtils ./vnodeCache".split(" "),function(a,b,d,f,c,q,n){function k(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,
"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,
"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,
"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,
"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,
"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,
"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,
"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,
"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,
"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,
"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,
"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,
"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function h(da){da=da||{};var pa={},ra;for(ra in da)pa[ra]=da[ra];da=pa;da.whiteList=da.whiteList||N.whiteList;da.onAttr=da.onAttr||N.onAttr;da.onIgnoreAttr=da.onIgnoreAttr||N.onIgnoreAttr;da.safeAttrValue=da.safeAttrValue||N.safeAttrValue;this.options=da}
function l(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],
footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],
ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function m(da){return da.replace(ca,"\x26lt;").replace(ua,"\x26gt;")}function w(da){return da.replace(Aa,"\x26quot;")}function r(da){return da.replace(Ma,'"')}function e(da){return da.replace(Ga,function(pa,ra){return"x"===ra[0]||"X"===ra[0]?String.fromCharCode(parseInt(ra.substr(1),16)):String.fromCharCode(parseInt(ra,10))})}function g(da){return da.replace(Qa,":").replace(qa," ")}function p(da){for(var pa=
"",ra=0,Ca=da.length;ra<Ca;ra++)pa+=32>da.charCodeAt(ra)?" ":da.charAt(ra);return V.trim(pa)}function v(da){da=r(da);da=e(da);da=g(da);return da=p(da)}function u(da){da=w(da);return da=m(da)}function x(da,pa){for(;pa<da.length;pa++){var ra=da[pa];if(" "!==ra)return"\x3d"===ra?pa:-1}}function z(da,pa){for(;pa<da.length;pa++){var ra=da[pa];if(" "!==ra)return"'"===ra||'"'===ra?pa:-1}}function t(da,pa){for(;0<pa;pa--){var ra=da[pa];if(" "!==ra)return"\x3d"===ra?pa:-1}}function y(da){var pa='"'===da[0]&&
'"'===da[da.length-1]||"'"===da[0]&&"'"===da[da.length-1]?!0:!1;return pa?da.substr(1,da.length-2):da}function B(da){var pa=W.spaceIndex(da);if(-1===pa)return{html:"",closing:"/"===da[da.length-2]};da=W.trim(da.slice(pa+1,-1));(pa="/"===da[da.length-1])&&(da=W.trim(da.slice(0,-1)));return{html:da,closing:pa}}function A(da){var pa={},ra;for(ra in da)Array.isArray(da[ra])?pa[ra.toLowerCase()]=da[ra].map(function(Ca){return Ca.toLowerCase()}):pa[ra.toLowerCase()]=da[ra];return pa}function D(da){da=da||
{};var pa={},ra;for(ra in da)pa[ra]=da[ra];da=pa;da.stripIgnoreTag&&(da.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),da.onIgnoreTag=fa.onIgnoreTagStripAll);da.whiteList=da.whiteList||da.allowList?A(da.whiteList||da.allowList):fa.whiteList;da.onTag=da.onTag||fa.onTag;da.onTagAttr=da.onTagAttr||fa.onTagAttr;da.onIgnoreTag=da.onIgnoreTag||fa.onIgnoreTag;da.onIgnoreTagAttr=da.onIgnoreTagAttr||fa.onIgnoreTagAttr;da.safeAttrValue=
da.safeAttrValue||fa.safeAttrValue;da.escapeHtml=da.escapeHtml||fa.escapeHtml;this.options=da;!1===da.css?this.cssFilter=!1:(da.css=da.css||{},this.cssFilter=new Q(da.css))}function E(da){da=da?.closest("[dir]");return null!==da&&da instanceof HTMLElement&&"rtl"===da.dir||"rtl"===document.dir}var J=function(da){if("object"!==typeof da||null===da||"[object Object]"!==Object.prototype.toString.call(da))return!1;var pa=Object.getPrototypeOf(da);if(null===pa)return!0;for(;null!==Object.getPrototypeOf(pa);)pa=
Object.getPrototypeOf(pa);return Object.getPrototypeOf(da)===pa},F={exports:{}},G={};f={exports:{}};var M={},L=/javascript\s*:/gim;M.whiteList=k();M.getDefaultWhiteList=k;M.onAttr=function(da,pa,ra){};M.onIgnoreAttr=function(da,pa,ra){};M.safeAttrValue=function(da,pa){return L.test(pa)?"":pa};var T={indexOf:function(da,pa){var ra;if(Array.prototype.indexOf)return da.indexOf(pa);var Ca=0;for(ra=da.length;Ca<ra;Ca++)if(da[Ca]===pa)return Ca;return-1},forEach:function(da,pa,ra){var Ca;if(Array.prototype.forEach)return da.forEach(pa,
ra);var Da=0;for(Ca=da.length;Da<Ca;Da++)pa.call(ra,da[Da],Da,da)},trim:function(da){return String.prototype.trim?da.trim():da.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(da){return String.prototype.trimRight?da.trimRight():da.replace(/(\s*$)/g,"")}},N=M,K=function(da,pa){function ra(){if(!Da){var oa=T.trim(da.slice(Na,Oa)),U=oa.indexOf(":");if(-1!==U){var ba=T.trim(oa.slice(0,U));U=T.trim(oa.slice(U+1));ba&&(oa=pa(Na,Pa.length,ba,U,oa))&&(Pa+=oa+"; ")}}Na=Oa+1}da=T.trimRight(da);";"!==da[da.length-
1]&&(da+=";");for(var Ca=da.length,Da=!1,Na=0,Oa=0,Pa="";Oa<Ca;Oa++){var Ra=da[Oa];if("/"===Ra&&"*"===da[Oa+1]){Ra=da.indexOf("*/",Oa+2);if(-1===Ra)break;Oa=Ra+1;Na=Oa+1;Da=!1}else"("===Ra?Da=!0:")"===Ra?Da=!1:";"===Ra?Da||ra():"\n"===Ra&&ra()}return T.trim(Pa)};h.prototype.process=function(da){da=(da||"").toString();if(!da)return"";var pa=this.options,ra=pa.whiteList,Ca=pa.onAttr,Da=pa.onIgnoreAttr,Na=pa.safeAttrValue;return K(da,function(Oa,Pa,Ra,oa,U){var ba=ra[Ra],ya=!1;!0===ba?ya=ba:"function"===
typeof ba?ya=ba(oa):ba instanceof RegExp&&(ya=ba.test(oa));!0!==ya&&(ya=!1);if(oa=Na(Ra,oa)){Oa={position:Pa,sourcePosition:Oa,source:U,isWhite:ya};if(ya)return ya=Ca(Ra,oa,Oa),void 0===ya||null===ya?Ra+":"+oa:ya;ya=Da(Ra,oa,Oa);if(void 0!==ya&&null!==ya)return ya}})};(function(da,pa){pa=da.exports=function(Ca,Da){return(new h(Da)).process(Ca)};pa.FilterCSS=h;for(var ra in M)pa[ra]=M[ra]})(f,f.exports);var O={indexOf:function(da,pa){var ra;if(Array.prototype.indexOf)return da.indexOf(pa);var Ca=0;
for(ra=da.length;Ca<ra;Ca++)if(da[Ca]===pa)return Ca;return-1},forEach:function(da,pa,ra){var Ca;if(Array.prototype.forEach)return da.forEach(pa,ra);var Da=0;for(Ca=da.length;Da<Ca;Da++)pa.call(ra,da[Da],Da,da)},trim:function(da){return String.prototype.trim?da.trim():da.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(da){return(da=/\s|\n|\t/.exec(da))?da.index:-1}},R=f.exports.getDefaultWhiteList,V=O,ma=new f.exports.FilterCSS,ca=/</g,ua=/>/g,Aa=/"/g,Ma=/&quot;/g,Ga=/&#([a-zA-Z0-9]*);?/gim,Qa=
/&colon;?/gim,qa=/&newline;?/gim,ha=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,aa=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ja=/u\s*r\s*l\s*\(.*/gi;G.whiteList=l();G.getDefaultWhiteList=l;G.onTag=function(da,pa,ra){};G.onIgnoreTag=function(da,pa,ra){};G.onTagAttr=function(da,pa,ra){};G.onIgnoreTagAttr=function(da,pa,ra){};G.safeAttrValue=function(da,pa,ra,Ca){ra=v(ra);if("href"===pa||"src"===pa){ra=V.trim(ra);if("#"===ra)return"#";if("http://"!==
ra.substr(0,7)&&"https://"!==ra.substr(0,8)&&"mailto:"!==ra.substr(0,7)&&"tel:"!==ra.substr(0,4)&&"data:image/"!==ra.substr(0,11)&&"ftp://"!==ra.substr(0,6)&&"./"!==ra.substr(0,2)&&"../"!==ra.substr(0,3)&&"#"!==ra[0]&&"/"!==ra[0])return""}else if("background"===pa){if(ha.lastIndex=0,ha.test(ra))return""}else if("style"===pa){aa.lastIndex=0;if(aa.test(ra))return"";ja.lastIndex=0;if(ja.test(ra)&&(ha.lastIndex=0,ha.test(ra)))return"";!1!==Ca&&(Ca=Ca||ma,ra=Ca.process(ra))}return ra=u(ra)};G.escapeHtml=
m;G.escapeQuote=w;G.unescapeQuote=r;G.escapeHtmlEntities=e;G.escapeDangerHtml5Entities=g;G.clearNonPrintableCharacter=p;G.friendlyAttrValue=v;G.escapeAttrValue=u;G.onIgnoreTagStripAll=function(){return""};G.StripTagBody=function(da,pa){"function"!==typeof pa&&(pa=function(){});var ra=!Array.isArray(da),Ca=[],Da=!1;return{onIgnoreTag:function(Na,Oa,Pa){var Ra=ra?!0:-1!==V.indexOf(da,Na);if(Ra){if(Pa.isClosing)return Ca.push([!1!==Da?Da:Pa.position,Pa.position+10]),Da=!1,"[/removed]";Da||(Da=Pa.position);
return"[removed]"}return pa(Na,Oa,Pa)},remove:function(Na){var Oa="",Pa=0;V.forEach(Ca,function(Ra){Oa+=Na.slice(Pa,Ra[0]);Pa=Ra[1]});return Oa+=Na.slice(Pa)}}};G.stripCommentTag=function(da){for(var pa="",ra=0;ra<da.length;){var Ca=da.indexOf("\x3c!--",ra);if(-1===Ca){pa+=da.slice(ra);break}pa+=da.slice(ra,Ca);ra=da.indexOf("--\x3e",Ca);if(-1===ra)break;ra+=3}return pa};G.stripBlankChar=function(da){da=da.split("");da=da.filter(function(pa){pa=pa.charCodeAt(0);return 127===pa?!1:31>=pa?10===pa||
13===pa?!0:!1:!0});return da.join("")};G.cssFilter=ma;G.getDefaultCSSWhiteList=R;var sa={},H=/[^a-zA-Z0-9\\_:.-]/gim;sa.parseTag=function(da,pa,ra){var Ca="",Da=0,Na=!1,Oa=!1,Pa=0,Ra=da.length,oa="",U="";Pa=0;a:for(;Pa<Ra;Pa++)if(U=da.charAt(Pa),!1===Na)"\x3c"===U&&(Na=Pa);else if(!1===Oa)if("\x3c"===U)Ca+=ra(da.slice(Da,Pa)),Da=Na=Pa;else if("\x3e"===U)Ca+=ra(da.slice(Da,Na)),U=da.slice(Na,Pa+1),Da=void 0,Da=U,oa=O.spaceIndex(Da),Da=-1===oa?Da.slice(1,-1):Da.slice(1,oa+1),Da=O.trim(Da).toLowerCase(),
"/"===Da.slice(0,1)&&(Da=Da.slice(1)),"/"===Da.slice(-1)&&(Da=Da.slice(0,-1)),oa=Da,Ca+=pa(Na,Ca.length,oa,U,"\x3c/"===U.slice(0,2)),Da=Pa+1,Na=!1;else{if('"'===U||"'"===U){oa=1;for(var ba=da.charAt(Pa-oa);""===ba.trim()||"\x3d"===ba;){if("\x3d"===ba){Oa=U;continue a}ba=da.charAt(Pa-++oa)}}}else U===Oa&&(Oa=!1);Da<da.length&&(Ca+=ra(da.substr(Da)));return Ca};sa.parseAttr=function(da,pa){function ra(U,ba){U=O.trim(U);U=U.replace(H,"").toLowerCase();1>U.length||(U=pa(U,ba||""))&&Na.push(U)}for(var Ca=
0,Da=0,Na=[],Oa=!1,Pa=da.length,Ra=0;Ra<Pa;Ra++){var oa=da.charAt(Ra);if(!1===Oa&&"\x3d"===oa)Oa=da.slice(Ca,Ra),Ca=Ra+1,Da='"'===da.charAt(Ca)||"'"===da.charAt(Ca)?Ca:z(da,Ra+1);else{if(!1!==Oa&&Ra===Da)if(oa=da.indexOf(oa,Ra+1),-1===oa)break;else{Ca=O.trim(da.slice(Da+1,oa));ra(Oa,Ca);Oa=!1;Ra=oa;Ca=Ra+1;continue}/\s|\n|\t/.test(oa)&&(da=da.replace(/\s|\n|\t/g," "),!1===Oa?(oa=x(da,Ra),-1===oa?(Ca=O.trim(da.slice(Ca,Ra)),ra(Ca),Oa=!1,Ca=Ra+1):Ra=oa-1):(oa=t(da,Ra-1),-1===oa&&(Ca=O.trim(da.slice(Ca,
Ra)),Ca=y(Ca),ra(Oa,Ca),Oa=!1,Ca=Ra+1)))}}Ca<da.length&&(!1===Oa?ra(da.slice(Ca)):ra(Oa,y(O.trim(da.slice(Ca)))));return O.trim(Na.join(" "))};var Q=f.exports.FilterCSS,fa=G,ka=sa.parseTag,za=sa.parseAttr,W=O;D.prototype.process=function(da){da=(da||"").toString();if(!da)return"";var pa=this.options,ra=pa.whiteList,Ca=pa.onTag,Da=pa.onIgnoreTag,Na=pa.onTagAttr,Oa=pa.onIgnoreTagAttr,Pa=pa.safeAttrValue,Ra=pa.escapeHtml,oa=this.cssFilter;pa.stripBlankChar&&(da=fa.stripBlankChar(da));pa.allowCommentTag||
(da=fa.stripCommentTag(da));var U=!1;pa.stripIgnoreTagBody&&(U=fa.StripTagBody(pa.stripIgnoreTagBody,Da),Da=U.onIgnoreTag);da=ka(da,function(ba,ya,xa,Ka,Sa){ba={sourcePosition:ba,position:ya,isClosing:Sa,isWhite:Object.prototype.hasOwnProperty.call(ra,xa)};ya=Ca(xa,Ka,ba);if(void 0!==ya&&null!==ya)return ya;if(ba.isWhite){if(ba.isClosing)return"\x3c/"+xa+"\x3e";ba=B(Ka);var Ta=ra[xa];ya=za(ba.html,function(Xa,Ua){var db=-1!==W.indexOf(Ta,Xa),Ya=Na(xa,Xa,Ua,db);if(void 0!==Ya&&null!==Ya)return Ya;
if(db)return(Ua=Pa(xa,Xa,Ua,oa))?Xa+'\x3d"'+Ua+'"':Xa;Ya=Oa(xa,Xa,Ua,db);if(void 0!==Ya&&null!==Ya)return Ya});Ka="\x3c"+xa;ya&&(Ka+=" "+ya);ba.closing&&(Ka+=" /");return Ka+"\x3e"}ya=Da(xa,Ka,ba);return void 0!==ya&&null!==ya?ya:Ra(Ka)},Ra);U&&(da=U.remove(da));return da};(function(da,pa){function ra(Da,Na){return(new Ca(Na)).process(Da)}var Ca=D;pa=da.exports=ra;pa.filterXSS=ra;pa.FilterXSS=Ca;(function(){for(var Da in G)pa[Da]=G[Da];for(var Na in sa)pa[Na]=sa[Na]})();"undefined"!==typeof self&&
"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=da.exports)})(F,F.exports);var ea=function(){function da(pa,ra){var Ca=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],
h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};
this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Na,Oa,Pa,Ra){return"a"===Na&&"href"===Oa||("img"===Na||"source"===Na)&&"src"===Oa?Ca.sanitizeUrl(Pa):F.exports.safeAttrValue(Na,
Oa,Pa,Ra)}};this._entityMap={"\x26":"\x26#x38;","\x3c":"\x26#x3C;","\x3e":"\x26#x3E;",'"':"\x26#x22;","'":"\x26#x27;","/":"\x26#x2F;"};if(pa&&!ra)var Da=pa;else pa&&ra?(Da=Object.create(this.arcgisFilterOptions),Object.keys(pa).forEach(function(Na){"whiteList"===Na?Da.whiteList=Ca._extendObjectOfArrays([Ca.arcgisWhiteList,pa.whiteList||{}]):Da[Na]=pa[Na]})):(Da=Object.create(this.arcgisFilterOptions),Da.whiteList=this.arcgisWhiteList);this.xssFilterOptions=Da;this._xssFilter=new F.exports.FilterXSS(Da)}
da.prototype.sanitize=function(pa,ra){void 0===ra&&(ra={});switch(typeof pa){case "number":return isNaN(pa)||!isFinite(pa)?null:pa;case "boolean":return pa;case "string":return this._xssFilter.process(pa);case "object":return this._iterateOverObject(pa,ra);default:if(!ra.allowUndefined||"undefined"!==typeof pa)return null}};da.prototype.sanitizeUrl=function(pa,ra){ra=(null!==ra&&void 0!==ra?ra:{}).isProtocolRequired;ra=void 0===ra?!0:ra;var Ca=this._trim(pa.substring(0,pa.indexOf(":"))),Da="/"===
pa,Na=/^#/.test(pa),Oa=Ca&&-1<this.allowedProtocols.indexOf(Ca.toLowerCase());return Da||Na||Oa?F.exports.escapeAttrValue(pa):Ca||ra?"":F.exports.escapeAttrValue("https://".concat(pa))};da.prototype.sanitizeHTMLAttribute=function(pa,ra,Ca,Da){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(pa,ra,Ca,Da):F.exports.safeAttrValue(pa,ra,Ca,Da)};da.prototype.validate=function(pa,ra){void 0===ra&&(ra={});ra=this.sanitize(pa,ra);return{isValid:pa===ra,sanitized:ra}};
da.prototype.encodeHTML=function(pa){var ra=this;return String(pa).replace(/[&<>"'\/]/g,function(Ca){return ra._entityMap[Ca]})};da.prototype.encodeAttrValue=function(pa){var ra=/^[a-zA-Z0-9]$/;return String(pa).replace(/[\x00-\xFF]/g,function(Ca,Da){return ra.test(Ca)?Ca:"\x26#x".concat(Number(pa.charCodeAt(Da)).toString(16),";")})};da.prototype._extendObjectOfArrays=function(pa){var ra={};pa.forEach(function(Ca){Object.keys(Ca).forEach(function(Da){Array.isArray(Ca[Da])&&Array.isArray(ra[Da])?ra[Da]=
ra[Da].concat(Ca[Da]):ra[Da]=Ca[Da]})});return ra};da.prototype._iterateOverObject=function(pa,ra){var Ca=this;void 0===ra&&(ra={});try{var Da=!1,Na=void 0;if(Array.isArray(pa))Na=pa.reduce(function(Oa,Pa){var Ra=Ca.validate(Pa,ra);if(Ra.isValid)return Oa.concat([Pa]);Da=!0;return Oa.concat([Ra.sanitized])},[]);else if(J(pa))Na=Object.keys(pa).reduce(function(Oa,Pa){var Ra=pa[Pa],oa=Ca.validate(Ra,ra);oa.isValid?Oa[Pa]=Ra:(Da=!0,Oa[Pa]=oa.sanitized);return Oa},{});else return ra.allowUndefined&&"undefined"===
typeof pa?void 0:null;return Da?Na:pa}catch(Oa){return null}};da.prototype._trim=function(pa){return String.prototype.trim?pa.trim():pa.replace(/(^\s*)|(\s*$)/g,"")};return da}(),ia,I,S=function(da){if("WebkitTransition"in da.style)ia="webkitTransitionEnd",I="webkitAnimationEnd";else if("transition"in da.style)ia="transitionend",I="animationend";else throw Error("Your browser is not supported!");},X=function(da,pa){void 0===pa&&(pa=da+"-active");return function(ra){ia||S(ra);var Ca=!1,Da=function(Na){Ca||
(Ca=!0,ra.removeEventListener(ia,Da),ra.removeEventListener(I,Da),ra.classList.remove(da),ra.classList.remove(pa))};ra.classList.add(da);ra.addEventListener(ia,Da);ra.addEventListener(I,Da);requestAnimationFrame(function(){ra.classList.add(pa)})}},na=function(da,pa){void 0===pa&&(pa=da+"-active");return function(ra,Ca){ia||S(ra);var Da=!1,Na=function(Oa){Da||(Da=!0,ra.removeEventListener(ia,Na),ra.removeEventListener(I,Na),Ca())};ra.classList.add(da);ra.addEventListener(ia,Na);ra.addEventListener(I,
Na);requestAnimationFrame(function(){ra.classList.add(pa)})}};f=(()=>{const da=new Map,pa=new ResizeObserver(Ca=>{n.clearVNodeCache();for(const Da of Ca)da.get(Da.target)?.(Da)}),ra=(Ca,Da,Na)=>{da.has(Ca)&&c.getLogger("esri.widgets.support.widgetUtils").error("Already observing element",Ca);da.set(Ca,Da);pa.observe(Ca,Na);return d.makeHandle(()=>{pa.unobserve(Ca);da.delete(Ca)})};return(Ca,Da,Na)=>{let Oa=null;return d.handlesGroup([q.watch(()=>"function"===typeof Ca?Ca():Ca,Pa=>{Oa?.remove();Pa&&
(Oa=ra(Pa,Da,Na))},q.syncAndInitial),d.makeHandle(()=>Oa?.remove())])}})();R="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");const va=R.reduce((da,pa)=>{da[pa]=[];return da},{}),Ea="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");
ea=new ea({whiteList:va,onTagAttr:(da,pa,ra)=>{da=`${pa}="${ra}"`;if(Ea.includes(pa))return da},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);a.additionalAllowedTags=R;a.classes=function(...da){const pa=b.acquire();for(let ra=0;ra<da.length;ra++){const Ca=da[ra],Da=typeof Ca;if("string"===Da)pa.push(Ca);else if(Array.isArray(Ca))pa.push.apply(pa,Ca);else if("object"===Da)for(const Na in Ca)Ca[Na]&&pa.push(Na)}da=pa.join(" ");b.release(pa);return da};a.cssTransition=function(da,pa){return("enter"===
da?X:na)(pa)};a.discardNode=function(da){this[da.getAttribute("data-node-ref")]=null};a.getDir=function(da){return E(da)?"rtl":"ltr"};a.isActivationKey=function(da){return"Enter"===da||" "===da};a.isRTL=E;a.keepMenuItemWithinView=function(da,pa){const ra=da.getBoundingClientRect();pa=pa.getBoundingClientRect();const Ca=ra.top,Da=pa.top;(ra.top+ra.height>pa.top+pa.height||Ca<Da)&&da.scrollIntoView({block:"end"})};a.onResize=f;a.renderingSanitizer=ea;a.safeAttrs=Ea;a.someElementsAreVisible=function(da){return Object.values(da).includes(!0)};
a.storeNode=function(da){this[da.getAttribute("data-node-ref")]=da};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(d){b.delete(d)};a.getVNodeCache=function(d){return b.get(d)};a.setVNodeCache=function(d,f){b.set(d,f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projector":function(){define(["exports",
"./dom"],function(a,b){let d;d=Array.prototype.find?(q,n)=>q.find(n):(q,n)=>q.filter(n)[0];let f=(q,n)=>{let k=q;n.forEach(h=>{k=k&&k.children?d(k.children,l=>l.domNode===h):void 0});return k},c=(q,n,k)=>{let h=function(l){k("domEvent",l);var m=n(),w=l.currentTarget,r=m.domNode;let e=[];for(;w&&w!==r;)e.push(w),w=w.parentNode;e.reverse();m=f(m.getLastRender(),e);q.scheduleRender();let g;m&&(g=m.properties[`on${l.type}`].apply(m.properties.bind||this,arguments));k("domEventProcessed",l);return g};
return(l,m,w,r)=>h};a.createProjector=q=>{let n,k=b.applyDefaultProjectionOptions(q),h=k.performanceLogger,l=!0,m,w=!1,r=[],e=[],g=(v,u,x)=>{let z;k.eventHandlerInterceptor=c(n,()=>z,h);z=v(u,x(),k);r.push(z);e.push(x)},p=()=>{m=void 0;if(l){l=!1;h("renderStart",void 0);for(let v=0;v<r.length;v++){let u=e[v]();h("rendered",void 0);r[v].update(u);h("patched",void 0)}h("renderDone",void 0);l=!0}};return n={renderNow:p,scheduleRender:()=>{m||w||(m=requestAnimationFrame(p))},stop:()=>{m&&(cancelAnimationFrame(m),
m=void 0);w=!0},resume:()=>{w=!1;l=!0;n.scheduleRender()},append:(v,u)=>{g(b.dom.append,v,u)},insertBefore:(v,u)=>{g(b.dom.insertBefore,v,u)},merge:(v,u)=>{g(b.dom.merge,v,u)},replace:(v,u)=>{g(b.dom.replace,v,u)},detach:v=>{for(let u=0;u<e.length;u++)if(e[u]===v)return e.splice(u,1),r.splice(u,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],
function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,d,f,c)=>{b.scheduleRender();return d.properties[`on${c.type}`].apply(d.properties.bind||f,[c])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(d,f,c)=>{"-"===f.charAt(0)?d.style.setProperty(f,c):d.style[f]=c}};a.applyDefaultProjectionOptions=
d=>({...b,...d});Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/componentsUtils":function(){define(["exports","../assets","../core/has","../core/urlUtils"],function(a,b,d,f){function c(){const {classList:U}=document.body,ba=window.matchMedia("(prefers-color-scheme: dark)").matches,ya=Ka=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:Ka}}));let xa=U.contains("calcite-mode-dark")||U.contains("calcite-mode-auto")&&ba?"dark":"light";
ya(xa);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Ka=>{Ka=Ka.matches?"dark":"light";xa!==Ka&&ya(Ka);xa=Ka});(new MutationObserver(()=>{var Ka=U.contains("calcite-mode-dark")||U.contains("calcite-mode-auto")&&ba?"dark":"light";xa!==Ka&&ya(Ka);xa=Ka})).observe(document.body,{attributes:!0,attributeFilter:["class"]})}let q,n,k,h=!1,l=!1,m=!1,w=!1,r=!1;const e=U=>{U=new URL(U,da.$resourcesUrl$);return U.origin!==va.location.origin?U.href:U.pathname},g=(U,ba)=>()=>{},p=
{},v=U=>{U=typeof U;return"object"===U||"function"===U},u=(U,ba,...ya)=>{let xa=null,Ka=null,Sa=null,Ta=!1,Xa=!1;const Ua=[],db=Ya=>{for(let cb=0;cb<Ya.length;cb++)if(xa=Ya[cb],Array.isArray(xa))db(xa);else if(null!=xa&&"boolean"!==typeof xa){if(Ta="function"!==typeof U&&!v(xa))xa=String(xa);Ta&&Xa?Ua[Ua.length-1].$text$+=xa:Ua.push(Ta?x(null,xa):xa);Xa=Ta}};db(ya);if(ba){ba.key&&(Ka=ba.key);ba.name&&(Sa=ba.name);const Ya=ba.className||ba.class;Ya&&(ba.class="object"!==typeof Ya?Ya:Object.keys(Ya).filter(cb=>
Ya[cb]).join(" "))}if("function"===typeof U)return U(null===ba?{}:ba,Ua,t);ya=x(U,null);ya.$attrs$=ba;0<Ua.length&&(ya.$children$=Ua);ya.$key$=Ka;ya.$name$=Sa;return ya},x=(U,ba)=>({$flags$:0,$tag$:U,$text$:ba,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),z={},t={forEach:(U,ba)=>U.map(y).forEach(ba),map:(U,ba)=>U.map(y).map(ba).map(B)},y=U=>({vattrs:U.$attrs$,vchildren:U.$children$,vkey:U.$key$,vname:U.$name$,vtag:U.$tag$,vtext:U.$text$}),B=U=>{if("function"===typeof U.vtag){var ba=
Object.assign({},U.vattrs);U.vkey&&(ba.key=U.vkey);U.vname&&(ba.name=U.vname);return u(U.vtag,ba,...(U.vchildren||[]))}ba=x(U.vtag,U.vtext);ba.$attrs$=U.vattrs;ba.$children$=U.vchildren;ba.$key$=U.vkey;ba.$name$=U.vname;return ba},A=U=>na.map(ba=>ba(U)).find(ba=>!!ba),D=(U,ba)=>{if(null!=U&&!v(U)){if(ba&4)return"false"===U?!1:""===U||!!U;if(ba&2)return parseFloat(U);if(ba&1)return String(U)}return U},E=new WeakMap,J=(U,ba,ya)=>{let xa=X.get(U);Ca&&ya?(xa=xa||new CSSStyleSheet,"string"===typeof xa?
xa=ba:xa.replaceSync(ba)):xa=ba;X.set(U,xa)},F=(U,ba)=>"sc-"+(ba&&U.$flags$&32?U.$tagName$+"-"+ba:U.$tagName$),G=(U,ba,ya,xa,Ka,Sa)=>{if(ya!==xa){let Ua=ba in U,db=ba.toLowerCase();if("class"===ba){U=U.classList;const Ya=ya?ya.split(M):[],cb=xa?xa.split(M):[];U.remove(...Ya.filter(ib=>ib&&!cb.includes(ib)));U.add(...cb.filter(ib=>ib&&!Ya.includes(ib)))}else if("style"===ba){for(var Ta in ya)xa&&null!=xa[Ta]||(Ta.includes("-")?U.style.removeProperty(Ta):U.style[Ta]="");for(var Xa in xa)ya&&xa[Xa]===
ya[Xa]||(Xa.includes("-")?U.style.setProperty(Xa,xa[Xa]):U.style[Xa]=xa[Xa])}else if("key"!==ba)if("ref"===ba)xa&&xa(U);else if(U.__lookupSetter__(ba)||"o"!==ba[0]||"n"!==ba[1]){Ta=v(xa);if((Ua||Ta&&null!==xa)&&!Ka)try{if(U.tagName.includes("-"))U[ba]=xa;else if(Xa=null==xa?"":xa,"list"===ba)Ua=!1;else if(null==ya||U[ba]!=Xa)U[ba]=Xa}catch(Ya){}ya=!1;db!==(db=db.replace(/^xlink:?/,""))&&(ba=db,ya=!0);if(null==xa||!1===xa){if(!1!==xa||""===U.getAttribute(ba))ya?U.removeAttributeNS("http://www.w3.org/1999/xlink",
ba):U.removeAttribute(ba)}else(!Ua||Sa&4||Ka)&&!Ta&&(xa=!0===xa?"":xa,ya?U.setAttributeNS("http://www.w3.org/1999/xlink",ba,xa):U.setAttribute(ba,xa))}else if(ba="-"===ba[2]?ba.slice(3):db in va?db.slice(2):db[2]+ba.slice(3),ya||xa)Ka=ba.endsWith("Capture"),ba=ba.replace(L,""),ya&&da.rel(U,ba,ya,Ka),xa&&da.ael(U,ba,xa,Ka)}},M=/\s/,L=RegExp("Capture$"),T=(U,ba,ya,xa)=>{const Ka=11===ba.$elm$.nodeType&&ba.$elm$.host?ba.$elm$.host:ba.$elm$;U=U&&U.$attrs$||p;const Sa=ba.$attrs$||p;for(xa in U)xa in Sa||
G(Ka,xa,U[xa],void 0,ya,ba.$flags$);for(xa in Sa)G(Ka,xa,U[xa],Sa[xa],ya,ba.$flags$)},N=(U,ba,ya,xa)=>{var Ka;ba=ba.$children$[ya];let Sa=0,Ta;h||(m=!0,"slot"===ba.$tag$&&(q&&xa.classList.add(q+"-s"),ba.$flags$|=ba.$children$?2:1));if(null!==ba.$text$)xa=ba.$elm$=Ea.createTextNode(ba.$text$);else if(ba.$flags$&1)xa=ba.$elm$=Ea.createTextNode("");else{w||="svg"===ba.$tag$;xa=ba.$elm$=Ea.createElementNS(w?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ba.$flags$&2?"slot-fb":ba.$tag$);w&&
"foreignObject"===ba.$tag$&&(w=!1);T(null,ba,w);null!=q&&xa["s-si"]!==q&&xa.classList.add(xa["s-si"]=q);if(ba.$children$)for(Sa=0;Sa<ba.$children$.length;++Sa)(Ta=N(U,ba,Sa,xa))&&xa.appendChild(Ta);"svg"===ba.$tag$?w=!1:"foreignObject"===xa.tagName&&(w=!0)}xa["s-hn"]=k;ba.$flags$&3&&(xa["s-sr"]=!0,xa["s-fs"]=null===(Ka=ba.$attrs$)||void 0===Ka?void 0:Ka.slot,xa["s-cr"]=n,xa["s-sn"]=ba.$name$||"",(ya=U&&U.$children$&&U.$children$[ya])&&ya.$tag$===ba.$tag$&&U.$elm$&&K(U.$elm$,!1));return xa},K=(U,ba)=>
{var ya;da.$flags$|=1;U=U.childNodes;for(let xa=U.length-1;0<=xa;xa--){const Ka=U[xa];Ka["s-hn"]!==k&&Ka["s-ol"]&&((Ka["s-ol"]?Ka["s-ol"]:Ka).parentNode.insertBefore(Ka,Ka&&Ka["s-ol"]||Ka),Ka["s-ol"].remove(),Ka["s-ol"]=void 0,Ka["s-sh"]=void 0,1===Ka.nodeType&&Ka.setAttribute("slot",null!==(ya=Ka["s-sn"])&&void 0!==ya?ya:""),m=!0);ba&&K(Ka,ba)}da.$flags$&=-2},O=(U,ba,ya,xa,Ka,Sa)=>{let Ta=U["s-cr"]&&U["s-cr"].parentNode||U,Xa;Ta.shadowRoot&&Ta.tagName===k&&(Ta=Ta.shadowRoot);for(;Ka<=Sa;++Ka)xa[Ka]&&
(Xa=N(null,ya,Ka,U))&&(xa[Ka].$elm$=Xa,Ta.insertBefore(Xa,ba&&ba["s-ol"]||ba))},R=(U,ba,ya)=>{for(;ba<=ya;++ba){const xa=U[ba];if(xa){const Ka=xa.$elm$;Qa(xa);Ka&&(l=!0,Ka["s-ol"]?Ka["s-ol"].remove():K(Ka,!0),Ka.remove())}}},V=(U,ba,ya,xa,Ka=!1)=>{let Sa=0,Ta=0;var Xa=0,Ua=0;let db=ba.length-1,Ya=ba[0],cb=ba[db],ib=xa.length-1,nb=xa[0],lb=xa[ib];for(;Sa<=db&&Ta<=ib;)if(null==Ya)Ya=ba[++Sa];else if(null==cb)cb=ba[--db];else if(null==nb)nb=xa[++Ta];else if(null==lb)lb=xa[--ib];else if(ma(Ya,nb,Ka))ca(Ya,
nb,Ka),Ya=ba[++Sa],nb=xa[++Ta];else if(ma(cb,lb,Ka))ca(cb,lb,Ka),cb=ba[--db],lb=xa[--ib];else if(ma(Ya,lb,Ka))"slot"!==Ya.$tag$&&"slot"!==lb.$tag$||K(Ya.$elm$.parentNode,!1),ca(Ya,lb,Ka),U.insertBefore(Ya.$elm$,cb.$elm$.nextSibling),Ya=ba[++Sa],lb=xa[--ib];else if(ma(cb,nb,Ka))"slot"!==Ya.$tag$&&"slot"!==lb.$tag$||K(cb.$elm$.parentNode,!1),ca(cb,nb,Ka),U.insertBefore(cb.$elm$,Ya.$elm$),cb=ba[--db],nb=xa[++Ta];else{Xa=-1;for(Ua=Sa;Ua<=db;++Ua)if(ba[Ua]&&null!==ba[Ua].$key$&&ba[Ua].$key$===nb.$key$){Xa=
Ua;break}0<=Xa?(Ua=ba[Xa],Ua.$tag$!==nb.$tag$?Xa=N(ba&&ba[Ta],ya,Xa,U):(ca(Ua,nb,Ka),ba[Xa]=void 0,Xa=Ua.$elm$)):Xa=N(ba&&ba[Ta],ya,Ta,U);nb=xa[++Ta];if(Xa){Ua=Ya.$elm$;Ua=(Ua["s-ol"]?Ua["s-ol"]:Ua).parentNode;var sb=Ya.$elm$;Ua.insertBefore.call(Ua,Xa,sb&&sb["s-ol"]||sb)}}Sa>db?O(U,null==xa[ib+1]?null:xa[ib+1].$elm$,ya,xa,Ta,ib):Ta>ib&&R(ba,Sa,db)},ma=(U,ba,ya=!1)=>U.$tag$===ba.$tag$?"slot"===U.$tag$?U.$name$===ba.$name$:ya?!0:U.$key$===ba.$key$:!1,ca=(U,ba,ya=!1)=>{const xa=ba.$elm$=U.$elm$,Ka=
U.$children$,Sa=ba.$children$,Ta=ba.$tag$,Xa=ba.$text$;null===Xa?(w="svg"===Ta?!0:"foreignObject"===Ta?!1:w,"slot"!==Ta&&T(U,ba,w),null!==Ka&&null!==Sa?V(xa,Ka,ba,Sa,ya):null!==Sa?(null!==U.$text$&&(xa.textContent=""),O(xa,null,ba,Sa,0,Sa.length-1)):null!==Ka&&R(Ka,0,Ka.length-1),w&&"svg"===Ta&&(w=!1)):(ba=xa["s-cr"])?ba.parentNode.textContent=Xa:U.$text$!==Xa&&(xa.data=Xa)},ua=U=>{U=U.childNodes;for(const ba of U)if(1===ba.nodeType){if(ba["s-sr"]){const ya=ba["s-sn"];ba.hidden=!1;for(const xa of U)if(xa!==
ba)if(xa["s-hn"]!==ba["s-hn"]||""!==ya){if(1===xa.nodeType&&(ya===xa.getAttribute("slot")||ya===xa["s-sn"])){ba.hidden=!0;break}}else if(1===xa.nodeType||3===xa.nodeType&&""!==xa.textContent.trim()){ba.hidden=!0;break}}ua(ba)}},Aa=[],Ma=U=>{let ba,ya;for(const xa of U.childNodes){if(xa["s-sr"]&&(ba=xa["s-cr"])&&ba.parentNode){U=ba.parentNode.childNodes;const Ka=xa["s-sn"];for(ya=U.length-1;0<=ya;ya--)if(ba=U[ya],!ba["s-cn"]&&!ba["s-nr"]&&ba["s-hn"]!==xa["s-hn"])if(Ga(ba,Ka)){let Sa=Aa.find(Ta=>Ta.$nodeToRelocate$===
ba);l=!0;ba["s-sn"]=ba["s-sn"]||Ka;Sa?(Sa.$nodeToRelocate$["s-sh"]=xa["s-hn"],Sa.$slotRefNode$=xa):(ba["s-sh"]=xa["s-hn"],Aa.push({$slotRefNode$:xa,$nodeToRelocate$:ba}));ba["s-sr"]&&Aa.map(Ta=>{Ga(Ta.$nodeToRelocate$,ba["s-sn"])&&(Sa=Aa.find(Xa=>Xa.$nodeToRelocate$===ba))&&!Ta.$slotRefNode$&&(Ta.$slotRefNode$=Sa.$slotRefNode$)})}else Aa.some(Sa=>Sa.$nodeToRelocate$===ba)||Aa.push({$nodeToRelocate$:ba})}1===xa.nodeType&&Ma(xa)}},Ga=(U,ba)=>1===U.nodeType?null===U.getAttribute("slot")&&""===ba||U.getAttribute("slot")===
ba?!0:!1:U["s-sn"]===ba?!0:""===ba,Qa=U=>{U.$attrs$&&U.$attrs$.ref&&U.$attrs$.ref(null);U.$children$&&U.$children$.map(Qa)},qa=(U,ba,ya=!1)=>{var xa,Ka,Sa,Ta;const Xa=U.$hostElement$;var Ua=U.$cmpMeta$,db=U.$vnode$||x(null,null);const Ya=ba&&ba.$tag$===z?ba:u(null,null,ba);k=Xa.tagName;Ua.$attrsToReflect$&&(Ya.$attrs$=Ya.$attrs$||{},Ua.$attrsToReflect$.map(([ib,nb])=>Ya.$attrs$[nb]=Xa[ib]));if(ya&&Ya.$attrs$)for(const ib of Object.keys(Ya.$attrs$))Xa.hasAttribute(ib)&&!["key","ref","style","class"].includes(ib)&&
(Ya.$attrs$[ib]=Xa[ib]);Ya.$tag$=null;Ya.$flags$|=4;U.$vnode$=Ya;Ya.$elm$=db.$elm$=Xa.shadowRoot||Xa;q=Xa["s-sc"];n=Xa["s-cr"];h=0!==(Ua.$flags$&1);l=!1;ca(db,Ya,ya);da.$flags$|=1;if(m){Ma(Ya.$elm$);for(var cb of Aa)U=cb.$nodeToRelocate$,U["s-ol"]||(ba=Ea.createTextNode(""),ba["s-nr"]=U,U.parentNode.insertBefore(U["s-ol"]=ba,U));for(const ib of Aa)if(cb=ib.$nodeToRelocate$,ba=ib.$slotRefNode$){U=ba.parentNode;ba=ba.nextSibling;for(Ua=null===(xa=cb["s-ol"])||void 0===xa?void 0:xa.previousSibling;Ua;){if((db=
null!==(Ka=Ua["s-nr"])&&void 0!==Ka?Ka:null)&&db["s-sn"]===cb["s-sn"]&&U===db.parentNode&&(db=db.nextSibling,!db||!db["s-nr"])){ba=db;break}Ua=Ua.previousSibling}(ba||U===cb.parentNode)&&cb.nextSibling===ba||cb===ba||(!cb["s-hn"]&&cb["s-ol"]&&(cb["s-hn"]=cb["s-ol"].parentNode.nodeName),U.insertBefore(cb,ba),1===cb.nodeType&&(cb.hidden=null!==(Sa=cb["s-ih"])&&void 0!==Sa?Sa:!1))}else 1===cb.nodeType&&(ya&&(cb["s-ih"]=null!==(Ta=cb.hidden)&&void 0!==Ta?Ta:!1),cb.hidden=!0)}l&&ua(Ya.$elm$);da.$flags$&=
-2;Aa.length=0},ha=(U,ba)=>{U.$flags$|=16;return oa(()=>aa(U,ba))},aa=(U,ba)=>{const ya=U.$hostElement$,xa=g("scheduleUpdate",U.$cmpMeta$.$tagName$);let Ka;Ka=ba?H(ya,"componentWillLoad"):H(ya,"componentWillUpdate");Ka=ja(Ka,()=>H(ya,"componentWillRender"));xa();return ja(Ka,()=>sa(U,ya,ba))},ja=(U,ba)=>U instanceof Promise||U&&U.then&&"function"===typeof U.then?U.then(ba):ba(),sa=async(U,ba,ya)=>{var xa=U.$hostElement$,Ka=g("update",U.$cmpMeta$.$tagName$);xa["s-rc"];if(ya){var Sa=U.$cmpMeta$;xa=
U.$hostElement$;const cb=Sa.$flags$,ib=g("attachStyles",Sa.$tagName$);var Ta=xa.shadowRoot?xa.shadowRoot:xa.getRootNode();var Xa;const nb=F(Sa,U.$modeName$),lb=X.get(nb);Ta=11===Ta.nodeType?Ta:Ea;if(lb)if("string"===typeof lb){Ta=Ta.head||Ta;let sb=E.get(Ta),tb;sb||E.set(Ta,sb=new Set);if(!sb.has(nb)){tb=Ea.createElement("style");tb.innerHTML=lb;if(null===(Xa=da.$nonce$)||void 0===Xa){var Ua,db,Ya;Xa=null!==(Ya=null===(db=null===(Ua=Ea.head)||void 0===Ua?void 0:Ua.querySelector('meta[name\x3d"csp-nonce"]'))||
void 0===db?void 0:db.getAttribute("content"))&&void 0!==Ya?Ya:void 0}Ua=Xa;null!=Ua&&tb.setAttribute("nonce",Ua);Ta.insertBefore(tb,Ta.querySelector("link"));Sa.$flags$&4&&(tb.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}");sb&&sb.add(nb)}}else Ta.adoptedStyleSheets.includes(lb)||(Ta.adoptedStyleSheets=[...Ta.adoptedStyleSheets,lb]);Ta=nb;cb&10&&(xa["s-sc"]=Ta,xa.classList.add(Ta+"-h"),cb&2&&xa.classList.add(Ta+"-s"));ib()}xa=g("render",U.$cmpMeta$.$tagName$);try{ba=ba.render&&
ba.render(),U.$flags$&=-17,U.$flags$|=2,qa(U,ba,ya)}catch(cb){(0,console.error)(cb,U.$hostElement$)}xa();Ka();ya=U.$hostElement$;Ka=g("postUpdate",U.$cmpMeta$.$tagName$);U.$ancestorComponent$;H(ya,"componentDidRender");U.$flags$&64?H(ya,"componentDidUpdate"):(U.$flags$|=64,H(ya,"componentDidLoad"));Ka()},H=(U,ba,ya)=>{if(U&&U[ba])try{return U[ba](ya)}catch(xa){(0,console.error)(xa,void 0)}},Q=(U,ba,ya,xa)=>{const Ka=S.get(U),Sa=Ka.$instanceValues$.get(ba),Ta=Ka.$flags$;ya=D(ya,xa.$members$[ba][0]);
const Xa=Number.isNaN(Sa)&&Number.isNaN(ya);ya===Sa||Xa||(Ka.$instanceValues$.set(ba,ya),xa.$watchers$&&Ta&128&&(xa=xa.$watchers$[ba])&&xa.map(Ua=>{try{U[Ua](ya,Sa,ba)}catch(db){(0,console.error)(db,U)}}),2!==(Ta&18)||U.componentShouldUpdate&&!1===U.componentShouldUpdate(ya,Sa,ba)||ha(Ka,!1))},fa=(U,ba,ya)=>{var xa;const Ka=U.prototype;if(ba.$members$){U.watchers&&(ba.$watchers$=U.watchers);ya=Object.entries(ba.$members$);ya.map(([Ta,[Xa]])=>{(Xa&31||Xa&32)&&Object.defineProperty(Ka,Ta,{get(){return S.get(this).$instanceValues$.get(Ta)},
set(Ua){Q(this,Ta,Ua,ba)},configurable:!0,enumerable:!0})});const Sa=new Map;Ka.attributeChangedCallback=function(Ta,Xa,Ua){da.jmp(()=>{var db,Ya=Sa.get(Ta);if(this.hasOwnProperty(Ya))Ua=this[Ya],delete this[Ya];else{if(Ka.hasOwnProperty(Ya)&&"number"===typeof this[Ya]&&this[Ya]==Ua)return;if(null==Ya){Ya=S.get(this);if((Ya=null===Ya||void 0===Ya?void 0:Ya.$flags$)&&!(Ya&8)&&Ya&128&&Ua!==Xa){const cb=this;Ya=null===(db=ba.$watchers$)||void 0===db?void 0:db[Ta];null===Ya||void 0===Ya?void 0:Ya.forEach(ib=>
{null!=cb[ib]&&cb[ib].call(cb,Ua,Xa,Ta)})}return}}this[Ya]=null===Ua&&"boolean"===typeof this[Ya]?!1:Ua})};U.observedAttributes=Array.from(new Set([...Object.keys(null!==(xa=ba.$watchers$)&&void 0!==xa?xa:{}),...ya.filter(([,Ta])=>Ta[0]&15).map(([Ta,Xa])=>{var Ua;const db=Xa[1]||Ta;Sa.set(db,Ta);Xa[0]&512&&(null===(Ua=ba.$attrsToReflect$)||void 0===Ua?void 0:Ua.push([Ta,db]));return db})]))}return U},ka=async(U,ba,ya,xa)=>{if(0===(ba.$flags$&32)&&(ba.$flags$|=32,xa=U.constructor,customElements.whenDefined(ya.$tagName$).then(()=>
ba.$flags$|=128),xa.style&&(xa=xa.style,"string"!==typeof xa&&(xa=xa[ba.$modeName$=A(U)]),U=F(ya,ba.$modeName$),!X.has(U)))){const Ka=g("registerStyles",ya.$tagName$);J(U,xa,!!(ya.$flags$&1));Ka()}ba.$ancestorComponent$;ha(ba,!0)},za=U=>{if(0===(da.$flags$&1)){const ba=S.get(U),ya=ba.$cmpMeta$,xa=g("connectedCallback",ya.$tagName$);ba.$flags$&1?(ia(U,ba,ya.$listeners$),(null===ba||void 0===ba?0:ba.$lazyInstance$)||(null===ba||void 0===ba?0:ba.$onReadyPromise$)&&ba.$onReadyPromise$.then(()=>{})):(ba.$flags$|=
1,ya.$flags$&12&&W(U),ya.$members$&&Object.entries(ya.$members$).map(([Ka,[Sa]])=>{Sa&31&&U.hasOwnProperty(Ka)&&(Sa=U[Ka],delete U[Ka],U[Ka]=Sa)}),ka(U,ba,ya));xa()}},W=U=>{const ba=U["s-cr"]=Ea.createComment("");ba["s-cn"]=!0;U.insertBefore(ba,U.firstChild)},ea=async U=>{0===(da.$flags$&1)&&(U=S.get(U),U.$rmListeners$&&(U.$rmListeners$.map(ba=>ba()),U.$rmListeners$=void 0))},ia=(U,ba,ya,xa)=>{ya&&ya.map(([Ka,Sa,Ta])=>{const Xa=Ka&4?Ea:Ka&8?va:Ka&16?Ea.body:U,Ua=I(ba,Ta),db=pa?{passive:0!==(Ka&1),
capture:0!==(Ka&2)}:0!==(Ka&2);da.ael(Xa,Sa,Ua,db);(ba.$rmListeners$=ba.$rmListeners$||[]).push(()=>da.rel(Xa,Sa,Ua,db))})},I=(U,ba)=>ya=>{try{U.$hostElement$[ba](ya)}catch(xa){(0,console.error)(xa,void 0)}},S=new WeakMap,X=new Map,na=[],va="undefined"!==typeof window?window:{},Ea=va.document||{head:{}};d=va.HTMLElement||class{};const da={$flags$:0,$resourcesUrl$:"",jmp:U=>U(),raf:U=>requestAnimationFrame(U),ael:(U,ba,ya,xa)=>U.addEventListener(ba,ya,xa),rel:(U,ba,ya,xa)=>U.removeEventListener(ba,
ya,xa),ce:(U,ba)=>new CustomEvent(U,ba)},pa=(()=>{let U=!1;try{Ea.addEventListener("e",null,Object.defineProperty({},"passive",{get(){U=!0}}))}catch(ba){}return U})();a:{try{new CSSStyleSheet;var ra="function"===typeof(new CSSStyleSheet).replaceSync;break a}catch(U){}ra=!1}const Ca=ra,Da=[],Na=[];ra=(U,ba)=>ya=>{U.push(ya);r||(r=!0,ba&&da.$flags$&4?(ya=Pa,Promise.resolve(void 0).then(ya)):da.raf(Pa))};const Oa=U=>{for(let ba=0;ba<U.length;ba++)try{U[ba](performance.now())}catch(ya){(0,console.error)(ya,
void 0)}U.length=0},Pa=()=>{Oa(Da);Oa(Na);(r=0<Da.length)&&da.raf(Pa)},Ra=ra(Da,!1),oa=ra(Na,!0);(function(){"undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document&&("interactive"===document.readyState?c():document.addEventListener("DOMContentLoaded",()=>c(),{once:!0}))})();a.CSS_UTILITY={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",
calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};a.Fragment=(U,ba)=>ba;a.H=d;a.Host=z;a.commitAssetPath=function(){try{e(".")}catch{da.$resourcesUrl$=f.makeAbsolute(b.getAssetUrl("esri/widgets/support/components/assets"))}};a.createEvent=(U,ba,ya)=>({emit:xa=>{xa=da.ce(ba,
{bubbles:!!(ya&4),composed:!!(ya&2),cancelable:!!(ya&1),detail:xa});U.dispatchEvent(xa);return xa}});a.forceUpdate=U=>{U=S.get(U);const ba=U.$hostElement$.isConnected;ba&&2===(U.$flags$&18)&&ha(U,!1);return ba};a.getAssetPath=e;a.h=u;a.loadCalciteComponents=function(U){const ba=[];for(const ya of Object.keys(U))customElements.get(`calcite-${ya}`)||ba.push(U[ya]?.());return 0<ba.length?Promise.all(ba):null};a.proxyCustomElement=(U,ba)=>{const ya={$flags$:ba[0],$tagName$:ba[1]};ya.$members$=ba[2];ya.$listeners$=
ba[3];ya.$watchers$=U.$watchers$;ya.$attrsToReflect$=[];const xa=U.prototype.connectedCallback,Ka=U.prototype.disconnectedCallback;Object.assign(U.prototype,{__registerHost(){const Sa={$flags$:0,$hostElement$:this,$cmpMeta$:ya,$instanceValues$:new Map};ia(this,Sa,ya.$listeners$);S.set(this,Sa)},connectedCallback(){za(this);xa&&xa.call(this)},disconnectedCallback(){ea(this);Ka&&Ka.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(ya.$flags$&16)})}});U.is=ya.$tagName$;return fa(U,
ya)};a.readTask=Ra})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils","./symbols"],function(a,b,d){function f(w,r){let e=r.children;if(e?.length)for(var g=0;g<e.length;++g)e[g]=f(w,e[g]);else e=h;g=r.vnodeSelector;if(k(g)){r=r.properties||l;const p=r.key||g;return{vnodeSelector:"div",properties:{key:p,afterCreate:c,afterUpdate:q,afterRemoved:n,parentWidget:w,widgetConstructor:g,widgetProperties:{...r,key:p,children:e}},children:void 0,text:void 0,domNode:null}}return r}
function c(w,r,e,{parentWidget:g,widgetConstructor:p,widgetProperties:v}){const u=new p(v);u.container=w;m.set(w,u);u.afterCreate?.(u,w);g.addHandles(b.makeHandle(()=>n(w)));queueMicrotask(()=>{u[d.widgetTestDataSymbol].projector.renderNow()})}function q(w,r,e,{widgetProperties:g}){if(r=m.get(w))r.set(g),r.afterUpdate?.(r,w)}function n(w){const r=m.get(w);r&&(r.afterRemoved?.(r,w),r.destroy(),m.delete(w))}function k(w){return"function"===typeof w&&w[d.widgetSymbol]}const h=[],l={},m=new WeakMap;a.isWidgetConstructor=
k;a.processWidgets=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/symbols":function(){define(["exports"],function(a){const b=Symbol("widget"),d=Symbol("widget-test-data");a.widgetSymbol=b;a.widgetTestDataSymbol=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/legacyIcon":function(){define(["exports"],function(a){a.legacyIcon={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",
calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",
dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",
layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",
measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",
play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",
swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",
zoomToObject:"esri-icon-zoom-to-object"};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/tests":function(){define(["exports"],function(a){const b=new Set;a.hasPendingLoading=function(){return 0<b.size};a.registerLoading=function(d){b.add(d);d.finally(()=>b.delete(d))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),
function(a,b,d,f,c,q,n){a.accessibleHandler=b.accessibleHandler;a.messageBundle=d.messageBundle;a.vmEvent=f.vmEvent;a.tsx=c.tsx;a.tsxFragment=c.tsxFragment;a.additionalAllowedTags=q.additionalAllowedTags;a.classes=q.classes;a.cssTransition=q.cssTransition;a.discardNode=q.discardNode;a.getDir=q.getDir;a.isActivationKey=q.isActivationKey;a.isRTL=q.isRTL;a.keepMenuItemWithinView=q.keepMenuItemWithinView;a.onResize=q.onResize;a.renderingSanitizer=q.renderingSanitizer;a.safeAttrs=q.safeAttrs;a.someElementsAreVisible=
q.someElementsAreVisible;a.storeNode=q.storeNode;a.getCalciteThemeClass=n.getCalciteThemeClass;a.isDarkTheme=n.isDarkTheme;a.setCalciteThemeClass=n.setCalciteThemeClass;a.hasDomNode=function(k){return k&&"function"===typeof k.postMixInProperties&&"function"===typeof k.buildRendering&&"function"===typeof k.postCreate&&"function"===typeof k.startup};a.isWidget=function(k){return k&&"function"===typeof k.render};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports",
"../widgetUtils"],function(a,b){function d(f){return function(c,...q){const n=c?.type;c instanceof KeyboardEvent||"keyup"===n||"keydown"===n||"keypress"===n?b.isActivationKey(c.key)&&(c.preventDefault(),c.stopPropagation(),c.target.click()):f.call(this,c,...q)}}a.accessibleHandler=function(){return function(f,c){if(!f[c])throw new TypeError(`Cannot auto bind undefined function '${String(c)}'`);return{value:d(f[c])}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],
function(a){a.messageBundle=function(b){return(d,f)=>{d.hasOwnProperty("_messageBundleProps")||(d._messageBundleProps=d._messageBundleProps?d._messageBundleProps.slice():[]);d._messageBundleProps.push({bundlePath:b,propertyName:f})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports"],function(a){function b(d){return d.split(",").map(f=>f.trim())}a.vmEvent=function(d){return f=>{f.hasOwnProperty("_delegatedEventNames")||
(f._delegatedEventNames=f._delegatedEventNames?f._delegatedEventNames.slice():[]);f=f._delegatedEventNames;const c=Array.isArray(d)?d:b(d);f.push(...c)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var d=function(c,q){for(var n=0,k=c.length;n<k;n++){var h=c[n];Array.isArray(h)?d(h,q):null!==h&&void 0!==h&&!1!==h&&(h.hasOwnProperty("vnodeSelector")||(h={vnodeSelector:"",properties:void 0,
children:void 0,text:h.toString(),domNode:null}),q.push(h))}},f=function(c,q){for(var n=[],k=2;k<arguments.length;k++)n[k-2]=arguments[k];if(1===n.length&&"string"===typeof n[0])return{vnodeSelector:c,properties:q||void 0,children:void 0,text:n[0],domNode:null};k=[];d(n,k);return{vnodeSelector:c,properties:q||void 0,children:k,text:void 0,domNode:null}};a.tsx=function(c,q,...n){return"function"!==typeof c||b.isWidgetConstructor(c)?f(c,q,...n):c(q,...n)};a.tsxFragment=function(...c){return c};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"").startsWith("dark")}function d(){return`${"calcite-mode-"}${b()?"dark":"light"}`}function f(c){Array.from(c.classList).forEach(q=>{q.startsWith("calcite-mode-")&&c.classList.remove(q)})}a.getCalciteThemeClass=d;a.isDarkTheme=b;a.setCalciteThemeClass=function(c){f(c);c.classList.add(d())};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});require.boot&&require.apply(null,require.boot);